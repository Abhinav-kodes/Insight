var cp=Object.defineProperty;var Hl=$=>{throw TypeError($)};var up=($,_e,et)=>_e in $?cp($,_e,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_e]=et;var Gr=($,_e,et)=>up($,typeof _e!="symbol"?_e+"":_e,et),Ro=($,_e,et)=>_e.has($)||Hl("Cannot "+et);var St=($,_e,et)=>(Ro($,_e,"read from private field"),et?et.call($):_e.get($)),wn=($,_e,et)=>_e.has($)?Hl("Cannot add the same private member more than once"):_e instanceof WeakSet?_e.add($):_e.set($,et),Sn=($,_e,et,tt)=>(Ro($,_e,"write to private field"),tt?tt.call($,et):_e.set($,et),et),pn=($,_e,et)=>(Ro($,_e,"access private method"),et);var Fs=($,_e,et,tt)=>({set _(nt){Sn($,_e,nt,et)},get _(){return St($,_e,tt)}});function _mergeNamespaces($,_e){for(var et=0;et<_e.length;et++){const tt=_e[et];if(typeof tt!="string"&&!Array.isArray(tt)){for(const nt in tt)if(nt!=="default"&&!(nt in $)){const rt=Object.getOwnPropertyDescriptor(tt,nt);rt&&Object.defineProperty($,nt,rt.get?rt:{enumerable:!0,get:()=>tt[nt]})}}}return Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var _e=$.default;if(typeof _e=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(_e,arguments,this.constructor):_e.apply(this,arguments)};et.prototype=_e.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys($).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor($,tt);Object.defineProperty(et,tt,nt.get?nt:{enumerable:!0,get:function(){return $[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$f=Symbol.for("react.element"),n$g=Symbol.for("react.portal"),p$b=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$g=Symbol.for("react.profiler"),t$f=Symbol.for("react.provider"),u$e=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$1($){return $===null||typeof $!="object"?null:($=z$2&&$[z$2]||$["@@iterator"],typeof $=="function"?$:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$2={};function E$7($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$1}E$7.prototype.isReactComponent={};E$7.prototype.setState=function($,_e){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_e,"setState")};E$7.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F$1(){}F$1.prototype=E$7.prototype;function G$1($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$1}var H$1=G$1.prototype=new F$1;H$1.constructor=G$1;C$5(H$1,E$7.prototype);H$1.isPureReactComponent=!0;var I$4=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4($,_e,et){var tt,nt={},rt=null,it=null;if(_e!=null)for(tt in _e.ref!==void 0&&(it=_e.ref),_e.key!==void 0&&(rt=""+_e.key),_e)J.call(_e,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);var st=arguments.length-2;if(st===1)nt.children=et;else if(1<st){for(var ot=Array(st),at=0;at<st;at++)ot[at]=arguments[at+2];nt.children=ot}if($&&$.defaultProps)for(tt in st=$.defaultProps,st)nt[tt]===void 0&&(nt[tt]=st[tt]);return{$$typeof:l$f,type:$,key:rt,ref:it,props:nt,_owner:K$1.current}}function N$2($,_e){return{$$typeof:l$f,type:$.type,key:_e,ref:$.ref,props:$.props,_owner:$._owner}}function O$1($){return typeof $=="object"&&$!==null&&$.$$typeof===l$f}function escape$2($){var _e={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _e[et]})}var P$4=/\/+/g;function Q$1($,_e){return typeof $=="object"&&$!==null&&$.key!=null?escape$2(""+$.key):_e.toString(36)}function R$1($,_e,et,tt,nt){var rt=typeof $;(rt==="undefined"||rt==="boolean")&&($=null);var it=!1;if($===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch($.$$typeof){case l$f:case n$g:it=!0}}if(it)return it=$,nt=nt(it),$=tt===""?"."+Q$1(it,0):tt,I$4(nt)?(et="",$!=null&&(et=$.replace(P$4,"$&/")+"/"),R$1(nt,_e,et,"",function(at){return at})):nt!=null&&(O$1(nt)&&(nt=N$2(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$4,"$&/")+"/")+$)),_e.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$4($))for(var st=0;st<$.length;st++){rt=$[st];var ot=tt+Q$1(rt,st);it+=R$1(rt,_e,et,ot,nt)}else if(ot=A$1($),typeof ot=="function")for($=ot.call($),st=0;!(rt=$.next()).done;)rt=rt.value,ot=tt+Q$1(rt,st++),it+=R$1(rt,_e,et,ot,nt);else if(rt==="object")throw _e=String($),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return it}function S$6($,_e,et){if($==null)return $;var tt=[],nt=0;return R$1($,tt,"","",function(rt){return _e.call(et,rt,nt++)}),tt}function T$2($){if($._status===-1){var _e=$._result;_e=_e(),_e.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_e)}if($._status===1)return $._result.default;throw $._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$6,forEach:function($,_e,et){S$6($,function(){_e.apply(this,arguments)},et)},count:function($){var _e=0;return S$6($,function(){_e++}),_e},toArray:function($){return S$6($,function(_e){return _e})||[]},only:function($){if(!O$1($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$7;react_production_min.Fragment=p$b;react_production_min.Profiler=r$g;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function($,_e,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$5({},$.props),nt=$.key,rt=$.ref,it=$._owner;if(_e!=null){if(_e.ref!==void 0&&(rt=_e.ref,it=K$1.current),_e.key!==void 0&&(nt=""+_e.key),$.type&&$.type.defaultProps)var st=$.type.defaultProps;for(ot in _e)J.call(_e,ot)&&!L$2.hasOwnProperty(ot)&&(tt[ot]=_e[ot]===void 0&&st!==void 0?st[ot]:_e[ot])}var ot=arguments.length-2;if(ot===1)tt.children=et;else if(1<ot){st=Array(ot);for(var at=0;at<ot;at++)st[at]=arguments[at+2];tt.children=st}return{$$typeof:l$f,type:$.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function($){return $={$$typeof:u$e,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$f,_context:$},$.Consumer=$};react_production_min.createElement=M$4;react_production_min.createFactory=function($){var _e=M$4.bind(null,$);return _e.type=$,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$7,render:$}};react_production_min.isValidElement=O$1;react_production_min.lazy=function($){return{$$typeof:y$2,_payload:{_status:-1,_result:$},_init:T$2}};react_production_min.memo=function($,_e){return{$$typeof:x$2,type:$,compare:_e===void 0?null:_e}};react_production_min.startTransition=function($){var _e=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=_e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function($,_e){return U$1.current.useCallback($,_e)};react_production_min.useContext=function($){return U$1.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$1.current.useDeferredValue($)};react_production_min.useEffect=function($,_e){return U$1.current.useEffect($,_e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function($,_e,et){return U$1.current.useImperativeHandle($,_e,et)};react_production_min.useInsertionEffect=function($,_e){return U$1.current.useInsertionEffect($,_e)};react_production_min.useLayoutEffect=function($,_e){return U$1.current.useLayoutEffect($,_e)};react_production_min.useMemo=function($,_e){return U$1.current.useMemo($,_e)};react_production_min.useReducer=function($,_e,et){return U$1.current.useReducer($,_e,et)};react_production_min.useRef=function($){return U$1.current.useRef($)};react_production_min.useState=function($){return U$1.current.useState($)};react_production_min.useSyncExternalStore=function($,_e,et){return U$1.current.useSyncExternalStore($,_e,et)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$4=Symbol.for("react.element"),l$e=Symbol.for("react.fragment"),m$b=Object.prototype.hasOwnProperty,n$f=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$a={key:!0,ref:!0,__self:!0,__source:!0};function q($,_e,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),_e.key!==void 0&&(rt=""+_e.key),_e.ref!==void 0&&(it=_e.ref);for(tt in _e)m$b.call(_e,tt)&&!p$a.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);if($&&$.defaultProps)for(tt in _e=$.defaultProps,_e)nt[tt]===void 0&&(nt[tt]=_e[tt]);return{$$typeof:k$4,type:$,key:rt,ref:it,props:nt,_owner:n$f.current}}reactJsxRuntime_production_min.Fragment=l$e;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function _e(Bt,It){var At=Bt.length;Bt.push(It);e:for(;0<At;){var Yt=At-1>>>1,Ot=Bt[Yt];if(0<nt(Ot,It))Bt[Yt]=It,Bt[At]=Ot,At=Yt;else break e}}function et(Bt){return Bt.length===0?null:Bt[0]}function tt(Bt){if(Bt.length===0)return null;var It=Bt[0],At=Bt.pop();if(At!==It){Bt[0]=At;e:for(var Yt=0,Ot=Bt.length,yt=Ot>>>1;Yt<yt;){var Tt=2*(Yt+1)-1,$t=Bt[Tt],Ut=Tt+1,Ht=Bt[Ut];if(0>nt($t,At))Ut<Ot&&0>nt(Ht,$t)?(Bt[Yt]=Ht,Bt[Ut]=At,Yt=Ut):(Bt[Yt]=$t,Bt[Tt]=At,Yt=Tt);else if(Ut<Ot&&0>nt(Ht,At))Bt[Yt]=Ht,Bt[Ut]=At,Yt=Ut;else break e}}return It}function nt(Bt,It){var At=Bt.sortIndex-It.sortIndex;return At!==0?At:Bt.id-It.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;$.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();$.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,ut=null,dt=3,ct=!1,ft=!1,pt=!1,gt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Bt){for(var It=et(at);It!==null;){if(It.callback===null)tt(at);else if(It.startTime<=Bt)tt(at),It.sortIndex=It.expirationTime,_e(ot,It);else break;It=et(at)}}function xt(Bt){if(pt=!1,bt(Bt),!ft)if(et(ot)!==null)ft=!0,jt(Et);else{var It=et(at);It!==null&&Ft(xt,It.startTime-Bt)}}function Et(Bt,It){ft=!1,pt&&(pt=!1,ht(wt),wt=-1),ct=!0;var At=dt;try{for(bt(It),ut=et(ot);ut!==null&&(!(ut.expirationTime>It)||Bt&&!kt());){var Yt=ut.callback;if(typeof Yt=="function"){ut.callback=null,dt=ut.priorityLevel;var Ot=Yt(ut.expirationTime<=It);It=$.unstable_now(),typeof Ot=="function"?ut.callback=Ot:ut===et(ot)&&tt(ot),bt(It)}else tt(ot);ut=et(ot)}if(ut!==null)var yt=!0;else{var Tt=et(at);Tt!==null&&Ft(xt,Tt.startTime-It),yt=!1}return yt}finally{ut=null,dt=At,ct=!1}}var vt=!1,_t=null,wt=-1,Ct=5,Nt=-1;function kt(){return!($.unstable_now()-Nt<Ct)}function Pt(){if(_t!==null){var Bt=$.unstable_now();Nt=Bt;var It=!0;try{It=_t(!0,Bt)}finally{It?Dt():(vt=!1,_t=null)}}else vt=!1}var Dt;if(typeof mt=="function")Dt=function(){mt(Pt)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,zt=qt.port2;qt.port1.onmessage=Pt,Dt=function(){zt.postMessage(null)}}else Dt=function(){gt(Pt,0)};function jt(Bt){_t=Bt,vt||(vt=!0,Dt())}function Ft(Bt,It){wt=gt(function(){Bt($.unstable_now())},It)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Bt){Bt.callback=null},$.unstable_continueExecution=function(){ft||ct||(ft=!0,jt(Et))},$.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Bt?Math.floor(1e3/Bt):5},$.unstable_getCurrentPriorityLevel=function(){return dt},$.unstable_getFirstCallbackNode=function(){return et(ot)},$.unstable_next=function(Bt){switch(dt){case 1:case 2:case 3:var It=3;break;default:It=dt}var At=dt;dt=It;try{return Bt()}finally{dt=At}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Bt,It){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var At=dt;dt=Bt;try{return It()}finally{dt=At}},$.unstable_scheduleCallback=function(Bt,It,At){var Yt=$.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Yt+At:Yt):At=Yt,Bt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=At+Ot,Bt={id:lt++,callback:It,priorityLevel:Bt,startTime:At,expirationTime:Ot,sortIndex:-1},At>Yt?(Bt.sortIndex=At,_e(at,Bt),et(ot)===null&&Bt===et(at)&&(pt?(ht(wt),wt=-1):pt=!0,Ft(xt,At-Yt))):(Bt.sortIndex=Ot,_e(ot,Bt),ft||ct||(ft=!0,jt(Et))),Bt},$.unstable_shouldYield=kt,$.unstable_wrapCallback=function(Bt){var It=dt;return function(){var At=dt;dt=It;try{return Bt.apply(this,arguments)}finally{dt=At}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$9($){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_e+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,_e){ha($,_e),ha($+"Capture",_e)}function ha($,_e){for(ea[$]=_e,$=0;$<_e.length;$++)da.add(_e[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,_e,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,_e,et,tt){if(_e===null||typeof _e>"u"||pa($,_e,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$6($,_e,et,tt,nt,rt,it){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=$,this.type=_e,this.sanitizeURL=rt,this.removeEmptyString=it}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$1[$]=new v$6($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _e=$[0];z$1[_e]=new v$6(_e,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$1[$]=new v$6($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$1[$]=new v$6($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$1[$]=new v$6($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$1[$]=new v$6($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$1[$]=new v$6($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$1[$]=new v$6($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$1[$]=new v$6($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$1[_e]=new v$6(_e,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$1[_e]=new v$6(_e,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _e=$.replace(ra,sa);z$1[_e]=new v$6(_e,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$1[$]=new v$6($,1,!1,$.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$1[$]=new v$6($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,_e,et,tt){var nt=z$1.hasOwnProperty(_e)?z$1[_e]:null;(nt!==null?nt.type!==0:tt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,et,nt,tt)&&(et=null),tt||nt===null?oa(_e)&&(et===null?$.removeAttribute(_e):$.setAttribute(_e,""+et)):nt.mustUseProperty?$[nt.propertyName]=et===null?nt.type===3?!1:"":et:(_e=nt.attributeName,tt=nt.attributeNamespace,et===null?$.removeAttribute(_e):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_e,et):$.setAttribute(_e,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(et){var _e=et.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+$}var Na=!1;function Oa($,_e){if(!$||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(at){var tt=at}Reflect.construct($,[],_e)}else{try{_e.call()}catch(at){tt=at}$.call(_e.prototype)}else{try{throw Error()}catch(at){tt=at}$()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,st=rt.length-1;1<=it&&0<=st&&nt[it]!==rt[st];)st--;for(;1<=it&&0<=st;it--,st--)if(nt[it]!==rt[st]){if(it!==1||st!==1)do if(it--,st--,0>st||nt[it]!==rt[st]){var ot=`
`+nt[it].replace(" at new "," at ");return $.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",$.displayName)),ot}while(1<=it&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var _e=$.render;return $=$.displayName,$||($=_e.displayName||_e.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return _e=$.displayName||null,_e!==null?_e:Qa($.type)||"Memo";case Ha:_e=$._payload,$=$._init;try{return Qa($(_e))}catch{}}return null}function Ra($){var _e=$.type;switch($.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_e.render,$=$.displayName||$.name||"",_e.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var _e=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua($){var _e=Ta($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_e),tt=""+$[_e];if(!$.hasOwnProperty(_e)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty($,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty($,_e,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){$._valueTracker=null,delete $[_e]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var _e=$._valueTracker;if(!_e)return!0;var et=_e.getValue(),tt="";return $&&(tt=Ta($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_e.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,_e){var et=_e.checked;return A({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??$._wrapperState.initialChecked})}function Za($,_e){var et=_e.defaultValue==null?"":_e.defaultValue,tt=_e.checked!=null?_e.checked:_e.defaultChecked;et=Sa(_e.value!=null?_e.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab($,_e){_e=_e.checked,_e!=null&&ta($,"checked",_e,!1)}function bb($,_e){ab($,_e);var et=Sa(_e.value),tt=_e.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_e.hasOwnProperty("value")?cb($,_e.type,et):_e.hasOwnProperty("defaultValue")&&cb($,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&($.defaultChecked=!!_e.defaultChecked)}function db($,_e,et){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tt=_e.type;if(!(tt!=="submit"&&tt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+$._wrapperState.initialValue,et||_e===$.value||($.value=_e),$.defaultValue=_e}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb($,_e,et){(_e!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb=Array.isArray;function fb($,_e,et,tt){if($=$.options,_e){_e={};for(var nt=0;nt<et.length;nt++)_e["$"+et[nt]]=!0;for(et=0;et<$.length;et++)nt=_e.hasOwnProperty("$"+$[et].value),$[et].selected!==nt&&($[et].selected=nt),nt&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa(et),_e=null,nt=0;nt<$.length;nt++){if($[nt].value===et){$[nt].selected=!0,tt&&($[nt].defaultSelected=!0);return}_e!==null||$[nt].disabled||(_e=$[nt])}_e!==null&&(_e.selected=!0)}}function gb($,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$9(91));return A({},_e,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,_e){var et=_e.value;if(et==null){if(et=_e.children,_e=_e.defaultValue,et!=null){if(_e!=null)throw Error(p$9(92));if(eb(et)){if(1<et.length)throw Error(p$9(93));et=et[0]}_e=et}_e==null&&(_e=""),et=_e}$._wrapperState={initialValue:Sa(et)}}function ib($,_e){var et=Sa(_e.value),tt=Sa(_e.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_e.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb($){var _e=$.textContent;_e===$._wrapperState.initialValue&&_e!==""&&_e!==null&&($.value=_e)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,_e){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(_e):$==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return $(_e,et,tt,nt)})}:$}(function($,_e){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_e.firstChild;)$.appendChild(_e.firstChild)}});function ob($,_e){if(_e){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_e;return}}$.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(_e){_e=_e+$.charAt(0).toUpperCase()+$.substring(1),pb[_e]=pb[$]})});function rb($,_e,et){return _e==null||typeof _e=="boolean"||_e===""?"":et||typeof _e!="number"||_e===0||pb.hasOwnProperty($)&&pb[$]?(""+_e).trim():_e+"px"}function sb($,_e){$=$.style;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,_e[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,nt):$[et]=nt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,_e){if(_e){if(tb[$]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$9(137,$));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$9(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$9(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$9(62))}}function vb($,_e){if($.indexOf("-")===-1)return typeof _e.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$9(280));var _e=$.stateNode;_e&&(_e=Db(_e),yb($.stateNode,$.type,_e))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,_e=Ab;if(Ab=zb=null,Bb($),_e)for($=0;$<_e.length;$++)Bb(_e[$])}}function Gb($,_e){return $(_e)}function Hb(){}var Ib=!1;function Jb($,_e,et){if(Ib)return $(_e,et);Ib=!0;try{return Gb($,_e,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,_e){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$9(231,_e,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,_e,et,tt,nt,rt,it,st,ot){var at=Array.prototype.slice.call(arguments,3);try{_e.apply(et,at)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,_e,et,tt,nt,rt,it,st,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,_e,et,tt,nt,rt,it,st,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$9(198));Qb||(Qb=!0,Rb=at)}}function Vb($){var _e=$,et=$;if($.alternate)for(;_e.return;)_e=_e.return;else{$=_e;do _e=$,_e.flags&4098&&(et=_e.return),$=_e.return;while($)}return _e.tag===3?et:null}function Wb($){if($.tag===13){var _e=$.memoizedState;if(_e===null&&($=$.alternate,$!==null&&(_e=$.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$9(188))}function Yb($){var _e=$.alternate;if(!_e){if(_e=Vb($),_e===null)throw Error(p$9(188));return _e!==$?null:$}for(var et=$,tt=_e;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),$;if(rt===tt)return Xb(nt),_e;rt=rt.sibling}throw Error(p$9(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,st=nt.child;st;){if(st===et){it=!0,et=nt,tt=rt;break}if(st===tt){it=!0,tt=nt,et=rt;break}st=st.sibling}if(!it){for(st=rt.child;st;){if(st===et){it=!0,et=rt,tt=nt;break}if(st===tt){it=!0,tt=rt,et=nt;break}st=st.sibling}if(!it)throw Error(p$9(189))}}if(et.alternate!==tt)throw Error(p$9(190))}if(et.tag!==3)throw Error(p$9(188));return et.stateNode.current===et?$:_e}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _e=$b($);if(_e!==null)return _e;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,_e){var et=$.pendingLanes;if(et===0)return 0;var tt=0,nt=$.suspendedLanes,rt=$.pingedLanes,it=et&268435455;if(it!==0){var st=it&~nt;st!==0?tt=tc(st):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if(_e!==0&&_e!==tt&&!(_e&nt)&&(nt=tt&-tt,rt=_e&-_e,nt>=rt||nt===16&&(rt&4194240)!==0))return _e;if(tt&4&&(tt|=et&16),_e=$.entangledLanes,_e!==0)for($=$.entanglements,_e&=tt;0<_e;)et=31-oc(_e),nt=1<<et,tt|=$[et],_e&=~nt;return tt}function vc($,_e){switch($){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,_e){for(var et=$.suspendedLanes,tt=$.pingedLanes,nt=$.expirationTimes,rt=$.pendingLanes;0<rt;){var it=31-oc(rt),st=1<<it,ot=nt[it];ot===-1?(!(st&et)||st&tt)&&(nt[it]=vc(st,_e)):ot<=_e&&($.expiredLanes|=st),rt&=~st}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var _e=[],et=0;31>et;et++)_e.push($);return _e}function Ac($,_e,et){$.pendingLanes|=_e,_e!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_e=31-oc(_e),$[_e]=et}function Bc($,_e){var et=$.pendingLanes&~_e;$.pendingLanes=_e,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_e,$.mutableReadLanes&=_e,$.entangledLanes&=_e,_e=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;_e[nt]=0,tt[nt]=-1,$[nt]=-1,et&=~rt}}function Cc($,_e){var et=$.entangledLanes|=_e;for($=$.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&_e|$[tt]&_e&&($[tt]|=_e),et&=~nt}}var C$4=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,_e){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc($,_e,et,tt,nt,rt){return $===null||$.nativeEvent!==rt?($={blockedOn:_e,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),$):($.eventSystemFlags|=tt,_e=$.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),$)}function Uc($,_e,et,tt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,$,_e,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,$,_e,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,$,_e,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,$,_e,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,$,_e,et,tt,nt)),!0}return!1}function Vc($){var _e=Wc($.target);if(_e!==null){var et=Vb(_e);if(et!==null){if(_e=et.tag,_e===13){if(_e=Wb(et),_e!==null){$.blockedOn=_e,Ic($.priority,function(){Gc(et)});return}}else if(_e===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var _e=$.targetContainers;0<_e.length;){var et=Yc($.domEventName,$.eventSystemFlags,_e[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _e=Cb(et),_e!==null&&Fc(_e),$.blockedOn=et,!1;_e.shift()}return!0}function Zc($,_e,et){Xc($)&&et.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,_e){$.blockedOn===_e&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function _e(nt){return ad(nt,$)}if(0<Kc.length){ad(Kc[0],$);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(_e),Pc.forEach(_e),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,_e,et,tt){var nt=C$4,rt=cd.transition;cd.transition=null;try{C$4=1,fd($,_e,et,tt)}finally{C$4=nt,cd.transition=rt}}function gd($,_e,et,tt){var nt=C$4,rt=cd.transition;cd.transition=null;try{C$4=4,fd($,_e,et,tt)}finally{C$4=nt,cd.transition=rt}}function fd($,_e,et,tt){if(dd){var nt=Yc($,_e,et,tt);if(nt===null)hd($,_e,tt,id$2,et),Sc($,tt);else if(Uc(nt,$,_e,et,tt))tt.stopPropagation();else if(Sc($,tt),_e&4&&-1<Rc.indexOf($)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc($,_e,et,tt),rt===null&&hd($,_e,tt,id$2,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd($,_e,tt,null,et)}}var id$2=null;function Yc($,_e,et,tt){if(id$2=null,$=xb(tt),$=Wc($),$!==null)if(_e=Vb($),_e===null)$=null;else if(et=_e.tag,et===13){if($=Wb(_e),$!==null)return $;$=null}else if(et===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;$=null}else _e!==$&&($=null);return id$2=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,_e=ld,et=_e.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for($=0;$<et&&_e[$]===nt[$];$++);var it=et-$;for(tt=1;tt<=it&&_e[et-tt]===nt[rt-tt];tt++);return md=nt.slice($,1<tt?1-tt:void 0)}function od($){var _e=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_e===13&&($=13)):$=_e,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function _e(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var st in $)$.hasOwnProperty(st)&&(et=$[st],this[st]=et?et(rt):rt[st]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState($):($=Od[$])?!!_e[$]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function($){if($.key){var _e=Md[$.key]||$.key;if(_e!=="Unidentified")return _e}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge($,_e){switch($){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,_e){switch($){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return $=_e.data,$===ee&&fe?null:$;default:return null}}function ke($,_e){if(ie)return $==="compositionend"||!ae&&ge($,_e)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e==="input"?!!le[$.type]:_e==="textarea"}function ne($,_e,et,tt){Eb(tt),_e=oe(_e,"onChange"),0<_e.length&&(et=new td("onChange","change",null,et,tt),$.push({event:et,listeners:_e}))}var pe=null,qe=null;function re$1($){se($,0)}function te($){var _e=ue($);if(Wa(_e))return $}function ve($,_e){if($==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,$,xb($)),Jb(re$1,_e)}}function Ce($,_e,et){$==="focusin"?(Ae(),pe=_e,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,_e){if($==="click")return te(_e)}function Fe($,_e){if($==="input"||$==="change")return te(_e)}function Ge($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,_e){if(He($,_e))return!0;if(typeof $!="object"||$===null||typeof _e!="object"||_e===null)return!1;var et=Object.keys($),tt=Object.keys(_e);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(_e,nt)||!He($[nt],_e[nt]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_e){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_e&&tt>=_e)return{node:et,offset:_e-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_e){return $&&_e?$===_e?!0:$&&$.nodeType===3?!1:_e&&_e.nodeType===3?Le($,_e.parentNode):"contains"in $?$.contains(_e):$.compareDocumentPosition?!!($.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var $=window,_e=Xa();_e instanceof $.HTMLIFrameElement;){try{var et=typeof _e.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_e.contentWindow;else break;_e=Xa($.document)}return _e}function Ne($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e&&(_e==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_e==="textarea"||$.contentEditable==="true")}function Oe($){var _e=Me(),et=$.focusedElem,tt=$.selectionRange;if(_e!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_e=tt.start,$=tt.end,$===void 0&&($=_e),"selectionStart"in et)et.selectionStart=_e,et.selectionEnd=Math.min($,et.value.length);else if($=(_e=et.ownerDocument||document)&&_e.defaultView||window,$.getSelection){$=$.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!$.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&($.rangeCount!==1||$.anchorNode!==nt.node||$.anchorOffset!==nt.offset||$.focusNode!==it.node||$.focusOffset!==it.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),$.removeAllRanges(),rt>tt?($.addRange(_e),$.extend(it.node,it.offset)):(_e.setEnd(it.node,it.offset),$.addRange(_e)))}}for(_e=[],$=et;$=$.parentNode;)$.nodeType===1&&_e.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_e.length;et++)$=_e[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,_e,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_e=new td("onSelect","select",null,_e,et),$.push({event:_e,listeners:tt}),_e.target=Qe)))}function Ve($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit"+$]="webkit"+_e,et["Moz"+$]="moz"+_e,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _e=We[$],et;for(et in _e)if(_e.hasOwnProperty(et)&&et in Ye)return Xe[$]=_e[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_e){df.set($,_e),fa(_e,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_e,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub(tt,_e,void 0,$),$.currentTarget=null}function se($,_e){_e=(_e&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(_e)for(var it=tt.length-1;0<=it;it--){var st=tt[it],ot=st.instance,at=st.currentTarget;if(st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}else for(it=0;it<tt.length;it++){if(st=tt[it],ot=st.instance,at=st.currentTarget,st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D$1($,_e){var et=_e[of];et===void 0&&(et=_e[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_e,$,2,!1),et.add(tt))}function qf($,_e,et){var tt=0;_e&&(tt|=4),pf(et,$,tt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _e=$.nodeType===9?$:$.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf($,_e,et,tt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,_e,et,$),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),tt?nt!==void 0?$.addEventListener(_e,et,{capture:!0,passive:nt}):$.addEventListener(_e,et,!0):nt!==void 0?$.addEventListener(_e,et,{passive:nt}):$.addEventListener(_e,et,!1)}function hd($,_e,et,tt,nt){var rt=tt;if(!(_e&1)&&!(_e&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var st=tt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var ot=it.tag;if((ot===3||ot===4)&&(ot=it.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;it=it.return}for(;st!==null;){if(it=Wc(st),it===null)return;if(ot=it.tag,ot===5||ot===6){tt=rt=it;continue e}st=st.parentNode}}tt=tt.return}Jb(function(){var at=rt,lt=xb(et),ut=[];e:{var dt=df.get($);if(dt!==void 0){var ct=td,ft=$;switch($){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":ct=Rd;break;case"focusin":ft="focus",ct=Fd;break;case"focusout":ft="blur",ct=Fd;break;case"beforeblur":case"afterblur":ct=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Vd;break;case $e:case af:case bf:ct=Hd;break;case cf:ct=Xd;break;case"scroll":ct=vd;break;case"wheel":ct=Zd;break;case"copy":case"cut":case"paste":ct=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Td}var pt=(_e&4)!==0,gt=!pt&&$==="scroll",ht=pt?dt!==null?dt+"Capture":null:dt;pt=[];for(var mt=at,bt;mt!==null;){bt=mt;var xt=bt.stateNode;if(bt.tag===5&&xt!==null&&(bt=xt,ht!==null&&(xt=Kb(mt,ht),xt!=null&&pt.push(tf(mt,xt,bt)))),gt)break;mt=mt.return}0<pt.length&&(dt=new ct(dt,ft,null,et,lt),ut.push({event:dt,listeners:pt}))}}if(!(_e&7)){e:{if(dt=$==="mouseover"||$==="pointerover",ct=$==="mouseout"||$==="pointerout",dt&&et!==wb&&(ft=et.relatedTarget||et.fromElement)&&(Wc(ft)||ft[uf]))break e;if((ct||dt)&&(dt=lt.window===lt?lt:(dt=lt.ownerDocument)?dt.defaultView||dt.parentWindow:window,ct?(ft=et.relatedTarget||et.toElement,ct=at,ft=ft?Wc(ft):null,ft!==null&&(gt=Vb(ft),ft!==gt||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(ct=null,ft=at),ct!==ft)){if(pt=Bd,xt="onMouseLeave",ht="onMouseEnter",mt="mouse",($==="pointerout"||$==="pointerover")&&(pt=Td,xt="onPointerLeave",ht="onPointerEnter",mt="pointer"),gt=ct==null?dt:ue(ct),bt=ft==null?dt:ue(ft),dt=new pt(xt,mt+"leave",ct,et,lt),dt.target=gt,dt.relatedTarget=bt,xt=null,Wc(lt)===at&&(pt=new pt(ht,mt+"enter",ft,et,lt),pt.target=bt,pt.relatedTarget=gt,xt=pt),gt=xt,ct&&ft)t:{for(pt=ct,ht=ft,mt=0,bt=pt;bt;bt=vf(bt))mt++;for(bt=0,xt=ht;xt;xt=vf(xt))bt++;for(;0<mt-bt;)pt=vf(pt),mt--;for(;0<bt-mt;)ht=vf(ht),bt--;for(;mt--;){if(pt===ht||ht!==null&&pt===ht.alternate)break t;pt=vf(pt),ht=vf(ht)}pt=null}else pt=null;ct!==null&&wf(ut,dt,ct,pt,!1),ft!==null&&gt!==null&&wf(ut,gt,ft,pt,!0)}}e:{if(dt=at?ue(at):window,ct=dt.nodeName&&dt.nodeName.toLowerCase(),ct==="select"||ct==="input"&&dt.type==="file")var Et=ve;else if(me(dt))if(we)Et=Fe;else{Et=De;var vt=Ce}else(ct=dt.nodeName)&&ct.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Et=Ee);if(Et&&(Et=Et($,at))){ne(ut,Et,et,lt);break e}vt&&vt($,dt,at),$==="focusout"&&(vt=dt._wrapperState)&&vt.controlled&&dt.type==="number"&&cb(dt,"number",dt.value)}switch(vt=at?ue(at):window,$){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=at,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,et,lt)}var _t;if(ae)e:{switch($){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie?ge($,et)&&(wt="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(wt="onCompositionStart");wt&&(de&&et.locale!=="ko"&&(ie||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie&&(_t=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),vt=oe(at,wt),0<vt.length&&(wt=new Ld(wt,$,null,et,lt),ut.push({event:wt,listeners:vt}),_t?wt.data=_t:(_t=he(et),_t!==null&&(wt.data=_t)))),(_t=ce?je($,et):ke($,et))&&(at=oe(at,"onBeforeInput"),0<at.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),ut.push({event:lt,listeners:at}),lt.data=_t))}se(ut,_e)})}function tf($,_e,et){return{instance:$,listener:_e,currentTarget:et}}function oe($,_e){for(var et=_e+"Capture",tt=[];$!==null;){var nt=$,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb($,et),rt!=null&&tt.unshift(tf($,rt,nt)),rt=Kb($,_e),rt!=null&&tt.push(tf($,rt,nt))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_e,et,tt,nt){for(var rt=_e._reactName,it=[];et!==null&&et!==tt;){var st=et,ot=st.alternate,at=st.stateNode;if(ot!==null&&ot===tt)break;st.tag===5&&at!==null&&(st=at,nt?(ot=Kb(et,rt),ot!=null&&it.unshift(tf(et,ot,st))):nt||(ot=Kb(et,rt),ot!=null&&it.push(tf(et,ot,st)))),et=et.return}it.length!==0&&$.push({event:_e,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_e,et){if(_e=zf(_e),zf($)!==_e&&et)throw Error(p$9(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_e){return $==="textarea"||$==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_e){var et=_e,tt=0;do{var nt=et.nextSibling;if($.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){$.removeChild(nt),bd(_e);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(_e)}function Lf($){for(;$!=null;$=$.nextSibling){var _e=$.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=$.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _e=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_e===0)return $;_e--}else et==="/$"&&_e++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var _e=$[Of];if(_e)return _e;for(var et=$.parentNode;et;){if(_e=et[uf]||et[Of]){if(et=_e.alternate,_e.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _e}$=et,et=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$9(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$6($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G($,_e){Tf++,Sf[Tf]=$.current,$.current=_e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_e){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_e)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=_e[rt];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$6(Wf),E$6(H)}function ag($,_e,et){if(H.current!==Vf)throw Error(p$9(168));G(H,_e),G(Wf,et)}function bg($,_e,et){var tt=$.stateNode;if(_e=_e.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _e))throw Error(p$9(108,Ra($)||"Unknown",nt));return A({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,$),G(Wf,Wf.current),!0}function dg($,_e,et){var tt=$.stateNode;if(!tt)throw Error(p$9(169));et?($=bg($,_e,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E$6(Wf),E$6(H),G(H,$)):E$6(Wf),G(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_e=C$4;try{var et=eg;for(C$4=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),nt}finally{C$4=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_e){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_e}function ug($,_e,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc(_e)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc(_e)+nt|et<<nt|tt,sg=rt+$}else rg=1<<rt|et<<nt|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag($,_e){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_e,et.return=$,_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)}function Cg($,_e){switch($.tag){case 5:var et=$.type;return _e=_e.nodeType!==1||et.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=$.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_e,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_e,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$3){var _e=yg;if(_e){var et=_e;if(!Cg($,_e)){if(Dg($))throw Error(p$9(418));_e=Lf(et.nextSibling);var tt=xg;_e&&Cg($,_e)?Ag(tt,et):($.flags=$.flags&-4097|2,I$3=!1,xg=$)}}else{if(Dg($))throw Error(p$9(418));$.flags=$.flags&-4097|2,I$3=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$3)return Fg($),I$3=!0,!1;var _e;if((_e=$.tag!==3)&&!(_e=$.tag!==5)&&(_e=$.type,_e=_e!=="head"&&_e!=="body"&&!Ef($.type,$.memoizedProps)),_e&&(_e=yg)){if(Dg($))throw Hg(),Error(p$9(418));for(;_e;)Ag($,_e),_e=Lf(_e.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$9(317));e:{for($=$.nextSibling,_e=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_e===0){yg=Lf($.nextSibling);break e}_e--}else et!=="$"&&et!=="$!"&&et!=="$?"||_e++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,_e,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$9(309));var tt=et.stateNode}if(!tt)throw Error(p$9(147,$));var nt=tt,rt=""+$;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===rt?_e.ref:(_e=function(it){var st=nt.refs;it===null?delete st[rt]:st[rt]=it},_e._stringRef=rt,_e)}if(typeof $!="string")throw Error(p$9(284));if(!et._owner)throw Error(p$9(290,$))}return $}function Mg($,_e){throw $=Object.prototype.toString.call(_e),Error(p$9(31,$==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$))}function Ng($){var _e=$._init;return _e($._payload)}function Og($){function _e(ht,mt){if($){var bt=ht.deletions;bt===null?(ht.deletions=[mt],ht.flags|=16):bt.push(mt)}}function et(ht,mt){if(!$)return null;for(;mt!==null;)_e(ht,mt),mt=mt.sibling;return null}function tt(ht,mt){for(ht=new Map;mt!==null;)mt.key!==null?ht.set(mt.key,mt):ht.set(mt.index,mt),mt=mt.sibling;return ht}function nt(ht,mt){return ht=Pg(ht,mt),ht.index=0,ht.sibling=null,ht}function rt(ht,mt,bt){return ht.index=bt,$?(bt=ht.alternate,bt!==null?(bt=bt.index,bt<mt?(ht.flags|=2,mt):bt):(ht.flags|=2,mt)):(ht.flags|=1048576,mt)}function it(ht){return $&&ht.alternate===null&&(ht.flags|=2),ht}function st(ht,mt,bt,xt){return mt===null||mt.tag!==6?(mt=Qg(bt,ht.mode,xt),mt.return=ht,mt):(mt=nt(mt,bt),mt.return=ht,mt)}function ot(ht,mt,bt,xt){var Et=bt.type;return Et===ya?lt(ht,mt,bt.props.children,xt,bt.key):mt!==null&&(mt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&Ng(Et)===mt.type)?(xt=nt(mt,bt.props),xt.ref=Lg(ht,mt,bt),xt.return=ht,xt):(xt=Rg(bt.type,bt.key,bt.props,null,ht.mode,xt),xt.ref=Lg(ht,mt,bt),xt.return=ht,xt)}function at(ht,mt,bt,xt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==bt.containerInfo||mt.stateNode.implementation!==bt.implementation?(mt=Sg(bt,ht.mode,xt),mt.return=ht,mt):(mt=nt(mt,bt.children||[]),mt.return=ht,mt)}function lt(ht,mt,bt,xt,Et){return mt===null||mt.tag!==7?(mt=Tg(bt,ht.mode,xt,Et),mt.return=ht,mt):(mt=nt(mt,bt),mt.return=ht,mt)}function ut(ht,mt,bt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return mt=Qg(""+mt,ht.mode,bt),mt.return=ht,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return bt=Rg(mt.type,mt.key,mt.props,null,ht.mode,bt),bt.ref=Lg(ht,null,mt),bt.return=ht,bt;case wa:return mt=Sg(mt,ht.mode,bt),mt.return=ht,mt;case Ha:var xt=mt._init;return ut(ht,xt(mt._payload),bt)}if(eb(mt)||Ka(mt))return mt=Tg(mt,ht.mode,bt,null),mt.return=ht,mt;Mg(ht,mt)}return null}function dt(ht,mt,bt,xt){var Et=mt!==null?mt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Et!==null?null:st(ht,mt,""+bt,xt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return bt.key===Et?ot(ht,mt,bt,xt):null;case wa:return bt.key===Et?at(ht,mt,bt,xt):null;case Ha:return Et=bt._init,dt(ht,mt,Et(bt._payload),xt)}if(eb(bt)||Ka(bt))return Et!==null?null:lt(ht,mt,bt,xt,null);Mg(ht,bt)}return null}function ct(ht,mt,bt,xt,Et){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ht=ht.get(bt)||null,st(mt,ht,""+xt,Et);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return ht=ht.get(xt.key===null?bt:xt.key)||null,ot(mt,ht,xt,Et);case wa:return ht=ht.get(xt.key===null?bt:xt.key)||null,at(mt,ht,xt,Et);case Ha:var vt=xt._init;return ct(ht,mt,bt,vt(xt._payload),Et)}if(eb(xt)||Ka(xt))return ht=ht.get(bt)||null,lt(mt,ht,xt,Et,null);Mg(mt,xt)}return null}function ft(ht,mt,bt,xt){for(var Et=null,vt=null,_t=mt,wt=mt=0,Ct=null;_t!==null&&wt<bt.length;wt++){_t.index>wt?(Ct=_t,_t=null):Ct=_t.sibling;var Nt=dt(ht,_t,bt[wt],xt);if(Nt===null){_t===null&&(_t=Ct);break}$&&_t&&Nt.alternate===null&&_e(ht,_t),mt=rt(Nt,mt,wt),vt===null?Et=Nt:vt.sibling=Nt,vt=Nt,_t=Ct}if(wt===bt.length)return et(ht,_t),I$3&&tg(ht,wt),Et;if(_t===null){for(;wt<bt.length;wt++)_t=ut(ht,bt[wt],xt),_t!==null&&(mt=rt(_t,mt,wt),vt===null?Et=_t:vt.sibling=_t,vt=_t);return I$3&&tg(ht,wt),Et}for(_t=tt(ht,_t);wt<bt.length;wt++)Ct=ct(_t,ht,wt,bt[wt],xt),Ct!==null&&($&&Ct.alternate!==null&&_t.delete(Ct.key===null?wt:Ct.key),mt=rt(Ct,mt,wt),vt===null?Et=Ct:vt.sibling=Ct,vt=Ct);return $&&_t.forEach(function(kt){return _e(ht,kt)}),I$3&&tg(ht,wt),Et}function pt(ht,mt,bt,xt){var Et=Ka(bt);if(typeof Et!="function")throw Error(p$9(150));if(bt=Et.call(bt),bt==null)throw Error(p$9(151));for(var vt=Et=null,_t=mt,wt=mt=0,Ct=null,Nt=bt.next();_t!==null&&!Nt.done;wt++,Nt=bt.next()){_t.index>wt?(Ct=_t,_t=null):Ct=_t.sibling;var kt=dt(ht,_t,Nt.value,xt);if(kt===null){_t===null&&(_t=Ct);break}$&&_t&&kt.alternate===null&&_e(ht,_t),mt=rt(kt,mt,wt),vt===null?Et=kt:vt.sibling=kt,vt=kt,_t=Ct}if(Nt.done)return et(ht,_t),I$3&&tg(ht,wt),Et;if(_t===null){for(;!Nt.done;wt++,Nt=bt.next())Nt=ut(ht,Nt.value,xt),Nt!==null&&(mt=rt(Nt,mt,wt),vt===null?Et=Nt:vt.sibling=Nt,vt=Nt);return I$3&&tg(ht,wt),Et}for(_t=tt(ht,_t);!Nt.done;wt++,Nt=bt.next())Nt=ct(_t,ht,wt,Nt.value,xt),Nt!==null&&($&&Nt.alternate!==null&&_t.delete(Nt.key===null?wt:Nt.key),mt=rt(Nt,mt,wt),vt===null?Et=Nt:vt.sibling=Nt,vt=Nt);return $&&_t.forEach(function(Pt){return _e(ht,Pt)}),I$3&&tg(ht,wt),Et}function gt(ht,mt,bt,xt){if(typeof bt=="object"&&bt!==null&&bt.type===ya&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:e:{for(var Et=bt.key,vt=mt;vt!==null;){if(vt.key===Et){if(Et=bt.type,Et===ya){if(vt.tag===7){et(ht,vt.sibling),mt=nt(vt,bt.props.children),mt.return=ht,ht=mt;break e}}else if(vt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&Ng(Et)===vt.type){et(ht,vt.sibling),mt=nt(vt,bt.props),mt.ref=Lg(ht,vt,bt),mt.return=ht,ht=mt;break e}et(ht,vt);break}else _e(ht,vt);vt=vt.sibling}bt.type===ya?(mt=Tg(bt.props.children,ht.mode,xt,bt.key),mt.return=ht,ht=mt):(xt=Rg(bt.type,bt.key,bt.props,null,ht.mode,xt),xt.ref=Lg(ht,mt,bt),xt.return=ht,ht=xt)}return it(ht);case wa:e:{for(vt=bt.key;mt!==null;){if(mt.key===vt)if(mt.tag===4&&mt.stateNode.containerInfo===bt.containerInfo&&mt.stateNode.implementation===bt.implementation){et(ht,mt.sibling),mt=nt(mt,bt.children||[]),mt.return=ht,ht=mt;break e}else{et(ht,mt);break}else _e(ht,mt);mt=mt.sibling}mt=Sg(bt,ht.mode,xt),mt.return=ht,ht=mt}return it(ht);case Ha:return vt=bt._init,gt(ht,mt,vt(bt._payload),xt)}if(eb(bt))return ft(ht,mt,bt,xt);if(Ka(bt))return pt(ht,mt,bt,xt);Mg(ht,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,mt!==null&&mt.tag===6?(et(ht,mt.sibling),mt=nt(mt,bt),mt.return=ht,ht=mt):(et(ht,mt),mt=Qg(bt,ht.mode,xt),mt.return=ht,ht=mt),it(ht)):et(ht,mt)}return gt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah($){var _e=Wg.current;E$6(Wg),$._currentValue=_e}function bh($,_e,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_e)!==_e?($.childLanes|=_e,tt!==null&&(tt.childLanes|=_e)):tt!==null&&(tt.childLanes&_e)!==_e&&(tt.childLanes|=_e),$===et)break;$=$.return}}function ch($,_e){Xg=$,Zg=Yg=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&_e&&(dh=!0),$.firstContext=null)}function eh($){var _e=$._currentValue;if(Zg!==$)if($={context:$,memoizedValue:_e,next:null},Yg===null){if(Xg===null)throw Error(p$9(308));Yg=$,Xg.dependencies={lanes:0,firstContext:$}}else Yg=Yg.next=$;return _e}var fh=null;function gh($){fh===null?fh=[$]:fh.push($)}function hh($,_e,et,tt){var nt=_e.interleaved;return nt===null?(et.next=et,gh(_e)):(et.next=nt.next,nt.next=et),_e.interleaved=et,ih($,tt)}function ih($,_e){$.lanes|=_e;var et=$.alternate;for(et!==null&&(et.lanes|=_e),et=$,$=$.return;$!==null;)$.childLanes|=_e,et=$.alternate,et!==null&&(et.childLanes|=_e),et=$,$=$.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh($,_e){$=$.updateQueue,_e.updateQueue===$&&(_e.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function mh($,_e){return{eventTime:$,lane:_e,tag:0,payload:null,callback:null,next:null}}function nh($,_e,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var nt=tt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),tt.pending=_e,ih($,et)}return nt=tt.interleaved,nt===null?(_e.next=_e,gh(tt)):(_e.next=nt.next,nt.next=_e),tt.interleaved=_e,ih($,et)}function oh($,_e,et){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(et&4194240)!==0)){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}function ph($,_e){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=_e:rt=rt.next=_e}else nt=rt=_e;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=_e}function qh($,_e,et,tt){var nt=$.updateQueue;jh=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ot=st,at=ot.next;ot.next=null,it===null?rt=at:it.next=at,it=ot;var lt=$.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==it&&(st===null?lt.firstBaseUpdate=at:st.next=at,lt.lastBaseUpdate=ot))}if(rt!==null){var ut=nt.baseState;it=0,lt=at=ot=null,st=rt;do{var dt=st.lane,ct=st.eventTime;if((tt&dt)===dt){lt!==null&&(lt=lt.next={eventTime:ct,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var ft=$,pt=st;switch(dt=_e,ct=et,pt.tag){case 1:if(ft=pt.payload,typeof ft=="function"){ut=ft.call(ct,ut,dt);break e}ut=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=pt.payload,dt=typeof ft=="function"?ft.call(ct,ut,dt):ft,dt==null)break e;ut=A({},ut,dt);break e;case 2:jh=!0}}st.callback!==null&&st.lane!==0&&($.flags|=64,dt=nt.effects,dt===null?nt.effects=[st]:dt.push(st))}else ct={eventTime:ct,lane:dt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(at=lt=ct,ot=ut):lt=lt.next=ct,it|=dt;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;dt=st,st=dt.next,dt.next=null,nt.lastBaseUpdate=dt,nt.shared.pending=null}}while(!0);if(lt===null&&(ot=ut),nt.baseState=ot,nt.firstBaseUpdate=at,nt.lastBaseUpdate=lt,_e=nt.shared.interleaved,_e!==null){nt=_e;do it|=nt.lane,nt=nt.next;while(nt!==_e)}else rt===null&&(nt.shared.lanes=0);rh|=it,$.lanes=it,$.memoizedState=ut}}function sh($,_e,et){if($=_e.effects,_e.effects=null,$!==null)for(_e=0;_e<$.length;_e++){var tt=$[_e],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$9(191,nt));nt.call(tt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh($){if($===th)throw Error(p$9(174));return $}function yh($,_e){switch(G(wh,_e),G(vh$1,$),G(uh,th),$=_e.nodeType,$){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:$=$===8?_e.parentNode:_e,_e=$.namespaceURI||null,$=$.tagName,_e=lb(_e,$)}E$6(uh),G(uh,_e)}function zh(){E$6(uh),E$6(vh$1),E$6(wh)}function Ah($){xh(wh.current);var _e=xh(uh.current),et=lb(_e,$.type);_e!==et&&(G(vh$1,$),G(uh,et))}function Bh($){vh$1.current===$&&(E$6(uh),E$6(vh$1))}var L$1=Uf(0);function Ch($){for(var _e=$;_e!==null;){if(_e.tag===13){var et=_e.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Dh=[];function Eh(){for(var $=0;$<Dh.length;$++)Dh[$]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$9(321))}function Mh($,_e){if(_e===null)return!1;for(var et=0;et<_e.length&&et<$.length;et++)if(!He($[et],_e[et]))return!1;return!0}function Nh($,_e,et,tt,nt,rt){if(Hh=rt,M$3=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Fh.current=$===null||$.memoizedState===null?Oh:Ph,$=et(tt,nt),Jh){rt=0;do{if(Jh=!1,Kh=0,25<=rt)throw Error(p$9(301));rt+=1,O=N$1=null,_e.updateQueue=null,Fh.current=Qh,$=et(tt,nt)}while(Jh)}if(Fh.current=Rh,_e=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$3=null,Ih=!1,_e)throw Error(p$9(300));return $}function Sh(){var $=Kh!==0;return Kh=0,$}function Th(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$3.memoizedState=O=$:O=O.next=$,O}function Uh(){if(N$1===null){var $=M$3.alternate;$=$!==null?$.memoizedState:null}else $=N$1.next;var _e=O===null?M$3.memoizedState:O.next;if(_e!==null)O=_e,N$1=$;else{if($===null)throw Error(p$9(310));N$1=$,$={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$3.memoizedState=O=$:O=O.next=$}return O}function Vh($,_e){return typeof _e=="function"?_e($):_e}function Wh($){var _e=Uh(),et=_e.queue;if(et===null)throw Error(p$9(311));et.lastRenderedReducer=$;var tt=N$1,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var st=it=null,ot=null,at=rt;do{var lt=at.lane;if((Hh&lt)===lt)ot!==null&&(ot=ot.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),tt=at.hasEagerState?at.eagerState:$(tt,at.action);else{var ut={lane:lt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};ot===null?(st=ot=ut,it=tt):ot=ot.next=ut,M$3.lanes|=lt,rh|=lt}at=at.next}while(at!==null&&at!==rt);ot===null?it=tt:ot.next=st,He(tt,_e.memoizedState)||(dh=!0),_e.memoizedState=tt,_e.baseState=it,_e.baseQueue=ot,et.lastRenderedState=tt}if($=et.interleaved,$!==null){nt=$;do rt=nt.lane,M$3.lanes|=rt,rh|=rt,nt=nt.next;while(nt!==$)}else nt===null&&(et.lanes=0);return[_e.memoizedState,et.dispatch]}function Xh($){var _e=Uh(),et=_e.queue;if(et===null)throw Error(p$9(311));et.lastRenderedReducer=$;var tt=et.dispatch,nt=et.pending,rt=_e.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=$(rt,it.action),it=it.next;while(it!==nt);He(rt,_e.memoizedState)||(dh=!0),_e.memoizedState=rt,_e.baseQueue===null&&(_e.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function Yh(){}function Zh($,_e){var et=M$3,tt=Uh(),nt=_e(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,dh=!0),tt=tt.queue,$h(ai.bind(null,et,tt,$),[$]),tt.getSnapshot!==_e||rt||O!==null&&O.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,tt,nt,_e),void 0,null),Q===null)throw Error(p$9(349));Hh&30||di(et,_e,nt)}return nt}function di($,_e,et){$.flags|=16384,$={getSnapshot:_e,value:et},_e=M$3.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M$3.updateQueue=_e,_e.stores=[$]):(et=_e.stores,et===null?_e.stores=[$]:et.push($))}function ci($,_e,et,tt){_e.value=et,_e.getSnapshot=tt,ei(_e)&&fi($)}function ai($,_e,et){return et(function(){ei(_e)&&fi($)})}function ei($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!He($,et)}catch{return!0}}function fi($){var _e=ih($,1);_e!==null&&gi(_e,$,1,-1)}function hi($){var _e=Th();return typeof $=="function"&&($=$()),_e.memoizedState=_e.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:$},_e.queue=$,$=$.dispatch=ii.bind(null,M$3,$),[_e.memoizedState,$]}function bi($,_e,et,tt){return $={tag:$,create:_e,destroy:et,deps:tt,next:null},_e=M$3.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M$3.updateQueue=_e,_e.lastEffect=$.next=$):(et=_e.lastEffect,et===null?_e.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_e.lastEffect=$)),$}function ji(){return Uh().memoizedState}function ki($,_e,et,tt){var nt=Th();M$3.flags|=$,nt.memoizedState=bi(1|_e,et,void 0,tt===void 0?null:tt)}function li($,_e,et,tt){var nt=Uh();tt=tt===void 0?null:tt;var rt=void 0;if(N$1!==null){var it=N$1.memoizedState;if(rt=it.destroy,tt!==null&&Mh(tt,it.deps)){nt.memoizedState=bi(_e,et,rt,tt);return}}M$3.flags|=$,nt.memoizedState=bi(1|_e,et,rt,tt)}function mi($,_e){return ki(8390656,8,$,_e)}function $h($,_e){return li(2048,8,$,_e)}function ni($,_e){return li(4,2,$,_e)}function oi($,_e){return li(4,4,$,_e)}function pi($,_e){if(typeof _e=="function")return $=$(),_e($),function(){_e(null)};if(_e!=null)return $=$(),_e.current=$,function(){_e.current=null}}function qi($,_e,et){return et=et!=null?et.concat([$]):null,li(4,4,pi.bind(null,_e,$),et)}function ri(){}function si($,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Mh(_e,tt[1])?tt[0]:(et.memoizedState=[$,_e],$)}function ti($,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Mh(_e,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_e],$)}function ui($,_e,et){return Hh&21?(He(et,_e)||(et=yc(),M$3.lanes|=et,rh|=et,$.baseState=!0),_e):($.baseState&&($.baseState=!1,dh=!0),$.memoizedState=et)}function vi($,_e){var et=C$4;C$4=et!==0&&4>et?et:4,$(!0);var tt=Gh.transition;Gh.transition={};try{$(!1),_e()}finally{C$4=et,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi($,_e,et){var tt=yi($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},zi($))Ai(_e,et);else if(et=hh($,_e,et,tt),et!==null){var nt=R();gi(et,$,tt,nt),Bi(et,_e,tt)}}function ii($,_e,et){var tt=yi($),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi($))Ai(_e,nt);else{var rt=$.alternate;if($.lanes===0&&(rt===null||rt.lanes===0)&&(rt=_e.lastRenderedReducer,rt!==null))try{var it=_e.lastRenderedState,st=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=st,He(st,it)){var ot=_e.interleaved;ot===null?(nt.next=nt,gh(_e)):(nt.next=ot.next,ot.next=nt),_e.interleaved=nt;return}}catch{}finally{}et=hh($,_e,nt,tt),et!==null&&(nt=R(),gi(et,$,tt,nt),Bi(et,_e,tt))}}function zi($){var _e=$.alternate;return $===M$3||_e!==null&&_e===M$3}function Ai($,_e){Jh=Ih=!0;var et=$.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),$.pending=_e}function Bi($,_e,et){if(et&4194240){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function($,_e){return Th().memoizedState=[$,_e===void 0?null:_e],$},useContext:eh,useEffect:mi,useImperativeHandle:function($,_e,et){return et=et!=null?et.concat([$]):null,ki(4194308,4,pi.bind(null,_e,$),et)},useLayoutEffect:function($,_e){return ki(4194308,4,$,_e)},useInsertionEffect:function($,_e){return ki(4,2,$,_e)},useMemo:function($,_e){var et=Th();return _e=_e===void 0?null:_e,$=$(),et.memoizedState=[$,_e],$},useReducer:function($,_e,et){var tt=Th();return _e=et!==void 0?et(_e):_e,tt.memoizedState=tt.baseState=_e,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_e},tt.queue=$,$=$.dispatch=xi.bind(null,M$3,$),[tt.memoizedState,$]},useRef:function($){var _e=Th();return $={current:$},_e.memoizedState=$},useState:hi,useDebugValue:ri,useDeferredValue:function($){return Th().memoizedState=$},useTransition:function(){var $=hi(!1),_e=$[0];return $=vi.bind(null,$[1]),Th().memoizedState=$,[_e,$]},useMutableSource:function(){},useSyncExternalStore:function($,_e,et){var tt=M$3,nt=Th();if(I$3){if(et===void 0)throw Error(p$9(407));et=et()}else{if(et=_e(),Q===null)throw Error(p$9(349));Hh&30||di(tt,_e,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:_e};return nt.queue=rt,mi(ai.bind(null,tt,rt,$),[$]),tt.flags|=2048,bi(9,ci.bind(null,tt,rt,et,_e),void 0,null),et},useId:function(){var $=Th(),_e=Q.identifierPrefix;if(I$3){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_e=":"+_e+"R"+et,et=Kh++,0<et&&(_e+="H"+et.toString(32)),_e+=":"}else et=Lh++,_e=":"+_e+"r"+et.toString(32)+":";return $.memoizedState=_e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function($){var _e=Uh();return ui(_e,N$1.memoizedState,$)},useTransition:function(){var $=Wh(Vh)[0],_e=Uh().memoizedState;return[$,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function($){var _e=Uh();return N$1===null?_e.memoizedState=$:ui(_e,N$1.memoizedState,$)},useTransition:function(){var $=Xh(Vh)[0],_e=Uh().memoizedState;return[$,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci($,_e){if($&&$.defaultProps){_e=A({},_e),$=$.defaultProps;for(var et in $)_e[et]===void 0&&(_e[et]=$[et]);return _e}return _e}function Di($,_e,et,tt){_e=$.memoizedState,et=et(tt,_e),et=et==null?_e:A({},_e,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var Ei={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,_e,et){$=$._reactInternals;var tt=R(),nt=yi($),rt=mh(tt,nt);rt.payload=_e,et!=null&&(rt.callback=et),_e=nh($,rt,nt),_e!==null&&(gi(_e,$,nt,tt),oh(_e,$,nt))},enqueueReplaceState:function($,_e,et){$=$._reactInternals;var tt=R(),nt=yi($),rt=mh(tt,nt);rt.tag=1,rt.payload=_e,et!=null&&(rt.callback=et),_e=nh($,rt,nt),_e!==null&&(gi(_e,$,nt,tt),oh(_e,$,nt))},enqueueForceUpdate:function($,_e){$=$._reactInternals;var et=R(),tt=yi($),nt=mh(et,tt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=nh($,nt,tt),_e!==null&&(gi(_e,$,tt,et),oh(_e,$,tt))}};function Fi($,_e,et,tt,nt,rt,it){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,rt,it):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function Gi($,_e,et){var tt=!1,nt=Vf,rt=_e.contextType;return typeof rt=="object"&&rt!==null?rt=eh(rt):(nt=Zf(_e)?Xf:H.current,tt=_e.contextTypes,rt=(tt=tt!=null)?Yf($,nt):Vf),_e=new _e(et,rt),$.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=Ei,$.stateNode=_e,_e._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=nt,$.__reactInternalMemoizedMaskedChildContext=rt),_e}function Hi($,_e,et,tt){$=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(et,tt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(et,tt),_e.state!==$&&Ei.enqueueReplaceState(_e,_e.state,null)}function Ii($,_e,et,tt){var nt=$.stateNode;nt.props=et,nt.state=$.memoizedState,nt.refs={},kh($);var rt=_e.contextType;typeof rt=="object"&&rt!==null?nt.context=eh(rt):(rt=Zf(_e)?Xf:H.current,nt.context=Yf($,rt)),nt.state=$.memoizedState,rt=_e.getDerivedStateFromProps,typeof rt=="function"&&(Di($,_e,rt,et),nt.state=$.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh($,et,nt,tt),nt.state=$.memoizedState),typeof nt.componentDidMount=="function"&&($.flags|=4194308)}function Ji($,_e){try{var et="",tt=_e;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:$,source:_e,stack:nt,digest:null}}function Ki($,_e,et){return{value:$,source:null,stack:et??null,digest:_e??null}}function Li($,_e){try{console.error(_e.value)}catch(et){setTimeout(function(){throw et})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni($,_e,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var tt=_e.value;return et.callback=function(){Oi||(Oi=!0,Pi=tt),Li($,_e)},et}function Qi($,_e,et){et=mh(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=_e.value;et.payload=function(){return tt(nt)},et.callback=function(){Li($,_e)}}var rt=$.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Li($,_e),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var it=_e.stack;this.componentDidCatch(_e.value,{componentStack:it!==null?it:""})}),et}function Si($,_e,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Mi;var nt=new Set;tt.set(_e,nt)}else nt=tt.get(_e),nt===void 0&&(nt=new Set,tt.set(_e,nt));nt.has(et)||(nt.add(et),$=Ti.bind(null,$,_e,et),_e.then($,$))}function Ui($){do{var _e;if((_e=$.tag===13)&&(_e=$.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return $;$=$.return}while($!==null);return null}function Vi($,_e,et,tt,nt){return $.mode&1?($.flags|=65536,$.lanes=nt,$):($===_e?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_e=mh(-1,1),_e.tag=2,nh(et,_e,1))),et.lanes|=1),$)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi($,_e,et,tt){_e.child=$===null?Vg(_e,null,et,tt):Ug(_e,$.child,et,tt)}function Yi($,_e,et,tt,nt){et=et.render;var rt=_e.ref;return ch(_e,nt),tt=Nh($,_e,et,tt,rt,nt),et=Sh(),$!==null&&!dh?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,Zi($,_e,nt)):(I$3&&et&&vg(_e),_e.flags|=1,Xi($,_e,tt,nt),_e.child)}function $i($,_e,et,tt,nt){if($===null){var rt=et.type;return typeof rt=="function"&&!aj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_e.tag=15,_e.type=rt,bj($,_e,rt,tt,nt)):($=Rg(et.type,null,tt,_e,_e.mode,nt),$.ref=_e.ref,$.return=_e,_e.child=$)}if(rt=$.child,!($.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&$.ref===_e.ref)return Zi($,_e,nt)}return _e.flags|=1,$=Pg(rt,tt),$.ref=_e.ref,$.return=_e,_e.child=$}function bj($,_e,et,tt,nt){if($!==null){var rt=$.memoizedProps;if(Ie(rt,tt)&&$.ref===_e.ref)if(dh=!1,_e.pendingProps=tt=rt,($.lanes&nt)!==0)$.flags&131072&&(dh=!0);else return _e.lanes=$.lanes,Zi($,_e,nt)}return cj($,_e,et,tt,nt)}function dj($,_e,et){var tt=_e.pendingProps,nt=tt.children,rt=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=et;else{if(!(et&1073741824))return $=rt!==null?rt.baseLanes|et:et,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:$,cachePool:null,transitions:null},_e.updateQueue=null,G(ej,fj),fj|=$,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G(ej,fj),fj|=tt}else rt!==null?(tt=rt.baseLanes|et,_e.memoizedState=null):tt=et,G(ej,fj),fj|=tt;return Xi($,_e,nt,et),_e.child}function gj($,_e){var et=_e.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_e.flags|=512,_e.flags|=2097152)}function cj($,_e,et,tt,nt){var rt=Zf(et)?Xf:H.current;return rt=Yf(_e,rt),ch(_e,nt),et=Nh($,_e,et,tt,rt,nt),tt=Sh(),$!==null&&!dh?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,Zi($,_e,nt)):(I$3&&tt&&vg(_e),_e.flags|=1,Xi($,_e,et,nt),_e.child)}function hj($,_e,et,tt,nt){if(Zf(et)){var rt=!0;cg(_e)}else rt=!1;if(ch(_e,nt),_e.stateNode===null)ij($,_e),Gi(_e,et,tt),Ii(_e,et,tt,nt),tt=!0;else if($===null){var it=_e.stateNode,st=_e.memoizedProps;it.props=st;var ot=it.context,at=et.contextType;typeof at=="object"&&at!==null?at=eh(at):(at=Zf(et)?Xf:H.current,at=Yf(_e,at));var lt=et.getDerivedStateFromProps,ut=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ut||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==tt||ot!==at)&&Hi(_e,it,tt,at),jh=!1;var dt=_e.memoizedState;it.state=dt,qh(_e,tt,it,nt),ot=_e.memoizedState,st!==tt||dt!==ot||Wf.current||jh?(typeof lt=="function"&&(Di(_e,et,lt,tt),ot=_e.memoizedState),(st=jh||Fi(_e,et,st,tt,dt,ot,at))?(ut||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tt,_e.memoizedState=ot),it.props=tt,it.state=ot,it.context=at,tt=st):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),tt=!1)}else{it=_e.stateNode,lh($,_e),st=_e.memoizedProps,at=_e.type===_e.elementType?st:Ci(_e.type,st),it.props=at,ut=_e.pendingProps,dt=it.context,ot=et.contextType,typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf(et)?Xf:H.current,ot=Yf(_e,ot));var ct=et.getDerivedStateFromProps;(lt=typeof ct=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==ut||dt!==ot)&&Hi(_e,it,tt,ot),jh=!1,dt=_e.memoizedState,it.state=dt,qh(_e,tt,it,nt);var ft=_e.memoizedState;st!==ut||dt!==ft||Wf.current||jh?(typeof ct=="function"&&(Di(_e,et,ct,tt),ft=_e.memoizedState),(at=jh||Fi(_e,et,at,tt,dt,ft,ot)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,ft,ot),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,ft,ot)),typeof it.componentDidUpdate=="function"&&(_e.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof it.componentDidUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_e.flags|=1024),_e.memoizedProps=tt,_e.memoizedState=ft),it.props=tt,it.state=ft,it.context=ot,tt=at):(typeof it.componentDidUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===$.memoizedProps&&dt===$.memoizedState||(_e.flags|=1024),tt=!1)}return jj($,_e,et,tt,rt,nt)}function jj($,_e,et,tt,nt,rt){gj($,_e);var it=(_e.flags&128)!==0;if(!tt&&!it)return nt&&dg(_e,et,!1),Zi($,_e,rt);tt=_e.stateNode,Wi.current=_e;var st=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _e.flags|=1,$!==null&&it?(_e.child=Ug(_e,$.child,null,rt),_e.child=Ug(_e,null,st,rt)):Xi($,_e,st,rt),_e.memoizedState=tt.state,nt&&dg(_e,et,!0),_e.child}function kj($){var _e=$.stateNode;_e.pendingContext?ag($,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag($,_e.context,!1),yh($,_e.containerInfo)}function lj($,_e,et,tt,nt){return Ig(),Jg(nt),_e.flags|=256,Xi($,_e,et,tt),_e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj($){return{baseLanes:$,cachePool:null,transitions:null}}function oj($,_e,et){var tt=_e.pendingProps,nt=L$1.current,rt=!1,it=(_e.flags&128)!==0,st;if((st=it)||(st=$!==null&&$.memoizedState===null?!1:(nt&2)!==0),st?(rt=!0,_e.flags&=-129):($===null||$.memoizedState!==null)&&(nt|=1),G(L$1,nt&1),$===null)return Eg(_e),$=_e.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(_e.mode&1?$.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(it=tt.children,$=tt.fallback,rt?(tt=_e.mode,rt=_e.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=pj(it,tt,0,null),$=Tg($,tt,et,null),rt.return=_e,$.return=_e,rt.sibling=$,_e.child=rt,_e.child.memoizedState=nj(et),_e.memoizedState=mj,$):qj(_e,it));if(nt=$.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return rj($,_e,it,tt,st,nt,et);if(rt){rt=tt.fallback,it=_e.mode,nt=$.child,st=nt.sibling;var ot={mode:"hidden",children:tt.children};return!(it&1)&&_e.child!==nt?(tt=_e.child,tt.childLanes=0,tt.pendingProps=ot,_e.deletions=null):(tt=Pg(nt,ot),tt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?rt=Pg(st,rt):(rt=Tg(rt,it,et,null),rt.flags|=2),rt.return=_e,tt.return=_e,tt.sibling=rt,_e.child=tt,tt=rt,rt=_e.child,it=$.child.memoizedState,it=it===null?nj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=$.childLanes&~et,_e.memoizedState=mj,tt}return rt=$.child,$=rt.sibling,tt=Pg(rt,{mode:"visible",children:tt.children}),!(_e.mode&1)&&(tt.lanes=et),tt.return=_e,tt.sibling=null,$!==null&&(et=_e.deletions,et===null?(_e.deletions=[$],_e.flags|=16):et.push($)),_e.child=tt,_e.memoizedState=null,tt}function qj($,_e){return _e=pj({mode:"visible",children:_e},$.mode,0,null),_e.return=$,$.child=_e}function sj($,_e,et,tt){return tt!==null&&Jg(tt),Ug(_e,$.child,null,et),$=qj(_e,_e.pendingProps.children),$.flags|=2,_e.memoizedState=null,$}function rj($,_e,et,tt,nt,rt,it){if(et)return _e.flags&256?(_e.flags&=-257,tt=Ki(Error(p$9(422))),sj($,_e,it,tt)):_e.memoizedState!==null?(_e.child=$.child,_e.flags|=128,null):(rt=tt.fallback,nt=_e.mode,tt=pj({mode:"visible",children:tt.children},nt,0,null),rt=Tg(rt,nt,it,null),rt.flags|=2,tt.return=_e,rt.return=_e,tt.sibling=rt,_e.child=tt,_e.mode&1&&Ug(_e,$.child,null,it),_e.child.memoizedState=nj(it),_e.memoizedState=mj,rt);if(!(_e.mode&1))return sj($,_e,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var st=tt.dgst;return tt=st,rt=Error(p$9(419)),tt=Ki(rt,tt,void 0),sj($,_e,it,tt)}if(st=(it&$.childLanes)!==0,dh||st){if(tt=Q,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,ih($,nt),gi(tt,$,nt,-1))}return tj(),tt=Ki(Error(p$9(421))),sj($,_e,it,tt)}return nt.data==="$?"?(_e.flags|=128,_e.child=$.child,_e=uj.bind(null,$),nt._reactRetry=_e,null):($=rt.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$3=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_e),_e=qj(_e,tt.children),_e.flags|=4096,_e)}function vj($,_e,et){$.lanes|=_e;var tt=$.alternate;tt!==null&&(tt.lanes|=_e),bh($.return,_e,et)}function wj($,_e,et,tt,nt){var rt=$.memoizedState;rt===null?$.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=_e,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function xj($,_e,et){var tt=_e.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Xi($,_e,tt.children,et),tt=L$1.current,tt&2)tt=tt&1|2,_e.flags|=128;else{if($!==null&&$.flags&128)e:for($=_e.child;$!==null;){if($.tag===13)$.memoizedState!==null&&vj($,et,_e);else if($.tag===19)vj($,et,_e);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break e;for(;$.sibling===null;){if($.return===null||$.return===_e)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G(L$1,tt),!(_e.mode&1))_e.memoizedState=null;else switch(nt){case"forwards":for(et=_e.child,nt=null;et!==null;)$=et.alternate,$!==null&&Ch($)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=_e.child,_e.child=null):(nt=et.sibling,et.sibling=null),wj(_e,!1,nt,et,rt);break;case"backwards":for(et=null,nt=_e.child,_e.child=null;nt!==null;){if($=nt.alternate,$!==null&&Ch($)===null){_e.child=nt;break}$=nt.sibling,nt.sibling=et,et=nt,nt=$}wj(_e,!0,et,null,rt);break;case"together":wj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function ij($,_e){!(_e.mode&1)&&$!==null&&($.alternate=null,_e.alternate=null,_e.flags|=2)}function Zi($,_e,et){if($!==null&&(_e.dependencies=$.dependencies),rh|=_e.lanes,!(et&_e.childLanes))return null;if($!==null&&_e.child!==$.child)throw Error(p$9(153));if(_e.child!==null){for($=_e.child,et=Pg($,$.pendingProps),_e.child=et,et.return=_e;$.sibling!==null;)$=$.sibling,et=et.sibling=Pg($,$.pendingProps),et.return=_e;et.sibling=null}return _e.child}function yj($,_e,et){switch(_e.tag){case 3:kj(_e),Ig();break;case 5:Ah(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:yh(_e,_e.stateNode.containerInfo);break;case 10:var tt=_e.type._context,nt=_e.memoizedProps.value;G(Wg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=_e.memoizedState,tt!==null)return tt.dehydrated!==null?(G(L$1,L$1.current&1),_e.flags|=128,null):et&_e.child.childLanes?oj($,_e,et):(G(L$1,L$1.current&1),$=Zi($,_e,et),$!==null?$.sibling:null);G(L$1,L$1.current&1);break;case 19:if(tt=(et&_e.childLanes)!==0,$.flags&128){if(tt)return xj($,_e,et);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(L$1,L$1.current),tt)break;return null;case 22:case 23:return _e.lanes=0,dj($,_e,et)}return Zi($,_e,et)}var zj,Aj,Bj,Cj;zj=function($,_e){for(var et=_e.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function($,_e,et,tt){var nt=$.memoizedProps;if(nt!==tt){$=_e.stateNode,xh(uh.current);var rt=null;switch(et){case"input":nt=Ya($,nt),tt=Ya($,tt),rt=[];break;case"select":nt=A({},nt,{value:void 0}),tt=A({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb($,nt),tt=gb($,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub(et,tt);var it;et=null;for(at in nt)if(!tt.hasOwnProperty(at)&&nt.hasOwnProperty(at)&&nt[at]!=null)if(at==="style"){var st=nt[at];for(it in st)st.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?rt||(rt=[]):(rt=rt||[]).push(at,null));for(at in tt){var ot=tt[at];if(st=nt!=null?nt[at]:void 0,tt.hasOwnProperty(at)&&ot!==st&&(ot!=null||st!=null))if(at==="style")if(st){for(it in st)!st.hasOwnProperty(it)||ot&&ot.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in ot)ot.hasOwnProperty(it)&&st[it]!==ot[it]&&(et||(et={}),et[it]=ot[it])}else et||(rt||(rt=[]),rt.push(at,et)),et=ot;else at==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,st=st?st.__html:void 0,ot!=null&&st!==ot&&(rt=rt||[]).push(at,ot)):at==="children"?typeof ot!="string"&&typeof ot!="number"||(rt=rt||[]).push(at,""+ot):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(ot!=null&&at==="onScroll"&&D$1("scroll",$),rt||st===ot||(rt=[])):(rt=rt||[]).push(at,ot))}et&&(rt=rt||[]).push("style",et);var at=rt;(_e.updateQueue=at)&&(_e.flags|=4)}};Cj=function($,_e,et,tt){et!==tt&&(_e.flags|=4)};function Dj($,_e){if(!I$3)switch($.tailMode){case"hidden":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S$5($){var _e=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_e)for(var nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=$,nt=nt.sibling;else for(nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=$,nt=nt.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_e}function Ej($,_e,et){var tt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$5(_e),null;case 1:return Zf(_e.type)&&$f(),S$5(_e),null;case 3:return tt=_e.stateNode,zh(),E$6(Wf),E$6(H),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_e)?_e.flags|=4:$===null||$.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj($,_e),S$5(_e),null;case 5:Bh(_e);var nt=xh(wh.current);if(et=_e.type,$!==null&&_e.stateNode!=null)Bj($,_e,et,tt,nt),$.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tt){if(_e.stateNode===null)throw Error(p$9(166));return S$5(_e),null}if($=xh(uh.current),Gg(_e)){tt=_e.stateNode,et=_e.type;var rt=_e.memoizedProps;switch(tt[Of]=_e,tt[Pf]=rt,$=(_e.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,rt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,rt),D$1("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var st=rt[it];it==="children"?typeof st=="string"?tt.textContent!==st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,$),nt=["children",st]):typeof st=="number"&&tt.textContent!==""+st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,$),nt=["children",""+st]):ea.hasOwnProperty(it)&&st!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,_e.updateQueue=tt,tt!==null&&(_e.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=it.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=it.createElement(et,{is:tt.is}):($=it.createElement(et),et==="select"&&(it=$,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):$=it.createElementNS($,et),$[Of]=_e,$[Pf]=tt,zj($,_e,!1,!1),_e.stateNode=$;e:{switch(it=vb(et,tt),et){case"dialog":D$1("cancel",$),D$1("close",$),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",$),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],$);nt=tt;break;case"source":D$1("error",$),nt=tt;break;case"img":case"image":case"link":D$1("error",$),D$1("load",$),nt=tt;break;case"details":D$1("toggle",$),nt=tt;break;case"input":Za($,tt),nt=Ya($,tt),D$1("invalid",$);break;case"option":nt=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},nt=A({},tt,{value:void 0}),D$1("invalid",$);break;case"textarea":hb($,tt),nt=gb($,tt),D$1("invalid",$);break;default:nt=tt}ub(et,nt),st=nt;for(rt in st)if(st.hasOwnProperty(rt)){var ot=st[rt];rt==="style"?sb($,ot):rt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb($,ot)):rt==="children"?typeof ot=="string"?(et!=="textarea"||ot!=="")&&ob($,ot):typeof ot=="number"&&ob($,""+ot):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?ot!=null&&rt==="onScroll"&&D$1("scroll",$):ot!=null&&ta($,rt,ot,it))}switch(et){case"input":Va($),db($,tt,!1);break;case"textarea":Va($),jb($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa(tt.value));break;case"select":$.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb($,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$5(_e),null;case 6:if($&&_e.stateNode!=null)Cj($,_e,$.memoizedProps,tt);else{if(typeof tt!="string"&&_e.stateNode===null)throw Error(p$9(166));if(et=xh(wh.current),xh(uh.current),Gg(_e)){if(tt=_e.stateNode,et=_e.memoizedProps,tt[Of]=_e,(rt=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}rt&&(_e.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_e,_e.stateNode=tt}return S$5(_e),null;case 13:if(E$6(L$1),tt=_e.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,rt=!1;else if(rt=Gg(_e),tt!==null&&tt.dehydrated!==null){if($===null){if(!rt)throw Error(p$9(318));if(rt=_e.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$9(317));rt[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$5(_e),rt=!1}else zg!==null&&(Fj(zg),zg=null),rt=!0;if(!rt)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=et,_e):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_e.child.flags|=8192,_e.mode&1&&($===null||L$1.current&1?T$1===0&&(T$1=3):tj())),_e.updateQueue!==null&&(_e.flags|=4),S$5(_e),null);case 4:return zh(),Aj($,_e),$===null&&sf(_e.stateNode.containerInfo),S$5(_e),null;case 10:return ah(_e.type._context),S$5(_e),null;case 17:return Zf(_e.type)&&$f(),S$5(_e),null;case 19:if(E$6(L$1),rt=_e.memoizedState,rt===null)return S$5(_e),null;if(tt=(_e.flags&128)!==0,it=rt.rendering,it===null)if(tt)Dj(rt,!1);else{if(T$1!==0||$!==null&&$.flags&128)for($=_e.child;$!==null;){if(it=Ch($),it!==null){for(_e.flags|=128,Dj(rt,!1),tt=it.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),_e.subtreeFlags=0,tt=et,et=_e.child;et!==null;)rt=et,$=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=$,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,$=it.dependencies,rt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G(L$1,L$1.current&1|2),_e.child}$=$.sibling}rt.tail!==null&&B()>Gj&&(_e.flags|=128,tt=!0,Dj(rt,!1),_e.lanes=4194304)}else{if(!tt)if($=Ch(it),$!==null){if(_e.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_e.updateQueue=et,_e.flags|=4),Dj(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$3)return S$5(_e),null}else 2*B()-rt.renderingStartTime>Gj&&et!==1073741824&&(_e.flags|=128,tt=!0,Dj(rt,!1),_e.lanes=4194304);rt.isBackwards?(it.sibling=_e.child,_e.child=it):(et=rt.last,et!==null?et.sibling=it:_e.child=it,rt.last=it)}return rt.tail!==null?(_e=rt.tail,rt.rendering=_e,rt.tail=_e.sibling,rt.renderingStartTime=B(),_e.sibling=null,et=L$1.current,G(L$1,tt?et&1|2:et&1),_e):(S$5(_e),null);case 22:case 23:return Hj(),tt=_e.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_e.flags|=8192),tt&&_e.mode&1?fj&1073741824&&(S$5(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$5(_e),null;case 24:return null;case 25:return null}throw Error(p$9(156,_e.tag))}function Ij($,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),$=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 3:return zh(),E$6(Wf),E$6(H),Eh(),$=_e.flags,$&65536&&!($&128)?(_e.flags=$&-65537|128,_e):null;case 5:return Bh(_e),null;case 13:if(E$6(L$1),$=_e.memoizedState,$!==null&&$.dehydrated!==null){if(_e.alternate===null)throw Error(p$9(340));Ig()}return $=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 19:return E$6(L$1),null;case 4:return zh(),null;case 10:return ah(_e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj($,_e){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W($,_e,tt)}else et.current=null}function Mj($,_e,et){try{et()}catch(tt){W($,_e,tt)}}var Nj=!1;function Oj($,_e){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,st=-1,ot=-1,at=0,lt=0,ut=$,dt=null;t:for(;;){for(var ct;ut!==et||nt!==0&&ut.nodeType!==3||(st=it+nt),ut!==rt||tt!==0&&ut.nodeType!==3||(ot=it+tt),ut.nodeType===3&&(it+=ut.nodeValue.length),(ct=ut.firstChild)!==null;)dt=ut,ut=ct;for(;;){if(ut===$)break t;if(dt===et&&++at===nt&&(st=it),dt===rt&&++lt===tt&&(ot=it),(ct=ut.nextSibling)!==null)break;ut=dt,dt=ut.parentNode}ut=ct}et=st===-1||ot===-1?null:{start:st,end:ot}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd=!1,V=_e;V!==null;)if(_e=V,$=_e.child,(_e.subtreeFlags&1028)!==0&&$!==null)$.return=_e,V=$;else for(;V!==null;){_e=V;try{var ft=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var pt=ft.memoizedProps,gt=ft.memoizedState,ht=_e.stateNode,mt=ht.getSnapshotBeforeUpdate(_e.elementType===_e.type?pt:Ci(_e.type,pt),gt);ht.__reactInternalSnapshotBeforeUpdate=mt}break;case 3:var bt=_e.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$9(163))}}catch(xt){W(_e,_e.return,xt)}if($=_e.sibling,$!==null){$.return=_e.return,V=$;break}V=_e.return}return ft=Nj,Nj=!1,ft}function Pj($,_e,et){var tt=_e.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&$)===$){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Mj(_e,et,rt)}nt=nt.next}while(nt!==tt)}}function Qj($,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_e)}}function Rj($){var _e=$.ref;if(_e!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _e=="function"?_e($):_e.current=$}}function Sj($){var _e=$.alternate;_e!==null&&($.alternate=null,Sj(_e)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_e=$.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Tj($){return $.tag===5||$.tag===3||$.tag===4}function Uj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Tj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Vj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.nodeType===8?et.parentNode.insertBefore($,_e):et.insertBefore($,_e):(et.nodeType===8?(_e=et.parentNode,_e.insertBefore($,et)):(_e=et,_e.appendChild($)),et=et._reactRootContainer,et!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Vj($,_e,et),$=$.sibling;$!==null;)Vj($,_e,et),$=$.sibling}function Wj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.insertBefore($,_e):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Wj($,_e,et),$=$.sibling;$!==null;)Wj($,_e,et),$=$.sibling}var X$1=null,Xj=!1;function Yj($,_e,et){for(et=et.child;et!==null;)Zj($,_e,et),et=et.sibling}function Zj($,_e,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U||Lj(et,_e);case 6:var tt=X$1,nt=Xj;X$1=null,Yj($,_e,et),X$1=tt,Xj=nt,X$1!==null&&(Xj?($=X$1,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Xj?($=X$1,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd($)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Xj,X$1=et.stateNode.containerInfo,Xj=!0,Yj($,_e,et),X$1=tt,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Mj(et,_e,it),nt=nt.next}while(nt!==tt)}Yj($,_e,et);break;case 1:if(!U&&(Lj(et,_e),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(st){W(et,_e,st)}Yj($,_e,et);break;case 21:Yj($,_e,et);break;case 22:et.mode&1?(U=(tt=U)||et.memoizedState!==null,Yj($,_e,et),U=tt):Yj($,_e,et);break;default:Yj($,_e,et)}}function ak($){var _e=$.updateQueue;if(_e!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Kj),_e.forEach(function(tt){var nt=bk.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function ck($,_e){var et=_e.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=$,it=_e,st=it;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Xj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Xj=!0;break e}st=st.return}if(X$1===null)throw Error(p$9(160));Zj(rt,it,nt),X$1=null,Xj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(at){W(nt,_e,at)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)dk(_e,$),_e=_e.sibling}function dk($,_e){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(ck(_e,$),ek($),tt&4){try{Pj(3,$,$.return),Qj(3,$)}catch(pt){W($,$.return,pt)}try{Pj(5,$,$.return)}catch(pt){W($,$.return,pt)}}break;case 1:ck(_e,$),ek($),tt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(_e,$),ek($),tt&512&&et!==null&&Lj(et,et.return),$.flags&32){var nt=$.stateNode;try{ob(nt,"")}catch(pt){W($,$.return,pt)}}if(tt&4&&(nt=$.stateNode,nt!=null)){var rt=$.memoizedProps,it=et!==null?et.memoizedProps:rt,st=$.type,ot=$.updateQueue;if($.updateQueue=null,ot!==null)try{st==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(st,it);var at=vb(st,rt);for(it=0;it<ot.length;it+=2){var lt=ot[it],ut=ot[it+1];lt==="style"?sb(nt,ut):lt==="dangerouslySetInnerHTML"?nb(nt,ut):lt==="children"?ob(nt,ut):ta(nt,lt,ut,at)}switch(st){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var dt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var ct=rt.value;ct!=null?fb(nt,!!rt.multiple,ct,!1):dt!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(pt){W($,$.return,pt)}}break;case 6:if(ck(_e,$),ek($),tt&4){if($.stateNode===null)throw Error(p$9(162));nt=$.stateNode,rt=$.memoizedProps;try{nt.nodeValue=rt}catch(pt){W($,$.return,pt)}}break;case 3:if(ck(_e,$),ek($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(pt){W($,$.return,pt)}break;case 4:ck(_e,$),ek($);break;case 13:ck(_e,$),ek($),nt=$.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B())),tt&4&&ak($);break;case 22:if(lt=et!==null&&et.memoizedState!==null,$.mode&1?(U=(at=U)||lt,ck(_e,$),U=at):ck(_e,$),ek($),tt&8192){if(at=$.memoizedState!==null,($.stateNode.isHidden=at)&&!lt&&$.mode&1)for(V=$,lt=$.child;lt!==null;){for(ut=V=lt;V!==null;){switch(dt=V,ct=dt.child,dt.tag){case 0:case 11:case 14:case 15:Pj(4,dt,dt.return);break;case 1:Lj(dt,dt.return);var ft=dt.stateNode;if(typeof ft.componentWillUnmount=="function"){tt=dt,et=dt.return;try{_e=tt,ft.props=_e.memoizedProps,ft.state=_e.memoizedState,ft.componentWillUnmount()}catch(pt){W(tt,et,pt)}}break;case 5:Lj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){gk(ut);continue}}ct!==null?(ct.return=dt,V=ct):gk(ut)}lt=lt.sibling}e:for(lt=null,ut=$;;){if(ut.tag===5){if(lt===null){lt=ut;try{nt=ut.stateNode,at?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(st=ut.stateNode,ot=ut.memoizedProps.style,it=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,st.style.display=rb("display",it))}catch(pt){W($,$.return,pt)}}}else if(ut.tag===6){if(lt===null)try{ut.stateNode.nodeValue=at?"":ut.memoizedProps}catch(pt){W($,$.return,pt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===$)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===$)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===$)break e;lt===ut&&(lt=null),ut=ut.return}lt===ut&&(lt=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:ck(_e,$),ek($),tt&4&&ak($);break;case 21:break;default:ck(_e,$),ek($)}}function ek($){var _e=$.flags;if(_e&2){try{e:{for(var et=$.return;et!==null;){if(Tj(et)){var tt=et;break e}et=et.return}throw Error(p$9(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Uj($);Wj($,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,st=Uj($);Vj($,st,it);break;default:throw Error(p$9(161))}}catch(ot){W($,$.return,ot)}$.flags&=-3}_e&4096&&($.flags&=-4097)}function hk($,_e,et){V=$,ik($)}function ik($,_e,et){for(var tt=($.mode&1)!==0;V!==null;){var nt=V,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Jj;if(!it){var st=nt.alternate,ot=st!==null&&st.memoizedState!==null||U;st=Jj;var at=U;if(Jj=it,(U=ot)&&!at)for(V=nt;V!==null;)it=V,ot=it.child,it.tag===22&&it.memoizedState!==null?jk(nt):ot!==null?(ot.return=it,V=ot):jk(nt);for(;rt!==null;)V=rt,ik(rt),rt=rt.sibling;V=nt,Jj=st,U=at}kk($)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V=rt):kk($)}}function kk($){for(;V!==null;){var _e=V;if(_e.flags&8772){var et=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U||Qj(5,_e);break;case 1:var tt=_e.stateNode;if(_e.flags&4&&!U)if(et===null)tt.componentDidMount();else{var nt=_e.elementType===_e.type?et.memoizedProps:Ci(_e.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=_e.updateQueue;rt!==null&&sh(_e,rt,tt);break;case 3:var it=_e.updateQueue;if(it!==null){if(et=null,_e.child!==null)switch(_e.child.tag){case 5:et=_e.child.stateNode;break;case 1:et=_e.child.stateNode}sh(_e,it,et)}break;case 5:var st=_e.stateNode;if(et===null&&_e.flags&4){et=st;var ot=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&et.focus();break;case"img":ot.src&&(et.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var at=_e.alternate;if(at!==null){var lt=at.memoizedState;if(lt!==null){var ut=lt.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$9(163))}U||_e.flags&512&&Rj(_e)}catch(dt){W(_e,_e.return,dt)}}if(_e===$){V=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,V=et;break}V=_e.return}}function gk($){for(;V!==null;){var _e=V;if(_e===$){V=null;break}var et=_e.sibling;if(et!==null){et.return=_e.return,V=et;break}V=_e.return}}function jk($){for(;V!==null;){var _e=V;try{switch(_e.tag){case 0:case 11:case 15:var et=_e.return;try{Qj(4,_e)}catch(ot){W(_e,et,ot)}break;case 1:var tt=_e.stateNode;if(typeof tt.componentDidMount=="function"){var nt=_e.return;try{tt.componentDidMount()}catch(ot){W(_e,nt,ot)}}var rt=_e.return;try{Rj(_e)}catch(ot){W(_e,rt,ot)}break;case 5:var it=_e.return;try{Rj(_e)}catch(ot){W(_e,it,ot)}}}catch(ot){W(_e,_e.return,ot)}if(_e===$){V=null;break}var st=_e.sibling;if(st!==null){st.return=_e.return,V=st;break}V=_e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi($){return $.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):($=C$4,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function gi($,_e,et,tt){if(50<yk)throw yk=0,zk=null,Error(p$9(185));Ac($,et,tt),(!(K&2)||$!==Q)&&($===Q&&(!(K&2)&&(qk|=et),T$1===4&&Ck($,Z$1)),Dk($,tt),et===1&&K===0&&!(_e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk($,_e){var et=$.callbackNode;wc($,_e);var tt=uc($,$===Q?Z$1:0);if(tt===0)et!==null&&bc(et),$.callbackNode=null,$.callbackPriority=0;else if(_e=tt&-tt,$.callbackPriority!==_e){if(et!=null&&bc(et),_e===1)$.tag===0?ig(Ek.bind(null,$)):hg(Ek.bind(null,$)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,$))}$.callbackPriority=_e,$.callbackNode=et}}function Gk($,_e){if(Ak=-1,Bk=0,K&6)throw Error(p$9(327));var et=$.callbackNode;if(Hk()&&$.callbackNode!==et)return null;var tt=uc($,$===Q?Z$1:0);if(tt===0)return null;if(tt&30||tt&$.expiredLanes||_e)_e=Ik($,tt);else{_e=tt;var nt=K;K|=2;var rt=Jk();(Q!==$||Z$1!==_e)&&(uk=null,Gj=B()+500,Kk($,_e));do try{Lk();break}catch(st){Mk($,st)}while(!0);$g(),mk.current=rt,K=nt,Y!==null?_e=0:(Q=null,Z$1=0,_e=T$1)}if(_e!==0){if(_e===2&&(nt=xc($),nt!==0&&(tt=nt,_e=Nk($,nt))),_e===1)throw et=pk,Kk($,0),Ck($,tt),Dk($,B()),et;if(_e===6)Ck($,tt);else{if(nt=$.current.alternate,!(tt&30)&&!Ok(nt)&&(_e=Ik($,tt),_e===2&&(rt=xc($),rt!==0&&(tt=rt,_e=Nk($,rt))),_e===1))throw et=pk,Kk($,0),Ck($,tt),Dk($,B()),et;switch($.finishedWork=nt,$.finishedLanes=tt,_e){case 0:case 1:throw Error(p$9(345));case 2:Pk($,tk,uk);break;case 3:if(Ck($,tt),(tt&130023424)===tt&&(_e=fk+500-B(),10<_e)){if(uc($,0)!==0)break;if(nt=$.suspendedLanes,(nt&tt)!==tt){R(),$.pingedLanes|=$.suspendedLanes&nt;break}$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),_e);break}Pk($,tk,uk);break;case 4:if(Ck($,tt),(tt&4194240)===tt)break;for(_e=$.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=_e[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),tt);break}Pk($,tk,uk);break;case 5:Pk($,tk,uk);break;default:throw Error(p$9(329))}}}return Dk($,B()),$.callbackNode===et?Gk.bind(null,$):null}function Nk($,_e){var et=sk;return $.current.memoizedState.isDehydrated&&(Kk($,_e).flags|=256),$=Ik($,_e),$!==2&&(_e=tk,tk=et,_e!==null&&Fj(_e)),$}function Fj($){tk===null?tk=$:tk.push.apply(tk,$)}function Ok($){for(var _e=$;;){if(_e.flags&16384){var et=_e.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=_e.child,_e.subtreeFlags&16384&&et!==null)et.return=_e,_e=et;else{if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Ck($,_e){for(_e&=~rk,_e&=~qk,$.suspendedLanes|=_e,$.pingedLanes&=~_e,$=$.expirationTimes;0<_e;){var et=31-oc(_e),tt=1<<et;$[et]=-1,_e&=~tt}}function Ek($){if(K&6)throw Error(p$9(327));Hk();var _e=uc($,0);if(!(_e&1))return Dk($,B()),null;var et=Ik($,_e);if($.tag!==0&&et===2){var tt=xc($);tt!==0&&(_e=tt,et=Nk($,tt))}if(et===1)throw et=pk,Kk($,0),Ck($,_e),Dk($,B()),et;if(et===6)throw Error(p$9(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_e,Pk($,tk,uk),Dk($,B()),null}function Qk($,_e){var et=K;K|=1;try{return $(_e)}finally{K=et,K===0&&(Gj=B()+500,fg&&jg())}}function Rk($){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _e=K;K|=1;var et=ok$2.transition,tt=C$4;try{if(ok$2.transition=null,C$4=1,$)return $()}finally{C$4=tt,ok$2.transition=et,K=_e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$6(ej)}function Kk($,_e){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E$6(Wf),E$6(H),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E$6(L$1);break;case 19:E$6(L$1);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=$,Y=$=Pg($.current,null),Z$1=fj=_e,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(_e=0;_e<fh.length;_e++)if(et=fh[_e],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}fh=null}return $}function Mk($,_e){do{var et=Y;try{if($g(),Fh.current=Rh,Ih){for(var tt=M$3.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O=N$1=M$3=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T$1=1,pk=_e,Y=null;break}e:{var rt=$,it=et.return,st=et,ot=_e;if(_e=Z$1,st.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var at=ot,lt=st,ut=lt.tag;if(!(lt.mode&1)&&(ut===0||ut===11||ut===15)){var dt=lt.alternate;dt?(lt.updateQueue=dt.updateQueue,lt.memoizedState=dt.memoizedState,lt.lanes=dt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ct=Ui(it);if(ct!==null){ct.flags&=-257,Vi(ct,it,st,rt,_e),ct.mode&1&&Si(rt,at,_e),_e=ct,ot=at;var ft=_e.updateQueue;if(ft===null){var pt=new Set;pt.add(ot),_e.updateQueue=pt}else ft.add(ot);break e}else{if(!(_e&1)){Si(rt,at,_e),tj();break e}ot=Error(p$9(426))}}else if(I$3&&st.mode&1){var gt=Ui(it);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Vi(gt,it,st,rt,_e),Jg(Ji(ot,st));break e}}rt=ot=Ji(ot,st),T$1!==4&&(T$1=2),sk===null?sk=[rt]:sk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,_e&=-_e,rt.lanes|=_e;var ht=Ni(rt,ot,_e);ph(rt,ht);break e;case 1:st=ot;var mt=rt.type,bt=rt.stateNode;if(!(rt.flags&128)&&(typeof mt.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(bt)))){rt.flags|=65536,_e&=-_e,rt.lanes|=_e;var xt=Qi(rt,st,_e);ph(rt,xt);break e}}rt=rt.return}while(rt!==null)}Sk(et)}catch(Et){_e=Et,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(!0)}function Jk(){var $=mk.current;return mk.current=Rh,$===null?Rh:$}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik($,_e){var et=K;K|=2;var tt=Jk();(Q!==$||Z$1!==_e)&&(uk=null,Kk($,_e));do try{Tk();break}catch(nt){Mk($,nt)}while(!0);if($g(),K=et,mk.current=tt,Y!==null)throw Error(p$9(261));return Q=null,Z$1=0,T$1}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk($){var _e=Vk($.alternate,$,fj);$.memoizedProps=$.pendingProps,_e===null?Sk($):Y=_e,nk.current=null}function Sk($){var _e=$;do{var et=_e.alternate;if($=_e.return,_e.flags&32768){if(et=Ij(et,_e),et!==null){et.flags&=32767,Y=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T$1=6,Y=null;return}}else if(et=Ej(et,_e,fj),et!==null){Y=et;return}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=$}while(_e!==null);T$1===0&&(T$1=5)}function Pk($,_e,et){var tt=C$4,nt=ok$2.transition;try{ok$2.transition=null,C$4=1,Wk($,_e,et,tt)}finally{ok$2.transition=nt,C$4=tt}return null}function Wk($,_e,et,tt){do Hk();while(wk!==null);if(K&6)throw Error(p$9(327));et=$.finishedWork;var nt=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$9(177));$.callbackNode=null,$.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc($,rt),$===Q&&(Y=Q=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=ok$2.transition,ok$2.transition=null;var it=C$4;C$4=1;var st=K;K|=4,nk.current=null,Oj($,et),dk(et,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=et,hk(et),dc(),K=st,C$4=it,ok$2.transition=rt}else $.current=et;if(vk&&(vk=!1,wk=$,xk=nt),rt=$.pendingLanes,rt===0&&(Ri=null),mc(et.stateNode),Dk($,B()),_e!==null)for(tt=$.onRecoverableError,et=0;et<_e.length;et++)nt=_e[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,$=Pi,Pi=null,$;return xk&1&&$.tag!==0&&Hk(),rt=$.pendingLanes,rt&1?$===zk?yk++:(yk=0,zk=$):yk=0,jg(),null}function Hk(){if(wk!==null){var $=Dc(xk),_e=ok$2.transition,et=C$4;try{if(ok$2.transition=null,C$4=16>$?16:$,wk===null)var tt=!1;else{if($=wk,wk=null,xk=0,K&6)throw Error(p$9(331));var nt=K;for(K|=4,V=$.current;V!==null;){var rt=V,it=rt.child;if(V.flags&16){var st=rt.deletions;if(st!==null){for(var ot=0;ot<st.length;ot++){var at=st[ot];for(V=at;V!==null;){var lt=V;switch(lt.tag){case 0:case 11:case 15:Pj(8,lt,rt)}var ut=lt.child;if(ut!==null)ut.return=lt,V=ut;else for(;V!==null;){lt=V;var dt=lt.sibling,ct=lt.return;if(Sj(lt),lt===at){V=null;break}if(dt!==null){dt.return=ct,V=dt;break}V=ct}}}var ft=rt.alternate;if(ft!==null){var pt=ft.child;if(pt!==null){ft.child=null;do{var gt=pt.sibling;pt.sibling=null,pt=gt}while(pt!==null)}}V=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V=it;else e:for(;V!==null;){if(rt=V,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Pj(9,rt,rt.return)}var ht=rt.sibling;if(ht!==null){ht.return=rt.return,V=ht;break e}V=rt.return}}var mt=$.current;for(V=mt;V!==null;){it=V;var bt=it.child;if(it.subtreeFlags&2064&&bt!==null)bt.return=it,V=bt;else e:for(it=mt;V!==null;){if(st=V,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Qj(9,st)}}catch(Et){W(st,st.return,Et)}if(st===it){V=null;break e}var xt=st.sibling;if(xt!==null){xt.return=st.return,V=xt;break e}V=st.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}tt=!0}return tt}finally{C$4=et,ok$2.transition=_e}}return!1}function Xk($,_e,et){_e=Ji(et,_e),_e=Ni($,_e,1),$=nh($,_e,1),_e=R(),$!==null&&(Ac($,1,_e),Dk($,_e))}function W($,_e,et){if($.tag===3)Xk($,$,et);else for(;_e!==null;){if(_e.tag===3){Xk(_e,$,et);break}else if(_e.tag===1){var tt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){$=Ji(et,$),$=Qi(_e,$,1),_e=nh(_e,$,1),$=R(),_e!==null&&(Ac(_e,1,$),Dk(_e,$));break}}_e=_e.return}}function Ti($,_e,et){var tt=$.pingCache;tt!==null&&tt.delete(_e),_e=R(),$.pingedLanes|=$.suspendedLanes&et,Q===$&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk($,0):rk|=et),Dk($,_e)}function Yk($,_e){_e===0&&($.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var et=R();$=ih($,_e),$!==null&&(Ac($,_e,et),Dk($,et))}function uj($){var _e=$.memoizedState,et=0;_e!==null&&(et=_e.retryLane),Yk($,et)}function bk($,_e){var et=0;switch($.tag){case 13:var tt=$.stateNode,nt=$.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$9(314))}tt!==null&&tt.delete(_e),Yk($,et)}var Vk;Vk=function($,_e,et){if($!==null)if($.memoizedProps!==_e.pendingProps||Wf.current)dh=!0;else{if(!($.lanes&et)&&!(_e.flags&128))return dh=!1,yj($,_e,et);dh=!!($.flags&131072)}else dh=!1,I$3&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tt=_e.type;ij($,_e),$=_e.pendingProps;var nt=Yf(_e,H.current);ch(_e,et),nt=Nh(null,_e,tt,$,nt,et);var rt=Sh();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tt)?(rt=!0,cg(_e)):rt=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(_e),nt.updater=Ei,_e.stateNode=nt,nt._reactInternals=_e,Ii(_e,tt,$,et),_e=jj(null,_e,tt,!0,rt,et)):(_e.tag=0,I$3&&rt&&vg(_e),Xi(null,_e,nt,et),_e=_e.child),_e;case 16:tt=_e.elementType;e:{switch(ij($,_e),$=_e.pendingProps,nt=tt._init,tt=nt(tt._payload),_e.type=tt,nt=_e.tag=Zk(tt),$=Ci(tt,$),nt){case 0:_e=cj(null,_e,tt,$,et);break e;case 1:_e=hj(null,_e,tt,$,et);break e;case 11:_e=Yi(null,_e,tt,$,et);break e;case 14:_e=$i(null,_e,tt,Ci(tt.type,$),et);break e}throw Error(p$9(306,tt,""))}return _e;case 0:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),cj($,_e,tt,nt,et);case 1:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),hj($,_e,tt,nt,et);case 3:e:{if(kj(_e),$===null)throw Error(p$9(387));tt=_e.pendingProps,rt=_e.memoizedState,nt=rt.element,lh($,_e),qh(_e,tt,null,et);var it=_e.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_e.updateQueue.baseState=rt,_e.memoizedState=rt,_e.flags&256){nt=Ji(Error(p$9(423)),_e),_e=lj($,_e,tt,et,nt);break e}else if(tt!==nt){nt=Ji(Error(p$9(424)),_e),_e=lj($,_e,tt,et,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$3=!0,zg=null,et=Vg(_e,null,tt,et),_e.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){_e=Zi($,_e,et);break e}Xi($,_e,tt,et)}_e=_e.child}return _e;case 5:return Ah(_e),$===null&&Eg(_e),tt=_e.type,nt=_e.pendingProps,rt=$!==null?$.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(_e.flags|=32),gj($,_e),Xi($,_e,it,et),_e.child;case 6:return $===null&&Eg(_e),null;case 13:return oj($,_e,et);case 4:return yh(_e,_e.stateNode.containerInfo),tt=_e.pendingProps,$===null?_e.child=Ug(_e,null,tt,et):Xi($,_e,tt,et),_e.child;case 11:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),Yi($,_e,tt,nt,et);case 7:return Xi($,_e,_e.pendingProps,et),_e.child;case 8:return Xi($,_e,_e.pendingProps.children,et),_e.child;case 12:return Xi($,_e,_e.pendingProps.children,et),_e.child;case 10:e:{if(tt=_e.type._context,nt=_e.pendingProps,rt=_e.memoizedProps,it=nt.value,G(Wg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){_e=Zi($,_e,et);break e}}else for(rt=_e.child,rt!==null&&(rt.return=_e);rt!==null;){var st=rt.dependencies;if(st!==null){it=rt.child;for(var ot=st.firstContext;ot!==null;){if(ot.context===tt){if(rt.tag===1){ot=mh(-1,et&-et),ot.tag=2;var at=rt.updateQueue;if(at!==null){at=at.shared;var lt=at.pending;lt===null?ot.next=ot:(ot.next=lt.next,lt.next=ot),at.pending=ot}}rt.lanes|=et,ot=rt.alternate,ot!==null&&(ot.lanes|=et),bh(rt.return,et,_e),st.lanes|=et;break}ot=ot.next}}else if(rt.tag===10)it=rt.type===_e.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$9(341));it.lanes|=et,st=it.alternate,st!==null&&(st.lanes|=et),bh(it,et,_e),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===_e){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Xi($,_e,nt.children,et),_e=_e.child}return _e;case 9:return nt=_e.type,tt=_e.pendingProps.children,ch(_e,et),nt=eh(nt),tt=tt(nt),_e.flags|=1,Xi($,_e,tt,et),_e.child;case 14:return tt=_e.type,nt=Ci(tt,_e.pendingProps),nt=Ci(tt.type,nt),$i($,_e,tt,nt,et);case 15:return bj($,_e,_e.type,_e.pendingProps,et);case 17:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),ij($,_e),_e.tag=1,Zf(tt)?($=!0,cg(_e)):$=!1,ch(_e,et),Gi(_e,tt,nt),Ii(_e,tt,nt,et),jj(null,_e,tt,!0,$,et);case 19:return xj($,_e,et);case 22:return dj($,_e,et)}throw Error(p$9(156,_e.tag))};function Fk($,_e){return ac($,_e)}function $k($,_e,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_e,et,tt){return new $k($,_e,et,tt)}function aj($){return $=$.prototype,!(!$||!$.isReactComponent)}function Zk($){if(typeof $=="function")return aj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function Pg($,_e){var et=$.alternate;return et===null?(et=Bg($.tag,_e,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_e,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_e=$.dependencies,et.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function Rg($,_e,et,tt,nt,rt){var it=2;if(tt=$,typeof $=="function")aj($)&&(it=1);else if(typeof $=="string")it=5;else e:switch($){case ya:return Tg(et.children,nt,rt,_e);case za:it=8,nt|=8;break;case Aa:return $=Bg(12,et,_e,nt|2),$.elementType=Aa,$.lanes=rt,$;case Ea:return $=Bg(13,et,_e,nt),$.elementType=Ea,$.lanes=rt,$;case Fa:return $=Bg(19,et,_e,nt),$.elementType=Fa,$.lanes=rt,$;case Ia:return pj(et,nt,rt,_e);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$9(130,$==null?$:typeof $,""))}return _e=Bg(it,et,_e,nt),_e.elementType=$,_e.type=tt,_e.lanes=rt,_e}function Tg($,_e,et,tt){return $=Bg(7,$,tt,_e),$.lanes=et,$}function pj($,_e,et,tt){return $=Bg(22,$,tt,_e),$.elementType=Ia,$.lanes=et,$.stateNode={isHidden:!1},$}function Qg($,_e,et){return $=Bg(6,$,null,_e),$.lanes=et,$}function Sg($,_e,et){return _e=Bg(4,$.children!==null?$.children:[],$.key,_e),_e.lanes=et,_e.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_e}function al($,_e,et,tt,nt){this.tag=_e,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl($,_e,et,tt,nt,rt,it,st,ot){return $=new al($,_e,et,st,ot),_e===1?(_e=1,rt===!0&&(_e|=8)):_e=0,rt=Bg(3,null,null,_e),$.current=rt,rt.stateNode=$,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(rt),$}function cl($,_e,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:$,containerInfo:_e,implementation:et}}function dl($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$9(170));var _e=$;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$9(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_e)}return _e}function el($,_e,et,tt,nt,rt,it,st,ot){return $=bl(et,tt,!0,$,nt,rt,it,st,ot),$.context=dl(null),et=$.current,tt=R(),nt=yi(et),rt=mh(tt,nt),rt.callback=_e??null,nh(et,rt,nt),$.current.lanes=nt,Ac($,nt,tt),Dk($,tt),$}function fl($,_e,et,tt){var nt=_e.current,rt=R(),it=yi(nt);return et=dl(et),_e.context===null?_e.context=et:_e.pendingContext=et,_e=mh(rt,it),_e.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_e.callback=tt),$=nh(nt,_e,it),$!==null&&(gi($,nt,it,rt),oh($,nt,it)),it}function gl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function hl($,_e){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_e?et:_e}}function il($,_e){hl($,_e),($=$.alternate)&&hl($,_e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function($){console.error($)};function ll($){this._internalRoot=$}ml.prototype.render=ll.prototype.render=function($){var _e=this._internalRoot;if(_e===null)throw Error(p$9(409));fl($,_e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _e=$.containerInfo;Rk(function(){fl(null,$,null,null)}),_e[uf]=null}};function ml($){this._internalRoot=$}ml.prototype.unstable_scheduleHydration=function($){if($){var _e=Hc();$={blockedOn:null,target:$,priority:_e};for(var et=0;et<Qc.length&&_e!==0&&_e<Qc[et].priority;et++);Qc.splice(et,0,$),et===0&&Vc($)}};function nl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql($,_e,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var at=gl(it);rt.call(at)}}var it=el(_e,tt,$,0,null,!1,!1,"",pl);return $._reactRootContainer=it,$[uf]=it.current,sf($.nodeType===8?$.parentNode:$),Rk(),it}for(;nt=$.lastChild;)$.removeChild(nt);if(typeof tt=="function"){var st=tt;tt=function(){var at=gl(ot);st.call(at)}}var ot=bl($,0,!1,null,null,!1,!1,"",pl);return $._reactRootContainer=ot,$[uf]=ot.current,sf($.nodeType===8?$.parentNode:$),Rk(function(){fl(_e,ot,et,tt)}),ot}function rl($,_e,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var st=nt;nt=function(){var ot=gl(it);st.call(ot)}}fl(_e,it,$,nt)}else it=ql(et,_e,$,nt,tt);return gl(it)}Ec=function($){switch($.tag){case 3:var _e=$.stateNode;if(_e.current.memoizedState.isDehydrated){var et=tc(_e.pendingLanes);et!==0&&(Cc(_e,et|1),Dk(_e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var tt=ih($,1);if(tt!==null){var nt=R();gi(tt,$,1,nt)}}),il($,1)}};Fc=function($){if($.tag===13){var _e=ih($,134217728);if(_e!==null){var et=R();gi(_e,$,134217728,et)}il($,134217728)}};Gc=function($){if($.tag===13){var _e=yi($),et=ih($,_e);if(et!==null){var tt=R();gi(et,$,_e,tt)}il($,_e)}};Hc=function(){return C$4};Ic=function($,_e){var et=C$4;try{return C$4=$,_e()}finally{C$4=et}};yb=function($,_e,et){switch(_e){case"input":if(bb($,et),_e=et.name,et.type==="radio"&&_e!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<et.length;_e++){var tt=et[_e];if(tt!==$&&tt.form===$.form){var nt=Db(tt);if(!nt)throw Error(p$9(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib($,et);break;case"select":_e=et.value,_e!=null&&fb($,!!et.multiple,_e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function($,_e){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_e))throw Error(p$9(200));return cl($,_e,null,et)};reactDom_production_min.createRoot=function($,_e){if(!nl($))throw Error(p$9(299));var et=!1,tt="",nt=kl;return _e!=null&&(_e.unstable_strictMode===!0&&(et=!0),_e.identifierPrefix!==void 0&&(tt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=bl($,1,!1,null,null,et,!1,tt,nt),$[uf]=_e.current,sf($.nodeType===8?$.parentNode:$),new ll(_e)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _e=$._reactInternals;if(_e===void 0)throw typeof $.render=="function"?Error(p$9(188)):($=Object.keys($).join(","),Error(p$9(268,$)));return $=Zb(_e),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Rk($)};reactDom_production_min.hydrate=function($,_e,et){if(!ol(_e))throw Error(p$9(200));return rl(null,$,_e,!0,et)};reactDom_production_min.hydrateRoot=function($,_e,et){if(!nl($))throw Error(p$9(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=kl;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),_e=el(_e,null,$,1,et??null,nt,!1,rt,it),$[uf]=_e.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],nt=et._getVersion,nt=nt(et._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[et,nt]:_e.mutableSourceEagerHydrationData.push(et,nt);return new ml(_e)};reactDom_production_min.render=function($,_e,et){if(!ol(_e))throw Error(p$9(200));return rl(null,$,_e,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!ol($))throw Error(p$9(40));return $._reactRootContainer?(Rk(function(){rl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_e,et,tt){if(!ol(et))throw Error(p$9(200));if($==null||$._reactInternals===void 0)throw Error(p$9(38));return rl($,_e,et,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$a=reactDomExports;client.createRoot=m$a.createRoot,client.hydrateRoot=m$a.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory($={}){function _e(tt,nt){let{pathname:rt,search:it,hash:st}=tt.location;return createLocation("",{pathname:rt,search:it,hash:st},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function et(tt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(_e,et,null,$)}function invariant$1($,_e){if($===!1||$===null||typeof $>"u")throw new Error(_e)}function warning($,_e){if(!$){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState($,_e){return{usr:$.state,key:$.key,idx:_e}}function createLocation($,_e,et=null,tt){return{pathname:typeof $=="string"?$:$.pathname,search:"",hash:"",...typeof _e=="string"?parsePath(_e):_e,state:et,key:_e&&_e.key||tt||createKey()}}function createPath({pathname:$="/",search:_e="",hash:et=""}){return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),et&&et!=="#"&&($+=et.charAt(0)==="#"?et:"#"+et),$}function parsePath($){let _e={};if($){let et=$.indexOf("#");et>=0&&(_e.hash=$.substring(et),$=$.substring(0,et));let tt=$.indexOf("?");tt>=0&&(_e.search=$.substring(tt),$=$.substring(0,tt)),$&&(_e.pathname=$)}return _e}function getUrlBasedHistory($,_e,et,tt={}){let{window:nt=document.defaultView,v5Compat:rt=!1}=tt,it=nt.history,st="POP",ot=null,at=lt();at==null&&(at=0,it.replaceState({...it.state,idx:at},""));function lt(){return(it.state||{idx:null}).idx}function ut(){st="POP";let gt=lt(),ht=gt==null?null:gt-at;at=gt,ot&&ot({action:st,location:pt.location,delta:ht})}function dt(gt,ht){st="PUSH";let mt=createLocation(pt.location,gt,ht);at=lt()+1;let bt=getHistoryState(mt,at),xt=pt.createHref(mt);try{it.pushState(bt,"",xt)}catch(Et){if(Et instanceof DOMException&&Et.name==="DataCloneError")throw Et;nt.location.assign(xt)}rt&&ot&&ot({action:st,location:pt.location,delta:1})}function ct(gt,ht){st="REPLACE";let mt=createLocation(pt.location,gt,ht);at=lt();let bt=getHistoryState(mt,at),xt=pt.createHref(mt);it.replaceState(bt,"",xt),rt&&ot&&ot({action:st,location:pt.location,delta:0})}function ft(gt){return createBrowserURLImpl(gt)}let pt={get action(){return st},get location(){return $(nt,it)},listen(gt){if(ot)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,ut),ot=gt,()=>{nt.removeEventListener(PopStateEventType,ut),ot=null}},createHref(gt){return _e(nt,gt)},createURL:ft,encodeLocation(gt){let ht=ft(gt);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:dt,replace:ct,go(gt){return it.go(gt)}};return pt}function createBrowserURLImpl($,_e=!1){let et="http://localhost";typeof window<"u"&&(et=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(et,"No window.location.(origin|href) available to create URL");let tt=typeof $=="string"?$:createPath($);return tt=tt.replace(/ $/,"%20"),!_e&&tt.startsWith("//")&&(tt=et+tt),new URL(tt,et)}function matchRoutes($,_e,et="/"){return matchRoutesImpl($,_e,et,!1)}function matchRoutesImpl($,_e,et,tt){let nt=typeof _e=="string"?parsePath(_e):_e,rt=stripBasename(nt.pathname||"/",et);if(rt==null)return null;let it=flattenRoutes($);rankRouteBranches(it);let st=null;for(let ot=0;st==null&&ot<it.length;++ot){let at=decodePath(rt);st=matchRouteBranch(it[ot],at,tt)}return st}function flattenRoutes($,_e=[],et=[],tt="",nt=!1){let rt=(it,st,ot=nt,at)=>{let lt={relativePath:at===void 0?it.path||"":at,caseSensitive:it.caseSensitive===!0,childrenIndex:st,route:it};if(lt.relativePath.startsWith("/")){if(!lt.relativePath.startsWith(tt)&&ot)return;invariant$1(lt.relativePath.startsWith(tt),`Absolute route path "${lt.relativePath}" nested under path "${tt}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),lt.relativePath=lt.relativePath.slice(tt.length)}let ut=joinPaths([tt,lt.relativePath]),dt=et.concat(lt);it.children&&it.children.length>0&&(invariant$1(it.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ut}".`),flattenRoutes(it.children,_e,dt,ut,ot)),!(it.path==null&&!it.index)&&_e.push({path:ut,score:computeScore(ut,it.index),routesMeta:dt})};return $.forEach((it,st)=>{var ot;if(it.path===""||!((ot=it.path)!=null&&ot.includes("?")))rt(it,st);else for(let at of explodeOptionalSegments(it.path))rt(it,st,!0,at)}),_e}function explodeOptionalSegments($){let _e=$.split("/");if(_e.length===0)return[];let[et,...tt]=_e,nt=et.endsWith("?"),rt=et.replace(/\?$/,"");if(tt.length===0)return nt?[rt,""]:[rt];let it=explodeOptionalSegments(tt.join("/")),st=[];return st.push(...it.map(ot=>ot===""?rt:[rt,ot].join("/"))),nt&&st.push(...it),st.map(ot=>$.startsWith("/")&&ot===""?"/":ot)}function rankRouteBranches($){$.sort((_e,et)=>_e.score!==et.score?et.score-_e.score:compareIndexes(_e.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,_e){let et=$.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),_e&&(tt+=indexRouteValue),et.filter(nt=>!isSplat(nt)).reduce((nt,rt)=>nt+(paramRe.test(rt)?dynamicSegmentValue:rt===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes($,_e){return $.length===_e.length&&$.slice(0,-1).every((tt,nt)=>tt===_e[nt])?$[$.length-1]-_e[_e.length-1]:0}function matchRouteBranch($,_e,et=!1){let{routesMeta:tt}=$,nt={},rt="/",it=[];for(let st=0;st<tt.length;++st){let ot=tt[st],at=st===tt.length-1,lt=rt==="/"?_e:_e.slice(rt.length)||"/",ut=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:at},lt),dt=ot.route;if(!ut&&at&&et&&!tt[tt.length-1].route.index&&(ut=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:!1},lt)),!ut)return null;Object.assign(nt,ut.params),it.push({params:nt,pathname:joinPaths([rt,ut.pathname]),pathnameBase:normalizePathname(joinPaths([rt,ut.pathnameBase])),route:dt}),ut.pathnameBase!=="/"&&(rt=joinPaths([rt,ut.pathnameBase]))}return it}function matchPath($,_e){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[et,tt]=compilePath($.path,$.caseSensitive,$.end),nt=_e.match(et);if(!nt)return null;let rt=nt[0],it=rt.replace(/(.)\/+$/,"$1"),st=nt.slice(1);return{params:tt.reduce((at,{paramName:lt,isOptional:ut},dt)=>{if(lt==="*"){let ft=st[dt]||"";it=rt.slice(0,rt.length-ft.length).replace(/(.)\/+$/,"$1")}const ct=st[dt];return ut&&!ct?at[lt]=void 0:at[lt]=(ct||"").replace(/%2F/g,"/"),at},{}),pathname:rt,pathnameBase:it,pattern:$}}function compilePath($,_e=!1,et=!0){warning($==="*"||!$.endsWith("*")||$.endsWith("/*"),`Route path "${$}" will be treated as if it were "${$.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${$.replace(/\*$/,"/*")}".`);let tt=[],nt="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(it,st,ot)=>(tt.push({paramName:st,isOptional:ot!=null}),ot?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return $.endsWith("*")?(tt.push({paramName:"*"}),nt+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?nt+="\\/*$":$!==""&&$!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,_e?void 0:"i"),tt]}function decodePath($){try{return $.split("/").map(_e=>decodeURIComponent(_e).replace(/\//g,"%2F")).join("/")}catch(_e){return warning(!1,`The URL path "${$}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_e}).`),$}}function stripBasename($,_e){if(_e==="/")return $;if(!$.toLowerCase().startsWith(_e.toLowerCase()))return null;let et=_e.endsWith("/")?_e.length-1:_e.length,tt=$.charAt(et);return tt&&tt!=="/"?null:$.slice(et)||"/"}function resolvePath($,_e="/"){let{pathname:et,search:tt="",hash:nt=""}=typeof $=="string"?parsePath($):$;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,_e):_e,search:normalizeSearch(tt),hash:normalizeHash(nt)}}function resolvePathname($,_e){let et=_e.replace(/\/+$/,"").split("/");return $.split("/").forEach(nt=>{nt===".."?et.length>1&&et.pop():nt!=="."&&et.push(nt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError($,_e,et,tt){return`Cannot include a '${$}' character in a manually specified \`to.${_e}\` field [${JSON.stringify(tt)}].  Please separate it out to the \`to.${et}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches($){return $.filter((_e,et)=>et===0||_e.route.path&&_e.route.path.length>0)}function getResolveToMatches($){let _e=getPathContributingMatches($);return _e.map((et,tt)=>tt===_e.length-1?et.pathname:et.pathnameBase)}function resolveTo($,_e,et,tt=!1){let nt;typeof $=="string"?nt=parsePath($):(nt={...$},invariant$1(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant$1(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant$1(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let rt=$===""||nt.pathname==="",it=rt?"/":nt.pathname,st;if(it==null)st=et;else{let ut=_e.length-1;if(!tt&&it.startsWith("..")){let dt=it.split("/");for(;dt[0]==="..";)dt.shift(),ut-=1;nt.pathname=dt.join("/")}st=ut>=0?_e[ut]:"/"}let ot=resolvePath(nt,st),at=it&&it!=="/"&&it.endsWith("/"),lt=(rt||it===".")&&et.endsWith("/");return!ot.pathname.endsWith("/")&&(at||lt)&&(ot.pathname+="/"),ot}var joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;function isRouteErrorResponse($){return $!=null&&typeof $.status=="number"&&typeof $.statusText=="string"&&typeof $.internal=="boolean"&&"data"in $}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref($,{relative:_e}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:et,navigator:tt}=reactExports.useContext(NavigationContext),{hash:nt,pathname:rt,search:it}=useResolvedPath($,{relative:_e}),st=rt;return et!=="/"&&(st=rt==="/"?et:joinPaths([et,rt])),tt.createHref({pathname:st,search:it,hash:nt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1($){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect($)}function useNavigate(){let{isDataRoute:$}=reactExports.useContext(RouteContext);return $?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let $=reactExports.useContext(DataRouterContext),{basename:_e,navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getResolveToMatches(tt)),it=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{it.current=!0}),reactExports.useCallback((ot,at={})=>{if(warning(it.current,navigateEffectWarning),!it.current)return;if(typeof ot=="number"){et.go(ot);return}let lt=resolveTo(ot,JSON.parse(rt),nt,at.relative==="path");$==null&&_e!=="/"&&(lt.pathname=lt.pathname==="/"?_e:joinPaths([_e,lt.pathname])),(at.replace?et.replace:et.push)(lt,at.state,at)},[_e,et,rt,nt,$])}reactExports.createContext(null);function useParams(){let{matches:$}=reactExports.useContext(RouteContext),_e=$[$.length-1];return _e?_e.params:{}}function useResolvedPath($,{relative:_e}={}){let{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),nt=JSON.stringify(getResolveToMatches(et));return reactExports.useMemo(()=>resolveTo($,JSON.parse(nt),tt,_e==="path"),[$,nt,tt,_e])}function useRoutes($,_e){return useRoutesImpl($,_e)}function useRoutesImpl($,_e,et,tt,nt){var mt;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:rt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),st=it[it.length-1],ot=st?st.params:{},at=st?st.pathname:"/",lt=st?st.pathnameBase:"/",ut=st&&st.route;{let bt=ut&&ut.path||"";warningOnce(at,!ut||bt.endsWith("*")||bt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${at}" (under <Route path="${bt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${bt}"> to <Route path="${bt==="/"?"*":`${bt}/*`}">.`)}let dt=useLocation(),ct;if(_e){let bt=typeof _e=="string"?parsePath(_e):_e;invariant$1(lt==="/"||((mt=bt.pathname)==null?void 0:mt.startsWith(lt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${lt}" but pathname "${bt.pathname}" was given in the \`location\` prop.`),ct=bt}else ct=dt;let ft=ct.pathname||"/",pt=ft;if(lt!=="/"){let bt=lt.replace(/^\//,"").split("/");pt="/"+ft.replace(/^\//,"").split("/").slice(bt.length).join("/")}let gt=matchRoutes($,{pathname:pt});warning(ut||gt!=null,`No routes matched location "${ct.pathname}${ct.search}${ct.hash}" `),warning(gt==null||gt[gt.length-1].route.element!==void 0||gt[gt.length-1].route.Component!==void 0||gt[gt.length-1].route.lazy!==void 0,`Matched leaf route at location "${ct.pathname}${ct.search}${ct.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ht=_renderMatches(gt&&gt.map(bt=>Object.assign({},bt,{params:Object.assign({},ot,bt.params),pathname:joinPaths([lt,rt.encodeLocation?rt.encodeLocation(bt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:bt.pathname]),pathnameBase:bt.pathnameBase==="/"?lt:joinPaths([lt,rt.encodeLocation?rt.encodeLocation(bt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:bt.pathnameBase])})),it,et,tt,nt);return _e&&ht?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ct},navigationType:"POP"}},ht):ht}function DefaultErrorComponent(){let $=useRouteError(),_e=isRouteErrorResponse($)?`${$.status} ${$.statusText}`:$ instanceof Error?$.message:JSON.stringify($),et=$ instanceof Error?$.stack:null,tt="rgba(200,200,200, 0.5)",nt={padding:"0.5rem",backgroundColor:tt},rt={padding:"2px 4px",backgroundColor:tt},it=null;return console.error("Error handled by React Router default ErrorBoundary:",$),it=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:rt},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:rt},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_e),et?reactExports.createElement("pre",{style:nt},et):null,it)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,_e){return _e.location!==$.location||_e.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:_e.error,location:_e.location,revalidation:$.revalidation||_e.revalidation}}componentDidCatch($,_e){this.props.unstable_onError?this.props.unstable_onError($,_e):console.error("React Router caught the following error during render",$)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:$,match:_e,children:et}){let tt=reactExports.useContext(DataRouterContext);return tt&&tt.static&&tt.staticContext&&(_e.route.errorElement||_e.route.ErrorBoundary)&&(tt.staticContext._deepestRenderedBoundaryId=_e.route.id),reactExports.createElement(RouteContext.Provider,{value:$},et)}function _renderMatches($,_e=[],et=null,tt=null,nt=null){if($==null){if(!et)return null;if(et.errors)$=et.matches;else if(_e.length===0&&!et.initialized&&et.matches.length>0)$=et.matches;else return null}let rt=$,it=et==null?void 0:et.errors;if(it!=null){let at=rt.findIndex(lt=>lt.route.id&&(it==null?void 0:it[lt.route.id])!==void 0);invariant$1(at>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(it).join(",")}`),rt=rt.slice(0,Math.min(rt.length,at+1))}let st=!1,ot=-1;if(et)for(let at=0;at<rt.length;at++){let lt=rt[at];if((lt.route.HydrateFallback||lt.route.hydrateFallbackElement)&&(ot=at),lt.route.id){let{loaderData:ut,errors:dt}=et,ct=lt.route.loader&&!ut.hasOwnProperty(lt.route.id)&&(!dt||dt[lt.route.id]===void 0);if(lt.route.lazy||ct){st=!0,ot>=0?rt=rt.slice(0,ot+1):rt=[rt[0]];break}}}return rt.reduceRight((at,lt,ut)=>{let dt,ct=!1,ft=null,pt=null;et&&(dt=it&&lt.route.id?it[lt.route.id]:void 0,ft=lt.route.errorElement||defaultErrorElement,st&&(ot<0&&ut===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ct=!0,pt=null):ot===ut&&(ct=!0,pt=lt.route.hydrateFallbackElement||null)));let gt=_e.concat(rt.slice(0,ut+1)),ht=()=>{let mt;return dt?mt=ft:ct?mt=pt:lt.route.Component?mt=reactExports.createElement(lt.route.Component,null):lt.route.element?mt=lt.route.element:mt=at,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:at,matches:gt,isDataRoute:et!=null},children:mt})};return et&&(lt.route.ErrorBoundary||lt.route.errorElement||ut===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:ft,error:dt,children:ht(),routeContext:{outlet:null,matches:gt,isDataRoute:!0},unstable_onError:tt}):ht()},null)}function getDataRouterConsoleError($){return`${$} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext($){let _e=reactExports.useContext(DataRouterContext);return invariant$1(_e,getDataRouterConsoleError($)),_e}function useDataRouterState($){let _e=reactExports.useContext(DataRouterStateContext);return invariant$1(_e,getDataRouterConsoleError($)),_e}function useRouteContext($){let _e=reactExports.useContext(RouteContext);return invariant$1(_e,getDataRouterConsoleError($)),_e}function useCurrentRouteId($){let _e=useRouteContext($),et=_e.matches[_e.matches.length-1];return invariant$1(et.route.id,`${$} can only be used on routes that contain a unique "id"`),et.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var tt;let $=reactExports.useContext(RouteErrorContext),_e=useDataRouterState("useRouteError"),et=useCurrentRouteId("useRouteError");return $!==void 0?$:(tt=_e.errors)==null?void 0:tt[et]}function useNavigateStable(){let{router:$}=useDataRouterContext("useNavigate"),_e=useCurrentRouteId("useNavigate"),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{et.current=!0}),reactExports.useCallback(async(nt,rt={})=>{warning(et.current,navigateEffectWarning),et.current&&(typeof nt=="number"?$.navigate(nt):await $.navigate(nt,{fromRouteId:_e,...rt}))},[$,_e])}var alreadyWarned={};function warningOnce($,_e,et){!_e&&!alreadyWarned[$]&&(alreadyWarned[$]=!0,warning(!1,et))}reactExports.memo(DataRoutes);function DataRoutes({routes:$,future:_e,state:et,unstable_onError:tt}){return useRoutesImpl($,void 0,et,tt,_e)}function Navigate({to:$,replace:_e,state:et,relative:tt}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:nt}=reactExports.useContext(NavigationContext);warning(!nt,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:rt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=useNavigate(),ot=resolveTo($,getResolveToMatches(rt),it,tt==="path"),at=JSON.stringify(ot);return reactExports.useEffect(()=>{st(JSON.parse(at),{replace:_e,state:et,relative:tt})},[st,at,tt,_e,et]),null}function Route($){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:$="/",children:_e=null,location:et,navigationType:tt="POP",navigator:nt,static:rt=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let it=$.replace(/^\/*/,"/"),st=reactExports.useMemo(()=>({basename:it,navigator:nt,static:rt,future:{}}),[it,nt,rt]);typeof et=="string"&&(et=parsePath(et));let{pathname:ot="/",search:at="",hash:lt="",state:ut=null,key:dt="default"}=et,ct=reactExports.useMemo(()=>{let ft=stripBasename(ot,it);return ft==null?null:{location:{pathname:ft,search:at,hash:lt,state:ut,key:dt},navigationType:tt}},[it,ot,at,lt,ut,dt,tt]);return warning(ct!=null,`<Router basename="${it}"> is not able to match the URL "${ot}${at}${lt}" because it does not start with the basename, so the <Router> won't render anything.`),ct==null?null:reactExports.createElement(NavigationContext.Provider,{value:st},reactExports.createElement(LocationContext.Provider,{children:_e,value:ct}))}function Routes({children:$,location:_e}){return useRoutes(createRoutesFromChildren($),_e)}function createRoutesFromChildren($,_e=[]){let et=[];return reactExports.Children.forEach($,(tt,nt)=>{if(!reactExports.isValidElement(tt))return;let rt=[..._e,nt];if(tt.type===reactExports.Fragment){et.push.apply(et,createRoutesFromChildren(tt.props.children,rt));return}invariant$1(tt.type===Route,`[${typeof tt.type=="string"?tt.type:tt.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!tt.props.index||!tt.props.children,"An index route cannot have child routes.");let it={id:tt.props.id||rt.join("-"),caseSensitive:tt.props.caseSensitive,element:tt.props.element,Component:tt.props.Component,index:tt.props.index,path:tt.props.path,middleware:tt.props.middleware,loader:tt.props.loader,action:tt.props.action,hydrateFallbackElement:tt.props.hydrateFallbackElement,HydrateFallback:tt.props.HydrateFallback,errorElement:tt.props.errorElement,ErrorBoundary:tt.props.ErrorBoundary,hasErrorBoundary:tt.props.hasErrorBoundary===!0||tt.props.ErrorBoundary!=null||tt.props.errorElement!=null,shouldRevalidate:tt.props.shouldRevalidate,handle:tt.props.handle,lazy:tt.props.lazy};tt.props.children&&(it.children=createRoutesFromChildren(tt.props.children,rt)),et.push(it)}),et}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement($){return $!=null&&typeof $.tagName=="string"}function isButtonElement($){return isHtmlElement($)&&$.tagName.toLowerCase()==="button"}function isFormElement($){return isHtmlElement($)&&$.tagName.toLowerCase()==="form"}function isInputElement($){return isHtmlElement($)&&$.tagName.toLowerCase()==="input"}function isModifiedEvent($){return!!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)}function shouldProcessLinkClick($,_e){return $.button===0&&(!_e||_e==="_self")&&!isModifiedEvent($)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType($){return $!=null&&!supportedFormEncTypes.has($)?(warning(!1,`"${$}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):$}function getFormSubmissionInfo($,_e){let et,tt,nt,rt,it;if(isFormElement($)){let st=$.getAttribute("action");tt=st?stripBasename(st,_e):null,et=$.getAttribute("method")||defaultMethod,nt=getFormEncType($.getAttribute("enctype"))||defaultEncType,rt=new FormData($)}else if(isButtonElement($)||isInputElement($)&&($.type==="submit"||$.type==="image")){let st=$.form;if(st==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let ot=$.getAttribute("formaction")||st.getAttribute("action");if(tt=ot?stripBasename(ot,_e):null,et=$.getAttribute("formmethod")||st.getAttribute("method")||defaultMethod,nt=getFormEncType($.getAttribute("formenctype"))||getFormEncType(st.getAttribute("enctype"))||defaultEncType,rt=new FormData(st,$),!isFormDataSubmitterSupported()){let{name:at,type:lt,value:ut}=$;if(lt==="image"){let dt=at?`${at}.`:"";rt.append(`${dt}x`,"0"),rt.append(`${dt}y`,"0")}else at&&rt.append(at,ut)}}else{if(isHtmlElement($))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');et=defaultMethod,tt=null,nt=defaultEncType,it=$}return rt&&nt==="text/plain"&&(it=rt,rt=void 0),{action:tt,method:et.toLowerCase(),encType:nt,formData:rt,body:it}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2($,_e){if($===!1||$===null||typeof $>"u")throw new Error(_e)}function singleFetchUrl($,_e,et){let tt=typeof $=="string"?new URL($,typeof window>"u"?"server://singlefetch/":window.location.origin):$;return tt.pathname==="/"?tt.pathname=`_root.${et}`:_e&&stripBasename(tt.pathname,_e)==="/"?tt.pathname=`${_e.replace(/\/$/,"")}/_root.${et}`:tt.pathname=`${tt.pathname.replace(/\/$/,"")}.${et}`,tt}async function loadRouteModule($,_e){if($.id in _e)return _e[$.id];try{let et=await import($.module);return _e[$.id]=et,et}catch(et){return console.error(`Error loading route module \`${$.module}\`, reloading page...`),console.error(et),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor($){return $==null?!1:$.href==null?$.rel==="preload"&&typeof $.imageSrcSet=="string"&&typeof $.imageSizes=="string":typeof $.rel=="string"&&typeof $.href=="string"}async function getKeyedPrefetchLinks($,_e,et){let tt=await Promise.all($.map(async nt=>{let rt=_e.routes[nt.route.id];if(rt){let it=await loadRouteModule(rt,et);return it.links?it.links():[]}return[]}));return dedupeLinkDescriptors(tt.flat(1).filter(isHtmlLinkDescriptor).filter(nt=>nt.rel==="stylesheet"||nt.rel==="preload").map(nt=>nt.rel==="stylesheet"?{...nt,rel:"prefetch",as:"style"}:{...nt,rel:"prefetch"}))}function getNewMatchesForLinks($,_e,et,tt,nt,rt){let it=(ot,at)=>et[at]?ot.route.id!==et[at].route.id:!0,st=(ot,at)=>{var lt;return et[at].pathname!==ot.pathname||((lt=et[at].route.path)==null?void 0:lt.endsWith("*"))&&et[at].params["*"]!==ot.params["*"]};return rt==="assets"?_e.filter((ot,at)=>it(ot,at)||st(ot,at)):rt==="data"?_e.filter((ot,at)=>{var ut;let lt=tt.routes[ot.route.id];if(!lt||!lt.hasLoader)return!1;if(it(ot,at)||st(ot,at))return!0;if(ot.route.shouldRevalidate){let dt=ot.route.shouldRevalidate({currentUrl:new URL(nt.pathname+nt.search+nt.hash,window.origin),currentParams:((ut=et[0])==null?void 0:ut.params)||{},nextUrl:new URL($,window.origin),nextParams:ot.params,defaultShouldRevalidate:!0});if(typeof dt=="boolean")return dt}return!0}):[]}function getModuleLinkHrefs($,_e,{includeHydrateFallback:et}={}){return dedupeHrefs($.map(tt=>{let nt=_e.routes[tt.route.id];if(!nt)return[];let rt=[nt.module];return nt.clientActionModule&&(rt=rt.concat(nt.clientActionModule)),nt.clientLoaderModule&&(rt=rt.concat(nt.clientLoaderModule)),et&&nt.hydrateFallbackModule&&(rt=rt.concat(nt.hydrateFallbackModule)),nt.imports&&(rt=rt.concat(nt.imports)),rt}).flat(1))}function dedupeHrefs($){return[...new Set($)]}function sortKeys($){let _e={},et=Object.keys($).sort();for(let tt of et)_e[tt]=$[tt];return _e}function dedupeLinkDescriptors($,_e){let et=new Set;return new Set(_e),$.reduce((tt,nt)=>{let rt=JSON.stringify(sortKeys(nt));return et.has(rt)||(et.add(rt),tt.push({key:rt,link:nt})),tt},[])}function useDataRouterContext2(){let $=reactExports.useContext(DataRouterContext);return invariant2($,"You must render this element inside a <DataRouterContext.Provider> element"),$}function useDataRouterStateContext(){let $=reactExports.useContext(DataRouterStateContext);return invariant2($,"You must render this element inside a <DataRouterStateContext.Provider> element"),$}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let $=reactExports.useContext(FrameworkContext);return invariant2($,"You must render this element inside a <HydratedRouter> element"),$}function usePrefetchBehavior($,_e){let et=reactExports.useContext(FrameworkContext),[tt,nt]=reactExports.useState(!1),[rt,it]=reactExports.useState(!1),{onFocus:st,onBlur:ot,onMouseEnter:at,onMouseLeave:lt,onTouchStart:ut}=_e,dt=reactExports.useRef(null);reactExports.useEffect(()=>{if($==="render"&&it(!0),$==="viewport"){let pt=ht=>{ht.forEach(mt=>{it(mt.isIntersecting)})},gt=new IntersectionObserver(pt,{threshold:.5});return dt.current&&gt.observe(dt.current),()=>{gt.disconnect()}}},[$]),reactExports.useEffect(()=>{if(tt){let pt=setTimeout(()=>{it(!0)},100);return()=>{clearTimeout(pt)}}},[tt]);let ct=()=>{nt(!0)},ft=()=>{nt(!1),it(!1)};return et?$!=="intent"?[rt,dt,{}]:[rt,dt,{onFocus:composeEventHandlers(st,ct),onBlur:composeEventHandlers(ot,ft),onMouseEnter:composeEventHandlers(at,ct),onMouseLeave:composeEventHandlers(lt,ft),onTouchStart:composeEventHandlers(ut,ct)}]:[!1,dt,{}]}function composeEventHandlers($,_e){return et=>{$&&$(et),et.defaultPrevented||_e(et)}}function PrefetchPageLinks({page:$,..._e}){let{router:et}=useDataRouterContext2(),tt=reactExports.useMemo(()=>matchRoutes(et.routes,$,et.basename),[et.routes,$,et.basename]);return tt?reactExports.createElement(PrefetchPageLinksImpl,{page:$,matches:tt,..._e}):null}function useKeyedPrefetchLinks($){let{manifest:_e,routeModules:et}=useFrameworkContext(),[tt,nt]=reactExports.useState([]);return reactExports.useEffect(()=>{let rt=!1;return getKeyedPrefetchLinks($,_e,et).then(it=>{rt||nt(it)}),()=>{rt=!0}},[$,_e,et]),tt}function PrefetchPageLinksImpl({page:$,matches:_e,...et}){let tt=useLocation(),{manifest:nt,routeModules:rt}=useFrameworkContext(),{basename:it}=useDataRouterContext2(),{loaderData:st,matches:ot}=useDataRouterStateContext(),at=reactExports.useMemo(()=>getNewMatchesForLinks($,_e,ot,nt,tt,"data"),[$,_e,ot,nt,tt]),lt=reactExports.useMemo(()=>getNewMatchesForLinks($,_e,ot,nt,tt,"assets"),[$,_e,ot,nt,tt]),ut=reactExports.useMemo(()=>{if($===tt.pathname+tt.search+tt.hash)return[];let ft=new Set,pt=!1;if(_e.forEach(ht=>{var bt;let mt=nt.routes[ht.route.id];!mt||!mt.hasLoader||(!at.some(xt=>xt.route.id===ht.route.id)&&ht.route.id in st&&((bt=rt[ht.route.id])!=null&&bt.shouldRevalidate)||mt.hasClientLoader?pt=!0:ft.add(ht.route.id))}),ft.size===0)return[];let gt=singleFetchUrl($,it,"data");return pt&&ft.size>0&&gt.searchParams.set("_routes",_e.filter(ht=>ft.has(ht.route.id)).map(ht=>ht.route.id).join(",")),[gt.pathname+gt.search]},[it,st,tt,nt,at,_e,$,rt]),dt=reactExports.useMemo(()=>getModuleLinkHrefs(lt,nt),[lt,nt]),ct=useKeyedPrefetchLinks(lt);return reactExports.createElement(reactExports.Fragment,null,ut.map(ft=>reactExports.createElement("link",{key:ft,rel:"prefetch",as:"fetch",href:ft,...et})),dt.map(ft=>reactExports.createElement("link",{key:ft,rel:"modulepreload",href:ft,...et})),ct.map(({key:ft,link:pt})=>reactExports.createElement("link",{key:ft,nonce:et.nonce,...pt})))}function mergeRefs(...$){return _e=>{$.forEach(et=>{typeof et=="function"?et(_e):et!=null&&(et.current=_e)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.9.5")}catch{}function BrowserRouter({basename:$,children:_e,window:et}){let tt=reactExports.useRef();tt.current==null&&(tt.current=createBrowserHistory({window:et,v5Compat:!0}));let nt=tt.current,[rt,it]=reactExports.useState({action:nt.action,location:nt.location}),st=reactExports.useCallback(ot=>{reactExports.startTransition(()=>it(ot))},[it]);return reactExports.useLayoutEffect(()=>nt.listen(st),[nt,st]),reactExports.createElement(Router,{basename:$,children:_e,location:rt.location,navigationType:rt.action,navigator:nt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:_e,discover:et="render",prefetch:tt="none",relative:nt,reloadDocument:rt,replace:it,state:st,target:ot,to:at,preventScrollReset:lt,viewTransition:ut,...dt},ct){let{basename:ft}=reactExports.useContext(NavigationContext),pt=typeof at=="string"&&ABSOLUTE_URL_REGEX2.test(at),gt,ht=!1;if(typeof at=="string"&&pt&&(gt=at,isBrowser$2))try{let Ct=new URL(window.location.href),Nt=at.startsWith("//")?new URL(Ct.protocol+at):new URL(at),kt=stripBasename(Nt.pathname,ft);Nt.origin===Ct.origin&&kt!=null?at=kt+Nt.search+Nt.hash:ht=!0}catch{warning(!1,`<Link to="${at}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let mt=useHref(at,{relative:nt}),[bt,xt,Et]=usePrefetchBehavior(tt,dt),vt=useLinkClickHandler(at,{replace:it,state:st,target:ot,preventScrollReset:lt,relative:nt,viewTransition:ut});function _t(Ct){_e&&_e(Ct),Ct.defaultPrevented||vt(Ct)}let wt=reactExports.createElement("a",{...dt,...Et,href:gt||mt,onClick:ht||rt?_e:_t,ref:mergeRefs(ct,xt),target:ot,"data-discover":!pt&&et==="render"?"true":void 0});return bt&&!pt?reactExports.createElement(reactExports.Fragment,null,wt,reactExports.createElement(PrefetchPageLinks,{page:mt})):wt});Link$1.displayName="Link";var NavLink$1=reactExports.forwardRef(function({"aria-current":_e="page",caseSensitive:et=!1,className:tt="",end:nt=!1,style:rt,to:it,viewTransition:st,children:ot,...at},lt){let ut=useResolvedPath(it,{relative:at.relative}),dt=useLocation(),ct=reactExports.useContext(DataRouterStateContext),{navigator:ft,basename:pt}=reactExports.useContext(NavigationContext),gt=ct!=null&&useViewTransitionState(ut)&&st===!0,ht=ft.encodeLocation?ft.encodeLocation(ut).pathname:ut.pathname,mt=dt.pathname,bt=ct&&ct.navigation&&ct.navigation.location?ct.navigation.location.pathname:null;et||(mt=mt.toLowerCase(),bt=bt?bt.toLowerCase():null,ht=ht.toLowerCase()),bt&&pt&&(bt=stripBasename(bt,pt)||bt);const xt=ht!=="/"&&ht.endsWith("/")?ht.length-1:ht.length;let Et=mt===ht||!nt&&mt.startsWith(ht)&&mt.charAt(xt)==="/",vt=bt!=null&&(bt===ht||!nt&&bt.startsWith(ht)&&bt.charAt(ht.length)==="/"),_t={isActive:Et,isPending:vt,isTransitioning:gt},wt=Et?_e:void 0,Ct;typeof tt=="function"?Ct=tt(_t):Ct=[tt,Et?"active":null,vt?"pending":null,gt?"transitioning":null].filter(Boolean).join(" ");let Nt=typeof rt=="function"?rt(_t):rt;return reactExports.createElement(Link$1,{...at,"aria-current":wt,className:Ct,ref:lt,style:Nt,to:it,viewTransition:st},typeof ot=="function"?ot(_t):ot)});NavLink$1.displayName="NavLink";var Form=reactExports.forwardRef(({discover:$="render",fetcherKey:_e,navigate:et,reloadDocument:tt,replace:nt,state:rt,method:it=defaultMethod,action:st,onSubmit:ot,relative:at,preventScrollReset:lt,viewTransition:ut,...dt},ct)=>{let ft=useSubmit(),pt=useFormAction(st,{relative:at}),gt=it.toLowerCase()==="get"?"get":"post",ht=typeof st=="string"&&ABSOLUTE_URL_REGEX2.test(st),mt=bt=>{if(ot&&ot(bt),bt.defaultPrevented)return;bt.preventDefault();let xt=bt.nativeEvent.submitter,Et=(xt==null?void 0:xt.getAttribute("formmethod"))||it;ft(xt||bt.currentTarget,{fetcherKey:_e,method:Et,navigate:et,replace:nt,state:rt,relative:at,preventScrollReset:lt,viewTransition:ut})};return reactExports.createElement("form",{ref:ct,method:gt,action:pt,onSubmit:tt?ot:mt,...dt,"data-discover":!ht&&$==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2($){return`${$} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3($){let _e=reactExports.useContext(DataRouterContext);return invariant$1(_e,getDataRouterConsoleError2($)),_e}function useLinkClickHandler($,{target:_e,replace:et,state:tt,preventScrollReset:nt,relative:rt,viewTransition:it}={}){let st=useNavigate(),ot=useLocation(),at=useResolvedPath($,{relative:rt});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,_e)){lt.preventDefault();let ut=et!==void 0?et:createPath(ot)===createPath(at);st($,{replace:ut,state:tt,preventScrollReset:nt,relative:rt,viewTransition:it})}},[ot,st,at,et,tt,_e,$,nt,rt,it])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:$}=useDataRouterContext3("useSubmit"),{basename:_e}=reactExports.useContext(NavigationContext),et=useRouteId();return reactExports.useCallback(async(tt,nt={})=>{let{action:rt,method:it,encType:st,formData:ot,body:at}=getFormSubmissionInfo(tt,_e);if(nt.navigate===!1){let lt=nt.fetcherKey||getUniqueFetcherId();await $.fetch(lt,et,nt.action||rt,{preventScrollReset:nt.preventScrollReset,formData:ot,body:at,formMethod:nt.method||it,formEncType:nt.encType||st,flushSync:nt.flushSync})}else await $.navigate(nt.action||rt,{preventScrollReset:nt.preventScrollReset,formData:ot,body:at,formMethod:nt.method||it,formEncType:nt.encType||st,replace:nt.replace,state:nt.state,fromRouteId:et,flushSync:nt.flushSync,viewTransition:nt.viewTransition})},[$,_e,et])}function useFormAction($,{relative:_e}={}){let{basename:et}=reactExports.useContext(NavigationContext),tt=reactExports.useContext(RouteContext);invariant$1(tt,"useFormAction must be used inside a RouteContext");let[nt]=tt.matches.slice(-1),rt={...useResolvedPath($||".",{relative:_e})},it=useLocation();if($==null){rt.search=it.search;let st=new URLSearchParams(rt.search),ot=st.getAll("index");if(ot.some(lt=>lt==="")){st.delete("index"),ot.filter(ut=>ut).forEach(ut=>st.append("index",ut));let lt=st.toString();rt.search=lt?`?${lt}`:""}}return(!$||$===".")&&nt.route.index&&(rt.search=rt.search?rt.search.replace(/^\?/,"?index&"):"?index"),et!=="/"&&(rt.pathname=rt.pathname==="/"?et:joinPaths([et,rt.pathname])),createPath(rt)}function useViewTransitionState($,{relative:_e}={}){let et=reactExports.useContext(ViewTransitionContext);invariant$1(et!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:tt}=useDataRouterContext3("useViewTransitionState"),nt=useResolvedPath($,{relative:_e});if(!et.isTransitioning)return!1;let rt=stripBasename(et.currentLocation.pathname,tt)||et.currentLocation.pathname,it=stripBasename(et.nextLocation.pathname,tt)||et.nextLocation.pathname;return matchPath(nt.pathname,it)!=null||matchPath(nt.pathname,rt)!=null}var extendStatics=function($,_e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])},extendStatics($,_e)};function __extends($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");extendStatics($,_e);function et(){this.constructor=$}$.prototype=_e===null?Object.create(_e):(et.prototype=_e.prototype,new et)}var __assign=function(){return __assign=Object.assign||function(_e){for(var et,tt=1,nt=arguments.length;tt<nt;tt++){et=arguments[tt];for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(_e[rt]=et[rt])}return _e},__assign.apply(this,arguments)};function __rest($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols($);nt<tt.length;nt++)_e.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call($,tt[nt])&&(et[tt[nt]]=$[tt[nt]]);return et}function __decorate($,_e,et,tt){var nt=arguments.length,rt=nt<3?_e:tt===null?tt=Object.getOwnPropertyDescriptor(_e,et):tt,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate($,_e,et,tt);else for(var st=$.length-1;st>=0;st--)(it=$[st])&&(rt=(nt<3?it(rt):nt>3?it(_e,et,rt):it(_e,et))||rt);return nt>3&&rt&&Object.defineProperty(_e,et,rt),rt}function __param($,_e){return function(et,tt){_e(et,tt,$)}}function __esDecorate($,_e,et,tt,nt,rt){function it(ht){if(ht!==void 0&&typeof ht!="function")throw new TypeError("Function expected");return ht}for(var st=tt.kind,ot=st==="getter"?"get":st==="setter"?"set":"value",at=!_e&&$?tt.static?$:$.prototype:null,lt=_e||(at?Object.getOwnPropertyDescriptor(at,tt.name):{}),ut,dt=!1,ct=et.length-1;ct>=0;ct--){var ft={};for(var pt in tt)ft[pt]=pt==="access"?{}:tt[pt];for(var pt in tt.access)ft.access[pt]=tt.access[pt];ft.addInitializer=function(ht){if(dt)throw new TypeError("Cannot add initializers after decoration has completed");rt.push(it(ht||null))};var gt=(0,et[ct])(st==="accessor"?{get:lt.get,set:lt.set}:lt[ot],ft);if(st==="accessor"){if(gt===void 0)continue;if(gt===null||typeof gt!="object")throw new TypeError("Object expected");(ut=it(gt.get))&&(lt.get=ut),(ut=it(gt.set))&&(lt.set=ut),(ut=it(gt.init))&&nt.unshift(ut)}else(ut=it(gt))&&(st==="field"?nt.unshift(ut):lt[ot]=ut)}at&&Object.defineProperty(at,tt.name,lt),dt=!0}function __runInitializers($,_e,et){for(var tt=arguments.length>2,nt=0;nt<_e.length;nt++)et=tt?_e[nt].call($,et):_e[nt].call($);return tt?et:void 0}function __propKey($){return typeof $=="symbol"?$:"".concat($)}function __setFunctionName($,_e,et){return typeof _e=="symbol"&&(_e=_e.description?"[".concat(_e.description,"]"):""),Object.defineProperty($,"name",{configurable:!0,value:et?"".concat(et," ",_e):_e})}function __metadata($,_e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata($,_e)}function __awaiter($,_e,et,tt){function nt(rt){return rt instanceof et?rt:new et(function(it){it(rt)})}return new(et||(et=Promise))(function(rt,it){function st(lt){try{at(tt.next(lt))}catch(ut){it(ut)}}function ot(lt){try{at(tt.throw(lt))}catch(ut){it(ut)}}function at(lt){lt.done?rt(lt.value):nt(lt.value).then(st,ot)}at((tt=tt.apply($,_e||[])).next())})}function __generator($,_e){var et={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},tt,nt,rt,it=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return it.next=st(0),it.throw=st(1),it.return=st(2),typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function st(at){return function(lt){return ot([at,lt])}}function ot(at){if(tt)throw new TypeError("Generator is already executing.");for(;it&&(it=0,at[0]&&(et=0)),et;)try{if(tt=1,nt&&(rt=at[0]&2?nt.return:at[0]?nt.throw||((rt=nt.return)&&rt.call(nt),0):nt.next)&&!(rt=rt.call(nt,at[1])).done)return rt;switch(nt=0,rt&&(at=[at[0]&2,rt.value]),at[0]){case 0:case 1:rt=at;break;case 4:return et.label++,{value:at[1],done:!1};case 5:et.label++,nt=at[1],at=[0];continue;case 7:at=et.ops.pop(),et.trys.pop();continue;default:if(rt=et.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(at[0]===6||at[0]===2)){et=0;continue}if(at[0]===3&&(!rt||at[1]>rt[0]&&at[1]<rt[3])){et.label=at[1];break}if(at[0]===6&&et.label<rt[1]){et.label=rt[1],rt=at;break}if(rt&&et.label<rt[2]){et.label=rt[2],et.ops.push(at);break}rt[2]&&et.ops.pop(),et.trys.pop();continue}at=_e.call($,et)}catch(lt){at=[6,lt],nt=0}finally{tt=rt=0}if(at[0]&5)throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}}var __createBinding=Object.create?function($,_e,et,tt){tt===void 0&&(tt=et);var nt=Object.getOwnPropertyDescriptor(_e,et);(!nt||("get"in nt?!_e.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return _e[et]}}),Object.defineProperty($,tt,nt)}:function($,_e,et,tt){tt===void 0&&(tt=et),$[tt]=_e[et]};function __exportStar($,_e){for(var et in $)et!=="default"&&!Object.prototype.hasOwnProperty.call(_e,et)&&__createBinding(_e,$,et)}function __values($){var _e=typeof Symbol=="function"&&Symbol.iterator,et=_e&&$[_e],tt=0;if(et)return et.call($);if($&&typeof $.length=="number")return{next:function(){return $&&tt>=$.length&&($=void 0),{value:$&&$[tt++],done:!$}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read($,_e){var et=typeof Symbol=="function"&&$[Symbol.iterator];if(!et)return $;var tt=et.call($),nt,rt=[],it;try{for(;(_e===void 0||_e-- >0)&&!(nt=tt.next()).done;)rt.push(nt.value)}catch(st){it={error:st}}finally{try{nt&&!nt.done&&(et=tt.return)&&et.call(tt)}finally{if(it)throw it.error}}return rt}function __spread(){for(var $=[],_e=0;_e<arguments.length;_e++)$=$.concat(__read(arguments[_e]));return $}function __spreadArrays(){for(var $=0,_e=0,et=arguments.length;_e<et;_e++)$+=arguments[_e].length;for(var tt=Array($),nt=0,_e=0;_e<et;_e++)for(var rt=arguments[_e],it=0,st=rt.length;it<st;it++,nt++)tt[nt]=rt[it];return tt}function __spreadArray($,_e,et){if(et||arguments.length===2)for(var tt=0,nt=_e.length,rt;tt<nt;tt++)(rt||!(tt in _e))&&(rt||(rt=Array.prototype.slice.call(_e,0,tt)),rt[tt]=_e[tt]);return $.concat(rt||Array.prototype.slice.call(_e))}function __await($){return this instanceof __await?(this.v=$,this):new __await($)}function __asyncGenerator($,_e,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=et.apply($,_e||[]),nt,rt=[];return nt=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",it),nt[Symbol.asyncIterator]=function(){return this},nt;function it(ct){return function(ft){return Promise.resolve(ft).then(ct,ut)}}function st(ct,ft){tt[ct]&&(nt[ct]=function(pt){return new Promise(function(gt,ht){rt.push([ct,pt,gt,ht])>1||ot(ct,pt)})},ft&&(nt[ct]=ft(nt[ct])))}function ot(ct,ft){try{at(tt[ct](ft))}catch(pt){dt(rt[0][3],pt)}}function at(ct){ct.value instanceof __await?Promise.resolve(ct.value.v).then(lt,ut):dt(rt[0][2],ct)}function lt(ct){ot("next",ct)}function ut(ct){ot("throw",ct)}function dt(ct,ft){ct(ft),rt.shift(),rt.length&&ot(rt[0][0],rt[0][1])}}function __asyncDelegator($){var _e,et;return _e={},tt("next"),tt("throw",function(nt){throw nt}),tt("return"),_e[Symbol.iterator]=function(){return this},_e;function tt(nt,rt){_e[nt]=$[nt]?function(it){return(et=!et)?{value:__await($[nt](it)),done:!1}:rt?rt(it):it}:rt}}function __asyncValues($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e=$[Symbol.asyncIterator],et;return _e?_e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),et={},tt("next"),tt("throw"),tt("return"),et[Symbol.asyncIterator]=function(){return this},et);function tt(rt){et[rt]=$[rt]&&function(it){return new Promise(function(st,ot){it=$[rt](it),nt(st,ot,it.done,it.value)})}}function nt(rt,it,st,ot){Promise.resolve(ot).then(function(at){rt({value:at,done:st})},it)}}function __makeTemplateObject($,_e){return Object.defineProperty?Object.defineProperty($,"raw",{value:_e}):$.raw=_e,$}var __setModuleDefault=Object.create?function($,_e){Object.defineProperty($,"default",{enumerable:!0,value:_e})}:function($,_e){$.default=_e},ownKeys$1=function($){return ownKeys$1=Object.getOwnPropertyNames||function(_e){var et=[];for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[et.length]=tt);return et},ownKeys$1($)};function __importStar($){if($&&$.__esModule)return $;var _e={};if($!=null)for(var et=ownKeys$1($),tt=0;tt<et.length;tt++)et[tt]!=="default"&&__createBinding(_e,$,et[tt]);return __setModuleDefault(_e,$),_e}function __importDefault$2($){return $&&$.__esModule?$:{default:$}}function __classPrivateFieldGet($,_e,et,tt){if(et==="a"&&!tt)throw new TypeError("Private accessor was defined without a getter");if(typeof _e=="function"?$!==_e||!tt:!_e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?tt:et==="a"?tt.call($):tt?tt.value:_e.get($)}function __classPrivateFieldSet($,_e,et,tt,nt){if(tt==="m")throw new TypeError("Private method is not writable");if(tt==="a"&&!nt)throw new TypeError("Private accessor was defined without a setter");if(typeof _e=="function"?$!==_e||!nt:!_e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return tt==="a"?nt.call($,et):nt?nt.value=et:_e.set($,et),et}function __classPrivateFieldIn($,_e){if(_e===null||typeof _e!="object"&&typeof _e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof $=="function"?_e===$:$.has(_e)}function __addDisposableResource($,_e,et){if(_e!=null){if(typeof _e!="object"&&typeof _e!="function")throw new TypeError("Object expected.");var tt,nt;if(et){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");tt=_e[Symbol.asyncDispose]}if(tt===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");tt=_e[Symbol.dispose],et&&(nt=tt)}if(typeof tt!="function")throw new TypeError("Object not disposable.");nt&&(tt=function(){try{nt.call(this)}catch(rt){return Promise.reject(rt)}}),$.stack.push({value:_e,dispose:tt,async:et})}else et&&$.stack.push({async:!0});return _e}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function($,_e,et){var tt=new Error(et);return tt.name="SuppressedError",tt.error=$,tt.suppressed=_e,tt};function __disposeResources($){function _e(rt){$.error=$.hasError?new _SuppressedError(rt,$.error,"An error was suppressed during disposal."):rt,$.hasError=!0}var et,tt=0;function nt(){for(;et=$.stack.pop();)try{if(!et.async&&tt===1)return tt=0,$.stack.push(et),Promise.resolve().then(nt);if(et.dispose){var rt=et.dispose.call(et.value);if(et.async)return tt|=2,Promise.resolve(rt).then(nt,function(it){return _e(it),nt()})}else tt|=1}catch(it){_e(it)}if(tt===1)return $.hasError?Promise.reject($.error):Promise.resolve();if($.hasError)throw $.error}return nt()}function __rewriteRelativeImportExtension($,_e){return typeof $=="string"&&/^\.\.?\//.test($)?$.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(et,tt,nt,rt,it){return tt?_e?".jsx":".js":nt&&(!rt||!it)?et:nt+rt+"."+it.toLowerCase()+"js"}):$}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault:__importDefault$2,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault:__importDefault$2,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function($){return"/"+$},seen={},__vitePreload=function(_e,et,tt){let nt=Promise.resolve();if(et&&et.length>0){document.getElementsByTagName("link");const it=document.querySelector("meta[property=csp-nonce]"),st=(it==null?void 0:it.nonce)||(it==null?void 0:it.getAttribute("nonce"));nt=Promise.allSettled(et.map(ot=>{if(ot=assetsURL(ot),ot in seen)return;seen[ot]=!0;const at=ot.endsWith(".css"),lt=at?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ot}"]${lt}`))return;const ut=document.createElement("link");if(ut.rel=at?"stylesheet":scriptRel,at||(ut.as="script"),ut.crossOrigin="",ut.href=ot,st&&ut.setAttribute("nonce",st),document.head.appendChild(ut),at)return new Promise((dt,ct)=>{ut.addEventListener("load",dt),ut.addEventListener("error",()=>ct(new Error(`Unable to preload CSS for ${ot}`)))})}))}function rt(it){const st=new Event("vite:preloadError",{cancelable:!0});if(st.payload=it,window.dispatchEvent(st),!st.defaultPrevented)throw it}return nt.then(it=>{for(const st of it||[])st.status==="rejected"&&rt(st.reason);return _e().catch(rt)})},resolveFetch$4=$=>{let _e;return $?_e=$:typeof fetch>"u"?_e=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},[]).then(({default:tt})=>tt(...et)):_e=fetch,(...et)=>_e(...et)};class FunctionsError extends Error{constructor(_e,et="FunctionsError",tt){super(_e),this.name=et,this.context=tt}}class FunctionsFetchError extends FunctionsError{constructor(_e){super("Failed to send a request to the Edge Function","FunctionsFetchError",_e)}}class FunctionsRelayError extends FunctionsError{constructor(_e){super("Relay Error invoking the Edge Function","FunctionsRelayError",_e)}}class FunctionsHttpError extends FunctionsError{constructor(_e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",_e)}}var FunctionRegion;(function($){$.Any="any",$.ApNortheast1="ap-northeast-1",$.ApNortheast2="ap-northeast-2",$.ApSouth1="ap-south-1",$.ApSoutheast1="ap-southeast-1",$.ApSoutheast2="ap-southeast-2",$.CaCentral1="ca-central-1",$.EuCentral1="eu-central-1",$.EuWest1="eu-west-1",$.EuWest2="eu-west-2",$.EuWest3="eu-west-3",$.SaEast1="sa-east-1",$.UsEast1="us-east-1",$.UsWest1="us-west-1",$.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(_e,{headers:et={},customFetch:tt,region:nt=FunctionRegion.Any}={}){this.url=_e,this.headers=et,this.region=nt,this.fetch=resolveFetch$4(tt)}setAuth(_e){this.headers.Authorization=`Bearer ${_e}`}invoke(_e){return __awaiter(this,arguments,void 0,function*(et,tt={}){var nt;try{const{headers:rt,method:it,body:st,signal:ot}=tt;let at={},{region:lt}=tt;lt||(lt=this.region);const ut=new URL(`${this.url}/${et}`);lt&&lt!=="any"&&(at["x-region"]=lt,ut.searchParams.set("forceFunctionRegion",lt));let dt;st&&(rt&&!Object.prototype.hasOwnProperty.call(rt,"Content-Type")||!rt)?typeof Blob<"u"&&st instanceof Blob||st instanceof ArrayBuffer?(at["Content-Type"]="application/octet-stream",dt=st):typeof st=="string"?(at["Content-Type"]="text/plain",dt=st):typeof FormData<"u"&&st instanceof FormData?dt=st:(at["Content-Type"]="application/json",dt=JSON.stringify(st)):dt=st;const ct=yield this.fetch(ut.toString(),{method:it||"POST",headers:Object.assign(Object.assign(Object.assign({},at),this.headers),rt),body:dt,signal:ot}).catch(ht=>{throw ht.name==="AbortError"?ht:new FunctionsFetchError(ht)}),ft=ct.headers.get("x-relay-error");if(ft&&ft==="true")throw new FunctionsRelayError(ct);if(!ct.ok)throw new FunctionsHttpError(ct);let pt=((nt=ct.headers.get("Content-Type"))!==null&&nt!==void 0?nt:"text/plain").split(";")[0].trim(),gt;return pt==="application/json"?gt=yield ct.json():pt==="application/octet-stream"||pt==="application/pdf"?gt=yield ct.blob():pt==="text/event-stream"?gt=ct:pt==="multipart/form-data"?gt=yield ct.formData():gt=yield ct.text(),{data:gt,error:null,response:ct}}catch(rt){return rt instanceof Error&&rt.name==="AbortError"?{data:null,error:new FunctionsFetchError(rt)}:{data:null,error:rt,response:rt instanceof FunctionsHttpError||rt instanceof FunctionsRelayError?rt.context:void 0}}})}}var cjs$3={};const require$$0=getAugmentedNamespace(tslib_es6$1);var PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$2=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$2,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(browser);var PostgrestError$2={},hasRequiredPostgrestError;function requirePostgrestError(){if(hasRequiredPostgrestError)return PostgrestError$2;hasRequiredPostgrestError=1,Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});class $ extends Error{constructor(et){super(et.message),this.name="PostgrestError",this.details=et.details,this.hint=et.hint,this.code=et.code}}return PostgrestError$2.default=$,PostgrestError$2}var hasRequiredPostgrestBuilder;function requirePostgrestBuilder(){if(hasRequiredPostgrestBuilder)return PostgrestBuilder$2;hasRequiredPostgrestBuilder=1,Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const $=require$$0,_e=$.__importDefault(require$$1),et=$.__importDefault(requirePostgrestError());class tt{constructor(rt){var it,st;this.shouldThrowOnError=!1,this.method=rt.method,this.url=rt.url,this.headers=new Headers(rt.headers),this.schema=rt.schema,this.body=rt.body,this.shouldThrowOnError=(it=rt.shouldThrowOnError)!==null&&it!==void 0?it:!1,this.signal=rt.signal,this.isMaybeSingle=(st=rt.isMaybeSingle)!==null&&st!==void 0?st:!1,rt.fetch?this.fetch=rt.fetch:typeof fetch>"u"?this.fetch=_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(rt,it){return this.headers=new Headers(this.headers),this.headers.set(rt,it),this}then(rt,it){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const st=this.fetch;let ot=st(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async at=>{var lt,ut,dt,ct;let ft=null,pt=null,gt=null,ht=at.status,mt=at.statusText;if(at.ok){if(this.method!=="HEAD"){const vt=await at.text();vt===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((lt=this.headers.get("Accept"))===null||lt===void 0)&&lt.includes("application/vnd.pgrst.plan+text"))?pt=vt:pt=JSON.parse(vt))}const xt=(ut=this.headers.get("Prefer"))===null||ut===void 0?void 0:ut.match(/count=(exact|planned|estimated)/),Et=(dt=at.headers.get("content-range"))===null||dt===void 0?void 0:dt.split("/");xt&&Et&&Et.length>1&&(gt=parseInt(Et[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(pt)&&(pt.length>1?(ft={code:"PGRST116",details:`Results contain ${pt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},pt=null,gt=null,ht=406,mt="Not Acceptable"):pt.length===1?pt=pt[0]:pt=null)}else{const xt=await at.text();try{ft=JSON.parse(xt),Array.isArray(ft)&&at.status===404&&(pt=[],ft=null,ht=200,mt="OK")}catch{at.status===404&&xt===""?(ht=204,mt="No Content"):ft={message:xt}}if(ft&&this.isMaybeSingle&&(!((ct=ft==null?void 0:ft.details)===null||ct===void 0)&&ct.includes("0 rows"))&&(ft=null,ht=200,mt="OK"),ft&&this.shouldThrowOnError)throw new et.default(ft)}return{error:ft,data:pt,count:gt,status:ht,statusText:mt}});return this.shouldThrowOnError||(ot=ot.catch(at=>{var lt,ut,dt;return{error:{message:`${(lt=at==null?void 0:at.name)!==null&&lt!==void 0?lt:"FetchError"}: ${at==null?void 0:at.message}`,details:`${(ut=at==null?void 0:at.stack)!==null&&ut!==void 0?ut:""}`,hint:"",code:`${(dt=at==null?void 0:at.code)!==null&&dt!==void 0?dt:""}`},data:null,count:null,status:0,statusText:""}})),ot.then(rt,it)}returns(){return this}overrideTypes(){return this}}return PostgrestBuilder$2.default=tt,PostgrestBuilder$2}var hasRequiredPostgrestTransformBuilder;function requirePostgrestTransformBuilder(){if(hasRequiredPostgrestTransformBuilder)return PostgrestTransformBuilder$2;hasRequiredPostgrestTransformBuilder=1,Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const _e=require$$0.__importDefault(requirePostgrestBuilder());class et extends _e.default{select(nt){let rt=!1;const it=(nt??"*").split("").map(st=>/\s/.test(st)&&!rt?"":(st==='"'&&(rt=!rt),st)).join("");return this.url.searchParams.set("select",it),this.headers.append("Prefer","return=representation"),this}order(nt,{ascending:rt=!0,nullsFirst:it,foreignTable:st,referencedTable:ot=st}={}){const at=ot?`${ot}.order`:"order",lt=this.url.searchParams.get(at);return this.url.searchParams.set(at,`${lt?`${lt},`:""}${nt}.${rt?"asc":"desc"}${it===void 0?"":it?".nullsfirst":".nullslast"}`),this}limit(nt,{foreignTable:rt,referencedTable:it=rt}={}){const st=typeof it>"u"?"limit":`${it}.limit`;return this.url.searchParams.set(st,`${nt}`),this}range(nt,rt,{foreignTable:it,referencedTable:st=it}={}){const ot=typeof st>"u"?"offset":`${st}.offset`,at=typeof st>"u"?"limit":`${st}.limit`;return this.url.searchParams.set(ot,`${nt}`),this.url.searchParams.set(at,`${rt-nt+1}`),this}abortSignal(nt){return this.signal=nt,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:nt=!1,verbose:rt=!1,settings:it=!1,buffers:st=!1,wal:ot=!1,format:at="text"}={}){var lt;const ut=[nt?"analyze":null,rt?"verbose":null,it?"settings":null,st?"buffers":null,ot?"wal":null].filter(Boolean).join("|"),dt=(lt=this.headers.get("Accept"))!==null&&lt!==void 0?lt:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${at}; for="${dt}"; options=${ut};`),at==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(nt){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${nt}`),this}}return PostgrestTransformBuilder$2.default=et,PostgrestTransformBuilder$2}var hasRequiredPostgrestFilterBuilder;function requirePostgrestFilterBuilder(){if(hasRequiredPostgrestFilterBuilder)return PostgrestFilterBuilder$2;hasRequiredPostgrestFilterBuilder=1,Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const _e=require$$0.__importDefault(requirePostgrestTransformBuilder()),et=new RegExp("[,()]");class tt extends _e.default{eq(rt,it){return this.url.searchParams.append(rt,`eq.${it}`),this}neq(rt,it){return this.url.searchParams.append(rt,`neq.${it}`),this}gt(rt,it){return this.url.searchParams.append(rt,`gt.${it}`),this}gte(rt,it){return this.url.searchParams.append(rt,`gte.${it}`),this}lt(rt,it){return this.url.searchParams.append(rt,`lt.${it}`),this}lte(rt,it){return this.url.searchParams.append(rt,`lte.${it}`),this}like(rt,it){return this.url.searchParams.append(rt,`like.${it}`),this}likeAllOf(rt,it){return this.url.searchParams.append(rt,`like(all).{${it.join(",")}}`),this}likeAnyOf(rt,it){return this.url.searchParams.append(rt,`like(any).{${it.join(",")}}`),this}ilike(rt,it){return this.url.searchParams.append(rt,`ilike.${it}`),this}ilikeAllOf(rt,it){return this.url.searchParams.append(rt,`ilike(all).{${it.join(",")}}`),this}ilikeAnyOf(rt,it){return this.url.searchParams.append(rt,`ilike(any).{${it.join(",")}}`),this}is(rt,it){return this.url.searchParams.append(rt,`is.${it}`),this}in(rt,it){const st=Array.from(new Set(it)).map(ot=>typeof ot=="string"&&et.test(ot)?`"${ot}"`:`${ot}`).join(",");return this.url.searchParams.append(rt,`in.(${st})`),this}contains(rt,it){return typeof it=="string"?this.url.searchParams.append(rt,`cs.${it}`):Array.isArray(it)?this.url.searchParams.append(rt,`cs.{${it.join(",")}}`):this.url.searchParams.append(rt,`cs.${JSON.stringify(it)}`),this}containedBy(rt,it){return typeof it=="string"?this.url.searchParams.append(rt,`cd.${it}`):Array.isArray(it)?this.url.searchParams.append(rt,`cd.{${it.join(",")}}`):this.url.searchParams.append(rt,`cd.${JSON.stringify(it)}`),this}rangeGt(rt,it){return this.url.searchParams.append(rt,`sr.${it}`),this}rangeGte(rt,it){return this.url.searchParams.append(rt,`nxl.${it}`),this}rangeLt(rt,it){return this.url.searchParams.append(rt,`sl.${it}`),this}rangeLte(rt,it){return this.url.searchParams.append(rt,`nxr.${it}`),this}rangeAdjacent(rt,it){return this.url.searchParams.append(rt,`adj.${it}`),this}overlaps(rt,it){return typeof it=="string"?this.url.searchParams.append(rt,`ov.${it}`):this.url.searchParams.append(rt,`ov.{${it.join(",")}}`),this}textSearch(rt,it,{config:st,type:ot}={}){let at="";ot==="plain"?at="pl":ot==="phrase"?at="ph":ot==="websearch"&&(at="w");const lt=st===void 0?"":`(${st})`;return this.url.searchParams.append(rt,`${at}fts${lt}.${it}`),this}match(rt){return Object.entries(rt).forEach(([it,st])=>{this.url.searchParams.append(it,`eq.${st}`)}),this}not(rt,it,st){return this.url.searchParams.append(rt,`not.${it}.${st}`),this}or(rt,{foreignTable:it,referencedTable:st=it}={}){const ot=st?`${st}.or`:"or";return this.url.searchParams.append(ot,`(${rt})`),this}filter(rt,it,st){return this.url.searchParams.append(rt,`${it}.${st}`),this}}return PostgrestFilterBuilder$2.default=tt,PostgrestFilterBuilder$2}var hasRequiredPostgrestQueryBuilder;function requirePostgrestQueryBuilder(){if(hasRequiredPostgrestQueryBuilder)return PostgrestQueryBuilder$2;hasRequiredPostgrestQueryBuilder=1,Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const _e=require$$0.__importDefault(requirePostgrestFilterBuilder());class et{constructor(nt,{headers:rt={},schema:it,fetch:st}){this.url=nt,this.headers=new Headers(rt),this.schema=it,this.fetch=st}select(nt,rt){const{head:it=!1,count:st}=rt??{},ot=it?"HEAD":"GET";let at=!1;const lt=(nt??"*").split("").map(ut=>/\s/.test(ut)&&!at?"":(ut==='"'&&(at=!at),ut)).join("");return this.url.searchParams.set("select",lt),st&&this.headers.append("Prefer",`count=${st}`),new _e.default({method:ot,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(nt,{count:rt,defaultToNull:it=!0}={}){var st;const ot="POST";if(rt&&this.headers.append("Prefer",`count=${rt}`),it||this.headers.append("Prefer","missing=default"),Array.isArray(nt)){const at=nt.reduce((lt,ut)=>lt.concat(Object.keys(ut)),[]);if(at.length>0){const lt=[...new Set(at)].map(ut=>`"${ut}"`);this.url.searchParams.set("columns",lt.join(","))}}return new _e.default({method:ot,url:this.url,headers:this.headers,schema:this.schema,body:nt,fetch:(st=this.fetch)!==null&&st!==void 0?st:fetch})}upsert(nt,{onConflict:rt,ignoreDuplicates:it=!1,count:st,defaultToNull:ot=!0}={}){var at;const lt="POST";if(this.headers.append("Prefer",`resolution=${it?"ignore":"merge"}-duplicates`),rt!==void 0&&this.url.searchParams.set("on_conflict",rt),st&&this.headers.append("Prefer",`count=${st}`),ot||this.headers.append("Prefer","missing=default"),Array.isArray(nt)){const ut=nt.reduce((dt,ct)=>dt.concat(Object.keys(ct)),[]);if(ut.length>0){const dt=[...new Set(ut)].map(ct=>`"${ct}"`);this.url.searchParams.set("columns",dt.join(","))}}return new _e.default({method:lt,url:this.url,headers:this.headers,schema:this.schema,body:nt,fetch:(at=this.fetch)!==null&&at!==void 0?at:fetch})}update(nt,{count:rt}={}){var it;const st="PATCH";return rt&&this.headers.append("Prefer",`count=${rt}`),new _e.default({method:st,url:this.url,headers:this.headers,schema:this.schema,body:nt,fetch:(it=this.fetch)!==null&&it!==void 0?it:fetch})}delete({count:nt}={}){var rt;const it="DELETE";return nt&&this.headers.append("Prefer",`count=${nt}`),new _e.default({method:it,url:this.url,headers:this.headers,schema:this.schema,fetch:(rt=this.fetch)!==null&&rt!==void 0?rt:fetch})}}return PostgrestQueryBuilder$2.default=et,PostgrestQueryBuilder$2}var hasRequiredPostgrestClient;function requirePostgrestClient(){if(hasRequiredPostgrestClient)return PostgrestClient$2;hasRequiredPostgrestClient=1,Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const $=require$$0,_e=$.__importDefault(requirePostgrestQueryBuilder()),et=$.__importDefault(requirePostgrestFilterBuilder());class tt{constructor(rt,{headers:it={},schema:st,fetch:ot}={}){this.url=rt,this.headers=new Headers(it),this.schemaName=st,this.fetch=ot}from(rt){const it=new URL(`${this.url}/${rt}`);return new _e.default(it,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(rt){return new tt(this.url,{headers:this.headers,schema:rt,fetch:this.fetch})}rpc(rt,it={},{head:st=!1,get:ot=!1,count:at}={}){var lt;let ut;const dt=new URL(`${this.url}/rpc/${rt}`);let ct;st||ot?(ut=st?"HEAD":"GET",Object.entries(it).filter(([pt,gt])=>gt!==void 0).map(([pt,gt])=>[pt,Array.isArray(gt)?`{${gt.join(",")}}`:`${gt}`]).forEach(([pt,gt])=>{dt.searchParams.append(pt,gt)})):(ut="POST",ct=it);const ft=new Headers(this.headers);return at&&ft.set("Prefer",`count=${at}`),new et.default({method:ut,url:dt,headers:ft,schema:this.schemaName,body:ct,fetch:(lt=this.fetch)!==null&&lt!==void 0?lt:fetch})}}return PostgrestClient$2.default=tt,PostgrestClient$2}Object.defineProperty(cjs$3,"__esModule",{value:!0});var PostgrestError$1=cjs$3.PostgrestError=PostgrestBuilder$1=cjs$3.PostgrestBuilder=PostgrestTransformBuilder$1=cjs$3.PostgrestTransformBuilder=PostgrestFilterBuilder$1=cjs$3.PostgrestFilterBuilder=PostgrestQueryBuilder$1=cjs$3.PostgrestQueryBuilder=PostgrestClient$1=cjs$3.PostgrestClient=void 0;const tslib_1=require$$0,PostgrestClient_1=tslib_1.__importDefault(requirePostgrestClient());var PostgrestClient$1=cjs$3.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=tslib_1.__importDefault(requirePostgrestQueryBuilder());var PostgrestQueryBuilder$1=cjs$3.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=tslib_1.__importDefault(requirePostgrestFilterBuilder());var PostgrestFilterBuilder$1=cjs$3.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=tslib_1.__importDefault(requirePostgrestTransformBuilder());var PostgrestTransformBuilder$1=cjs$3.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=tslib_1.__importDefault(requirePostgrestBuilder());var PostgrestBuilder$1=cjs$3.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=tslib_1.__importDefault(requirePostgrestError());PostgrestError$1=cjs$3.PostgrestError=PostgrestError_1.default;var _default=cjs$3.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const index$2=_mergeNamespaces({__proto__:null,get PostgrestBuilder(){return PostgrestBuilder$1},get PostgrestClient(){return PostgrestClient$1},get PostgrestError(){return PostgrestError$1},get PostgrestFilterBuilder(){return PostgrestFilterBuilder$1},get PostgrestQueryBuilder(){return PostgrestQueryBuilder$1},get PostgrestTransformBuilder(){return PostgrestTransformBuilder$1},default:_default},[cjs$3]),{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default||index$2;class WebSocketFactory{static detectEnvironment(){var _e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((_e=navigator.userAgent)===null||_e===void 0)&&_e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const et=process.versions;if(et&&et.node){const tt=et.node,nt=parseInt(tt.replace(/^v/,"").split(".")[0]);return nt>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${nt} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${nt} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const _e=this.detectEnvironment();if(_e.constructor)return _e.constructor;let et=_e.error||"WebSocket not supported in this environment.";throw _e.workaround&&(et+=`

Suggested solution: ${_e.workaround}`),new Error(et)}static createWebSocket(_e,et){const tt=this.getWebSocketConstructor();return new tt(_e,et)}static isWebSocketSupported(){try{const _e=this.detectEnvironment();return _e.type==="native"||_e.type==="ws"}catch{return!1}}}const version$4="2.78.0",DEFAULT_VERSION=`realtime-js/${version$4}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function($){$[$.connecting=0]="connecting",$[$.open=1]="open",$[$.closing=2]="closing",$[$.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function($){$.closed="closed",$.errored="errored",$.joined="joined",$.joining="joining",$.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function($){$.close="phx_close",$.error="phx_error",$.join="phx_join",$.reply="phx_reply",$.leave="phx_leave",$.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function($){$.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function($){$.Connecting="connecting",$.Open="open",$.Closing="closing",$.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(_e,et){return _e.constructor===ArrayBuffer?et(this._binaryDecode(_e)):et(typeof _e=="string"?JSON.parse(_e):{})}_binaryDecode(_e){const et=new DataView(_e),tt=new TextDecoder;return this._decodeBroadcast(_e,et,tt)}_decodeBroadcast(_e,et,tt){const nt=et.getUint8(1),rt=et.getUint8(2);let it=this.HEADER_LENGTH+2;const st=tt.decode(_e.slice(it,it+nt));it=it+nt;const ot=tt.decode(_e.slice(it,it+rt));it=it+rt;const at=JSON.parse(tt.decode(_e.slice(it,_e.byteLength)));return{ref:null,topic:st,event:ot,payload:at}}}class Timer{constructor(_e,et){this.callback=_e,this.timerCalc=et,this.timer=void 0,this.tries=0,this.callback=_e,this.timerCalc=et}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function($){$.abstime="abstime",$.bool="bool",$.date="date",$.daterange="daterange",$.float4="float4",$.float8="float8",$.int2="int2",$.int4="int4",$.int4range="int4range",$.int8="int8",$.int8range="int8range",$.json="json",$.jsonb="jsonb",$.money="money",$.numeric="numeric",$.oid="oid",$.reltime="reltime",$.text="text",$.time="time",$.timestamp="timestamp",$.timestamptz="timestamptz",$.timetz="timetz",$.tsrange="tsrange",$.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=($,_e,et={})=>{var tt;const nt=(tt=et.skipTypes)!==null&&tt!==void 0?tt:[];return _e?Object.keys(_e).reduce((rt,it)=>(rt[it]=convertColumn(it,$,_e,nt),rt),{}):{}},convertColumn=($,_e,et,tt)=>{const nt=_e.find(st=>st.name===$),rt=nt==null?void 0:nt.type,it=et[$];return rt&&!tt.includes(rt)?convertCell(rt,it):noop$2(it)},convertCell=($,_e)=>{if($.charAt(0)==="_"){const et=$.slice(1,$.length);return toArray(_e,et)}switch($){case PostgresTypes.bool:return toBoolean(_e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(_e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(_e);case PostgresTypes.timestamp:return toTimestampString(_e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$2(_e);default:return noop$2(_e)}},noop$2=$=>$,toBoolean=$=>{switch($){case"t":return!0;case"f":return!1;default:return $}},toNumber=$=>{if(typeof $=="string"){const _e=parseFloat($);if(!Number.isNaN(_e))return _e}return $},toJson=$=>{if(typeof $=="string")try{return JSON.parse($)}catch(_e){return console.log(`JSON parse error: ${_e}`),$}return $},toArray=($,_e)=>{if(typeof $!="string")return $;const et=$.length-1,tt=$[et];if($[0]==="{"&&tt==="}"){let rt;const it=$.slice(1,et);try{rt=JSON.parse("["+it+"]")}catch{rt=it?it.split(","):[]}return rt.map(st=>convertCell(_e,st))}return $},toTimestampString=$=>typeof $=="string"?$.replace(" ","T"):$,httpEndpointURL=$=>{const _e=new URL($);return _e.protocol=_e.protocol.replace(/^ws/i,"http"),_e.pathname=_e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),_e.pathname===""||_e.pathname==="/"?_e.pathname="/api/broadcast":_e.pathname=_e.pathname+"/api/broadcast",_e.href};class Push{constructor(_e,et,tt={},nt=DEFAULT_TIMEOUT){this.channel=_e,this.event=et,this.payload=tt,this.timeout=nt,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(_e){this.timeout=_e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(_e){this.payload=Object.assign(Object.assign({},this.payload),_e)}receive(_e,et){var tt;return this._hasReceived(_e)&&et((tt=this.receivedResp)===null||tt===void 0?void 0:tt.response),this.recHooks.push({status:_e,callback:et}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const _e=et=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=et,this._matchReceive(et)};this.channel._on(this.refEvent,{},_e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(_e,et){this.refEvent&&this.channel._trigger(this.refEvent,{status:_e,response:et})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:_e,response:et}){this.recHooks.filter(tt=>tt.status===_e).forEach(tt=>tt.callback(et))}_hasReceived(_e){return this.receivedResp&&this.receivedResp.status===_e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function($){$.SYNC="sync",$.JOIN="join",$.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(_e,et){this.channel=_e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const tt=(et==null?void 0:et.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(tt.state,{},nt=>{const{onJoin:rt,onLeave:it,onSync:st}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,nt,rt,it),this.pendingDiffs.forEach(ot=>{this.state=RealtimePresence.syncDiff(this.state,ot,rt,it)}),this.pendingDiffs=[],st()}),this.channel._on(tt.diff,{},nt=>{const{onJoin:rt,onLeave:it,onSync:st}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(nt):(this.state=RealtimePresence.syncDiff(this.state,nt,rt,it),st())}),this.onJoin((nt,rt,it)=>{this.channel._trigger("presence",{event:"join",key:nt,currentPresences:rt,newPresences:it})}),this.onLeave((nt,rt,it)=>{this.channel._trigger("presence",{event:"leave",key:nt,currentPresences:rt,leftPresences:it})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(_e,et,tt,nt){const rt=this.cloneDeep(_e),it=this.transformState(et),st={},ot={};return this.map(rt,(at,lt)=>{it[at]||(ot[at]=lt)}),this.map(it,(at,lt)=>{const ut=rt[at];if(ut){const dt=lt.map(gt=>gt.presence_ref),ct=ut.map(gt=>gt.presence_ref),ft=lt.filter(gt=>ct.indexOf(gt.presence_ref)<0),pt=ut.filter(gt=>dt.indexOf(gt.presence_ref)<0);ft.length>0&&(st[at]=ft),pt.length>0&&(ot[at]=pt)}else st[at]=lt}),this.syncDiff(rt,{joins:st,leaves:ot},tt,nt)}static syncDiff(_e,et,tt,nt){const{joins:rt,leaves:it}={joins:this.transformState(et.joins),leaves:this.transformState(et.leaves)};return tt||(tt=()=>{}),nt||(nt=()=>{}),this.map(rt,(st,ot)=>{var at;const lt=(at=_e[st])!==null&&at!==void 0?at:[];if(_e[st]=this.cloneDeep(ot),lt.length>0){const ut=_e[st].map(ct=>ct.presence_ref),dt=lt.filter(ct=>ut.indexOf(ct.presence_ref)<0);_e[st].unshift(...dt)}tt(st,lt,ot)}),this.map(it,(st,ot)=>{let at=_e[st];if(!at)return;const lt=ot.map(ut=>ut.presence_ref);at=at.filter(ut=>lt.indexOf(ut.presence_ref)<0),_e[st]=at,nt(st,at,ot),at.length===0&&delete _e[st]}),_e}static map(_e,et){return Object.getOwnPropertyNames(_e).map(tt=>et(tt,_e[tt]))}static transformState(_e){return _e=this.cloneDeep(_e),Object.getOwnPropertyNames(_e).reduce((et,tt)=>{const nt=_e[tt];return"metas"in nt?et[tt]=nt.metas.map(rt=>(rt.presence_ref=rt.phx_ref,delete rt.phx_ref,delete rt.phx_ref_prev,rt)):et[tt]=nt,et},{})}static cloneDeep(_e){return JSON.parse(JSON.stringify(_e))}onJoin(_e){this.caller.onJoin=_e}onLeave(_e){this.caller.onLeave=_e}onSync(_e){this.caller.onSync=_e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function($){$.ALL="*",$.INSERT="INSERT",$.UPDATE="UPDATE",$.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function($){$.BROADCAST="broadcast",$.PRESENCE="presence",$.POSTGRES_CHANGES="postgres_changes",$.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function($){$.SUBSCRIBED="SUBSCRIBED",$.TIMED_OUT="TIMED_OUT",$.CLOSED="CLOSED",$.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(_e,et={config:{}},tt){var nt,rt;if(this.topic=_e,this.params=et,this.socket=tt,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=_e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},et.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(it=>it.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(it=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,it),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",it=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,it),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(it,st)=>{this._trigger(this._replyEventName(st),it)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((rt=(nt=this.params.config)===null||nt===void 0?void 0:nt.broadcast)===null||rt===void 0)&&rt.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(_e,et=this.timeout){var tt,nt,rt;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:it,presence:st,private:ot}}=this.params,at=(nt=(tt=this.bindings.postgres_changes)===null||tt===void 0?void 0:tt.map(ct=>ct.filter))!==null&&nt!==void 0?nt:[],lt=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((rt=this.params.config.presence)===null||rt===void 0?void 0:rt.enabled)===!0,ut={},dt={broadcast:it,presence:Object.assign(Object.assign({},st),{enabled:lt}),postgres_changes:at,private:ot};this.socket.accessTokenValue&&(ut.access_token=this.socket.accessTokenValue),this._onError(ct=>_e==null?void 0:_e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,ct)),this._onClose(()=>_e==null?void 0:_e(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:dt},ut)),this.joinedOnce=!0,this._rejoin(et),this.joinPush.receive("ok",async({postgres_changes:ct})=>{var ft;if(this.socket.setAuth(),ct===void 0){_e==null||_e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const pt=this.bindings.postgres_changes,gt=(ft=pt==null?void 0:pt.length)!==null&&ft!==void 0?ft:0,ht=[];for(let mt=0;mt<gt;mt++){const bt=pt[mt],{filter:{event:xt,schema:Et,table:vt,filter:_t}}=bt,wt=ct&&ct[mt];if(wt&&wt.event===xt&&wt.schema===Et&&wt.table===vt&&wt.filter===_t)ht.push(Object.assign(Object.assign({},bt),{id:wt.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,_e==null||_e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ht,_e&&_e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",ct=>{this.state=CHANNEL_STATES.errored,_e==null||_e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(ct).join(", ")||"error")))}).receive("timeout",()=>{_e==null||_e(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(_e,et={}){return await this.send({type:"presence",event:"track",payload:_e},et.timeout||this.timeout)}async untrack(_e={}){return await this.send({type:"presence",event:"untrack"},_e)}on(_e,et,tt){return this.state===CHANNEL_STATES.joined&&_e===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(_e,et,tt)}async httpSend(_e,et,tt={}){var nt;const rt=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(et==null)return Promise.reject("Payload is required for httpSend()");const it={method:"POST",headers:{Authorization:rt,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:_e,payload:et,private:this.private}]})},st=await this._fetchWithTimeout(this.broadcastEndpointURL,it,(nt=tt.timeout)!==null&&nt!==void 0?nt:this.timeout);if(st.status===202)return{success:!0};let ot=st.statusText;try{const at=await st.json();ot=at.error||at.message||ot}catch{}return Promise.reject(new Error(ot))}async send(_e,et={}){var tt,nt;if(!this._canPush()&&_e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:rt,payload:it}=_e,ot={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:rt,payload:it,private:this.private}]})};try{const at=await this._fetchWithTimeout(this.broadcastEndpointURL,ot,(tt=et.timeout)!==null&&tt!==void 0?tt:this.timeout);return await((nt=at.body)===null||nt===void 0?void 0:nt.cancel()),at.ok?"ok":"error"}catch(at){return at.name==="AbortError"?"timed out":"error"}}else return new Promise(rt=>{var it,st,ot;const at=this._push(_e.type,_e,et.timeout||this.timeout);_e.type==="broadcast"&&!(!((ot=(st=(it=this.params)===null||it===void 0?void 0:it.config)===null||st===void 0?void 0:st.broadcast)===null||ot===void 0)&&ot.ack)&&rt("ok"),at.receive("ok",()=>rt("ok")),at.receive("error",()=>rt("error")),at.receive("timeout",()=>rt("timed out"))})}updateJoinPayload(_e){this.joinPush.updatePayload(_e)}unsubscribe(_e=this.timeout){this.state=CHANNEL_STATES.leaving;const et=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let tt=null;return new Promise(nt=>{tt=new Push(this,CHANNEL_EVENTS.leave,{},_e),tt.receive("ok",()=>{et(),nt("ok")}).receive("timeout",()=>{et(),nt("timed out")}).receive("error",()=>{nt("error")}),tt.send(),this._canPush()||tt.trigger("ok",{})}).finally(()=>{tt==null||tt.destroy()})}teardown(){this.pushBuffer.forEach(_e=>_e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(_e,et,tt){const nt=new AbortController,rt=setTimeout(()=>nt.abort(),tt),it=await this.socket.fetch(_e,Object.assign(Object.assign({},et),{signal:nt.signal}));return clearTimeout(rt),it}_push(_e,et,tt=this.timeout){if(!this.joinedOnce)throw`tried to push '${_e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let nt=new Push(this,_e,et,tt);return this._canPush()?nt.send():this._addToPushBuffer(nt),nt}_addToPushBuffer(_e){if(_e.startTimeout(),this.pushBuffer.push(_e),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const et=this.pushBuffer.shift();et&&(et.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${et.event}`,et.payload))}}_onMessage(_e,et,tt){return et}_isMember(_e){return this.topic===_e}_joinRef(){return this.joinPush.ref}_trigger(_e,et,tt){var nt,rt;const it=_e.toLocaleLowerCase(),{close:st,error:ot,leave:at,join:lt}=CHANNEL_EVENTS;if(tt&&[st,ot,at,lt].indexOf(it)>=0&&tt!==this._joinRef())return;let dt=this._onMessage(it,et,tt);if(et&&!dt)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(it)?(nt=this.bindings.postgres_changes)===null||nt===void 0||nt.filter(ct=>{var ft,pt,gt;return((ft=ct.filter)===null||ft===void 0?void 0:ft.event)==="*"||((gt=(pt=ct.filter)===null||pt===void 0?void 0:pt.event)===null||gt===void 0?void 0:gt.toLocaleLowerCase())===it}).map(ct=>ct.callback(dt,tt)):(rt=this.bindings[it])===null||rt===void 0||rt.filter(ct=>{var ft,pt,gt,ht,mt,bt;if(["broadcast","presence","postgres_changes"].includes(it))if("id"in ct){const xt=ct.id,Et=(ft=ct.filter)===null||ft===void 0?void 0:ft.event;return xt&&((pt=et.ids)===null||pt===void 0?void 0:pt.includes(xt))&&(Et==="*"||(Et==null?void 0:Et.toLocaleLowerCase())===((gt=et.data)===null||gt===void 0?void 0:gt.type.toLocaleLowerCase()))}else{const xt=(mt=(ht=ct==null?void 0:ct.filter)===null||ht===void 0?void 0:ht.event)===null||mt===void 0?void 0:mt.toLocaleLowerCase();return xt==="*"||xt===((bt=et==null?void 0:et.event)===null||bt===void 0?void 0:bt.toLocaleLowerCase())}else return ct.type.toLocaleLowerCase()===it}).map(ct=>{if(typeof dt=="object"&&"ids"in dt){const ft=dt.data,{schema:pt,table:gt,commit_timestamp:ht,type:mt,errors:bt}=ft;dt=Object.assign(Object.assign({},{schema:pt,table:gt,commit_timestamp:ht,eventType:mt,new:{},old:{},errors:bt}),this._getPayloadRecords(ft))}ct.callback(dt,tt)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(_e){return`chan_reply_${_e}`}_on(_e,et,tt){const nt=_e.toLocaleLowerCase(),rt={type:nt,filter:et,callback:tt};return this.bindings[nt]?this.bindings[nt].push(rt):this.bindings[nt]=[rt],this}_off(_e,et){const tt=_e.toLocaleLowerCase();return this.bindings[tt]&&(this.bindings[tt]=this.bindings[tt].filter(nt=>{var rt;return!(((rt=nt.type)===null||rt===void 0?void 0:rt.toLocaleLowerCase())===tt&&RealtimeChannel.isEqual(nt.filter,et))})),this}static isEqual(_e,et){if(Object.keys(_e).length!==Object.keys(et).length)return!1;for(const tt in _e)if(_e[tt]!==et[tt])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(_e){this._on(CHANNEL_EVENTS.close,{},_e)}_onError(_e){this._on(CHANNEL_EVENTS.error,{},et=>_e(et))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(_e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(_e))}_getPayloadRecords(_e){const et={new:{},old:{}};return(_e.type==="INSERT"||_e.type==="UPDATE")&&(et.new=convertChangeData(_e.columns,_e.record)),(_e.type==="UPDATE"||_e.type==="DELETE")&&(et.old=convertChangeData(_e.columns,_e.old_record)),et}}const noop$1=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(_e,et){var tt;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$1,this.ref=0,this.reconnectTimer=null,this.logger=noop$1,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=nt=>{let rt;return nt?rt=nt:typeof fetch>"u"?rt=(...it)=>__vitePreload(async()=>{const{default:st}=await Promise.resolve().then(()=>browser);return{default:st}},void 0).then(({default:st})=>st(...it)).catch(st=>{throw new Error(`Failed to load @supabase/node-fetch: ${st.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):rt=fetch,(...it)=>rt(...it)},!(!((tt=et==null?void 0:et.params)===null||tt===void 0)&&tt.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=et.params.apikey,this.endPoint=`${_e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(_e),this._initializeOptions(et),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(et==null?void 0:et.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(_e){this._setConnectionState("disconnected");const et=_e.message;throw et.includes("Node.js")?new Error(`${et}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${et}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(_e,et){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const tt=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(tt),this._setConnectionState("disconnected")},_e?this.conn.close(_e,et??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(_e){const et=await _e.unsubscribe();return this.channels.length===0&&this.disconnect(),et}async removeAllChannels(){const _e=await Promise.all(this.channels.map(et=>et.unsubscribe()));return this.channels=[],this.disconnect(),_e}log(_e,et,tt){this.logger(_e,et,tt)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(_e,et={config:{}}){const tt=`realtime:${_e}`,nt=this.getChannels().find(rt=>rt.topic===tt);if(nt)return nt;{const rt=new RealtimeChannel(`realtime:${_e}`,et,this);return this.channels.push(rt),rt}}push(_e){const{topic:et,event:tt,payload:nt,ref:rt}=_e,it=()=>{this.encode(_e,st=>{var ot;(ot=this.conn)===null||ot===void 0||ot.send(st)})};this.log("push",`${et} ${tt} (${rt})`,nt),this.isConnected()?it():this.sendBuffer.push(it)}async setAuth(_e=null){this._authPromise=this._performAuth(_e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var _e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(et){this.log("error","error in heartbeat callback",et)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(et){this.log("error","error in heartbeat callback",et)}this._wasManualDisconnect=!1,(_e=this.conn)===null||_e===void 0||_e.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var et;this.isConnected()||(et=this.reconnectTimer)===null||et===void 0||et.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(et){this.log("error","error in heartbeat callback",et)}this._setAuthSafely("heartbeat")}onHeartbeat(_e){this.heartbeatCallback=_e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(_e=>_e()),this.sendBuffer=[])}_makeRef(){let _e=this.ref+1;return _e===this.ref?this.ref=0:this.ref=_e,this.ref.toString()}_leaveOpenTopic(_e){let et=this.channels.find(tt=>tt.topic===_e&&(tt._isJoined()||tt._isJoining()));et&&(this.log("transport",`leaving duplicate topic "${_e}"`),et.unsubscribe())}_remove(_e){this.channels=this.channels.filter(et=>et.topic!==_e.topic)}_onConnMessage(_e){this.decode(_e.data,et=>{if(et.topic==="phoenix"&&et.event==="phx_reply")try{this.heartbeatCallback(et.payload.status==="ok"?"ok":"error")}catch(at){this.log("error","error in heartbeat callback",at)}et.ref&&et.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:tt,event:nt,payload:rt,ref:it}=et,st=it?`(${it})`:"",ot=rt.status||"";this.log("receive",`${ot} ${tt} ${nt} ${st}`.trim(),rt),this.channels.filter(at=>at._isMember(tt)).forEach(at=>at._trigger(nt,rt,it)),this._triggerStateCallbacks("message",et)})}_clearTimer(_e){var et;_e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):_e==="reconnect"&&((et=this.reconnectTimer)===null||et===void 0||et.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=_e=>this._onConnError(_e),this.conn.onmessage=_e=>this._onConnMessage(_e),this.conn.onclose=_e=>this._onConnClose(_e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(_e=>_e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const _e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(_e),this.workerRef.onerror=et=>{this.log("worker","worker error",et.message),this.workerRef.terminate()},this.workerRef.onmessage=et=>{et.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(_e){var et;this._setConnectionState("disconnected"),this.log("transport","close",_e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(et=this.reconnectTimer)===null||et===void 0||et.scheduleTimeout(),this._triggerStateCallbacks("close",_e)}_onConnError(_e){this._setConnectionState("disconnected"),this.log("transport",`${_e}`),this._triggerChanError(),this._triggerStateCallbacks("error",_e)}_triggerChanError(){this.channels.forEach(_e=>_e._trigger(CHANNEL_EVENTS.error))}_appendParams(_e,et){if(Object.keys(et).length===0)return _e;const tt=_e.match(/\?/)?"&":"?",nt=new URLSearchParams(et);return`${_e}${tt}${nt}`}_workerObjectUrl(_e){let et;if(_e)et=_e;else{const tt=new Blob([WORKER_SCRIPT],{type:"application/javascript"});et=URL.createObjectURL(tt)}return et}_setConnectionState(_e,et=!1){this._connectionState=_e,_e==="connecting"?this._wasManualDisconnect=!1:_e==="disconnecting"&&(this._wasManualDisconnect=et)}async _performAuth(_e=null){let et;_e?et=_e:this.accessToken?et=await this.accessToken():et=this.accessTokenValue,this.accessTokenValue!=et&&(this.accessTokenValue=et,this.channels.forEach(tt=>{const nt={access_token:et,version:DEFAULT_VERSION};et&&tt.updateJoinPayload(nt),tt.joinedOnce&&tt._isJoined()&&tt._push(CHANNEL_EVENTS.access_token,{access_token:et})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(_e="general"){this.setAuth().catch(et=>{this.log("error",`error setting auth in ${_e}`,et)})}_triggerStateCallbacks(_e,et){try{this.stateChangeCallbacks[_e].forEach(tt=>{try{tt(et)}catch(nt){this.log("error",`error in ${_e} callback`,nt)}})}catch(tt){this.log("error",`error triggering ${_e} callbacks`,tt)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(_e){var et,tt,nt,rt,it,st,ot,at,lt;if(this.transport=(et=_e==null?void 0:_e.transport)!==null&&et!==void 0?et:null,this.timeout=(tt=_e==null?void 0:_e.timeout)!==null&&tt!==void 0?tt:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(nt=_e==null?void 0:_e.heartbeatIntervalMs)!==null&&nt!==void 0?nt:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(rt=_e==null?void 0:_e.worker)!==null&&rt!==void 0?rt:!1,this.accessToken=(it=_e==null?void 0:_e.accessToken)!==null&&it!==void 0?it:null,this.heartbeatCallback=(st=_e==null?void 0:_e.heartbeatCallback)!==null&&st!==void 0?st:noop$1,_e!=null&&_e.params&&(this.params=_e.params),_e!=null&&_e.logger&&(this.logger=_e.logger),(_e!=null&&_e.logLevel||_e!=null&&_e.log_level)&&(this.logLevel=_e.logLevel||_e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(ot=_e==null?void 0:_e.reconnectAfterMs)!==null&&ot!==void 0?ot:ut=>RECONNECT_INTERVALS[ut-1]||DEFAULT_RECONNECT_FALLBACK,this.encode=(at=_e==null?void 0:_e.encode)!==null&&at!==void 0?at:(ut,dt)=>dt(JSON.stringify(ut)),this.decode=(lt=_e==null?void 0:_e.decode)!==null&&lt!==void 0?lt:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=_e==null?void 0:_e.workerUrl}}}class StorageError extends Error{constructor(_e){super(_e),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError($){return typeof $=="object"&&$!==null&&"__isStorageError"in $}class StorageApiError extends StorageError{constructor(_e,et,tt){super(_e),this.name="StorageApiError",this.status=et,this.statusCode=tt}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(_e,et){super(_e),this.name="StorageUnknownError",this.originalError=et}}const resolveFetch$3=$=>{let _e;return $?_e=$:typeof fetch>"u"?_e=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},void 0).then(({default:tt})=>tt(...et)):_e=fetch,(...et)=>_e(...et)},resolveResponse=()=>__awaiter(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=$=>{if(Array.isArray($))return $.map(et=>recursiveToCamel(et));if(typeof $=="function"||$!==Object($))return $;const _e={};return Object.entries($).forEach(([et,tt])=>{const nt=et.replace(/([-_][a-z])/gi,rt=>rt.toUpperCase().replace(/[-_]/g,""));_e[nt]=recursiveToCamel(tt)}),_e},isPlainObject$3=$=>{if(typeof $!="object"||$===null)return!1;const _e=Object.getPrototypeOf($);return(_e===null||_e===Object.prototype||Object.getPrototypeOf(_e)===null)&&!(Symbol.toStringTag in $)&&!(Symbol.iterator in $)},_getErrorMessage$2=$=>{var _e;return $.msg||$.message||$.error_description||(typeof $.error=="string"?$.error:(_e=$.error)===null||_e===void 0?void 0:_e.message)||JSON.stringify($)},handleError$2=($,_e,et)=>__awaiter(void 0,void 0,void 0,function*(){const tt=yield resolveResponse();$ instanceof tt&&!(et!=null&&et.noResolveJson)?$.json().then(nt=>{const rt=$.status||500,it=(nt==null?void 0:nt.statusCode)||rt+"";_e(new StorageApiError(_getErrorMessage$2(nt),rt,it))}).catch(nt=>{_e(new StorageUnknownError(_getErrorMessage$2(nt),nt))}):_e(new StorageUnknownError(_getErrorMessage$2($),$))}),_getRequestParams$2=($,_e,et,tt)=>{const nt={method:$,headers:(_e==null?void 0:_e.headers)||{}};return $==="GET"||!tt?nt:(isPlainObject$3(tt)?(nt.headers=Object.assign({"Content-Type":"application/json"},_e==null?void 0:_e.headers),nt.body=JSON.stringify(tt)):nt.body=tt,_e!=null&&_e.duplex&&(nt.duplex=_e.duplex),Object.assign(Object.assign({},nt),et))};function _handleRequest$2($,_e,et,tt,nt,rt){return __awaiter(this,void 0,void 0,function*(){return new Promise((it,st)=>{$(et,_getRequestParams$2(_e,tt,nt,rt)).then(ot=>{if(!ot.ok)throw ot;return tt!=null&&tt.noResolveJson?ot:ot.json()}).then(ot=>it(ot)).catch(ot=>handleError$2(ot,st,tt))})})}function get($,_e,et,tt){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2($,"GET",_e,et,tt)})}function post$2($,_e,et,tt,nt){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2($,"POST",_e,tt,nt,et)})}function put($,_e,et,tt,nt){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2($,"PUT",_e,tt,nt,et)})}function head($,_e,et,tt){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2($,"HEAD",_e,Object.assign(Object.assign({},et),{noResolveJson:!0}),tt)})}function remove($,_e,et,tt,nt){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2($,"DELETE",_e,tt,nt,et)})}class StreamDownloadBuilder{constructor(_e,et){this.downloadFn=_e,this.shouldThrowOnError=et}then(_e,et){return this.execute().then(_e,et)}execute(){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(_e){if(this.shouldThrowOnError)throw _e;if(isStorageError(_e))return{data:null,error:_e};throw _e}})}}var _a;class BlobDownloadBuilder{constructor(_e,et){this.downloadFn=_e,this.shouldThrowOnError=et,this[_a]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(_e,et){return this.getPromise().then(_e,et)}catch(_e){return this.getPromise().catch(_e)}finally(_e){return this.getPromise().finally(_e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(_e){if(this.shouldThrowOnError)throw _e;if(isStorageError(_e))return{data:null,error:_e};throw _e}})}}_a=Symbol.toStringTag;const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(_e,et={},tt,nt){this.shouldThrowOnError=!1,this.url=_e,this.headers=et,this.bucketId=tt,this.fetch=resolveFetch$3(nt)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(_e,et,tt,nt){return __awaiter(this,void 0,void 0,function*(){try{let rt;const it=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),nt);let st=Object.assign(Object.assign({},this.headers),_e==="POST"&&{"x-upsert":String(it.upsert)});const ot=it.metadata;typeof Blob<"u"&&tt instanceof Blob?(rt=new FormData,rt.append("cacheControl",it.cacheControl),ot&&rt.append("metadata",this.encodeMetadata(ot)),rt.append("",tt)):typeof FormData<"u"&&tt instanceof FormData?(rt=tt,rt.append("cacheControl",it.cacheControl),ot&&rt.append("metadata",this.encodeMetadata(ot))):(rt=tt,st["cache-control"]=`max-age=${it.cacheControl}`,st["content-type"]=it.contentType,ot&&(st["x-metadata"]=this.toBase64(this.encodeMetadata(ot)))),nt!=null&&nt.headers&&(st=Object.assign(Object.assign({},st),nt.headers));const at=this._removeEmptyFolders(et),lt=this._getFinalPath(at),ut=yield(_e=="PUT"?put:post$2)(this.fetch,`${this.url}/object/${lt}`,rt,Object.assign({headers:st},it!=null&&it.duplex?{duplex:it.duplex}:{}));return{data:{path:at,id:ut.Id,fullPath:ut.Key},error:null}}catch(rt){if(this.shouldThrowOnError)throw rt;if(isStorageError(rt))return{data:null,error:rt};throw rt}})}upload(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",_e,et,tt)})}uploadToSignedUrl(_e,et,tt,nt){return __awaiter(this,void 0,void 0,function*(){const rt=this._removeEmptyFolders(_e),it=this._getFinalPath(rt),st=new URL(this.url+`/object/upload/sign/${it}`);st.searchParams.set("token",et);try{let ot;const at=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},nt),lt=Object.assign(Object.assign({},this.headers),{"x-upsert":String(at.upsert)});typeof Blob<"u"&&tt instanceof Blob?(ot=new FormData,ot.append("cacheControl",at.cacheControl),ot.append("",tt)):typeof FormData<"u"&&tt instanceof FormData?(ot=tt,ot.append("cacheControl",at.cacheControl)):(ot=tt,lt["cache-control"]=`max-age=${at.cacheControl}`,lt["content-type"]=at.contentType);const ut=yield put(this.fetch,st.toString(),ot,{headers:lt});return{data:{path:rt,fullPath:ut.Key},error:null}}catch(ot){if(this.shouldThrowOnError)throw ot;if(isStorageError(ot))return{data:null,error:ot};throw ot}})}createSignedUploadUrl(_e,et){return __awaiter(this,void 0,void 0,function*(){try{let tt=this._getFinalPath(_e);const nt=Object.assign({},this.headers);et!=null&&et.upsert&&(nt["x-upsert"]="true");const rt=yield post$2(this.fetch,`${this.url}/object/upload/sign/${tt}`,{},{headers:nt}),it=new URL(this.url+rt.url),st=it.searchParams.get("token");if(!st)throw new StorageError("No token returned by API");return{data:{signedUrl:it.toString(),path:_e,token:st},error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt))return{data:null,error:tt};throw tt}})}update(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",_e,et,tt)})}move(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$2(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:_e,destinationKey:et,destinationBucket:tt==null?void 0:tt.destinationBucket},{headers:this.headers}),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}copy(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){try{return{data:{path:(yield post$2(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:_e,destinationKey:et,destinationBucket:tt==null?void 0:tt.destinationBucket},{headers:this.headers})).Key},error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}createSignedUrl(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){try{let nt=this._getFinalPath(_e),rt=yield post$2(this.fetch,`${this.url}/object/sign/${nt}`,Object.assign({expiresIn:et},tt!=null&&tt.transform?{transform:tt.transform}:{}),{headers:this.headers});const it=tt!=null&&tt.download?`&download=${tt.download===!0?"":tt.download}`:"";return rt={signedUrl:encodeURI(`${this.url}${rt.signedURL}${it}`)},{data:rt,error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}createSignedUrls(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){try{const nt=yield post$2(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:et,paths:_e},{headers:this.headers}),rt=tt!=null&&tt.download?`&download=${tt.download===!0?"":tt.download}`:"";return{data:nt.map(it=>Object.assign(Object.assign({},it),{signedUrl:it.signedURL?encodeURI(`${this.url}${it.signedURL}${rt}`):null})),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}download(_e,et){const nt=typeof(et==null?void 0:et.transform)<"u"?"render/image/authenticated":"object",rt=this.transformOptsToQueryString((et==null?void 0:et.transform)||{}),it=rt?`?${rt}`:"",st=this._getFinalPath(_e),ot=()=>get(this.fetch,`${this.url}/${nt}/${st}${it}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(ot,this.shouldThrowOnError)}info(_e){return __awaiter(this,void 0,void 0,function*(){const et=this._getFinalPath(_e);try{const tt=yield get(this.fetch,`${this.url}/object/info/${et}`,{headers:this.headers});return{data:recursiveToCamel(tt),error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt))return{data:null,error:tt};throw tt}})}exists(_e){return __awaiter(this,void 0,void 0,function*(){const et=this._getFinalPath(_e);try{return yield head(this.fetch,`${this.url}/object/${et}`,{headers:this.headers}),{data:!0,error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt)&&tt instanceof StorageUnknownError){const nt=tt.originalError;if([400,404].includes(nt==null?void 0:nt.status))return{data:!1,error:tt}}throw tt}})}getPublicUrl(_e,et){const tt=this._getFinalPath(_e),nt=[],rt=et!=null&&et.download?`download=${et.download===!0?"":et.download}`:"";rt!==""&&nt.push(rt);const st=typeof(et==null?void 0:et.transform)<"u"?"render/image":"object",ot=this.transformOptsToQueryString((et==null?void 0:et.transform)||{});ot!==""&&nt.push(ot);let at=nt.join("&");return at!==""&&(at=`?${at}`),{data:{publicUrl:encodeURI(`${this.url}/${st}/public/${tt}${at}`)}}}remove(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:_e},{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}list(_e,et,tt){return __awaiter(this,void 0,void 0,function*(){try{const nt=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),et),{prefix:_e||""});return{data:yield post$2(this.fetch,`${this.url}/object/list/${this.bucketId}`,nt,{headers:this.headers},tt),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}listV2(_e,et){return __awaiter(this,void 0,void 0,function*(){try{const tt=Object.assign({},_e);return{data:yield post$2(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,tt,{headers:this.headers},et),error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt))return{data:null,error:tt};throw tt}})}encodeMetadata(_e){return JSON.stringify(_e)}toBase64(_e){return typeof Buffer<"u"?Buffer.from(_e).toString("base64"):btoa(_e)}_getFinalPath(_e){return`${this.bucketId}/${_e.replace(/^\/+/,"")}`}_removeEmptyFolders(_e){return _e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(_e){const et=[];return _e.width&&et.push(`width=${_e.width}`),_e.height&&et.push(`height=${_e.height}`),_e.resize&&et.push(`resize=${_e.resize}`),_e.format&&et.push(`format=${_e.format}`),_e.quality&&et.push(`quality=${_e.quality}`),et.join("&")}}const version$3="2.78.0",DEFAULT_HEADERS$3={"X-Client-Info":`storage-js/${version$3}`};class StorageBucketApi{constructor(_e,et={},tt,nt){this.shouldThrowOnError=!1;const rt=new URL(_e);nt!=null&&nt.useNewHostname&&/supabase\.(co|in|red)$/.test(rt.hostname)&&!rt.hostname.includes("storage.supabase.")&&(rt.hostname=rt.hostname.replace("supabase.","storage.supabase.")),this.url=rt.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),et),this.fetch=resolveFetch$3(tt)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(_e){return __awaiter(this,void 0,void 0,function*(){try{const et=this.listBucketOptionsToQueryString(_e);return{data:yield get(this.fetch,`${this.url}/bucket${et}`,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}getBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${_e}`,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}createBucket(_e){return __awaiter(this,arguments,void 0,function*(et,tt={public:!1}){try{return{data:yield post$2(this.fetch,`${this.url}/bucket`,{id:et,name:et,type:tt.type,public:tt.public,file_size_limit:tt.fileSizeLimit,allowed_mime_types:tt.allowedMimeTypes},{headers:this.headers}),error:null}}catch(nt){if(this.shouldThrowOnError)throw nt;if(isStorageError(nt))return{data:null,error:nt};throw nt}})}updateBucket(_e,et){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${_e}`,{id:_e,name:_e,public:et.public,file_size_limit:et.fileSizeLimit,allowed_mime_types:et.allowedMimeTypes},{headers:this.headers}),error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageError(tt))return{data:null,error:tt};throw tt}})}emptyBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$2(this.fetch,`${this.url}/bucket/${_e}/empty`,{},{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}deleteBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${_e}`,{},{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}listBucketOptionsToQueryString(_e){const et={};return _e&&("limit"in _e&&(et.limit=String(_e.limit)),"offset"in _e&&(et.offset=String(_e.offset)),_e.search&&(et.search=_e.search),_e.sortColumn&&(et.sortColumn=_e.sortColumn),_e.sortOrder&&(et.sortOrder=_e.sortOrder)),Object.keys(et).length>0?"?"+new URLSearchParams(et).toString():""}}class StorageAnalyticsApi{constructor(_e,et={},tt){this.shouldThrowOnError=!1,this.url=_e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),et),this.fetch=resolveFetch$3(tt)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$2(this.fetch,`${this.url}/bucket`,{name:_e},{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}listBuckets(_e){return __awaiter(this,void 0,void 0,function*(){try{const et=new URLSearchParams;(_e==null?void 0:_e.limit)!==void 0&&et.set("limit",_e.limit.toString()),(_e==null?void 0:_e.offset)!==void 0&&et.set("offset",_e.offset.toString()),_e!=null&&_e.sortColumn&&et.set("sortColumn",_e.sortColumn),_e!=null&&_e.sortOrder&&et.set("sortOrder",_e.sortOrder),_e!=null&&_e.search&&et.set("search",_e.search);const tt=et.toString(),nt=tt?`${this.url}/bucket?${tt}`:`${this.url}/bucket`;return{data:yield get(this.fetch,nt,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}deleteBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${_e}`,{},{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageError(et))return{data:null,error:et};throw et}})}}const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`,"Content-Type":"application/json"};class StorageVectorsError extends Error{constructor(_e){super(_e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function isStorageVectorsError($){return typeof $=="object"&&$!==null&&"__isStorageVectorsError"in $}class StorageVectorsApiError extends StorageVectorsError{constructor(_e,et,tt){super(_e),this.name="StorageVectorsApiError",this.status=et,this.statusCode=tt}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageVectorsUnknownError extends StorageVectorsError{constructor(_e,et){super(_e),this.name="StorageVectorsUnknownError",this.originalError=et}}var StorageVectorsErrorCode;(function($){$.InternalError="InternalError",$.S3VectorConflictException="S3VectorConflictException",$.S3VectorNotFoundException="S3VectorNotFoundException",$.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",$.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",$.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(StorageVectorsErrorCode||(StorageVectorsErrorCode={}));const resolveFetch$2=$=>{let _e;return $?_e=$:typeof fetch>"u"?_e=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},void 0).then(({default:tt})=>tt(...et)):_e=fetch,(...et)=>_e(...et)},isPlainObject$2=$=>{if(typeof $!="object"||$===null)return!1;const _e=Object.getPrototypeOf($);return(_e===null||_e===Object.prototype||Object.getPrototypeOf(_e)===null)&&!(Symbol.toStringTag in $)&&!(Symbol.iterator in $)},_getErrorMessage$1=$=>$.msg||$.message||$.error_description||$.error||JSON.stringify($),handleError$1=($,_e,et)=>__awaiter(void 0,void 0,void 0,function*(){if($&&typeof $=="object"&&"status"in $&&"ok"in $&&typeof $.status=="number"&&!(et!=null&&et.noResolveJson)){const nt=$.status||500,rt=$;if(typeof rt.json=="function")rt.json().then(it=>{const st=(it==null?void 0:it.statusCode)||(it==null?void 0:it.code)||nt+"";_e(new StorageVectorsApiError(_getErrorMessage$1(it),nt,st))}).catch(()=>{const it=nt+"",st=rt.statusText||`HTTP ${nt} error`;_e(new StorageVectorsApiError(st,nt,it))});else{const it=nt+"",st=rt.statusText||`HTTP ${nt} error`;_e(new StorageVectorsApiError(st,nt,it))}}else _e(new StorageVectorsUnknownError(_getErrorMessage$1($),$))}),_getRequestParams$1=($,_e,et,tt)=>{const nt={method:$,headers:(_e==null?void 0:_e.headers)||{}};return tt?(isPlainObject$2(tt)?(nt.headers=Object.assign({"Content-Type":"application/json"},_e==null?void 0:_e.headers),nt.body=JSON.stringify(tt)):nt.body=tt,Object.assign(Object.assign({},nt),et)):nt};function _handleRequest$1($,_e,et,tt,nt,rt){return __awaiter(this,void 0,void 0,function*(){return new Promise((it,st)=>{$(et,_getRequestParams$1(_e,tt,nt,rt)).then(ot=>{if(!ot.ok)throw ot;if(tt!=null&&tt.noResolveJson)return ot;const at=ot.headers.get("content-type");return!at||!at.includes("application/json")?{}:ot.json()}).then(ot=>it(ot)).catch(ot=>handleError$1(ot,st,tt))})})}function post$1($,_e,et,tt,nt){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$1($,"POST",_e,tt,nt,et)})}class VectorIndexApi{constructor(_e,et={},tt){this.shouldThrowOnError=!1,this.url=_e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),et),this.fetch=resolveFetch$2(tt)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post$1(this.fetch,`${this.url}/CreateIndex`,_e,{headers:this.headers}))||{},error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}getIndex(_e,et){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:_e,indexName:et},{headers:this.headers}),error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageVectorsError(tt))return{data:null,error:tt};throw tt}})}listIndexes(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/ListIndexes`,_e,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}deleteIndex(_e,et){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post$1(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:_e,indexName:et},{headers:this.headers}))||{},error:null}}catch(tt){if(this.shouldThrowOnError)throw tt;if(isStorageVectorsError(tt))return{data:null,error:tt};throw tt}})}}class VectorDataApi{constructor(_e,et={},tt){this.shouldThrowOnError=!1,this.url=_e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),et),this.fetch=resolveFetch$2(tt)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(_e){return __awaiter(this,void 0,void 0,function*(){try{if(_e.vectors.length<1||_e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield post$1(this.fetch,`${this.url}/PutVectors`,_e,{headers:this.headers}))||{},error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}getVectors(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/GetVectors`,_e,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}listVectors(_e){return __awaiter(this,void 0,void 0,function*(){try{if(_e.segmentCount!==void 0){if(_e.segmentCount<1||_e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(_e.segmentIndex!==void 0&&(_e.segmentIndex<0||_e.segmentIndex>=_e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${_e.segmentCount-1}`)}return{data:yield post$1(this.fetch,`${this.url}/ListVectors`,_e,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}queryVectors(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/QueryVectors`,_e,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}deleteVectors(_e){return __awaiter(this,void 0,void 0,function*(){try{if(_e.keys.length<1||_e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield post$1(this.fetch,`${this.url}/DeleteVectors`,_e,{headers:this.headers}))||{},error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}}class VectorBucketApi{constructor(_e,et={},tt){this.shouldThrowOnError=!1,this.url=_e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),et),this.fetch=resolveFetch$2(tt)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post$1(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:_e},{headers:this.headers}))||{},error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}getBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:_e},{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}listBuckets(){return __awaiter(this,arguments,void 0,function*(_e={}){try{return{data:yield post$1(this.fetch,`${this.url}/ListVectorBuckets`,_e,{headers:this.headers}),error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}deleteBucket(_e){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post$1(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:_e},{headers:this.headers}))||{},error:null}}catch(et){if(this.shouldThrowOnError)throw et;if(isStorageVectorsError(et))return{data:null,error:et};throw et}})}}class StorageVectorsClient extends VectorBucketApi{constructor(_e,et={}){super(_e,et.headers||{},et.fetch)}from(_e){return new VectorBucketScope(this.url,this.headers,_e,this.fetch)}}class VectorBucketScope extends VectorIndexApi{constructor(_e,et,tt,nt){super(_e,et,nt),this.vectorBucketName=tt}createIndex(_e){const et=Object.create(null,{createIndex:{get:()=>super.createIndex}});return __awaiter(this,void 0,void 0,function*(){return et.createIndex.call(this,Object.assign(Object.assign({},_e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const _e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return __awaiter(this,arguments,void 0,function*(et={}){return _e.listIndexes.call(this,Object.assign(Object.assign({},et),{vectorBucketName:this.vectorBucketName}))})}getIndex(_e){const et=Object.create(null,{getIndex:{get:()=>super.getIndex}});return __awaiter(this,void 0,void 0,function*(){return et.getIndex.call(this,this.vectorBucketName,_e)})}deleteIndex(_e){const et=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return __awaiter(this,void 0,void 0,function*(){return et.deleteIndex.call(this,this.vectorBucketName,_e)})}index(_e){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,_e,this.fetch)}}class VectorIndexScope extends VectorDataApi{constructor(_e,et,tt,nt,rt){super(_e,et,rt),this.vectorBucketName=tt,this.indexName=nt}putVectors(_e){const et=Object.create(null,{putVectors:{get:()=>super.putVectors}});return __awaiter(this,void 0,void 0,function*(){return et.putVectors.call(this,Object.assign(Object.assign({},_e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(_e){const et=Object.create(null,{getVectors:{get:()=>super.getVectors}});return __awaiter(this,void 0,void 0,function*(){return et.getVectors.call(this,Object.assign(Object.assign({},_e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const _e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return __awaiter(this,arguments,void 0,function*(et={}){return _e.listVectors.call(this,Object.assign(Object.assign({},et),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(_e){const et=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return __awaiter(this,void 0,void 0,function*(){return et.queryVectors.call(this,Object.assign(Object.assign({},_e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(_e){const et=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return __awaiter(this,void 0,void 0,function*(){return et.deleteVectors.call(this,Object.assign(Object.assign({},_e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class StorageClient extends StorageBucketApi{constructor(_e,et={},tt,nt){super(_e,et,tt,nt)}from(_e){return new StorageFileApi(this.url,this.headers,_e,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsApi(this.url+"/iceberg",this.headers,this.fetch)}}const version$2="2.78.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$2}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={},resolveFetch$1=$=>{let _e;return $?_e=$:typeof fetch>"u"?_e=nodeFetch:_e=fetch,(...et)=>_e(...et)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=($,_e,et)=>{const tt=resolveFetch$1(et),nt=resolveHeadersConstructor();return async(rt,it)=>{var st;const ot=(st=await _e())!==null&&st!==void 0?st:$;let at=new nt(it==null?void 0:it.headers);return at.has("apikey")||at.set("apikey",$),at.has("Authorization")||at.set("Authorization",`Bearer ${ot}`),tt(rt,Object.assign(Object.assign({},it),{headers:at}))}};function ensureTrailingSlash($){return $.endsWith("/")?$:$+"/"}function applySettingDefaults($,_e){var et,tt;const{db:nt,auth:rt,realtime:it,global:st}=$,{db:ot,auth:at,realtime:lt,global:ut}=_e,dt={db:Object.assign(Object.assign({},ot),nt),auth:Object.assign(Object.assign({},at),rt),realtime:Object.assign(Object.assign({},lt),it),storage:{},global:Object.assign(Object.assign(Object.assign({},ut),st),{headers:Object.assign(Object.assign({},(et=ut==null?void 0:ut.headers)!==null&&et!==void 0?et:{}),(tt=st==null?void 0:st.headers)!==null&&tt!==void 0?tt:{})}),accessToken:async()=>""};return $.accessToken?dt.accessToken=$.accessToken:delete dt.accessToken,dt}function validateSupabaseUrl($){const _e=$==null?void 0:$.trim();if(!_e)throw new Error("supabaseUrl is required.");if(!_e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(_e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version$1="2.78.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(_e,et,tt){super(_e),this.__isAuthError=!0,this.name="AuthError",this.status=et,this.code=tt}}function isAuthError($){return typeof $=="object"&&$!==null&&"__isAuthError"in $}class AuthApiError extends AuthError{constructor(_e,et,tt){super(_e,et,tt),this.name="AuthApiError",this.status=et,this.code=tt}}function isAuthApiError($){return isAuthError($)&&$.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(_e,et){super(_e),this.name="AuthUnknownError",this.originalError=et}}class CustomAuthError extends AuthError{constructor(_e,et,tt,nt){super(_e,tt,nt),this.name=et,this.status=tt}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError($){return isAuthError($)&&$.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(_e){super(_e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(_e,et=null){super(_e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=et}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError($){return isAuthError($)&&$.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(_e,et=null){super(_e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=et}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(_e,et){super(_e,"AuthRetryableFetchError",et,void 0)}}function isAuthRetryableFetchError($){return isAuthError($)&&$.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(_e,et,tt){super(_e,"AuthWeakPasswordError",et,"weak_password"),this.reasons=tt}}class AuthInvalidJwtError extends CustomAuthError{constructor(_e){super(_e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const $=new Array(128);for(let _e=0;_e<$.length;_e+=1)$[_e]=-1;for(let _e=0;_e<IGNORE_BASE64URL.length;_e+=1)$[IGNORE_BASE64URL[_e].charCodeAt(0)]=-2;for(let _e=0;_e<TO_BASE64URL.length;_e+=1)$[TO_BASE64URL[_e].charCodeAt(0)]=_e;return $})();function byteToBase64URL($,_e,et){if($!==null)for(_e.queue=_e.queue<<8|$,_e.queuedBits+=8;_e.queuedBits>=6;){const tt=_e.queue>>_e.queuedBits-6&63;et(TO_BASE64URL[tt]),_e.queuedBits-=6}else if(_e.queuedBits>0)for(_e.queue=_e.queue<<6-_e.queuedBits,_e.queuedBits=6;_e.queuedBits>=6;){const tt=_e.queue>>_e.queuedBits-6&63;et(TO_BASE64URL[tt]),_e.queuedBits-=6}}function byteFromBase64URL($,_e,et){const tt=FROM_BASE64URL[$];if(tt>-1)for(_e.queue=_e.queue<<6|tt,_e.queuedBits+=6;_e.queuedBits>=8;)et(_e.queue>>_e.queuedBits-8&255),_e.queuedBits-=8;else{if(tt===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode($)}"`)}}function stringFromBase64URL($){const _e=[],et=it=>{_e.push(String.fromCodePoint(it))},tt={utf8seq:0,codepoint:0},nt={queue:0,queuedBits:0},rt=it=>{stringFromUTF8(it,tt,et)};for(let it=0;it<$.length;it+=1)byteFromBase64URL($.charCodeAt(it),nt,rt);return _e.join("")}function codepointToUTF8($,_e){if($<=127){_e($);return}else if($<=2047){_e(192|$>>6),_e(128|$&63);return}else if($<=65535){_e(224|$>>12),_e(128|$>>6&63),_e(128|$&63);return}else if($<=1114111){_e(240|$>>18),_e(128|$>>12&63),_e(128|$>>6&63),_e(128|$&63);return}throw new Error(`Unrecognized Unicode codepoint: ${$.toString(16)}`)}function stringToUTF8($,_e){for(let et=0;et<$.length;et+=1){let tt=$.charCodeAt(et);if(tt>55295&&tt<=56319){const nt=(tt-55296)*1024&65535;tt=($.charCodeAt(et+1)-56320&65535|nt)+65536,et+=1}codepointToUTF8(tt,_e)}}function stringFromUTF8($,_e,et){if(_e.utf8seq===0){if($<=127){et($);return}for(let tt=1;tt<6;tt+=1)if(!($>>7-tt&1)){_e.utf8seq=tt;break}if(_e.utf8seq===2)_e.codepoint=$&31;else if(_e.utf8seq===3)_e.codepoint=$&15;else if(_e.utf8seq===4)_e.codepoint=$&7;else throw new Error("Invalid UTF-8 sequence");_e.utf8seq-=1}else if(_e.utf8seq>0){if($<=127)throw new Error("Invalid UTF-8 sequence");_e.codepoint=_e.codepoint<<6|$&63,_e.utf8seq-=1,_e.utf8seq===0&&et(_e.codepoint)}}function base64UrlToUint8Array($){const _e=[],et={queue:0,queuedBits:0},tt=nt=>{_e.push(nt)};for(let nt=0;nt<$.length;nt+=1)byteFromBase64URL($.charCodeAt(nt),et,tt);return new Uint8Array(_e)}function stringToUint8Array($){const _e=[];return stringToUTF8($,et=>_e.push(et)),new Uint8Array(_e)}function bytesToBase64URL($){const _e=[],et={queue:0,queuedBits:0},tt=nt=>{_e.push(nt)};return $.forEach(nt=>byteToBase64URL(nt,et,tt)),byteToBase64URL(null,et,tt),_e.join("")}function expiresAt($){return Math.round(Date.now()/1e3)+$}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function($){const _e=Math.random()*16|0;return($=="x"?_e:_e&3|8).toString(16)})}const isBrowser$1=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$1())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const $=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem($,$),globalThis.localStorage.removeItem($),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL($){const _e={},et=new URL($);if(et.hash&&et.hash[0]==="#")try{new URLSearchParams(et.hash.substring(1)).forEach((nt,rt)=>{_e[rt]=nt})}catch{}return et.searchParams.forEach((tt,nt)=>{_e[nt]=tt}),_e}const resolveFetch=$=>{let _e;return $?_e=$:typeof fetch>"u"?_e=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},void 0).then(({default:tt})=>tt(...et)):_e=fetch,(...et)=>_e(...et)},looksLikeFetchResponse=$=>typeof $=="object"&&$!==null&&"status"in $&&"ok"in $&&"json"in $&&typeof $.json=="function",setItemAsync=async($,_e,et)=>{await $.setItem(_e,JSON.stringify(et))},getItemAsync=async($,_e)=>{const et=await $.getItem(_e);if(!et)return null;try{return JSON.parse(et)}catch{return et}},removeItemAsync=async($,_e)=>{await $.removeItem(_e)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((_e,et)=>{this.resolve=_e,this.reject=et})}}Deferred.promiseConstructor=Promise;function decodeJWT($){const _e=$.split(".");if(_e.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let tt=0;tt<_e.length;tt++)if(!BASE64URL_REGEX.test(_e[tt]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(_e[0])),payload:JSON.parse(stringFromBase64URL(_e[1])),signature:base64UrlToUint8Array(_e[2]),raw:{header:_e[0],payload:_e[1]}}}async function sleep($){return await new Promise(_e=>{setTimeout(()=>_e(null),$)})}function retryable($,_e){return new Promise((tt,nt)=>{(async()=>{for(let rt=0;rt<1/0;rt++)try{const it=await $(rt);if(!_e(rt,null,it)){tt(it);return}}catch(it){if(!_e(rt,it)){nt(it);return}}})()})}function dec2hex($){return("0"+$.toString(16)).substr(-2)}function generatePKCEVerifier(){const _e=new Uint32Array(56);if(typeof crypto>"u"){const et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",tt=et.length;let nt="";for(let rt=0;rt<56;rt++)nt+=et.charAt(Math.floor(Math.random()*tt));return nt}return crypto.getRandomValues(_e),Array.from(_e,dec2hex).join("")}async function sha256($){const et=new TextEncoder().encode($),tt=await crypto.subtle.digest("SHA-256",et),nt=new Uint8Array(tt);return Array.from(nt).map(rt=>String.fromCharCode(rt)).join("")}async function generatePKCEChallenge($){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),$;const et=await sha256($);return btoa(et).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod($,_e,et=!1){const tt=generatePKCEVerifier();let nt=tt;et&&(nt+="/PASSWORD_RECOVERY"),await setItemAsync($,`${_e}-code-verifier`,nt);const rt=await generatePKCEChallenge(tt);return[rt,tt===rt?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion($){const _e=$.headers.get(API_VERSION_HEADER_NAME);if(!_e||!_e.match(API_VERSION_REGEX))return null;try{return new Date(`${_e}T00:00:00.0Z`)}catch{return null}}function validateExp($){if(!$)throw new Error("Missing exp claim");const _e=Math.floor(Date.now()/1e3);if($<=_e)throw new Error("JWT has expired")}function getAlgorithm($){switch($){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID($){if(!UUID_REGEX.test($))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const $={};return new Proxy($,{get:(_e,et)=>{if(et==="__isUserNotAvailableProxy")return!0;if(typeof et=="symbol"){const tt=et.toString();if(tt==="Symbol(Symbol.toPrimitive)"||tt==="Symbol(Symbol.toStringTag)"||tt==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${et}" property of the session object is not supported. Please use getUser() instead.`)},set:(_e,et)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${et}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(_e,et)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${et}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy($,_e){return new Proxy($,{get:(et,tt,nt)=>{if(tt==="__isInsecureUserWarningProxy")return!0;if(typeof tt=="symbol"){const rt=tt.toString();if(rt==="Symbol(Symbol.toPrimitive)"||rt==="Symbol(Symbol.toStringTag)"||rt==="Symbol(util.inspect.custom)"||rt==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(et,tt,nt)}return!_e.value&&typeof tt=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),_e.value=!0),Reflect.get(et,tt,nt)}})}function deepClone($){return JSON.parse(JSON.stringify($))}const _getErrorMessage=$=>$.msg||$.message||$.error_description||$.error||JSON.stringify($),NETWORK_ERROR_CODES=[502,503,504];async function handleError($){var _e;if(!looksLikeFetchResponse($))throw new AuthRetryableFetchError(_getErrorMessage($),0);if(NETWORK_ERROR_CODES.includes($.status))throw new AuthRetryableFetchError(_getErrorMessage($),$.status);let et;try{et=await $.json()}catch(rt){throw new AuthUnknownError(_getErrorMessage(rt),rt)}let tt;const nt=parseResponseAPIVersion($);if(nt&&nt.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof et=="object"&&et&&typeof et.code=="string"?tt=et.code:typeof et=="object"&&et&&typeof et.error_code=="string"&&(tt=et.error_code),tt){if(tt==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(et),$.status,((_e=et.weak_password)===null||_e===void 0?void 0:_e.reasons)||[]);if(tt==="session_not_found")throw new AuthSessionMissingError}else if(typeof et=="object"&&et&&typeof et.weak_password=="object"&&et.weak_password&&Array.isArray(et.weak_password.reasons)&&et.weak_password.reasons.length&&et.weak_password.reasons.reduce((rt,it)=>rt&&typeof it=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(et),$.status,et.weak_password.reasons);throw new AuthApiError(_getErrorMessage(et),$.status||500,tt)}const _getRequestParams=($,_e,et,tt)=>{const nt={method:$,headers:(_e==null?void 0:_e.headers)||{}};return $==="GET"?nt:(nt.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},_e==null?void 0:_e.headers),nt.body=JSON.stringify(tt),Object.assign(Object.assign({},nt),et))};async function _request($,_e,et,tt){var nt;const rt=Object.assign({},tt==null?void 0:tt.headers);rt[API_VERSION_HEADER_NAME]||(rt[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),tt!=null&&tt.jwt&&(rt.Authorization=`Bearer ${tt.jwt}`);const it=(nt=tt==null?void 0:tt.query)!==null&&nt!==void 0?nt:{};tt!=null&&tt.redirectTo&&(it.redirect_to=tt.redirectTo);const st=Object.keys(it).length?"?"+new URLSearchParams(it).toString():"",ot=await _handleRequest($,_e,et+st,{headers:rt,noResolveJson:tt==null?void 0:tt.noResolveJson},{},tt==null?void 0:tt.body);return tt!=null&&tt.xform?tt==null?void 0:tt.xform(ot):{data:Object.assign({},ot),error:null}}async function _handleRequest($,_e,et,tt,nt,rt){const it=_getRequestParams(_e,tt,nt,rt);let st;try{st=await $(et,Object.assign({},it))}catch(ot){throw console.error(ot),new AuthRetryableFetchError(_getErrorMessage(ot),0)}if(st.ok||await handleError(st),tt!=null&&tt.noResolveJson)return st;try{return await st.json()}catch(ot){await handleError(ot)}}function _sessionResponse($){var _e;let et=null;hasSession($)&&(et=Object.assign({},$),$.expires_at||(et.expires_at=expiresAt($.expires_in)));const tt=(_e=$.user)!==null&&_e!==void 0?_e:$;return{data:{session:et,user:tt},error:null}}function _sessionResponsePassword($){const _e=_sessionResponse($);return!_e.error&&$.weak_password&&typeof $.weak_password=="object"&&Array.isArray($.weak_password.reasons)&&$.weak_password.reasons.length&&$.weak_password.message&&typeof $.weak_password.message=="string"&&$.weak_password.reasons.reduce((et,tt)=>et&&typeof tt=="string",!0)&&(_e.data.weak_password=$.weak_password),_e}function _userResponse($){var _e;return{data:{user:(_e=$.user)!==null&&_e!==void 0?_e:$},error:null}}function _ssoResponse($){return{data:$,error:null}}function _generateLinkResponse($){const{action_link:_e,email_otp:et,hashed_token:tt,redirect_to:nt,verification_type:rt}=$,it=__rest($,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),st={action_link:_e,email_otp:et,hashed_token:tt,redirect_to:nt,verification_type:rt},ot=Object.assign({},it);return{data:{properties:st,user:ot},error:null}}function _noResolveJsonResponse($){return $}function hasSession($){return $.access_token&&$.refresh_token&&$.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:_e="",headers:et={},fetch:tt}){this.url=_e,this.headers=et,this.fetch=resolveFetch(tt),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(_e,et=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(et)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${et}`,{headers:this.headers,jwt:_e,noResolveJson:!0}),{data:null,error:null}}catch(tt){if(isAuthError(tt))return{data:null,error:tt};throw tt}}async inviteUserByEmail(_e,et={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:_e,data:et.data},headers:this.headers,redirectTo:et.redirectTo,xform:_userResponse})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async generateLink(_e){try{const{options:et}=_e,tt=__rest(_e,["options"]),nt=Object.assign(Object.assign({},tt),et);return"newEmail"in tt&&(nt.new_email=tt==null?void 0:tt.newEmail,delete nt.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:nt,headers:this.headers,xform:_generateLinkResponse,redirectTo:et==null?void 0:et.redirectTo})}catch(et){if(isAuthError(et))return{data:{properties:null,user:null},error:et};throw et}}async createUser(_e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:_e,headers:this.headers,xform:_userResponse})}catch(et){if(isAuthError(et))return{data:{user:null},error:et};throw et}}async listUsers(_e){var et,tt,nt,rt,it,st,ot;try{const at={nextPage:null,lastPage:0,total:0},lt=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(tt=(et=_e==null?void 0:_e.page)===null||et===void 0?void 0:et.toString())!==null&&tt!==void 0?tt:"",per_page:(rt=(nt=_e==null?void 0:_e.perPage)===null||nt===void 0?void 0:nt.toString())!==null&&rt!==void 0?rt:""},xform:_noResolveJsonResponse});if(lt.error)throw lt.error;const ut=await lt.json(),dt=(it=lt.headers.get("x-total-count"))!==null&&it!==void 0?it:0,ct=(ot=(st=lt.headers.get("link"))===null||st===void 0?void 0:st.split(","))!==null&&ot!==void 0?ot:[];return ct.length>0&&(ct.forEach(ft=>{const pt=parseInt(ft.split(";")[0].split("=")[1].substring(0,1)),gt=JSON.parse(ft.split(";")[1].split("=")[1]);at[`${gt}Page`]=pt}),at.total=parseInt(dt)),{data:Object.assign(Object.assign({},ut),at),error:null}}catch(at){if(isAuthError(at))return{data:{users:[]},error:at};throw at}}async getUserById(_e){validateUUID(_e);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${_e}`,{headers:this.headers,xform:_userResponse})}catch(et){if(isAuthError(et))return{data:{user:null},error:et};throw et}}async updateUserById(_e,et){validateUUID(_e);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${_e}`,{body:et,headers:this.headers,xform:_userResponse})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async deleteUser(_e,et=!1){validateUUID(_e);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${_e}`,{headers:this.headers,body:{should_soft_delete:et},xform:_userResponse})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async _listFactors(_e){validateUUID(_e.userId);try{const{data:et,error:tt}=await _request(this.fetch,"GET",`${this.url}/admin/users/${_e.userId}/factors`,{headers:this.headers,xform:nt=>({data:{factors:nt},error:null})});return{data:et,error:tt}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _deleteFactor(_e){validateUUID(_e.userId),validateUUID(_e.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${_e.userId}/factors/${_e.id}`,{headers:this.headers}),error:null}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _listOAuthClients(_e){var et,tt,nt,rt,it,st,ot;try{const at={nextPage:null,lastPage:0,total:0},lt=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(tt=(et=_e==null?void 0:_e.page)===null||et===void 0?void 0:et.toString())!==null&&tt!==void 0?tt:"",per_page:(rt=(nt=_e==null?void 0:_e.perPage)===null||nt===void 0?void 0:nt.toString())!==null&&rt!==void 0?rt:""},xform:_noResolveJsonResponse});if(lt.error)throw lt.error;const ut=await lt.json(),dt=(it=lt.headers.get("x-total-count"))!==null&&it!==void 0?it:0,ct=(ot=(st=lt.headers.get("link"))===null||st===void 0?void 0:st.split(","))!==null&&ot!==void 0?ot:[];return ct.length>0&&(ct.forEach(ft=>{const pt=parseInt(ft.split(";")[0].split("=")[1].substring(0,1)),gt=JSON.parse(ft.split(";")[1].split("=")[1]);at[`${gt}Page`]=pt}),at.total=parseInt(dt)),{data:Object.assign(Object.assign({},ut),at),error:null}}catch(at){if(isAuthError(at))return{data:{clients:[]},error:at};throw at}}async _createOAuthClient(_e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:_e,headers:this.headers,xform:et=>({data:et,error:null})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _getOAuthClient(_e){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${_e}`,{headers:this.headers,xform:et=>({data:et,error:null})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _updateOAuthClient(_e,et){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${_e}`,{body:et,headers:this.headers,xform:tt=>({data:tt,error:null})})}catch(tt){if(isAuthError(tt))return{data:null,error:tt};throw tt}}async _deleteOAuthClient(_e){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${_e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _regenerateOAuthClientSecret(_e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${_e}/regenerate_secret`,{headers:this.headers,xform:et=>({data:et,error:null})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}}function memoryLocalStorageAdapter($={}){return{getItem:_e=>$[_e]||null,setItem:(_e,et)=>{$[_e]=et},removeItem:_e=>{delete $[_e]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(_e){super(_e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock($,_e,et){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",$,_e);const tt=new globalThis.AbortController;return _e>0&&setTimeout(()=>{tt.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",$)},_e),await Promise.resolve().then(()=>globalThis.navigator.locks.request($,_e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:tt.signal},async nt=>{if(nt){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",$,nt.name);try{return await et()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",$,nt.name)}}else{if(_e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",$),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${$}" immediately failed`);if(internals.debug)try{const rt=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(rt,null,"  "))}catch(rt){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",rt)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await et()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress($){if(!/^0x[a-fA-F0-9]{40}$/.test($))throw new Error(`@supabase/auth-js: Address "${$}" is invalid.`);return $.toLowerCase()}function fromHex($){return parseInt($,16)}function toHex($){const _e=new TextEncoder().encode($);return"0x"+Array.from(_e,tt=>tt.toString(16).padStart(2,"0")).join("")}function createSiweMessage($){var _e;const{chainId:et,domain:tt,expirationTime:nt,issuedAt:rt=new Date,nonce:it,notBefore:st,requestId:ot,resources:at,scheme:lt,uri:ut,version:dt}=$;{if(!Number.isInteger(et))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${et}`);if(!tt)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(it&&it.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${it}`);if(!ut)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(dt!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${dt}`);if(!((_e=$.statement)===null||_e===void 0)&&_e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${$.statement}`)}const ct=getAddress($.address),ft=lt?`${lt}://${tt}`:tt,pt=$.statement?`${$.statement}
`:"",gt=`${ft} wants you to sign in with your Ethereum account:
${ct}

${pt}`;let ht=`URI: ${ut}
Version: ${dt}
Chain ID: ${et}${it?`
Nonce: ${it}`:""}
Issued At: ${rt.toISOString()}`;if(nt&&(ht+=`
Expiration Time: ${nt.toISOString()}`),st&&(ht+=`
Not Before: ${st.toISOString()}`),ot&&(ht+=`
Request ID: ${ot}`),at){let mt=`
Resources:`;for(const bt of at){if(!bt||typeof bt!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${bt}`);mt+=`
- ${bt}`}ht+=mt}return`${gt}
${ht}`}class WebAuthnError extends Error{constructor({message:_e,code:et,cause:tt,name:nt}){var rt;super(_e,{cause:tt}),this.__isWebAuthnError=!0,this.name=(rt=nt??(tt instanceof Error?tt.name:void 0))!==null&&rt!==void 0?rt:"Unknown Error",this.code=et}}class WebAuthnUnknownError extends WebAuthnError{constructor(_e,et){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:et,message:_e}),this.name="WebAuthnUnknownError",this.originalError=et}}function identifyRegistrationError({error:$,options:_e}){var et,tt,nt;const{publicKey:rt}=_e;if(!rt)throw Error("options was missing required publicKey property");if($.name==="AbortError"){if(_e.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:$})}else if($.name==="ConstraintError"){if(((et=rt.authenticatorSelection)===null||et===void 0?void 0:et.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:$});if(_e.mediation==="conditional"&&((tt=rt.authenticatorSelection)===null||tt===void 0?void 0:tt.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:$});if(((nt=rt.authenticatorSelection)===null||nt===void 0?void 0:nt.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:$})}else{if($.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:$});if($.name==="NotAllowedError")return new WebAuthnError({message:$.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:$});if($.name==="NotSupportedError")return rt.pubKeyCredParams.filter(st=>st.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:$}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:$});if($.name==="SecurityError"){const it=window.location.hostname;if(isValidDomain(it)){if(rt.rp.id!==it)return new WebAuthnError({message:`The RP ID "${rt.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:$})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:$})}else if($.name==="TypeError"){if(rt.user.id.byteLength<1||rt.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:$})}else if($.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:$})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:$})}function identifyAuthenticationError({error:$,options:_e}){const{publicKey:et}=_e;if(!et)throw Error("options was missing required publicKey property");if($.name==="AbortError"){if(_e.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:$})}else{if($.name==="NotAllowedError")return new WebAuthnError({message:$.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:$});if($.name==="SecurityError"){const tt=window.location.hostname;if(isValidDomain(tt)){if(et.rpId!==tt)return new WebAuthnError({message:`The RP ID "${et.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:$})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:$})}else if($.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:$})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:$})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const et=new Error("Cancelling existing WebAuthn API call for new one");et.name="AbortError",this.controller.abort(et)}const _e=new AbortController;return this.controller=_e,_e.signal}cancelCeremony(){if(this.controller){const _e=new Error("Manually cancelling existing WebAuthn API call");_e.name="AbortError",this.controller.abort(_e),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions($){if(!$)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON($);const{challenge:_e,user:et,excludeCredentials:tt}=$,nt=__rest($,["challenge","user","excludeCredentials"]),rt=base64UrlToUint8Array(_e).buffer,it=Object.assign(Object.assign({},et),{id:base64UrlToUint8Array(et.id).buffer}),st=Object.assign(Object.assign({},nt),{challenge:rt,user:it});if(tt&&tt.length>0){st.excludeCredentials=new Array(tt.length);for(let ot=0;ot<tt.length;ot++){const at=tt[ot];st.excludeCredentials[ot]=Object.assign(Object.assign({},at),{id:base64UrlToUint8Array(at.id).buffer,type:at.type||"public-key",transports:at.transports})}}return st}function deserializeCredentialRequestOptions($){if(!$)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON($);const{challenge:_e,allowCredentials:et}=$,tt=__rest($,["challenge","allowCredentials"]),nt=base64UrlToUint8Array(_e).buffer,rt=Object.assign(Object.assign({},tt),{challenge:nt});if(et&&et.length>0){rt.allowCredentials=new Array(et.length);for(let it=0;it<et.length;it++){const st=et[it];rt.allowCredentials[it]=Object.assign(Object.assign({},st),{id:base64UrlToUint8Array(st.id).buffer,type:st.type||"public-key",transports:st.transports})}}return rt}function serializeCredentialCreationResponse($){var _e;if("toJSON"in $&&typeof $.toJSON=="function")return $.toJSON();const et=$;return{id:$.id,rawId:$.id,response:{attestationObject:bytesToBase64URL(new Uint8Array($.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array($.response.clientDataJSON))},type:"public-key",clientExtensionResults:$.getClientExtensionResults(),authenticatorAttachment:(_e=et.authenticatorAttachment)!==null&&_e!==void 0?_e:void 0}}function serializeCredentialRequestResponse($){var _e;if("toJSON"in $&&typeof $.toJSON=="function")return $.toJSON();const et=$,tt=$.getClientExtensionResults(),nt=$.response;return{id:$.id,rawId:$.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(nt.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(nt.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(nt.signature)),userHandle:nt.userHandle?bytesToBase64URL(new Uint8Array(nt.userHandle)):void 0},type:"public-key",clientExtensionResults:tt,authenticatorAttachment:(_e=et.authenticatorAttachment)!==null&&_e!==void 0?_e:void 0}}function isValidDomain($){return $==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test($)}function browserSupportsWebAuthn(){var $,_e;return!!(isBrowser$1()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof(($=navigator==null?void 0:navigator.credentials)===null||$===void 0?void 0:$.create)=="function"&&typeof((_e=navigator==null?void 0:navigator.credentials)===null||_e===void 0?void 0:_e.get)=="function")}async function createCredential($){try{const _e=await navigator.credentials.create($);return _e?_e instanceof PublicKeyCredential?{data:_e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",_e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",_e)}}catch(_e){return{data:null,error:identifyRegistrationError({error:_e,options:$})}}}async function getCredential($){try{const _e=await navigator.credentials.get($);return _e?_e instanceof PublicKeyCredential?{data:_e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",_e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",_e)}}catch(_e){return{data:null,error:identifyAuthenticationError({error:_e,options:$})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"]};function deepMerge(...$){const _e=nt=>nt!==null&&typeof nt=="object"&&!Array.isArray(nt),et=nt=>nt instanceof ArrayBuffer||ArrayBuffer.isView(nt),tt={};for(const nt of $)if(nt)for(const rt in nt){const it=nt[rt];if(it!==void 0)if(Array.isArray(it))tt[rt]=it;else if(et(it))tt[rt]=it;else if(_e(it)){const st=tt[rt];_e(st)?tt[rt]=deepMerge(st,it):tt[rt]=deepMerge(it)}else tt[rt]=it}return tt}function mergeCredentialCreationOptions($,_e){return deepMerge(DEFAULT_CREATION_OPTIONS,$,_e||{})}function mergeCredentialRequestOptions($,_e){return deepMerge(DEFAULT_REQUEST_OPTIONS,$,_e||{})}class WebAuthnApi{constructor(_e){this.client=_e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(_e){return this.client.mfa.enroll(Object.assign(Object.assign({},_e),{factorType:"webauthn"}))}async _challenge({factorId:_e,webauthn:et,friendlyName:tt,signal:nt},rt){try{const{data:it,error:st}=await this.client.mfa.challenge({factorId:_e,webauthn:et});if(!it)return{data:null,error:st};const ot=nt??webAuthnAbortService.createNewAbortSignal();if(it.webauthn.type==="create"){const{user:at}=it.webauthn.credential_options.publicKey;at.name||(at.name=`${at.id}:${tt}`),at.displayName||(at.displayName=at.name)}switch(it.webauthn.type){case"create":{const at=mergeCredentialCreationOptions(it.webauthn.credential_options.publicKey,rt==null?void 0:rt.create),{data:lt,error:ut}=await createCredential({publicKey:at,signal:ot});return lt?{data:{factorId:_e,challengeId:it.id,webauthn:{type:it.webauthn.type,credential_response:lt}},error:null}:{data:null,error:ut}}case"request":{const at=mergeCredentialRequestOptions(it.webauthn.credential_options.publicKey,rt==null?void 0:rt.request),{data:lt,error:ut}=await getCredential(Object.assign(Object.assign({},it.webauthn.credential_options),{publicKey:at,signal:ot}));return lt?{data:{factorId:_e,challengeId:it.id,webauthn:{type:it.webauthn.type,credential_response:lt}},error:null}:{data:null,error:ut}}}}catch(it){return isAuthError(it)?{data:null,error:it}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",it)}}}async _verify({challengeId:_e,factorId:et,webauthn:tt}){return this.client.mfa.verify({factorId:et,challengeId:_e,webauthn:tt})}async _authenticate({factorId:_e,webauthn:{rpId:et=typeof window<"u"?window.location.hostname:void 0,rpOrigins:tt=typeof window<"u"?[window.location.origin]:void 0,signal:nt}},rt){if(!et)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:it,error:st}=await this.challenge({factorId:_e,webauthn:{rpId:et,rpOrigins:tt},signal:nt},{request:rt});if(!it)return{data:null,error:st};const{webauthn:ot}=it;return this._verify({factorId:_e,challengeId:it.challengeId,webauthn:{type:ot.type,rpId:et,rpOrigins:tt,credential_response:ot.credential_response}})}catch(it){return isAuthError(it)?{data:null,error:it}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",it)}}}async _register({friendlyName:_e,rpId:et=typeof window<"u"?window.location.hostname:void 0,rpOrigins:tt=typeof window<"u"?[window.location.origin]:void 0,signal:nt},rt){if(!et)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:it,error:st}=await this._enroll({friendlyName:_e});if(!it)return await this.client.mfa.listFactors().then(lt=>{var ut;return(ut=lt.data)===null||ut===void 0?void 0:ut.all.find(dt=>dt.factor_type==="webauthn"&&dt.friendly_name===_e&&dt.status!=="unverified")}).then(lt=>lt?this.client.mfa.unenroll({factorId:lt==null?void 0:lt.id}):void 0),{data:null,error:st};const{data:ot,error:at}=await this._challenge({factorId:it.id,friendlyName:it.friendly_name,webauthn:{rpId:et,rpOrigins:tt},signal:nt},{create:rt});return ot?this._verify({factorId:it.id,challengeId:ot.challengeId,webauthn:{rpId:et,rpOrigins:tt,type:ot.webauthn.type,credential_response:ot.webauthn.credential_response}}):{data:null,error:at}}catch(it){return isAuthError(it)?{data:null,error:it}:{data:null,error:new AuthUnknownError("Unexpected error in register",it)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp($,_e,et){return await et()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var _e,et;return(et=(_e=GLOBAL_JWKS[this.storageKey])===null||_e===void 0?void 0:_e.jwks)!==null&&et!==void 0?et:{keys:[]}}set jwks(_e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:_e})}get jwks_cached_at(){var _e,et;return(et=(_e=GLOBAL_JWKS[this.storageKey])===null||_e===void 0?void 0:_e.cachedAt)!==null&&et!==void 0?et:Number.MIN_SAFE_INTEGER}set jwks_cached_at(_e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:_e})}constructor(_e){var et,tt;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$1()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const nt=Object.assign(Object.assign({},DEFAULT_OPTIONS),_e);if(this.logDebugMessages=!!nt.debug,typeof nt.debug=="function"&&(this.logger=nt.debug),this.persistSession=nt.persistSession,this.storageKey=nt.storageKey,this.autoRefreshToken=nt.autoRefreshToken,this.admin=new GoTrueAdminApi({url:nt.url,headers:nt.headers,fetch:nt.fetch}),this.url=nt.url,this.headers=nt.headers,this.fetch=resolveFetch(nt.fetch),this.lock=nt.lock||lockNoOp,this.detectSessionInUrl=nt.detectSessionInUrl,this.flowType=nt.flowType,this.hasCustomAuthorizationHeader=nt.hasCustomAuthorizationHeader,nt.lock?this.lock=nt.lock:isBrowser$1()&&(!((et=globalThis==null?void 0:globalThis.navigator)===null||et===void 0)&&et.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(nt.storage?this.storage=nt.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),nt.userStorage&&(this.userStorage=nt.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser$1()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(rt){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",rt)}(tt=this.broadcastChannel)===null||tt===void 0||tt.addEventListener("message",async rt=>{this._debug("received broadcast notification from other tab or client",rt),await this._notifyAllSubscribers(rt.data.event,rt.data.session,!1)})}this.initialize()}_debug(..._e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version$1}) ${new Date().toISOString()}`,..._e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var _e;try{const et=parseParametersFromURL(window.location.href);let tt="none";if(this._isImplicitGrantCallback(et)?tt="implicit":await this._isPKCECallback(et)&&(tt="pkce"),isBrowser$1()&&this.detectSessionInUrl&&tt!=="none"){const{data:nt,error:rt}=await this._getSessionFromURL(et,tt);if(rt){if(this._debug("#_initialize()","error detecting session from URL",rt),isAuthImplicitGrantRedirectError(rt)){const ot=(_e=rt.details)===null||_e===void 0?void 0:_e.code;if(ot==="identity_already_exists"||ot==="identity_not_found"||ot==="single_identity_not_deletable")return{error:rt}}return await this._removeSession(),{error:rt}}const{session:it,redirectType:st}=nt;return this._debug("#_initialize()","detected session in URL",it,"redirect type",st),await this._saveSession(it),setTimeout(async()=>{st==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",it):await this._notifyAllSubscribers("SIGNED_IN",it)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(et){return isAuthError(et)?{error:et}:{error:new AuthUnknownError("Unexpected error during initialization",et)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(_e){var et,tt,nt;try{const rt=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(tt=(et=_e==null?void 0:_e.options)===null||et===void 0?void 0:et.data)!==null&&tt!==void 0?tt:{},gotrue_meta_security:{captcha_token:(nt=_e==null?void 0:_e.options)===null||nt===void 0?void 0:nt.captchaToken}},xform:_sessionResponse}),{data:it,error:st}=rt;if(st||!it)return{data:{user:null,session:null},error:st};const ot=it.session,at=it.user;return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",ot)),{data:{user:at,session:ot},error:null}}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async signUp(_e){var et,tt,nt;try{let rt;if("email"in _e){const{email:lt,password:ut,options:dt}=_e;let ct=null,ft=null;this.flowType==="pkce"&&([ct,ft]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),rt=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:dt==null?void 0:dt.emailRedirectTo,body:{email:lt,password:ut,data:(et=dt==null?void 0:dt.data)!==null&&et!==void 0?et:{},gotrue_meta_security:{captcha_token:dt==null?void 0:dt.captchaToken},code_challenge:ct,code_challenge_method:ft},xform:_sessionResponse})}else if("phone"in _e){const{phone:lt,password:ut,options:dt}=_e;rt=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:lt,password:ut,data:(tt=dt==null?void 0:dt.data)!==null&&tt!==void 0?tt:{},channel:(nt=dt==null?void 0:dt.channel)!==null&&nt!==void 0?nt:"sms",gotrue_meta_security:{captcha_token:dt==null?void 0:dt.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:it,error:st}=rt;if(st||!it)return{data:{user:null,session:null},error:st};const ot=it.session,at=it.user;return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",ot)),{data:{user:at,session:ot},error:null}}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async signInWithPassword(_e){try{let et;if("email"in _e){const{email:rt,password:it,options:st}=_e;et=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:rt,password:it,gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in _e){const{phone:rt,password:it,options:st}=_e;et=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:rt,password:it,gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:tt,error:nt}=et;return nt?{data:{user:null,session:null},error:nt}:!tt||!tt.session||!tt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(tt.session&&(await this._saveSession(tt.session),await this._notifyAllSubscribers("SIGNED_IN",tt.session)),{data:Object.assign({user:tt.user,session:tt.session},tt.weak_password?{weakPassword:tt.weak_password}:null),error:nt})}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async signInWithOAuth(_e){var et,tt,nt,rt;return await this._handleProviderSignIn(_e.provider,{redirectTo:(et=_e.options)===null||et===void 0?void 0:et.redirectTo,scopes:(tt=_e.options)===null||tt===void 0?void 0:tt.scopes,queryParams:(nt=_e.options)===null||nt===void 0?void 0:nt.queryParams,skipBrowserRedirect:(rt=_e.options)===null||rt===void 0?void 0:rt.skipBrowserRedirect})}async exchangeCodeForSession(_e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(_e))}async signInWithWeb3(_e){const{chain:et}=_e;switch(et){case"ethereum":return await this.signInWithEthereum(_e);case"solana":return await this.signInWithSolana(_e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${et}"`)}}async signInWithEthereum(_e){var et,tt,nt,rt,it,st,ot,at,lt,ut,dt;let ct,ft;if("message"in _e)ct=_e.message,ft=_e.signature;else{const{chain:pt,wallet:gt,statement:ht,options:mt}=_e;let bt;if(isBrowser$1())if(typeof gt=="object")bt=gt;else{const Ct=window;if("ethereum"in Ct&&typeof Ct.ethereum=="object"&&"request"in Ct.ethereum&&typeof Ct.ethereum.request=="function")bt=Ct.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof gt!="object"||!(mt!=null&&mt.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");bt=gt}const xt=new URL((et=mt==null?void 0:mt.url)!==null&&et!==void 0?et:window.location.href),Et=await bt.request({method:"eth_requestAccounts"}).then(Ct=>Ct).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Et||Et.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const vt=getAddress(Et[0]);let _t=(tt=mt==null?void 0:mt.signInWithEthereum)===null||tt===void 0?void 0:tt.chainId;if(!_t){const Ct=await bt.request({method:"eth_chainId"});_t=fromHex(Ct)}const wt={domain:xt.host,address:vt,statement:ht,uri:xt.href,version:"1",chainId:_t,nonce:(nt=mt==null?void 0:mt.signInWithEthereum)===null||nt===void 0?void 0:nt.nonce,issuedAt:(it=(rt=mt==null?void 0:mt.signInWithEthereum)===null||rt===void 0?void 0:rt.issuedAt)!==null&&it!==void 0?it:new Date,expirationTime:(st=mt==null?void 0:mt.signInWithEthereum)===null||st===void 0?void 0:st.expirationTime,notBefore:(ot=mt==null?void 0:mt.signInWithEthereum)===null||ot===void 0?void 0:ot.notBefore,requestId:(at=mt==null?void 0:mt.signInWithEthereum)===null||at===void 0?void 0:at.requestId,resources:(lt=mt==null?void 0:mt.signInWithEthereum)===null||lt===void 0?void 0:lt.resources};ct=createSiweMessage(wt),ft=await bt.request({method:"personal_sign",params:[toHex(ct),vt]})}try{const{data:pt,error:gt}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:ct,signature:ft},!((ut=_e.options)===null||ut===void 0)&&ut.captchaToken?{gotrue_meta_security:{captcha_token:(dt=_e.options)===null||dt===void 0?void 0:dt.captchaToken}}:null),xform:_sessionResponse});if(gt)throw gt;return!pt||!pt.session||!pt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(pt.session&&(await this._saveSession(pt.session),await this._notifyAllSubscribers("SIGNED_IN",pt.session)),{data:Object.assign({},pt),error:gt})}catch(pt){if(isAuthError(pt))return{data:{user:null,session:null},error:pt};throw pt}}async signInWithSolana(_e){var et,tt,nt,rt,it,st,ot,at,lt,ut,dt,ct;let ft,pt;if("message"in _e)ft=_e.message,pt=_e.signature;else{const{chain:gt,wallet:ht,statement:mt,options:bt}=_e;let xt;if(isBrowser$1())if(typeof ht=="object")xt=ht;else{const vt=window;if("solana"in vt&&typeof vt.solana=="object"&&("signIn"in vt.solana&&typeof vt.solana.signIn=="function"||"signMessage"in vt.solana&&typeof vt.solana.signMessage=="function"))xt=vt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ht!="object"||!(bt!=null&&bt.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");xt=ht}const Et=new URL((et=bt==null?void 0:bt.url)!==null&&et!==void 0?et:window.location.href);if("signIn"in xt&&xt.signIn){const vt=await xt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},bt==null?void 0:bt.signInWithSolana),{version:"1",domain:Et.host,uri:Et.href}),mt?{statement:mt}:null));let _t;if(Array.isArray(vt)&&vt[0]&&typeof vt[0]=="object")_t=vt[0];else if(vt&&typeof vt=="object"&&"signedMessage"in vt&&"signature"in vt)_t=vt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _t&&"signature"in _t&&(typeof _t.signedMessage=="string"||_t.signedMessage instanceof Uint8Array)&&_t.signature instanceof Uint8Array)ft=typeof _t.signedMessage=="string"?_t.signedMessage:new TextDecoder().decode(_t.signedMessage),pt=_t.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in xt)||typeof xt.signMessage!="function"||!("publicKey"in xt)||typeof xt!="object"||!xt.publicKey||!("toBase58"in xt.publicKey)||typeof xt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");ft=[`${Et.host} wants you to sign in with your Solana account:`,xt.publicKey.toBase58(),...mt?["",mt,""]:[""],"Version: 1",`URI: ${Et.href}`,`Issued At: ${(nt=(tt=bt==null?void 0:bt.signInWithSolana)===null||tt===void 0?void 0:tt.issuedAt)!==null&&nt!==void 0?nt:new Date().toISOString()}`,...!((rt=bt==null?void 0:bt.signInWithSolana)===null||rt===void 0)&&rt.notBefore?[`Not Before: ${bt.signInWithSolana.notBefore}`]:[],...!((it=bt==null?void 0:bt.signInWithSolana)===null||it===void 0)&&it.expirationTime?[`Expiration Time: ${bt.signInWithSolana.expirationTime}`]:[],...!((st=bt==null?void 0:bt.signInWithSolana)===null||st===void 0)&&st.chainId?[`Chain ID: ${bt.signInWithSolana.chainId}`]:[],...!((ot=bt==null?void 0:bt.signInWithSolana)===null||ot===void 0)&&ot.nonce?[`Nonce: ${bt.signInWithSolana.nonce}`]:[],...!((at=bt==null?void 0:bt.signInWithSolana)===null||at===void 0)&&at.requestId?[`Request ID: ${bt.signInWithSolana.requestId}`]:[],...!((ut=(lt=bt==null?void 0:bt.signInWithSolana)===null||lt===void 0?void 0:lt.resources)===null||ut===void 0)&&ut.length?["Resources",...bt.signInWithSolana.resources.map(_t=>`- ${_t}`)]:[]].join(`
`);const vt=await xt.signMessage(new TextEncoder().encode(ft),"utf8");if(!vt||!(vt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");pt=vt}}try{const{data:gt,error:ht}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:ft,signature:bytesToBase64URL(pt)},!((dt=_e.options)===null||dt===void 0)&&dt.captchaToken?{gotrue_meta_security:{captcha_token:(ct=_e.options)===null||ct===void 0?void 0:ct.captchaToken}}:null),xform:_sessionResponse});if(ht)throw ht;return!gt||!gt.session||!gt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(gt.session&&(await this._saveSession(gt.session),await this._notifyAllSubscribers("SIGNED_IN",gt.session)),{data:Object.assign({},gt),error:ht})}catch(gt){if(isAuthError(gt))return{data:{user:null,session:null},error:gt};throw gt}}async _exchangeCodeForSession(_e){const et=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[tt,nt]=(et??"").split("/");try{const{data:rt,error:it}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:_e,code_verifier:tt},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),it)throw it;return!rt||!rt.session||!rt.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(rt.session&&(await this._saveSession(rt.session),await this._notifyAllSubscribers("SIGNED_IN",rt.session)),{data:Object.assign(Object.assign({},rt),{redirectType:nt??null}),error:it})}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null,redirectType:null},error:rt};throw rt}}async signInWithIdToken(_e){try{const{options:et,provider:tt,token:nt,access_token:rt,nonce:it}=_e,st=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:tt,id_token:nt,access_token:rt,nonce:it,gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken}},xform:_sessionResponse}),{data:ot,error:at}=st;return at?{data:{user:null,session:null},error:at}:!ot||!ot.session||!ot.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(ot.session&&(await this._saveSession(ot.session),await this._notifyAllSubscribers("SIGNED_IN",ot.session)),{data:ot,error:at})}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async signInWithOtp(_e){var et,tt,nt,rt,it;try{if("email"in _e){const{email:st,options:ot}=_e;let at=null,lt=null;this.flowType==="pkce"&&([at,lt]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:ut}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:st,data:(et=ot==null?void 0:ot.data)!==null&&et!==void 0?et:{},create_user:(tt=ot==null?void 0:ot.shouldCreateUser)!==null&&tt!==void 0?tt:!0,gotrue_meta_security:{captcha_token:ot==null?void 0:ot.captchaToken},code_challenge:at,code_challenge_method:lt},redirectTo:ot==null?void 0:ot.emailRedirectTo});return{data:{user:null,session:null},error:ut}}if("phone"in _e){const{phone:st,options:ot}=_e,{data:at,error:lt}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:st,data:(nt=ot==null?void 0:ot.data)!==null&&nt!==void 0?nt:{},create_user:(rt=ot==null?void 0:ot.shouldCreateUser)!==null&&rt!==void 0?rt:!0,gotrue_meta_security:{captcha_token:ot==null?void 0:ot.captchaToken},channel:(it=ot==null?void 0:ot.channel)!==null&&it!==void 0?it:"sms"}});return{data:{user:null,session:null,messageId:at==null?void 0:at.message_id},error:lt}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(st){if(isAuthError(st))return{data:{user:null,session:null},error:st};throw st}}async verifyOtp(_e){var et,tt;try{let nt,rt;"options"in _e&&(nt=(et=_e.options)===null||et===void 0?void 0:et.redirectTo,rt=(tt=_e.options)===null||tt===void 0?void 0:tt.captchaToken);const{data:it,error:st}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},_e),{gotrue_meta_security:{captcha_token:rt}}),redirectTo:nt,xform:_sessionResponse});if(st)throw st;if(!it)throw new Error("An error occurred on token verification.");const ot=it.session,at=it.user;return ot!=null&&ot.access_token&&(await this._saveSession(ot),await this._notifyAllSubscribers(_e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",ot)),{data:{user:at,session:ot},error:null}}catch(nt){if(isAuthError(nt))return{data:{user:null,session:null},error:nt};throw nt}}async signInWithSSO(_e){var et,tt,nt;try{let rt=null,it=null;return this.flowType==="pkce"&&([rt,it]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in _e?{provider_id:_e.providerId}:null),"domain"in _e?{domain:_e.domain}:null),{redirect_to:(tt=(et=_e.options)===null||et===void 0?void 0:et.redirectTo)!==null&&tt!==void 0?tt:void 0}),!((nt=_e==null?void 0:_e.options)===null||nt===void 0)&&nt.captchaToken?{gotrue_meta_security:{captcha_token:_e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:rt,code_challenge_method:it}),headers:this.headers,xform:_ssoResponse})}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async _e=>{const{data:{session:et},error:tt}=_e;if(tt)throw tt;if(!et)throw new AuthSessionMissingError;const{error:nt}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:et.access_token});return{data:{user:null,session:null},error:nt}})}catch(_e){if(isAuthError(_e))return{data:{user:null,session:null},error:_e};throw _e}}async resend(_e){try{const et=`${this.url}/resend`;if("email"in _e){const{email:tt,type:nt,options:rt}=_e,{error:it}=await _request(this.fetch,"POST",et,{headers:this.headers,body:{email:tt,type:nt,gotrue_meta_security:{captcha_token:rt==null?void 0:rt.captchaToken}},redirectTo:rt==null?void 0:rt.emailRedirectTo});return{data:{user:null,session:null},error:it}}else if("phone"in _e){const{phone:tt,type:nt,options:rt}=_e,{data:it,error:st}=await _request(this.fetch,"POST",et,{headers:this.headers,body:{phone:tt,type:nt,gotrue_meta_security:{captcha_token:rt==null?void 0:rt.captchaToken}}});return{data:{user:null,session:null,messageId:it==null?void 0:it.message_id},error:st}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async et=>et))}async _acquireLock(_e,et){this._debug("#_acquireLock","begin",_e);try{if(this.lockAcquired){const tt=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),nt=(async()=>(await tt,await et()))();return this.pendingInLock.push((async()=>{try{await nt}catch{}})()),nt}return await this.lock(`lock:${this.storageKey}`,_e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const tt=et();for(this.pendingInLock.push((async()=>{try{await tt}catch{}})()),await tt;this.pendingInLock.length;){const nt=[...this.pendingInLock];await Promise.all(nt),this.pendingInLock.splice(0,nt.length)}return await tt}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(_e){this._debug("#_useSession","begin");try{const et=await this.__loadSession();return await _e(et)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let _e=null;const et=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",et),et!==null&&(this._isValidSession(et)?_e=et:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!_e)return{data:{session:null},error:null};const tt=_e.expires_at?_e.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${tt?"":" not"} expired`,"expires_at",_e.expires_at),!tt){if(this.userStorage){const it=await getItemAsync(this.userStorage,this.storageKey+"-user");it!=null&&it.user?_e.user=it.user:_e.user=userNotAvailableProxy()}if(this.storage.isServer&&_e.user&&!_e.user.__isUserNotAvailableProxy){const it={value:this.suppressGetSessionWarning};_e.user=insecureUserWarningProxy(_e.user,it),it.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:_e},error:null}}const{data:nt,error:rt}=await this._callRefreshToken(_e.refresh_token);return rt?{data:{session:null},error:rt}:{data:{session:nt},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(_e){return _e?await this._getUser(_e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(_e){try{return _e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:_e,xform:_userResponse}):await this._useSession(async et=>{var tt,nt,rt;const{data:it,error:st}=et;if(st)throw st;return!(!((tt=it.session)===null||tt===void 0)&&tt.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(rt=(nt=it.session)===null||nt===void 0?void 0:nt.access_token)!==null&&rt!==void 0?rt:void 0,xform:_userResponse})})}catch(et){if(isAuthError(et))return isAuthSessionMissingError(et)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:et};throw et}}async updateUser(_e,et={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(_e,et))}async _updateUser(_e,et={}){try{return await this._useSession(async tt=>{const{data:nt,error:rt}=tt;if(rt)throw rt;if(!nt.session)throw new AuthSessionMissingError;const it=nt.session;let st=null,ot=null;this.flowType==="pkce"&&_e.email!=null&&([st,ot]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:at,error:lt}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:et==null?void 0:et.emailRedirectTo,body:Object.assign(Object.assign({},_e),{code_challenge:st,code_challenge_method:ot}),jwt:it.access_token,xform:_userResponse});if(lt)throw lt;return it.user=at.user,await this._saveSession(it),await this._notifyAllSubscribers("USER_UPDATED",it),{data:{user:it.user},error:null}})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async setSession(_e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(_e))}async _setSession(_e){try{if(!_e.access_token||!_e.refresh_token)throw new AuthSessionMissingError;const et=Date.now()/1e3;let tt=et,nt=!0,rt=null;const{payload:it}=decodeJWT(_e.access_token);if(it.exp&&(tt=it.exp,nt=tt<=et),nt){const{data:st,error:ot}=await this._callRefreshToken(_e.refresh_token);if(ot)return{data:{user:null,session:null},error:ot};if(!st)return{data:{user:null,session:null},error:null};rt=st}else{const{data:st,error:ot}=await this._getUser(_e.access_token);if(ot)throw ot;rt={access_token:_e.access_token,refresh_token:_e.refresh_token,user:st.user,token_type:"bearer",expires_in:tt-et,expires_at:tt},await this._saveSession(rt),await this._notifyAllSubscribers("SIGNED_IN",rt)}return{data:{user:rt.user,session:rt},error:null}}catch(et){if(isAuthError(et))return{data:{session:null,user:null},error:et};throw et}}async refreshSession(_e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(_e))}async _refreshSession(_e){try{return await this._useSession(async et=>{var tt;if(!_e){const{data:it,error:st}=et;if(st)throw st;_e=(tt=it.session)!==null&&tt!==void 0?tt:void 0}if(!(_e!=null&&_e.refresh_token))throw new AuthSessionMissingError;const{data:nt,error:rt}=await this._callRefreshToken(_e.refresh_token);return rt?{data:{user:null,session:null},error:rt}:nt?{data:{user:nt.user,session:nt},error:null}:{data:{user:null,session:null},error:null}})}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async _getSessionFromURL(_e,et){try{if(!isBrowser$1())throw new AuthImplicitGrantRedirectError("No browser detected.");if(_e.error||_e.error_description||_e.error_code)throw new AuthImplicitGrantRedirectError(_e.error_description||"Error in URL with unspecified error_description",{error:_e.error||"unspecified_error",code:_e.error_code||"unspecified_code"});switch(et){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(et==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!_e.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:mt,error:bt}=await this._exchangeCodeForSession(_e.code);if(bt)throw bt;const xt=new URL(window.location.href);return xt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",xt.toString()),{data:{session:mt.session,redirectType:null},error:null}}const{provider_token:tt,provider_refresh_token:nt,access_token:rt,refresh_token:it,expires_in:st,expires_at:ot,token_type:at}=_e;if(!rt||!st||!it||!at)throw new AuthImplicitGrantRedirectError("No session defined in URL");const lt=Math.round(Date.now()/1e3),ut=parseInt(st);let dt=lt+ut;ot&&(dt=parseInt(ot));const ct=dt-lt;ct*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${ct}s, should have been closer to ${ut}s`);const ft=dt-ut;lt-ft>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ft,dt,lt):lt-ft<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",ft,dt,lt);const{data:pt,error:gt}=await this._getUser(rt);if(gt)throw gt;const ht={provider_token:tt,provider_refresh_token:nt,access_token:rt,expires_in:ut,expires_at:dt,refresh_token:it,token_type:at,user:pt.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ht,redirectType:_e.type},error:null}}catch(tt){if(isAuthError(tt))return{data:{session:null,redirectType:null},error:tt};throw tt}}_isImplicitGrantCallback(_e){return!!(_e.access_token||_e.error_description)}async _isPKCECallback(_e){const et=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(_e.code&&et)}async signOut(_e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(_e))}async _signOut({scope:_e}={scope:"global"}){return await this._useSession(async et=>{var tt;const{data:nt,error:rt}=et;if(rt)return{error:rt};const it=(tt=nt.session)===null||tt===void 0?void 0:tt.access_token;if(it){const{error:st}=await this.admin.signOut(it,_e);if(st&&!(isAuthApiError(st)&&(st.status===404||st.status===401||st.status===403)))return{error:st}}return _e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(_e){const et=uuid(),tt={id:et,callback:_e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",et),this.stateChangeEmitters.delete(et)}};return this._debug("#onAuthStateChange()","registered callback with id",et),this.stateChangeEmitters.set(et,tt),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(et)})))(),{data:{subscription:tt}}}async _emitInitialSession(_e){return await this._useSession(async et=>{var tt,nt;try{const{data:{session:rt},error:it}=et;if(it)throw it;await((tt=this.stateChangeEmitters.get(_e))===null||tt===void 0?void 0:tt.callback("INITIAL_SESSION",rt)),this._debug("INITIAL_SESSION","callback id",_e,"session",rt)}catch(rt){await((nt=this.stateChangeEmitters.get(_e))===null||nt===void 0?void 0:nt.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",_e,"error",rt),console.error(rt)}})}async resetPasswordForEmail(_e,et={}){let tt=null,nt=null;this.flowType==="pkce"&&([tt,nt]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:_e,code_challenge:tt,code_challenge_method:nt,gotrue_meta_security:{captcha_token:et.captchaToken}},headers:this.headers,redirectTo:et.redirectTo})}catch(rt){if(isAuthError(rt))return{data:null,error:rt};throw rt}}async getUserIdentities(){var _e;try{const{data:et,error:tt}=await this.getUser();if(tt)throw tt;return{data:{identities:(_e=et.user.identities)!==null&&_e!==void 0?_e:[]},error:null}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async linkIdentity(_e){return"token"in _e?this.linkIdentityIdToken(_e):this.linkIdentityOAuth(_e)}async linkIdentityOAuth(_e){var et;try{const{data:tt,error:nt}=await this._useSession(async rt=>{var it,st,ot,at,lt;const{data:ut,error:dt}=rt;if(dt)throw dt;const ct=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,_e.provider,{redirectTo:(it=_e.options)===null||it===void 0?void 0:it.redirectTo,scopes:(st=_e.options)===null||st===void 0?void 0:st.scopes,queryParams:(ot=_e.options)===null||ot===void 0?void 0:ot.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",ct,{headers:this.headers,jwt:(lt=(at=ut.session)===null||at===void 0?void 0:at.access_token)!==null&&lt!==void 0?lt:void 0})});if(nt)throw nt;return isBrowser$1()&&!(!((et=_e.options)===null||et===void 0)&&et.skipBrowserRedirect)&&window.location.assign(tt==null?void 0:tt.url),{data:{provider:_e.provider,url:tt==null?void 0:tt.url},error:null}}catch(tt){if(isAuthError(tt))return{data:{provider:_e.provider,url:null},error:tt};throw tt}}async linkIdentityIdToken(_e){return await this._useSession(async et=>{var tt;try{const{error:nt,data:{session:rt}}=et;if(nt)throw nt;const{options:it,provider:st,token:ot,access_token:at,nonce:lt}=_e,ut=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(tt=rt==null?void 0:rt.access_token)!==null&&tt!==void 0?tt:void 0,body:{provider:st,id_token:ot,access_token:at,nonce:lt,link_identity:!0,gotrue_meta_security:{captcha_token:it==null?void 0:it.captchaToken}},xform:_sessionResponse}),{data:dt,error:ct}=ut;return ct?{data:{user:null,session:null},error:ct}:!dt||!dt.session||!dt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(dt.session&&(await this._saveSession(dt.session),await this._notifyAllSubscribers("USER_UPDATED",dt.session)),{data:dt,error:ct})}catch(nt){if(isAuthError(nt))return{data:{user:null,session:null},error:nt};throw nt}})}async unlinkIdentity(_e){try{return await this._useSession(async et=>{var tt,nt;const{data:rt,error:it}=et;if(it)throw it;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${_e.identity_id}`,{headers:this.headers,jwt:(nt=(tt=rt.session)===null||tt===void 0?void 0:tt.access_token)!==null&&nt!==void 0?nt:void 0})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _refreshAccessToken(_e){const et=`#_refreshAccessToken(${_e.substring(0,5)}...)`;this._debug(et,"begin");try{const tt=Date.now();return await retryable(async nt=>(nt>0&&await sleep(200*Math.pow(2,nt-1)),this._debug(et,"refreshing attempt",nt),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:_e},headers:this.headers,xform:_sessionResponse})),(nt,rt)=>{const it=200*Math.pow(2,nt);return rt&&isAuthRetryableFetchError(rt)&&Date.now()+it-tt<AUTO_REFRESH_TICK_DURATION_MS})}catch(tt){if(this._debug(et,"error",tt),isAuthError(tt))return{data:{session:null,user:null},error:tt};throw tt}finally{this._debug(et,"end")}}_isValidSession(_e){return typeof _e=="object"&&_e!==null&&"access_token"in _e&&"refresh_token"in _e&&"expires_at"in _e}async _handleProviderSignIn(_e,et){const tt=await this._getUrlForProvider(`${this.url}/authorize`,_e,{redirectTo:et.redirectTo,scopes:et.scopes,queryParams:et.queryParams});return this._debug("#_handleProviderSignIn()","provider",_e,"options",et,"url",tt),isBrowser$1()&&!et.skipBrowserRedirect&&window.location.assign(tt),{data:{provider:_e,url:tt},error:null}}async _recoverAndRefresh(){var _e,et;const tt="#_recoverAndRefresh()";this._debug(tt,"begin");try{const nt=await getItemAsync(this.storage,this.storageKey);if(nt&&this.userStorage){let it=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!it&&(it={user:nt.user},await setItemAsync(this.userStorage,this.storageKey+"-user",it)),nt.user=(_e=it==null?void 0:it.user)!==null&&_e!==void 0?_e:userNotAvailableProxy()}else if(nt&&!nt.user&&!nt.user){const it=await getItemAsync(this.storage,this.storageKey+"-user");it&&(it!=null&&it.user)?(nt.user=it.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,nt)):nt.user=userNotAvailableProxy()}if(this._debug(tt,"session from storage",nt),!this._isValidSession(nt)){this._debug(tt,"session is not valid"),nt!==null&&await this._removeSession();return}const rt=((et=nt.expires_at)!==null&&et!==void 0?et:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(tt,`session has${rt?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),rt){if(this.autoRefreshToken&&nt.refresh_token){const{error:it}=await this._callRefreshToken(nt.refresh_token);it&&(console.error(it),isAuthRetryableFetchError(it)||(this._debug(tt,"refresh failed with a non-retryable error, removing the session",it),await this._removeSession()))}}else if(nt.user&&nt.user.__isUserNotAvailableProxy===!0)try{const{data:it,error:st}=await this._getUser(nt.access_token);!st&&(it!=null&&it.user)?(nt.user=it.user,await this._saveSession(nt),await this._notifyAllSubscribers("SIGNED_IN",nt)):this._debug(tt,"could not get user data, skipping SIGNED_IN notification")}catch(it){console.error("Error getting user data:",it),this._debug(tt,"error getting user data, skipping SIGNED_IN notification",it)}else await this._notifyAllSubscribers("SIGNED_IN",nt)}catch(nt){this._debug(tt,"error",nt),console.error(nt);return}finally{this._debug(tt,"end")}}async _callRefreshToken(_e){var et,tt;if(!_e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const nt=`#_callRefreshToken(${_e.substring(0,5)}...)`;this._debug(nt,"begin");try{this.refreshingDeferred=new Deferred;const{data:rt,error:it}=await this._refreshAccessToken(_e);if(it)throw it;if(!rt.session)throw new AuthSessionMissingError;await this._saveSession(rt.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",rt.session);const st={data:rt.session,error:null};return this.refreshingDeferred.resolve(st),st}catch(rt){if(this._debug(nt,"error",rt),isAuthError(rt)){const it={data:null,error:rt};return isAuthRetryableFetchError(rt)||await this._removeSession(),(et=this.refreshingDeferred)===null||et===void 0||et.resolve(it),it}throw(tt=this.refreshingDeferred)===null||tt===void 0||tt.reject(rt),rt}finally{this.refreshingDeferred=null,this._debug(nt,"end")}}async _notifyAllSubscribers(_e,et,tt=!0){const nt=`#_notifyAllSubscribers(${_e})`;this._debug(nt,"begin",et,`broadcast = ${tt}`);try{this.broadcastChannel&&tt&&this.broadcastChannel.postMessage({event:_e,session:et});const rt=[],it=Array.from(this.stateChangeEmitters.values()).map(async st=>{try{await st.callback(_e,et)}catch(ot){rt.push(ot)}});if(await Promise.all(it),rt.length>0){for(let st=0;st<rt.length;st+=1)console.error(rt[st]);throw rt[0]}}finally{this._debug(nt,"end")}}async _saveSession(_e){this._debug("#_saveSession()",_e),this.suppressGetSessionWarning=!0;const et=Object.assign({},_e),tt=et.user&&et.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!tt&&et.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:et.user});const nt=Object.assign({},et);delete nt.user;const rt=deepClone(nt);await setItemAsync(this.storage,this.storageKey,rt)}else{const nt=deepClone(et);await setItemAsync(this.storage,this.storageKey,nt)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const _e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{_e&&isBrowser$1()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",_e)}catch(et){console.error("removing visibilitychange callback failed",et)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const _e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=_e,_e&&typeof _e=="object"&&typeof _e.unref=="function"?_e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(_e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const _e=this.autoRefreshTicker;this.autoRefreshTicker=null,_e&&clearInterval(_e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const _e=Date.now();try{return await this._useSession(async et=>{const{data:{session:tt}}=et;if(!tt||!tt.refresh_token||!tt.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const nt=Math.floor((tt.expires_at*1e3-_e)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${nt} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),nt<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(tt.refresh_token)})}catch(et){console.error("Auto refresh tick failed with error. This is likely a transient error.",et)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(_e){if(_e.isAcquireTimeout||_e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw _e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$1()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(_e){console.error("_handleVisibilityChange",_e)}}async _onVisibilityChanged(_e){const et=`#_onVisibilityChanged(${_e})`;this._debug(et,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),_e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(et,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(_e,et,tt){const nt=[`provider=${encodeURIComponent(et)}`];if(tt!=null&&tt.redirectTo&&nt.push(`redirect_to=${encodeURIComponent(tt.redirectTo)}`),tt!=null&&tt.scopes&&nt.push(`scopes=${encodeURIComponent(tt.scopes)}`),this.flowType==="pkce"){const[rt,it]=await getCodeChallengeAndMethod(this.storage,this.storageKey),st=new URLSearchParams({code_challenge:`${encodeURIComponent(rt)}`,code_challenge_method:`${encodeURIComponent(it)}`});nt.push(st.toString())}if(tt!=null&&tt.queryParams){const rt=new URLSearchParams(tt.queryParams);nt.push(rt.toString())}return tt!=null&&tt.skipBrowserRedirect&&nt.push(`skip_http_redirect=${tt.skipBrowserRedirect}`),`${_e}?${nt.join("&")}`}async _unenroll(_e){try{return await this._useSession(async et=>{var tt;const{data:nt,error:rt}=et;return rt?{data:null,error:rt}:await _request(this.fetch,"DELETE",`${this.url}/factors/${_e.factorId}`,{headers:this.headers,jwt:(tt=nt==null?void 0:nt.session)===null||tt===void 0?void 0:tt.access_token})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _enroll(_e){try{return await this._useSession(async et=>{var tt,nt;const{data:rt,error:it}=et;if(it)return{data:null,error:it};const st=Object.assign({friendly_name:_e.friendlyName,factor_type:_e.factorType},_e.factorType==="phone"?{phone:_e.phone}:_e.factorType==="totp"?{issuer:_e.issuer}:{}),{data:ot,error:at}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:st,headers:this.headers,jwt:(tt=rt==null?void 0:rt.session)===null||tt===void 0?void 0:tt.access_token});return at?{data:null,error:at}:(_e.factorType==="totp"&&ot.type==="totp"&&(!((nt=ot==null?void 0:ot.totp)===null||nt===void 0)&&nt.qr_code)&&(ot.totp.qr_code=`data:image/svg+xml;utf-8,${ot.totp.qr_code}`),{data:ot,error:null})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _verify(_e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async et=>{var tt;const{data:nt,error:rt}=et;if(rt)return{data:null,error:rt};const it=Object.assign({challenge_id:_e.challengeId},"webauthn"in _e?{webauthn:Object.assign(Object.assign({},_e.webauthn),{credential_response:_e.webauthn.type==="create"?serializeCredentialCreationResponse(_e.webauthn.credential_response):serializeCredentialRequestResponse(_e.webauthn.credential_response)})}:{code:_e.code}),{data:st,error:ot}=await _request(this.fetch,"POST",`${this.url}/factors/${_e.factorId}/verify`,{body:it,headers:this.headers,jwt:(tt=nt==null?void 0:nt.session)===null||tt===void 0?void 0:tt.access_token});return ot?{data:null,error:ot}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+st.expires_in},st)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",st),{data:st,error:ot})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}})}async _challenge(_e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async et=>{var tt;const{data:nt,error:rt}=et;if(rt)return{data:null,error:rt};const it=await _request(this.fetch,"POST",`${this.url}/factors/${_e.factorId}/challenge`,{body:_e,headers:this.headers,jwt:(tt=nt==null?void 0:nt.session)===null||tt===void 0?void 0:tt.access_token});if(it.error)return it;const{data:st}=it;if(st.type!=="webauthn")return{data:st,error:null};switch(st.webauthn.type){case"create":return{data:Object.assign(Object.assign({},st),{webauthn:Object.assign(Object.assign({},st.webauthn),{credential_options:Object.assign(Object.assign({},st.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(st.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},st),{webauthn:Object.assign(Object.assign({},st.webauthn),{credential_options:Object.assign(Object.assign({},st.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(st.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}})}async _challengeAndVerify(_e){const{data:et,error:tt}=await this._challenge({factorId:_e.factorId});return tt?{data:null,error:tt}:await this._verify({factorId:_e.factorId,challengeId:et.id,code:_e.code})}async _listFactors(){var _e;const{data:{user:et},error:tt}=await this.getUser();if(tt)return{data:null,error:tt};const nt={all:[],phone:[],totp:[],webauthn:[]};for(const rt of(_e=et==null?void 0:et.factors)!==null&&_e!==void 0?_e:[])nt.all.push(rt),rt.status==="verified"&&nt[rt.factor_type].push(rt);return{data:nt,error:null}}async _getAuthenticatorAssuranceLevel(){var _e,et;const{data:{session:tt},error:nt}=await this.getSession();if(nt)return{data:null,error:nt};if(!tt)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:rt}=decodeJWT(tt.access_token);let it=null;rt.aal&&(it=rt.aal);let st=it;((et=(_e=tt.user.factors)===null||_e===void 0?void 0:_e.filter(lt=>lt.status==="verified"))!==null&&et!==void 0?et:[]).length>0&&(st="aal2");const at=rt.amr||[];return{data:{currentLevel:it,nextLevel:st,currentAuthenticationMethods:at},error:null}}async _getAuthorizationDetails(_e){try{return await this._useSession(async et=>{const{data:{session:tt},error:nt}=et;return nt?{data:null,error:nt}:tt?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${_e}`,{headers:this.headers,jwt:tt.access_token,xform:rt=>({data:rt,error:null})}):{data:null,error:new AuthSessionMissingError}})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _approveAuthorization(_e,et){try{return await this._useSession(async tt=>{const{data:{session:nt},error:rt}=tt;if(rt)return{data:null,error:rt};if(!nt)return{data:null,error:new AuthSessionMissingError};const it=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${_e}/consent`,{headers:this.headers,jwt:nt.access_token,body:{action:"approve"},xform:st=>({data:st,error:null})});return it.data&&it.data.redirect_url&&isBrowser$1()&&!(et!=null&&et.skipBrowserRedirect)&&window.location.assign(it.data.redirect_url),it})}catch(tt){if(isAuthError(tt))return{data:null,error:tt};throw tt}}async _denyAuthorization(_e,et){try{return await this._useSession(async tt=>{const{data:{session:nt},error:rt}=tt;if(rt)return{data:null,error:rt};if(!nt)return{data:null,error:new AuthSessionMissingError};const it=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${_e}/consent`,{headers:this.headers,jwt:nt.access_token,body:{action:"deny"},xform:st=>({data:st,error:null})});return it.data&&it.data.redirect_url&&isBrowser$1()&&!(et!=null&&et.skipBrowserRedirect)&&window.location.assign(it.data.redirect_url),it})}catch(tt){if(isAuthError(tt))return{data:null,error:tt};throw tt}}async fetchJwk(_e,et={keys:[]}){let tt=et.keys.find(st=>st.kid===_e);if(tt)return tt;const nt=Date.now();if(tt=this.jwks.keys.find(st=>st.kid===_e),tt&&this.jwks_cached_at+JWKS_TTL>nt)return tt;const{data:rt,error:it}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(it)throw it;return!rt.keys||rt.keys.length===0||(this.jwks=rt,this.jwks_cached_at=nt,tt=rt.keys.find(st=>st.kid===_e),!tt)?null:tt}async getClaims(_e,et={}){try{let tt=_e;if(!tt){const{data:ct,error:ft}=await this.getSession();if(ft||!ct.session)return{data:null,error:ft};tt=ct.session.access_token}const{header:nt,payload:rt,signature:it,raw:{header:st,payload:ot}}=decodeJWT(tt);et!=null&&et.allowExpired||validateExp(rt.exp);const at=!nt.alg||nt.alg.startsWith("HS")||!nt.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(nt.kid,et!=null&&et.keys?{keys:et.keys}:et==null?void 0:et.jwks);if(!at){const{error:ct}=await this.getUser(tt);if(ct)throw ct;return{data:{claims:rt,header:nt,signature:it},error:null}}const lt=getAlgorithm(nt.alg),ut=await crypto.subtle.importKey("jwk",at,lt,!0,["verify"]);if(!await crypto.subtle.verify(lt,ut,it,stringToUint8Array(`${st}.${ot}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:rt,header:nt,signature:it},error:null}}catch(tt){if(isAuthError(tt))return{data:null,error:tt};throw tt}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(_e){super(_e)}}class SupabaseClient{constructor(_e,et,tt){var nt,rt,it;this.supabaseUrl=_e,this.supabaseKey=et;const st=validateSupabaseUrl(_e);if(!et)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",st),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",st),this.storageUrl=new URL("storage/v1",st),this.functionsUrl=new URL("functions/v1",st);const ot=`sb-${st.hostname.split(".")[0]}-auth-token`,at={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:ot}),global:DEFAULT_GLOBAL_OPTIONS},lt=applySettingDefaults(tt??{},at);this.storageKey=(nt=lt.auth.storageKey)!==null&&nt!==void 0?nt:"",this.headers=(rt=lt.global.headers)!==null&&rt!==void 0?rt:{},lt.accessToken?(this.accessToken=lt.accessToken,this.auth=new Proxy({},{get:(ut,dt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(dt)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((it=lt.auth)!==null&&it!==void 0?it:{},this.headers,lt.global.fetch),this.fetch=fetchWithAuth(et,this._getAccessToken.bind(this),lt.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},lt.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",st).href,{headers:this.headers,schema:lt.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,tt==null?void 0:tt.storage),lt.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(_e){return this.rest.from(_e)}schema(_e){return this.rest.schema(_e)}rpc(_e,et={},tt={head:!1,get:!1,count:void 0}){return this.rest.rpc(_e,et,tt)}channel(_e,et={config:{}}){return this.realtime.channel(_e,et)}getChannels(){return this.realtime.getChannels()}removeChannel(_e){return this.realtime.removeChannel(_e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var _e,et;if(this.accessToken)return await this.accessToken();const{data:tt}=await this.auth.getSession();return(et=(_e=tt.session)===null||_e===void 0?void 0:_e.access_token)!==null&&et!==void 0?et:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:_e,persistSession:et,detectSessionInUrl:tt,storage:nt,userStorage:rt,storageKey:it,flowType:st,lock:ot,debug:at},lt,ut){const dt={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},dt),lt),storageKey:it,autoRefreshToken:_e,persistSession:et,detectSessionInUrl:tt,storage:nt,userStorage:rt,flowType:st,lock:ot,debug:at,fetch:ut,hasCustomAuthorizationHeader:Object.keys(this.headers).some(ct=>ct.toLowerCase()==="authorization")})}_initRealtimeClient(_e){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},_e),{params:Object.assign({apikey:this.supabaseKey},_e==null?void 0:_e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((et,tt)=>{this._handleTokenChanged(et,"CLIENT",tt==null?void 0:tt.access_token)})}_handleTokenChanged(_e,et,tt){(_e==="TOKEN_REFRESHED"||_e==="SIGNED_IN")&&this.changedAccessToken!==tt?(this.changedAccessToken=tt,this.realtime.setAuth(tt)):_e==="SIGNED_OUT"&&(this.realtime.setAuth(),et=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=($,_e,et)=>new SupabaseClient($,_e,et);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const $=process.version;if($==null)return!1;const _e=$.match(/^v(\d+)\./);return _e?parseInt(_e[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://gdapoomgsnevsyjpwruz.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdkYXBvb21nc25ldnN5anB3cnV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMDAxNzksImV4cCI6MjA3NzY3NjE3OX0.cBlnD3yWICvPeHkGjugUBNkRF6AnanI_6ciy2tNEMi4",supabase=createClient(supabaseUrl,supabaseAnonKey);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=$=>$.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=$=>$.replace(/^([A-Z])|[\s-_]+(\w)/g,(_e,et,tt)=>tt?tt.toUpperCase():et.toLowerCase()),toPascalCase=$=>{const _e=toCamelCase($);return _e.charAt(0).toUpperCase()+_e.slice(1)},mergeClasses=(...$)=>$.filter((_e,et,tt)=>!!_e&&_e.trim()!==""&&tt.indexOf(_e)===et).join(" ").trim(),hasA11yProp=$=>{for(const _e in $)if(_e.startsWith("aria-")||_e==="role"||_e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:$="currentColor",size:_e=24,strokeWidth:et=2,absoluteStrokeWidth:tt,className:nt="",children:rt,iconNode:it,...st},ot)=>reactExports.createElement("svg",{ref:ot,...defaultAttributes,width:_e,height:_e,stroke:$,strokeWidth:tt?Number(et)*24/Number(_e):et,className:mergeClasses("lucide",nt),...!rt&&!hasA11yProp(st)&&{"aria-hidden":"true"},...st},[...it.map(([at,lt])=>reactExports.createElement(at,lt)),...Array.isArray(rt)?rt:[rt]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=($,_e)=>{const et=reactExports.forwardRef(({className:tt,...nt},rt)=>reactExports.createElement(Icon,{ref:rt,iconNode:_e,className:mergeClasses(`lucide-${toKebabCase(toPascalCase($))}`,`lucide-${$}`,tt),...nt}));return et.displayName=toPascalCase($),et};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$M);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$L);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],BookOpenText=createLucideIcon("book-open-text",__iconNode$K);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$J);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Bookmark=createLucideIcon("bookmark",__iconNode$I);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Brain=createLucideIcon("brain",__iconNode$H);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$G);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$F);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$E);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$D);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$C);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$B);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$A);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$z);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],CodeXml=createLucideIcon("code-xml",__iconNode$y);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Coffee=createLucideIcon("coffee",__iconNode$x);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$w);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$v);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$u);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$t);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$s);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Github=createLucideIcon("github",__iconNode$r);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$q);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Heart=createLucideIcon("heart",__iconNode$p);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],House=createLucideIcon("house",__iconNode$o);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$n);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Linkedin=createLucideIcon("linkedin",__iconNode$m);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon("link",__iconNode$l);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$k);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Loader=createLucideIcon("loader",__iconNode$j);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$i);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$h);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$g);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$f);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$e);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Newspaper=createLucideIcon("newspaper",__iconNode$d);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$c);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$b);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings=createLucideIcon("settings",__iconNode$a);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$9);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$8);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tag=createLucideIcon("tag",__iconNode$7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ThumbsUp=createLucideIcon("thumbs-up",__iconNode$6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$5);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Twitter=createLucideIcon("twitter",__iconNode$4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$3);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$2);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode),NavLink=({to:$,icon:_e,label:et,onClick:tt})=>{const rt=useLocation().pathname===$;return jsxRuntimeExports.jsxs(Link$1,{to:$,onClick:tt,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 font-medium text-sm
        ${rt?"bg-[#E7D0C5]/40 text-[#3A2E22] shadow-sm border border-[#E7D0C5]/50":"text-[#5C4633] hover:bg-[#F3E5D8]/50 hover:text-[#3A2E22]"}`,children:[jsxRuntimeExports.jsx(_e,{size:18,className:rt?"text-[#8B5E3C]":"opacity-70"}),jsxRuntimeExports.jsx("span",{children:et})]})},UserDropdown=({navigate:$})=>{const[_e,et]=reactExports.useState(!1),tt=reactExports.useRef(null),[nt,rt]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{const{data:{user:ot}}=await supabase.auth.getUser();ot&&rt(ot.email)}catch(ot){console.error("Error fetching user:",ot)}})()},[]),reactExports.useEffect(()=>{const st=ot=>{tt.current&&!tt.current.contains(ot.target)&&et(!1)};return document.addEventListener("mousedown",st),()=>document.removeEventListener("mousedown",st)},[]);const it=async()=>{try{await supabase.auth.signOut(),$("/login")}catch(st){console.error("Error signing out:",st)}};return jsxRuntimeExports.jsxs("div",{className:"relative",ref:tt,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>et(!_e),className:"flex items-center gap-2 p-1 pl-2 pr-3 rounded-full border border-[#E7D0C5] hover:border-[#8B5E3C] bg-white transition-all shadow-sm group",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#8B5E3C] to-[#C6B29A] flex items-center justify-center text-white font-serif font-bold text-sm shadow-inner",children:nt?nt[0].toUpperCase():"U"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`text-[#5C4633] transition-transform duration-200 ${_e?"rotate-180":""}`})]}),_e&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white rounded-xl shadow-xl border border-[#E7D0C5] overflow-hidden py-1 animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-b border-[#F3E5D8] mb-1 bg-[#F9F5F1]",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-[#3A2E22] truncate",children:"My Account"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-[#5C4633] truncate",children:nt||"User"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{et(!1),$("/profile")},className:"w-full text-left px-4 py-2.5 text-sm text-[#5C4633] hover:bg-[#F3E5D8] flex items-center gap-3 transition-colors",children:[jsxRuntimeExports.jsx(User,{size:16})," Profile Settings"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{et(!1),$("/onboarding")},className:"w-full text-left px-4 py-2.5 text-sm text-[#5C4633] hover:bg-[#F3E5D8] flex items-center gap-3 transition-colors",children:[jsxRuntimeExports.jsx(Sparkles,{size:16})," Recurate Feed"]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-[#F3E5D8] my-1"}),jsxRuntimeExports.jsxs("button",{onClick:it,className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{size:16})," Sign Out"]})]})]})},Navbar=()=>{const $=useNavigate(),[_e,et]=reactExports.useState(!1),[tt,nt]=reactExports.useState(!1);reactExports.useEffect(()=>{const it=()=>nt(window.scrollY>20);return window.addEventListener("scroll",it),()=>window.removeEventListener("scroll",it)},[]);const rt=[{to:"/home",label:"Feed",icon:House},{to:"/aidigest",label:"AI Digest",icon:Newspaper}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("nav",{className:`fixed top-0 w-full z-40 transition-all duration-300 border-b 
          ${tt?"bg-white/90 backdrop-blur-md border-[#E7D0C5] py-3 shadow-sm":"bg-[#E7C3A0] border-transparent py-5"}`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>$("/home"),className:"flex items-center gap-2 cursor-pointer group select-none",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 bg-[#3A2E22] rounded-lg flex items-center justify-center text-[#F3E5D8] shadow-md transition-transform group-hover:scale-105",children:jsxRuntimeExports.jsx("span",{className:"font-serif font-bold text-xl",children:"I"})}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-serif font-bold text-[#3A2E22] tracking-tight group-hover:text-[#8B5E3C] transition-colors",children:"INSIGHTS"})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center gap-1 bg-white/60 px-2 py-1.5 rounded-full border border-[#E7D0C5]/50 backdrop-blur-sm shadow-sm",children:rt.map(it=>jsxRuntimeExports.jsx(NavLink,{...it},it.to))}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center gap-4",children:jsxRuntimeExports.jsx(UserDropdown,{navigate:$})}),jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 text-[#3A2E22] hover:bg-[#E7D0C5]/30 rounded-lg transition-colors",onClick:()=>et(!0),children:jsxRuntimeExports.jsx(Menu,{size:24})})]})}),_e&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 bg-[#F9F5F1] animate-in slide-in-from-right duration-300 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-[#E7D0C5]",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl font-serif font-bold text-[#3A2E22]",children:"Menu"}),jsxRuntimeExports.jsx("button",{onClick:()=>et(!1),className:"p-2 bg-white rounded-full border border-[#E7D0C5] shadow-sm hover:scale-105 transition-transform",children:jsxRuntimeExports.jsx(X,{size:24,className:"text-[#3A2E22]"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6 flex flex-col gap-3",children:[rt.map(it=>jsxRuntimeExports.jsx(NavLink,{...it,onClick:()=>et(!1)},it.to)),jsxRuntimeExports.jsx("div",{className:"h-px bg-[#E7D0C5] my-4"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{et(!1),$("/profile")},className:"flex items-center gap-3 px-4 py-3 text-[#5C4633] font-medium bg-white rounded-lg border border-[#E7D0C5] shadow-sm",children:[jsxRuntimeExports.jsx(User,{size:20})," Profile Settings"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{supabase.auth.signOut(),$("/login")},className:"flex items-center gap-3 px-4 py-3 text-red-600 font-medium bg-white rounded-lg border border-[#E7D0C5] shadow-sm mt-auto",children:[jsxRuntimeExports.jsx(LogOut,{size:20})," Sign Out"]})]})]}),jsxRuntimeExports.jsx("div",{className:"transition-all duration-300 h-20"})]})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _extends(){return _extends=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends.apply(this,arguments)}function ownKeys($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty($,_e,et){return _e=_toPropertyKey(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey($){var _e=_toPrimitive($,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive($,_e){if(typeof $!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function Tree2Element($){return $&&$.map((_e,et)=>React.createElement(_e.tag,_objectSpread({key:et},_e.attr),Tree2Element(_e.child)))}function GenIcon($){return _e=>React.createElement(IconBase,_extends({attr:_objectSpread({},$.attr)},_e),Tree2Element($.child))}function IconBase($){var _e=et=>{var{attr:tt,size:nt,title:rt}=$,it=_objectWithoutProperties($,_excluded),st=nt||et.size||"1em",ot;return et.className&&(ot=et.className),$.className&&(ot=(ot?ot+" ":"")+$.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},et.attr,tt,it,{className:ot,style:_objectSpread(_objectSpread({color:$.color||et.color},et.style),$.style),height:st,width:st,xmlns:"http://www.w3.org/2000/svg"}),rt&&React.createElement("title",null,rt),$.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,et=>_e(et)):_e(DefaultContext)}function FaGithub($){return GenIcon({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})($)}function FaLinkedin($){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})($)}function FaTwitter($){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})($)}const Footer=({theme:$="light"})=>{const _e=$==="dark";return jsxRuntimeExports.jsxs("footer",{className:`${_e?"bg-[#3A2E22] text-[#E79B54]":"bg-[#E7C3A0] text-[#3A2E22]"} py-10 border-t border-[#C6B29A]/40`,children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold tracking-wide mb-2",children:"INSIGHTS"}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed max-w-xs",children:"Discover, Learn, and Evolve  your personalized space for AI-powered news, knowledge, and research."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Quick Links"}),jsxRuntimeExports.jsx("a",{href:"/home",className:"hover:underline hover:text-[#5C4633]",children:"Home"}),jsxRuntimeExports.jsx("a",{href:"/aidigest",className:"hover:underline hover:text-[#5C4633]",children:"AI Digest"}),jsxRuntimeExports.jsx("a",{href:"/about",className:"hover:underline hover:text-[#5C4633]",children:"About"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start md:items-end space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Connect"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-5 text-xl",children:[jsxRuntimeExports.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#5C4633]",children:jsxRuntimeExports.jsx(FaTwitter,{})}),jsxRuntimeExports.jsx("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#5C4633]",children:jsxRuntimeExports.jsx(FaLinkedin,{})}),jsxRuntimeExports.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#5C4633]",children:jsxRuntimeExports.jsx(FaGithub,{})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-[#C6B29A]/40 mt-10 pt-6 text-center text-sm opacity-80",children:[" ",new Date().getFullYear()," ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"INSIGHTS"}),"  All rights reserved."]})]})},ProtectedRoute=({children:$})=>{const[_e,et]=reactExports.useState(null),[tt,nt]=reactExports.useState(!0),[rt,it]=reactExports.useState(!1),st=useLocation();return reactExports.useEffect(()=>{async function ot(){const{data:{session:lt}}=await supabase.auth.getSession();if(lt!=null&&lt.user){const{data:ut}=await supabase.from("users").select("onboarding_completed").eq("id",lt.user.id).single();ut&&!ut.onboarding_completed&&it(!0)}et(lt),nt(!1)}ot();const{data:{subscription:at}}=supabase.auth.onAuthStateChange((lt,ut)=>{et(ut)});return()=>at.unsubscribe()},[]),tt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5EFE6]",children:jsxRuntimeExports.jsx("div",{className:"text-xl text-[#352414]",children:"Loading..."})}):_e?rt&&st.pathname!=="/onboarding"?jsxRuntimeExports.jsx(Navigate,{to:"/onboarding"}):$:jsxRuntimeExports.jsx(Navigate,{to:"/login"})},LayoutGroupContext=reactExports.createContext({});function useConstant($){const _e=reactExports.useRef(null);return _e.current===null&&(_e.current=$()),_e.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem($,_e){$.indexOf(_e)===-1&&$.push(_e)}function removeItem($,_e){const et=$.indexOf(_e);et>-1&&$.splice(et,1)}const clamp=($,_e,et)=>et>_e?_e:et<$?$:et;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=$=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test($);function isObject($){return typeof $=="object"&&$!==null}const isZeroValueString=$=>/^0[^.\s]+$/u.test($);function memo($){let _e;return()=>(_e===void 0&&(_e=$()),_e)}const noop=$=>$,combineFunctions=($,_e)=>et=>_e($(et)),pipe=(...$)=>$.reduce(combineFunctions),progress=($,_e,et)=>{const tt=_e-$;return tt===0?1:(et-$)/tt};class SubscriptionManager{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem(this.subscriptions,_e),()=>removeItem(this.subscriptions,_e)}notify(_e,et,tt){const nt=this.subscriptions.length;if(nt)if(nt===1)this.subscriptions[0](_e,et,tt);else for(let rt=0;rt<nt;rt++){const it=this.subscriptions[rt];it&&it(_e,et,tt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=$=>$*1e3,millisecondsToSeconds=$=>$/1e3;function velocityPerSecond($,_e){return _e?$*(1e3/_e):0}const calcBezier=($,_e,et)=>(((1-3*et+3*_e)*$+(3*et-6*_e))*$+3*_e)*$,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide($,_e,et,tt,nt){let rt,it,st=0;do it=_e+(et-_e)/2,rt=calcBezier(it,tt,nt)-$,rt>0?et=it:_e=it;while(Math.abs(rt)>subdivisionPrecision&&++st<subdivisionMaxIterations);return it}function cubicBezier($,_e,et,tt){if($===_e&&et===tt)return noop;const nt=rt=>binarySubdivide(rt,0,1,$,et);return rt=>rt===0||rt===1?rt:calcBezier(nt(rt),_e,tt)}const mirrorEasing=$=>_e=>_e<=.5?$(2*_e)/2:(2-$(2*(1-_e)))/2,reverseEasing=$=>_e=>1-$(1-_e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=$=>($*=2)<1?.5*backIn($):.5*(2-Math.pow(2,-10*($-1))),circIn=$=>1-Math.sin(Math.acos($)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=$=>Array.isArray($)&&typeof $[0]!="number",isBezierDefinition=$=>Array.isArray($)&&typeof $[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=$=>typeof $=="string",easingDefinitionToFunction=$=>{if(isBezierDefinition($)){invariant($.length===4);const[_e,et,tt,nt]=$;return cubicBezier(_e,et,tt,nt)}else if(isValidEasing($))return easingLookup[$];return $},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep($,_e){let et=new Set,tt=new Set,nt=!1,rt=!1;const it=new WeakSet;let st={delta:0,timestamp:0,isProcessing:!1};function ot(lt){it.has(lt)&&(at.schedule(lt),$()),lt(st)}const at={schedule:(lt,ut=!1,dt=!1)=>{const ft=dt&&nt?et:tt;return ut&&it.add(lt),ft.has(lt)||ft.add(lt),lt},cancel:lt=>{tt.delete(lt),it.delete(lt)},process:lt=>{if(st=lt,nt){rt=!0;return}nt=!0,[et,tt]=[tt,et],et.forEach(ot),et.clear(),nt=!1,rt&&(rt=!1,at.process(lt))}};return at}const maxElapsed=40;function createRenderBatcher($,_e){let et=!1,tt=!0;const nt={delta:0,timestamp:0,isProcessing:!1},rt=()=>et=!0,it=stepsOrder.reduce((bt,xt)=>(bt[xt]=createRenderStep(rt),bt),{}),{setup:st,read:ot,resolveKeyframes:at,preUpdate:lt,update:ut,preRender:dt,render:ct,postRender:ft}=it,pt=()=>{const bt=MotionGlobalConfig.useManualTiming?nt.timestamp:performance.now();et=!1,MotionGlobalConfig.useManualTiming||(nt.delta=tt?1e3/60:Math.max(Math.min(bt-nt.timestamp,maxElapsed),1)),nt.timestamp=bt,nt.isProcessing=!0,st.process(nt),ot.process(nt),at.process(nt),lt.process(nt),ut.process(nt),dt.process(nt),ct.process(nt),ft.process(nt),nt.isProcessing=!1,et&&_e&&(tt=!1,$(pt))},gt=()=>{et=!0,tt=!0,nt.isProcessing||$(pt)};return{schedule:stepsOrder.reduce((bt,xt)=>{const Et=it[xt];return bt[xt]=(vt,_t=!1,wt=!1)=>(et||gt(),Et.schedule(vt,_t,wt)),bt},{}),cancel:bt=>{for(let xt=0;xt<stepsOrder.length;xt++)it[stepsOrder[xt]].cancel(bt)},state:nt,steps:it}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:$=>{now=$,queueMicrotask(clearTime)}},checkStringStartsWith=$=>_e=>typeof _e=="string"&&_e.startsWith($),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=$=>startsAsVariableToken($)?singleCssVariableRegex.test($.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$1={test:$=>typeof $=="number",parse:parseFloat,transform:$=>$},alpha={...number$1,transform:$=>clamp(0,1,$)},scale={...number$1,default:1},sanitize=$=>Math.round($*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish($){return $==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=($,_e)=>et=>!!(typeof et=="string"&&singleColorRegex.test(et)&&et.startsWith($)||_e&&!isNullish(et)&&Object.prototype.hasOwnProperty.call(et,_e)),splitColor=($,_e,et)=>tt=>{if(typeof tt!="string")return tt;const[nt,rt,it,st]=tt.match(floatRegex);return{[$]:parseFloat(nt),[_e]:parseFloat(rt),[et]:parseFloat(it),alpha:st!==void 0?parseFloat(st):1}},clampRgbUnit=$=>clamp(0,255,$),rgbUnit={...number$1,transform:$=>Math.round(clampRgbUnit($))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:$,green:_e,blue:et,alpha:tt=1})=>"rgba("+rgbUnit.transform($)+", "+rgbUnit.transform(_e)+", "+rgbUnit.transform(et)+", "+sanitize(alpha.transform(tt))+")"};function parseHex($){let _e="",et="",tt="",nt="";return $.length>5?(_e=$.substring(1,3),et=$.substring(3,5),tt=$.substring(5,7),nt=$.substring(7,9)):(_e=$.substring(1,2),et=$.substring(2,3),tt=$.substring(3,4),nt=$.substring(4,5),_e+=_e,et+=et,tt+=tt,nt+=nt),{red:parseInt(_e,16),green:parseInt(et,16),blue:parseInt(tt,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=$=>({test:_e=>typeof _e=="string"&&_e.endsWith($)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${$}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:$=>percent.parse($)/100,transform:$=>percent.transform($*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:$,saturation:_e,lightness:et,alpha:tt=1})=>"hsla("+Math.round($)+", "+percent.transform(sanitize(_e))+", "+percent.transform(sanitize(et))+", "+sanitize(alpha.transform(tt))+")"},color$1={test:$=>rgba.test($)||hex.test($)||hsla.test($),parse:$=>rgba.test($)?rgba.parse($):hsla.test($)?hsla.parse($):hex.parse($),transform:$=>typeof $=="string"?$:$.hasOwnProperty("red")?rgba.transform($):hsla.transform($),getAnimatableNone:$=>{const _e=color$1.parse($);return _e.alpha=0,color$1.transform(_e)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test($){var _e,et;return isNaN($)&&typeof $=="string"&&(((_e=$.match(floatRegex))==null?void 0:_e.length)||0)+(((et=$.match(colorRegex))==null?void 0:et.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue($){const _e=$.toString(),et=[],tt={color:[],number:[],var:[]},nt=[];let rt=0;const st=_e.replace(complexRegex,ot=>(color$1.test(ot)?(tt.color.push(rt),nt.push(COLOR_TOKEN),et.push(color$1.parse(ot))):ot.startsWith(VAR_FUNCTION_TOKEN)?(tt.var.push(rt),nt.push(VAR_TOKEN),et.push(ot)):(tt.number.push(rt),nt.push(NUMBER_TOKEN),et.push(parseFloat(ot))),++rt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:et,split:st,indexes:tt,types:nt}}function parseComplexValue($){return analyseComplexValue($).values}function createTransformer($){const{split:_e,types:et}=analyseComplexValue($),tt=_e.length;return nt=>{let rt="";for(let it=0;it<tt;it++)if(rt+=_e[it],nt[it]!==void 0){const st=et[it];st===NUMBER_TOKEN?rt+=sanitize(nt[it]):st===COLOR_TOKEN?rt+=color$1.transform(nt[it]):rt+=nt[it]}return rt}}const convertNumbersToZero=$=>typeof $=="number"?0:color$1.test($)?color$1.getAnimatableNone($):$;function getAnimatableNone$1($){const _e=parseComplexValue($);return createTransformer($)(_e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb($,_e,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?$+(_e-$)*6*et:et<1/2?_e:et<2/3?$+(_e-$)*(2/3-et)*6:$}function hslaToRgba({hue:$,saturation:_e,lightness:et,alpha:tt}){$/=360,_e/=100,et/=100;let nt=0,rt=0,it=0;if(!_e)nt=rt=it=et;else{const st=et<.5?et*(1+_e):et+_e-et*_e,ot=2*et-st;nt=hueToRgb(ot,st,$+1/3),rt=hueToRgb(ot,st,$),it=hueToRgb(ot,st,$-1/3)}return{red:Math.round(nt*255),green:Math.round(rt*255),blue:Math.round(it*255),alpha:tt}}function mixImmediate($,_e){return et=>et>0?_e:$}const mixNumber$1=($,_e,et)=>$+(_e-$)*et,mixLinearColor=($,_e,et)=>{const tt=$*$,nt=et*(_e*_e-tt)+tt;return nt<0?0:Math.sqrt(nt)},colorTypes=[hex,rgba,hsla],getColorType=$=>colorTypes.find(_e=>_e.test($));function asRGBA($){const _e=getColorType($);if(!_e)return!1;let et=_e.parse($);return _e===hsla&&(et=hslaToRgba(et)),et}const mixColor=($,_e)=>{const et=asRGBA($),tt=asRGBA(_e);if(!et||!tt)return mixImmediate($,_e);const nt={...et};return rt=>(nt.red=mixLinearColor(et.red,tt.red,rt),nt.green=mixLinearColor(et.green,tt.green,rt),nt.blue=mixLinearColor(et.blue,tt.blue,rt),nt.alpha=mixNumber$1(et.alpha,tt.alpha,rt),rgba.transform(nt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility($,_e){return invisibleValues.has($)?et=>et<=0?$:_e:et=>et>=1?_e:$}function mixNumber($,_e){return et=>mixNumber$1($,_e,et)}function getMixer($){return typeof $=="number"?mixNumber:typeof $=="string"?isCSSVariableToken($)?mixImmediate:color$1.test($)?mixColor:mixComplex:Array.isArray($)?mixArray:typeof $=="object"?color$1.test($)?mixColor:mixObject:mixImmediate}function mixArray($,_e){const et=[...$],tt=et.length,nt=$.map((rt,it)=>getMixer(rt)(rt,_e[it]));return rt=>{for(let it=0;it<tt;it++)et[it]=nt[it](rt);return et}}function mixObject($,_e){const et={...$,..._e},tt={};for(const nt in et)$[nt]!==void 0&&_e[nt]!==void 0&&(tt[nt]=getMixer($[nt])($[nt],_e[nt]));return nt=>{for(const rt in tt)et[rt]=tt[rt](nt);return et}}function matchOrder($,_e){const et=[],tt={color:0,var:0,number:0};for(let nt=0;nt<_e.values.length;nt++){const rt=_e.types[nt],it=$.indexes[rt][tt[rt]],st=$.values[it]??0;et[nt]=st,tt[rt]++}return et}const mixComplex=($,_e)=>{const et=complex.createTransformer(_e),tt=analyseComplexValue($),nt=analyseComplexValue(_e);return tt.indexes.var.length===nt.indexes.var.length&&tt.indexes.color.length===nt.indexes.color.length&&tt.indexes.number.length>=nt.indexes.number.length?invisibleValues.has($)&&!nt.values.length||invisibleValues.has(_e)&&!tt.values.length?mixVisibility($,_e):pipe(mixArray(matchOrder(tt,nt),nt.values),et):mixImmediate($,_e)};function mix($,_e,et){return typeof $=="number"&&typeof _e=="number"&&typeof et=="number"?mixNumber$1($,_e,et):getMixer($)($,_e)}const frameloopDriver=$=>{const _e=({timestamp:et})=>$(et);return{start:(et=!0)=>frame.update(_e,et),stop:()=>cancelFrame(_e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=($,_e,et=10)=>{let tt="";const nt=Math.max(Math.round(_e/et),2);for(let rt=0;rt<nt;rt++)tt+=Math.round($(rt/(nt-1))*1e4)/1e4+", ";return`linear(${tt.substring(0,tt.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration($){let _e=0;const et=50;let tt=$.next(_e);for(;!tt.done&&_e<maxGeneratorDuration;)_e+=et,tt=$.next(_e);return _e>=maxGeneratorDuration?1/0:_e}function createGeneratorEasing($,_e=100,et){const tt=et({...$,keyframes:[0,_e]}),nt=Math.min(calcGeneratorDuration(tt),maxGeneratorDuration);return{type:"keyframes",ease:rt=>tt.next(nt*rt).value/_e,duration:millisecondsToSeconds(nt)}}const velocitySampleDuration=5;function calcGeneratorVelocity($,_e,et){const tt=Math.max(_e-velocitySampleDuration,0);return velocityPerSecond(et-$(tt),_e-tt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:$=springDefaults.duration,bounce:_e=springDefaults.bounce,velocity:et=springDefaults.velocity,mass:tt=springDefaults.mass}){let nt,rt,it=1-_e;it=clamp(springDefaults.minDamping,springDefaults.maxDamping,it),$=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds($)),it<1?(nt=at=>{const lt=at*it,ut=lt*$,dt=lt-et,ct=calcAngularFreq(at,it),ft=Math.exp(-ut);return safeMin-dt/ct*ft},rt=at=>{const ut=at*it*$,dt=ut*et+et,ct=Math.pow(it,2)*Math.pow(at,2)*$,ft=Math.exp(-ut),pt=calcAngularFreq(Math.pow(at,2),it);return(-nt(at)+safeMin>0?-1:1)*((dt-ct)*ft)/pt}):(nt=at=>{const lt=Math.exp(-at*$),ut=(at-et)*$+1;return-safeMin+lt*ut},rt=at=>{const lt=Math.exp(-at*$),ut=(et-at)*($*$);return lt*ut});const st=5/$,ot=approximateRoot(nt,rt,st);if($=secondsToMilliseconds($),isNaN(ot))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:$};{const at=Math.pow(ot,2)*tt;return{stiffness:at,damping:it*2*Math.sqrt(tt*at),duration:$}}}const rootIterations=12;function approximateRoot($,_e,et){let tt=et;for(let nt=1;nt<rootIterations;nt++)tt=tt-$(tt)/_e(tt);return tt}function calcAngularFreq($,_e){return $*Math.sqrt(1-_e*_e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType($,_e){return _e.some(et=>$[et]!==void 0)}function getSpringOptions($){let _e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...$};if(!isSpringType($,physicsKeys)&&isSpringType($,durationKeys))if($.visualDuration){const et=$.visualDuration,tt=2*Math.PI/(et*1.2),nt=tt*tt,rt=2*clamp(.05,1,1-($.bounce||0))*Math.sqrt(nt);_e={..._e,mass:springDefaults.mass,stiffness:nt,damping:rt}}else{const et=findSpring($);_e={..._e,...et,mass:springDefaults.mass},_e.isResolvedFromDuration=!0}return _e}function spring($=springDefaults.visualDuration,_e=springDefaults.bounce){const et=typeof $!="object"?{visualDuration:$,keyframes:[0,1],bounce:_e}:$;let{restSpeed:tt,restDelta:nt}=et;const rt=et.keyframes[0],it=et.keyframes[et.keyframes.length-1],st={done:!1,value:rt},{stiffness:ot,damping:at,mass:lt,duration:ut,velocity:dt,isResolvedFromDuration:ct}=getSpringOptions({...et,velocity:-millisecondsToSeconds(et.velocity||0)}),ft=dt||0,pt=at/(2*Math.sqrt(ot*lt)),gt=it-rt,ht=millisecondsToSeconds(Math.sqrt(ot/lt)),mt=Math.abs(gt)<5;tt||(tt=mt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),nt||(nt=mt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let bt;if(pt<1){const Et=calcAngularFreq(ht,pt);bt=vt=>{const _t=Math.exp(-pt*ht*vt);return it-_t*((ft+pt*ht*gt)/Et*Math.sin(Et*vt)+gt*Math.cos(Et*vt))}}else if(pt===1)bt=Et=>it-Math.exp(-ht*Et)*(gt+(ft+ht*gt)*Et);else{const Et=ht*Math.sqrt(pt*pt-1);bt=vt=>{const _t=Math.exp(-pt*ht*vt),wt=Math.min(Et*vt,300);return it-_t*((ft+pt*ht*gt)*Math.sinh(wt)+Et*gt*Math.cosh(wt))/Et}}const xt={calculatedDuration:ct&&ut||null,next:Et=>{const vt=bt(Et);if(ct)st.done=Et>=ut;else{let _t=Et===0?ft:0;pt<1&&(_t=Et===0?secondsToMilliseconds(ft):calcGeneratorVelocity(bt,Et,vt));const wt=Math.abs(_t)<=tt,Ct=Math.abs(it-vt)<=nt;st.done=wt&&Ct}return st.value=st.done?it:vt,st},toString:()=>{const Et=Math.min(calcGeneratorDuration(xt),maxGeneratorDuration),vt=generateLinearEasing(_t=>xt.next(Et*_t).value,Et,30);return Et+"ms "+vt},toTransition:()=>{}};return xt}spring.applyToOptions=$=>{const _e=createGeneratorEasing($,100,spring);return $.ease=_e.ease,$.duration=secondsToMilliseconds(_e.duration),$.type="keyframes",$};function inertia({keyframes:$,velocity:_e=0,power:et=.8,timeConstant:tt=325,bounceDamping:nt=10,bounceStiffness:rt=500,modifyTarget:it,min:st,max:ot,restDelta:at=.5,restSpeed:lt}){const ut=$[0],dt={done:!1,value:ut},ct=wt=>st!==void 0&&wt<st||ot!==void 0&&wt>ot,ft=wt=>st===void 0?ot:ot===void 0||Math.abs(st-wt)<Math.abs(ot-wt)?st:ot;let pt=et*_e;const gt=ut+pt,ht=it===void 0?gt:it(gt);ht!==gt&&(pt=ht-ut);const mt=wt=>-pt*Math.exp(-wt/tt),bt=wt=>ht+mt(wt),xt=wt=>{const Ct=mt(wt),Nt=bt(wt);dt.done=Math.abs(Ct)<=at,dt.value=dt.done?ht:Nt};let Et,vt;const _t=wt=>{ct(dt.value)&&(Et=wt,vt=spring({keyframes:[dt.value,ft(dt.value)],velocity:calcGeneratorVelocity(bt,wt,dt.value),damping:nt,stiffness:rt,restDelta:at,restSpeed:lt}))};return _t(0),{calculatedDuration:null,next:wt=>{let Ct=!1;return!vt&&Et===void 0&&(Ct=!0,xt(wt),_t(wt)),Et!==void 0&&wt>=Et?vt.next(wt-Et):(!Ct&&xt(wt),dt)}}}function createMixers($,_e,et){const tt=[],nt=et||MotionGlobalConfig.mix||mix,rt=$.length-1;for(let it=0;it<rt;it++){let st=nt($[it],$[it+1]);if(_e){const ot=Array.isArray(_e)?_e[it]||noop:_e;st=pipe(ot,st)}tt.push(st)}return tt}function interpolate($,_e,{clamp:et=!0,ease:tt,mixer:nt}={}){const rt=$.length;if(invariant(rt===_e.length),rt===1)return()=>_e[0];if(rt===2&&_e[0]===_e[1])return()=>_e[1];const it=$[0]===$[1];$[0]>$[rt-1]&&($=[...$].reverse(),_e=[..._e].reverse());const st=createMixers(_e,tt,nt),ot=st.length,at=lt=>{if(it&&lt<$[0])return _e[0];let ut=0;if(ot>1)for(;ut<$.length-2&&!(lt<$[ut+1]);ut++);const dt=progress($[ut],$[ut+1],lt);return st[ut](dt)};return et?lt=>at(clamp($[0],$[rt-1],lt)):at}function fillOffset($,_e){const et=$[$.length-1];for(let tt=1;tt<=_e;tt++){const nt=progress(0,_e,tt);$.push(mixNumber$1(et,1,nt))}}function defaultOffset($){const _e=[0];return fillOffset(_e,$.length-1),_e}function convertOffsetToTimes($,_e){return $.map(et=>et*_e)}function defaultEasing($,_e){return $.map(()=>_e||easeInOut).splice(0,$.length-1)}function keyframes({duration:$=300,keyframes:_e,times:et,ease:tt="easeInOut"}){const nt=isEasingArray(tt)?tt.map(easingDefinitionToFunction):easingDefinitionToFunction(tt),rt={done:!1,value:_e[0]},it=convertOffsetToTimes(et&&et.length===_e.length?et:defaultOffset(_e),$),st=interpolate(it,_e,{ease:Array.isArray(nt)?nt:defaultEasing(_e,nt)});return{calculatedDuration:$,next:ot=>(rt.value=st(ot),rt.done=ot>=$,rt)}}const isNotNull$1=$=>$!==null;function getFinalKeyframe$1($,{repeat:_e,repeatType:et="loop"},tt,nt=1){const rt=$.filter(isNotNull$1),st=nt<0||_e&&et!=="loop"&&_e%2===1?0:rt.length-1;return!st||tt===void 0?rt[st]:tt}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType($){typeof $.type=="string"&&($.type=transitionTypeMap[$.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(_e=>{this.resolve=_e})}notifyFinished(){this.resolve()}then(_e,et){return this.finished.then(_e,et)}}const percentToProgress=$=>$/100;class JSAnimation extends WithPromise{constructor(_e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var tt,nt;const{motionValue:et}=this.options;et&&et.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(nt=(tt=this.options).onStop)==null||nt.call(tt))},this.options=_e,this.initAnimation(),this.play(),_e.autoplay===!1&&this.pause()}initAnimation(){const{options:_e}=this;replaceTransitionType(_e);const{type:et=keyframes,repeat:tt=0,repeatDelay:nt=0,repeatType:rt,velocity:it=0}=_e;let{keyframes:st}=_e;const ot=et||keyframes;ot!==keyframes&&typeof st[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(st[0],st[1])),st=[0,100]);const at=ot({..._e,keyframes:st});rt==="mirror"&&(this.mirroredGenerator=ot({..._e,keyframes:[...st].reverse(),velocity:-it})),at.calculatedDuration===null&&(at.calculatedDuration=calcGeneratorDuration(at));const{calculatedDuration:lt}=at;this.calculatedDuration=lt,this.resolvedDuration=lt+nt,this.totalDuration=this.resolvedDuration*(tt+1)-nt,this.generator=at}updateTime(_e){const et=Math.round(_e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=et}tick(_e,et=!1){const{generator:tt,totalDuration:nt,mixKeyframes:rt,mirroredGenerator:it,resolvedDuration:st,calculatedDuration:ot}=this;if(this.startTime===null)return tt.next(0);const{delay:at=0,keyframes:lt,repeat:ut,repeatType:dt,repeatDelay:ct,type:ft,onUpdate:pt,finalKeyframe:gt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_e):this.speed<0&&(this.startTime=Math.min(_e-nt/this.speed,this.startTime)),et?this.currentTime=_e:this.updateTime(_e);const ht=this.currentTime-at*(this.playbackSpeed>=0?1:-1),mt=this.playbackSpeed>=0?ht<0:ht>nt;this.currentTime=Math.max(ht,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=nt);let bt=this.currentTime,xt=tt;if(ut){const wt=Math.min(this.currentTime,nt)/st;let Ct=Math.floor(wt),Nt=wt%1;!Nt&&wt>=1&&(Nt=1),Nt===1&&Ct--,Ct=Math.min(Ct,ut+1),!!(Ct%2)&&(dt==="reverse"?(Nt=1-Nt,ct&&(Nt-=ct/st)):dt==="mirror"&&(xt=it)),bt=clamp(0,1,Nt)*st}const Et=mt?{done:!1,value:lt[0]}:xt.next(bt);rt&&(Et.value=rt(Et.value));let{done:vt}=Et;!mt&&ot!==null&&(vt=this.playbackSpeed>=0?this.currentTime>=nt:this.currentTime<=0);const _t=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&vt);return _t&&ft!==inertia&&(Et.value=getFinalKeyframe$1(lt,this.options,gt,this.speed)),pt&&pt(Et.value),_t&&this.finish(),Et}then(_e,et){return this.finished.then(_e,et)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:_e=0}=this.options||{};return this.duration+millisecondsToSeconds(_e)}get time(){return millisecondsToSeconds(this.currentTime)}set time(_e){var et;_e=secondsToMilliseconds(_e),this.currentTime=_e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=_e:this.driver&&(this.startTime=this.driver.now()-_e/this.playbackSpeed),(et=this.driver)==null||et.start(!1)}get speed(){return this.playbackSpeed}set speed(_e){this.updateTime(time.now());const et=this.playbackSpeed!==_e;this.playbackSpeed=_e,et&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var nt,rt;if(this.isStopped)return;const{driver:_e=frameloopDriver,startTime:et}=this.options;this.driver||(this.driver=_e(it=>this.tick(it))),(rt=(nt=this.options).onPlay)==null||rt.call(nt);const tt=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=tt):this.holdTime!==null?this.startTime=tt-this.holdTime:this.startTime||(this.startTime=et??tt),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var _e,et;this.notifyFinished(),this.teardown(),this.state="finished",(et=(_e=this.options).onComplete)==null||et.call(_e)}cancel(){var _e,et;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(et=(_e=this.options).onCancel)==null||et.call(_e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_e){return this.startTime=0,this.tick(_e,!0)}attachTimeline(_e){var et;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(et=this.driver)==null||et.stop(),_e.observe(this)}}function fillWildcards($){for(let _e=1;_e<$.length;_e++)$[_e]??($[_e]=$[_e-1])}const radToDeg=$=>$*180/Math.PI,rotate=$=>{const _e=radToDeg(Math.atan2($[1],$[0]));return rebaseAngle(_e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:$=>(Math.abs($[0])+Math.abs($[3]))/2,rotate,rotateZ:rotate,skewX:$=>radToDeg(Math.atan($[1])),skewY:$=>radToDeg(Math.atan($[2])),skew:$=>(Math.abs($[1])+Math.abs($[2]))/2},rebaseAngle=$=>($=$%360,$<0&&($+=360),$),rotateZ=rotate,scaleX=$=>Math.sqrt($[0]*$[0]+$[1]*$[1]),scaleY=$=>Math.sqrt($[4]*$[4]+$[5]*$[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:$=>(scaleX($)+scaleY($))/2,rotateX:$=>rebaseAngle(radToDeg(Math.atan2($[6],$[5]))),rotateY:$=>rebaseAngle(radToDeg(Math.atan2(-$[2],$[0]))),rotateZ,rotate:rotateZ,skewX:$=>radToDeg(Math.atan($[4])),skewY:$=>radToDeg(Math.atan($[1])),skew:$=>(Math.abs($[1])+Math.abs($[4]))/2};function defaultTransformValue($){return $.includes("scale")?1:0}function parseValueFromTransform($,_e){if(!$||$==="none")return defaultTransformValue(_e);const et=$.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let tt,nt;if(et)tt=matrix3dParsers,nt=et;else{const st=$.match(/^matrix\(([-\d.e\s,]+)\)$/u);tt=matrix2dParsers,nt=st}if(!nt)return defaultTransformValue(_e);const rt=tt[_e],it=nt[1].split(",").map(convertTransformToNumber);return typeof rt=="function"?rt(it):it[rt]}const readTransformValue=($,_e)=>{const{transform:et="none"}=getComputedStyle($);return parseValueFromTransform(et,_e)};function convertTransformToNumber($){return parseFloat($.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=$=>$===number$1||$===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter($=>!transformKeys.has($));function removeNonTranslationalTransform($){const _e=[];return nonTranslationalTransformKeys.forEach(et=>{const tt=$.getValue(et);tt!==void 0&&(_e.push([et,tt.get()]),tt.set(et.startsWith("scale")?1:0))}),_e}const positionalValues={width:({x:$},{paddingLeft:_e="0",paddingRight:et="0"})=>$.max-$.min-parseFloat(_e)-parseFloat(et),height:({y:$},{paddingTop:_e="0",paddingBottom:et="0"})=>$.max-$.min-parseFloat(_e)-parseFloat(et),top:($,{top:_e})=>parseFloat(_e),left:($,{left:_e})=>parseFloat(_e),bottom:({y:$},{top:_e})=>parseFloat(_e)+($.max-$.min),right:({x:$},{left:_e})=>parseFloat(_e)+($.max-$.min),x:($,{transform:_e})=>parseValueFromTransform(_e,"x"),y:($,{transform:_e})=>parseValueFromTransform(_e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const $=Array.from(toResolve).filter(tt=>tt.needsMeasurement),_e=new Set($.map(tt=>tt.element)),et=new Map;_e.forEach(tt=>{const nt=removeNonTranslationalTransform(tt);nt.length&&(et.set(tt,nt),tt.render())}),$.forEach(tt=>tt.measureInitialState()),_e.forEach(tt=>{tt.render();const nt=et.get(tt);nt&&nt.forEach(([rt,it])=>{var st;(st=tt.getValue(rt))==null||st.set(it)})}),$.forEach(tt=>tt.measureEndState()),$.forEach(tt=>{tt.suspendedScrollY!==void 0&&window.scrollTo(0,tt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach($=>$.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach($=>{$.readKeyframes(),$.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(_e,et,tt,nt,rt,it=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[..._e],this.onComplete=et,this.name=tt,this.motionValue=nt,this.element=rt,this.isAsync=it}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_e,name:et,element:tt,motionValue:nt}=this;if(_e[0]===null){const rt=nt==null?void 0:nt.get(),it=_e[_e.length-1];if(rt!==void 0)_e[0]=rt;else if(tt&&et){const st=tt.readValue(et,it);st!=null&&(_e[0]=st)}_e[0]===void 0&&(_e[0]=it),nt&&rt===void 0&&nt.set(_e[0])}fillWildcards(_e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(_e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,_e),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=$=>$.startsWith("--");function setStyle($,_e,et){isCSSVar(_e)?$.style.setProperty(_e,et):$.style[_e]=et}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports($,_e){const et=memo($);return()=>supportsFlags[_e]??et()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([$,_e,et,tt])=>`cubic-bezier(${$}, ${_e}, ${et}, ${tt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing($,_e){if($)return typeof $=="function"?supportsLinearEasing()?generateLinearEasing($,_e):"ease-out":isBezierDefinition($)?cubicBezierAsString($):Array.isArray($)?$.map(et=>mapEasingToNativeEasing(et,_e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[$]}function startWaapiAnimation($,_e,et,{delay:tt=0,duration:nt=300,repeat:rt=0,repeatType:it="loop",ease:st="easeOut",times:ot}={},at=void 0){const lt={[_e]:et};ot&&(lt.offset=ot);const ut=mapEasingToNativeEasing(st,nt);Array.isArray(ut)&&(lt.easing=ut);const dt={delay:tt,duration:nt,easing:Array.isArray(ut)?"linear":ut,fill:"both",iterations:rt+1,direction:it==="reverse"?"alternate":"normal"};return at&&(dt.pseudoElement=at),$.animate(lt,dt)}function isGenerator($){return typeof $=="function"&&"applyToOptions"in $}function applyGeneratorOptions({type:$,..._e}){return isGenerator($)&&supportsLinearEasing()?$.applyToOptions(_e):(_e.duration??(_e.duration=300),_e.ease??(_e.ease="easeOut"),_e)}class NativeAnimation extends WithPromise{constructor(_e){if(super(),this.finishedTime=null,this.isStopped=!1,!_e)return;const{element:et,name:tt,keyframes:nt,pseudoElement:rt,allowFlatten:it=!1,finalKeyframe:st,onComplete:ot}=_e;this.isPseudoElement=!!rt,this.allowFlatten=it,this.options=_e,invariant(typeof _e.type!="string");const at=applyGeneratorOptions(_e);this.animation=startWaapiAnimation(et,tt,nt,at,rt),at.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!rt){const lt=getFinalKeyframe$1(nt,this.options,st,this.speed);this.updateMotionValue?this.updateMotionValue(lt):setStyle(et,tt,lt),this.animation.cancel()}ot==null||ot(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var _e,et;(et=(_e=this.animation).finish)==null||et.call(_e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:_e}=this;_e==="idle"||_e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var _e,et;this.isPseudoElement||(et=(_e=this.animation).commitStyles)==null||et.call(_e)}get duration(){var et,tt;const _e=((tt=(et=this.animation.effect)==null?void 0:et.getComputedTiming)==null?void 0:tt.call(et).duration)||0;return millisecondsToSeconds(Number(_e))}get iterationDuration(){const{delay:_e=0}=this.options||{};return this.duration+millisecondsToSeconds(_e)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(_e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(_e)}get speed(){return this.animation.playbackRate}set speed(_e){_e<0&&(this.finishedTime=null),this.animation.playbackRate=_e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(_e){this.animation.startTime=_e}attachTimeline({timeline:_e,observe:et}){var tt;return this.allowFlatten&&((tt=this.animation.effect)==null||tt.updateTiming({easing:"linear"})),this.animation.onfinish=null,_e&&supportsScrollTimeline()?(this.animation.timeline=_e,noop):et(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase($){return $ in unsupportedEasingFunctions}function replaceStringEasing($){typeof $.ease=="string"&&isUnsupportedEase($.ease)&&($.ease=unsupportedEasingFunctions[$.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(_e){replaceStringEasing(_e),replaceTransitionType(_e),super(_e),_e.startTime&&(this.startTime=_e.startTime),this.options=_e}updateMotionValue(_e){const{motionValue:et,onUpdate:tt,onComplete:nt,element:rt,...it}=this.options;if(!et)return;if(_e!==void 0){et.set(_e);return}const st=new JSAnimation({...it,autoplay:!1}),ot=secondsToMilliseconds(this.finishedTime??this.time);et.setWithVelocity(st.sample(ot-sampleDelta).value,st.sample(ot).value,sampleDelta),st.stop()}}const isAnimatable=($,_e)=>_e==="zIndex"?!1:!!(typeof $=="number"||Array.isArray($)||typeof $=="string"&&(complex.test($)||$==="0")&&!$.startsWith("url("));function hasKeyframesChanged($){const _e=$[0];if($.length===1)return!0;for(let et=0;et<$.length;et++)if($[et]!==_e)return!0}function canAnimate($,_e,et,tt){const nt=$[0];if(nt===null)return!1;if(_e==="display"||_e==="visibility")return!0;const rt=$[$.length-1],it=isAnimatable(nt,_e),st=isAnimatable(rt,_e);return!it||!st?!1:hasKeyframesChanged($)||(et==="spring"||isGenerator(et))&&tt}function makeAnimationInstant($){$.duration=0,$.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation($){var lt;const{motionValue:_e,name:et,repeatDelay:tt,repeatType:nt,damping:rt,type:it}=$;if(!(((lt=_e==null?void 0:_e.owner)==null?void 0:lt.current)instanceof HTMLElement))return!1;const{onUpdate:ot,transformTemplate:at}=_e.owner.getProps();return supportsWaapi()&&et&&acceleratedValues.has(et)&&(et!=="transform"||!at)&&!ot&&!tt&&nt!=="mirror"&&rt!==0&&it!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:_e=!0,delay:et=0,type:tt="keyframes",repeat:nt=0,repeatDelay:rt=0,repeatType:it="loop",keyframes:st,name:ot,motionValue:at,element:lt,...ut}){var ft;super(),this.stop=()=>{var pt,gt;this._animation&&(this._animation.stop(),(pt=this.stopTimeline)==null||pt.call(this)),(gt=this.keyframeResolver)==null||gt.cancel()},this.createdAt=time.now();const dt={autoplay:_e,delay:et,type:tt,repeat:nt,repeatDelay:rt,repeatType:it,name:ot,motionValue:at,element:lt,...ut},ct=(lt==null?void 0:lt.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new ct(st,(pt,gt,ht)=>this.onKeyframesResolved(pt,gt,dt,!ht),ot,at,lt),(ft=this.keyframeResolver)==null||ft.scheduleResolve()}onKeyframesResolved(_e,et,tt,nt){this.keyframeResolver=void 0;const{name:rt,type:it,velocity:st,delay:ot,isHandoff:at,onUpdate:lt}=tt;this.resolvedAt=time.now(),canAnimate(_e,rt,it,st)||((MotionGlobalConfig.instantAnimations||!ot)&&(lt==null||lt(getFinalKeyframe$1(_e,tt,et))),_e[0]=_e[_e.length-1],makeAnimationInstant(tt),tt.repeat=0);const dt={startTime:nt?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:et,...tt,keyframes:_e},ct=!at&&supportsBrowserAnimation(dt)?new NativeAnimationExtended({...dt,element:dt.motionValue.owner.current}):new JSAnimation(dt);ct.finished.then(()=>this.notifyFinished()).catch(noop),this.pendingTimeline&&(this.stopTimeline=ct.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=ct}get finished(){return this._animation?this.animation.finished:this._finished}then(_e,et){return this.finished.finally(_e).then(()=>{})}get animation(){var _e;return this._animation||((_e=this.keyframeResolver)==null||_e.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(_e){this.animation.time=_e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(_e){this.animation.speed=_e}get startTime(){return this.animation.startTime}attachTimeline(_e){return this._animation?this.stopTimeline=this.animation.attachTimeline(_e):this.pendingTimeline=_e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var _e;this._animation&&this.animation.cancel(),(_e=this.keyframeResolver)==null||_e.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable($){const _e=splitCSSVariableRegex.exec($);if(!_e)return[,];const[,et,tt,nt]=_e;return[`--${et??tt}`,nt]}function getVariableValue($,_e,et=1){const[tt,nt]=parseCSSVariable($);if(!tt)return;const rt=window.getComputedStyle(_e).getPropertyValue(tt);if(rt){const it=rt.trim();return isNumericalString(it)?parseFloat(it):it}return isCSSVariableToken(nt)?getVariableValue(nt,_e,et+1):nt}function getValueTransition($,_e){return($==null?void 0:$[_e])??($==null?void 0:$.default)??$}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:$=>$==="auto",parse:$=>$},testValueType=$=>_e=>_e.test($),dimensionValueTypes=[number$1,px,percent,degrees,vw,vh,auto],findDimensionValueType=$=>dimensionValueTypes.find(testValueType($));function isNone($){return typeof $=="number"?$===0:$!==null?$==="none"||$==="0"||isZeroValueString($):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter($){const[_e,et]=$.slice(0,-1).split("(");if(_e==="drop-shadow")return $;const[tt]=et.match(floatRegex)||[];if(!tt)return $;const nt=et.replace(tt,"");let rt=maxDefaults.has(_e)?1:0;return tt!==et&&(rt*=100),_e+"("+rt+nt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:$=>{const _e=$.match(functionRegex);return _e?_e.map(applyDefaultFilter).join(" "):$}},int={...number$1,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=$=>defaultValueTypes[$];function getAnimatableNone($,_e){let et=getDefaultValueType($);return et!==filter&&(et=complex),et.getAnimatableNone?et.getAnimatableNone(_e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable($,_e,et){let tt=0,nt;for(;tt<$.length&&!nt;){const rt=$[tt];typeof rt=="string"&&!invalidTemplates.has(rt)&&analyseComplexValue(rt).values.length&&(nt=$[tt]),tt++}if(nt&&et)for(const rt of _e)$[rt]=getAnimatableNone(et,nt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(_e,et,tt,nt,rt){super(_e,et,tt,nt,rt,!0)}readKeyframes(){const{unresolvedKeyframes:_e,element:et,name:tt}=this;if(!et||!et.current)return;super.readKeyframes();for(let ot=0;ot<_e.length;ot++){let at=_e[ot];if(typeof at=="string"&&(at=at.trim(),isCSSVariableToken(at))){const lt=getVariableValue(at,et.current);lt!==void 0&&(_e[ot]=lt),ot===_e.length-1&&(this.finalKeyframe=at)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(tt)||_e.length!==2)return;const[nt,rt]=_e,it=findDimensionValueType(nt),st=findDimensionValueType(rt);if(it!==st)if(isNumOrPxType(it)&&isNumOrPxType(st))for(let ot=0;ot<_e.length;ot++){const at=_e[ot];typeof at=="string"&&(_e[ot]=parseFloat(at))}else positionalValues[tt]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:_e,name:et}=this,tt=[];for(let nt=0;nt<_e.length;nt++)(_e[nt]===null||isNone(_e[nt]))&&tt.push(nt);tt.length&&makeNoneKeyframesAnimatable(_e,tt,et)}measureInitialState(){const{element:_e,unresolvedKeyframes:et,name:tt}=this;if(!_e||!_e.current)return;tt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[tt](_e.measureViewportBox(),window.getComputedStyle(_e.current)),et[0]=this.measuredOrigin;const nt=et[et.length-1];nt!==void 0&&_e.getValue(tt,nt).jump(nt,!1)}measureEndState(){var st;const{element:_e,name:et,unresolvedKeyframes:tt}=this;if(!_e||!_e.current)return;const nt=_e.getValue(et);nt&&nt.jump(this.measuredOrigin,!1);const rt=tt.length-1,it=tt[rt];tt[rt]=positionalValues[et](_e.measureViewportBox(),window.getComputedStyle(_e.current)),it!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=it),(st=this.removedTransforms)!=null&&st.length&&this.removedTransforms.forEach(([ot,at])=>{_e.getValue(ot).set(at)}),this.resolveNoneKeyframes()}}function resolveElements($,_e,et){if($ instanceof EventTarget)return[$];if(typeof $=="string"){let tt=document;const nt=(et==null?void 0:et[$])??tt.querySelectorAll($);return nt?Array.from(nt):[]}return Array.from($)}const getValueAsType=($,_e)=>_e&&typeof $=="number"?_e.transform($):$;function isHTMLElement($){return isObject($)&&"offsetHeight"in $}const MAX_VELOCITY_DELTA=30,isFloat=$=>!isNaN(parseFloat($));class MotionValue{constructor(_e,et={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=tt=>{var rt;const nt=time.now();if(this.updatedAt!==nt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(tt),this.current!==this.prev&&((rt=this.events.change)==null||rt.notify(this.current),this.dependents))for(const it of this.dependents)it.dirty()},this.hasAnimated=!1,this.setCurrent(_e),this.owner=et.owner}setCurrent(_e){this.current=_e,this.updatedAt=time.now(),this.canTrackVelocity===null&&_e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(_e=this.current){this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt}onChange(_e){return this.on("change",_e)}on(_e,et){this.events[_e]||(this.events[_e]=new SubscriptionManager);const tt=this.events[_e].add(et);return _e==="change"?()=>{tt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:tt}clearListeners(){for(const _e in this.events)this.events[_e].clear()}attach(_e,et){this.passiveEffect=_e,this.stopPassiveEffect=et}set(_e){this.passiveEffect?this.passiveEffect(_e,this.updateAndNotify):this.updateAndNotify(_e)}setWithVelocity(_e,et,tt){this.set(et),this.prev=void 0,this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt-tt}jump(_e,et=!0){this.updateAndNotify(_e),this.prev=_e,this.prevUpdatedAt=this.prevFrameValue=void 0,et&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var _e;(_e=this.events.change)==null||_e.notify(this.current)}addDependent(_e){this.dependents||(this.dependents=new Set),this.dependents.add(_e)}removeDependent(_e){this.dependents&&this.dependents.delete(_e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const _e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||_e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const et=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),et)}start(_e){return this.stop(),new Promise(et=>{this.hasAnimated=!0,this.animation=_e(et),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var _e,et;(_e=this.dependents)==null||_e.clear(),(et=this.events.destroy)==null||et.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue($,_e){return new MotionValue($,_e)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock($){return $==="x"||$==="y"?isDragging[$]?null:(isDragging[$]=!0,()=>{isDragging[$]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture($,_e){const et=resolveElements($),tt=new AbortController,nt={passive:!0,..._e,signal:tt.signal};return[et,nt,()=>tt.abort()]}function isValidHover($){return!($.pointerType==="touch"||isDragActive())}function hover($,_e,et={}){const[tt,nt,rt]=setupGesture($,et),it=st=>{if(!isValidHover(st))return;const{target:ot}=st,at=_e(ot,st);if(typeof at!="function"||!ot)return;const lt=ut=>{isValidHover(ut)&&(at(ut),ot.removeEventListener("pointerleave",lt))};ot.addEventListener("pointerleave",lt,nt)};return tt.forEach(st=>{st.addEventListener("pointerenter",it,nt)}),rt}const isNodeOrChild=($,_e)=>_e?$===_e?!0:isNodeOrChild($,_e.parentElement):!1,isPrimaryPointer=$=>$.pointerType==="mouse"?typeof $.button!="number"||$.button<=0:$.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible($){return focusableElements.has($.tagName)||$.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents($){return _e=>{_e.key==="Enter"&&$(_e)}}function firePointerEvent($,_e){$.dispatchEvent(new PointerEvent("pointer"+_e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=($,_e)=>{const et=$.currentTarget;if(!et)return;const tt=filterEvents(()=>{if(isPressing.has(et))return;firePointerEvent(et,"down");const nt=filterEvents(()=>{firePointerEvent(et,"up")}),rt=()=>firePointerEvent(et,"cancel");et.addEventListener("keyup",nt,_e),et.addEventListener("blur",rt,_e)});et.addEventListener("keydown",tt,_e),et.addEventListener("blur",()=>et.removeEventListener("keydown",tt),_e)};function isValidPressEvent($){return isPrimaryPointer($)&&!isDragActive()}function press($,_e,et={}){const[tt,nt,rt]=setupGesture($,et),it=st=>{const ot=st.currentTarget;if(!isValidPressEvent(st))return;isPressing.add(ot);const at=_e(ot,st),lt=(ct,ft)=>{window.removeEventListener("pointerup",ut),window.removeEventListener("pointercancel",dt),isPressing.has(ot)&&isPressing.delete(ot),isValidPressEvent(ct)&&typeof at=="function"&&at(ct,{success:ft})},ut=ct=>{lt(ct,ot===window||ot===document||et.useGlobalTarget||isNodeOrChild(ot,ct.target))},dt=ct=>{lt(ct,!1)};window.addEventListener("pointerup",ut,nt),window.addEventListener("pointercancel",dt,nt)};return tt.forEach(st=>{(et.useGlobalTarget?window:st).addEventListener("pointerdown",it,nt),isHTMLElement(st)&&(st.addEventListener("focus",at=>enableKeyboardPress(at,nt)),!isElementKeyboardAccessible(st)&&!st.hasAttribute("tabindex")&&(st.tabIndex=0))}),rt}function isSVGElement($){return isObject($)&&"ownerSVGElement"in $}function isSVGSVGElement($){return isSVGElement($)&&$.tagName==="svg"}const isMotionValue=$=>!!($&&$.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=$=>valueTypes.find(testValueType($)),MotionConfigContext=reactExports.createContext({transformPagePoint:$=>$,isStatic:!1,reducedMotion:"never"});function setRef($,_e){if(typeof $=="function")return $(_e);$!=null&&($.current=_e)}function composeRefs(...$){return _e=>{let et=!1;const tt=$.map(nt=>{const rt=setRef(nt,_e);return!et&&typeof rt=="function"&&(et=!0),rt});if(et)return()=>{for(let nt=0;nt<tt.length;nt++){const rt=tt[nt];typeof rt=="function"?rt():setRef($[nt],null)}}}}function useComposedRefs(...$){return reactExports.useCallback(composeRefs(...$),$)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(_e){const et=this.props.childRef.current;if(et&&_e.isPresent&&!this.props.isPresent){const tt=et.offsetParent,nt=isHTMLElement(tt)&&tt.offsetWidth||0,rt=this.props.sizeRef.current;rt.height=et.offsetHeight||0,rt.width=et.offsetWidth||0,rt.top=et.offsetTop,rt.left=et.offsetLeft,rt.right=nt-rt.width-rt.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:$,isPresent:_e,anchorX:et,root:tt}){const nt=reactExports.useId(),rt=reactExports.useRef(null),it=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:st}=reactExports.useContext(MotionConfigContext),ot=useComposedRefs(rt,$==null?void 0:$.ref);return reactExports.useInsertionEffect(()=>{const{width:at,height:lt,top:ut,left:dt,right:ct}=it.current;if(_e||!rt.current||!at||!lt)return;const ft=et==="left"?`left: ${dt}`:`right: ${ct}`;rt.current.dataset.motionPopId=nt;const pt=document.createElement("style");st&&(pt.nonce=st);const gt=tt??document.head;return gt.appendChild(pt),pt.sheet&&pt.sheet.insertRule(`
          [data-motion-pop-id="${nt}"] {
            position: absolute !important;
            width: ${at}px !important;
            height: ${lt}px !important;
            ${ft}px !important;
            top: ${ut}px !important;
          }
        `),()=>{gt.contains(pt)&&gt.removeChild(pt)}},[_e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:_e,childRef:rt,sizeRef:it,children:reactExports.cloneElement($,{ref:ot})})}const PresenceChild=({children:$,initial:_e,isPresent:et,onExitComplete:tt,custom:nt,presenceAffectsLayout:rt,mode:it,anchorX:st,root:ot})=>{const at=useConstant(newChildrenMap),lt=reactExports.useId();let ut=!0,dt=reactExports.useMemo(()=>(ut=!1,{id:lt,initial:_e,isPresent:et,custom:nt,onExitComplete:ct=>{at.set(ct,!0);for(const ft of at.values())if(!ft)return;tt&&tt()},register:ct=>(at.set(ct,!1),()=>at.delete(ct))}),[et,at,tt]);return rt&&ut&&(dt={...dt}),reactExports.useMemo(()=>{at.forEach((ct,ft)=>at.set(ft,!1))},[et]),reactExports.useEffect(()=>{!et&&!at.size&&tt&&tt()},[et]),it==="popLayout"&&($=jsxRuntimeExports.jsx(PopChild,{isPresent:et,anchorX:st,root:ot,children:$})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:dt,children:$})};function newChildrenMap(){return new Map}function usePresence($=!0){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:et,onExitComplete:tt,register:nt}=_e,rt=reactExports.useId();reactExports.useEffect(()=>{if($)return nt(rt)},[$]);const it=reactExports.useCallback(()=>$&&tt&&tt(rt),[rt,tt,$]);return!et&&tt?[!1,it]:[!0]}const getChildKey=$=>$.key||"";function onlyElements($){const _e=[];return reactExports.Children.forEach($,et=>{reactExports.isValidElement(et)&&_e.push(et)}),_e}const AnimatePresence=({children:$,custom:_e,initial:et=!0,onExitComplete:tt,presenceAffectsLayout:nt=!0,mode:rt="sync",propagate:it=!1,anchorX:st="left",root:ot})=>{const[at,lt]=usePresence(it),ut=reactExports.useMemo(()=>onlyElements($),[$]),dt=it&&!at?[]:ut.map(getChildKey),ct=reactExports.useRef(!0),ft=reactExports.useRef(ut),pt=useConstant(()=>new Map),[gt,ht]=reactExports.useState(ut),[mt,bt]=reactExports.useState(ut);useIsomorphicLayoutEffect(()=>{ct.current=!1,ft.current=ut;for(let vt=0;vt<mt.length;vt++){const _t=getChildKey(mt[vt]);dt.includes(_t)?pt.delete(_t):pt.get(_t)!==!0&&pt.set(_t,!1)}},[mt,dt.length,dt.join("-")]);const xt=[];if(ut!==gt){let vt=[...ut];for(let _t=0;_t<mt.length;_t++){const wt=mt[_t],Ct=getChildKey(wt);dt.includes(Ct)||(vt.splice(_t,0,wt),xt.push(wt))}return rt==="wait"&&xt.length&&(vt=xt),bt(onlyElements(vt)),ht(ut),null}const{forceRender:Et}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:mt.map(vt=>{const _t=getChildKey(vt),wt=it&&!at?!1:ut===mt||dt.includes(_t),Ct=()=>{if(pt.has(_t))pt.set(_t,!0);else return;let Nt=!0;pt.forEach(kt=>{kt||(Nt=!1)}),Nt&&(Et==null||Et(),bt(ft.current),it&&(lt==null||lt()),tt&&tt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:wt,initial:!ct.current||et?void 0:!1,custom:_e,presenceAffectsLayout:nt,mode:rt,root:ot,onExitComplete:wt?void 0:Ct,anchorX:st,children:vt},_t)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const $ in featureProps)featureDefinitions[$]={isEnabled:_e=>featureProps[$].some(et=>!!_e[et])};function loadFeatures($){for(const _e in $)featureDefinitions[_e]={...featureDefinitions[_e],...$[_e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp($){return $.startsWith("while")||$.startsWith("drag")&&$!=="draggable"||$.startsWith("layout")||$.startsWith("onTap")||$.startsWith("onPan")||$.startsWith("onLayout")||validMotionProps.has($)}let shouldForward=$=>!isValidMotionProp($);function loadExternalIsValidProp($){typeof $=="function"&&(shouldForward=_e=>_e.startsWith("on")?!isValidMotionProp(_e):$(_e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps($,_e,et){const tt={};for(const nt in $)nt==="values"&&typeof $.values=="object"||(shouldForward(nt)||et===!0&&isValidMotionProp(nt)||!_e&&!isValidMotionProp(nt)||$.draggable&&nt.startsWith("onDrag"))&&(tt[nt]=$[nt]);return tt}const MotionContext=reactExports.createContext({});function isAnimationControls($){return $!==null&&typeof $=="object"&&typeof $.start=="function"}function isVariantLabel($){return typeof $=="string"||Array.isArray($)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants($){return isAnimationControls($.animate)||variantProps.some(_e=>isVariantLabel($[_e]))}function isVariantNode($){return!!(isControllingVariants($)||$.variants)}function getCurrentTreeVariants($,_e){if(isControllingVariants($)){const{initial:et,animate:tt}=$;return{initial:et===!1||isVariantLabel(et)?et:void 0,animate:isVariantLabel(tt)?tt:void 0}}return $.inherit!==!1?_e:{}}function useCreateMotionContext($){const{initial:_e,animate:et}=getCurrentTreeVariants($,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:_e,animate:et}),[variantLabelsAsDependency(_e),variantLabelsAsDependency(et)])}function variantLabelsAsDependency($){return Array.isArray($)?$.join(" "):$}const scaleCorrectors={};function addScaleCorrector($){for(const _e in $)scaleCorrectors[_e]=$[_e],isCSSVariableName(_e)&&(scaleCorrectors[_e].isCSSVariable=!0)}function isForcedMotionValue($,{layout:_e,layoutId:et}){return transformProps.has($)||$.startsWith("origin")||(_e||et!==void 0)&&(!!scaleCorrectors[$]||$==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform($,_e,et){let tt="",nt=!0;for(let rt=0;rt<numTransforms;rt++){const it=transformPropOrder[rt],st=$[it];if(st===void 0)continue;let ot=!0;if(typeof st=="number"?ot=st===(it.startsWith("scale")?1:0):ot=parseFloat(st)===0,!ot||et){const at=getValueAsType(st,numberValueTypes[it]);if(!ot){nt=!1;const lt=translateAlias[it]||it;tt+=`${lt}(${at}) `}et&&(_e[it]=at)}}return tt=tt.trim(),et?tt=et(_e,nt?"":tt):nt&&(tt="none"),tt}function buildHTMLStyles($,_e,et){const{style:tt,vars:nt,transformOrigin:rt}=$;let it=!1,st=!1;for(const ot in _e){const at=_e[ot];if(transformProps.has(ot)){it=!0;continue}else if(isCSSVariableName(ot)){nt[ot]=at;continue}else{const lt=getValueAsType(at,numberValueTypes[ot]);ot.startsWith("origin")?(st=!0,rt[ot]=lt):tt[ot]=lt}}if(_e.transform||(it||et?tt.transform=buildTransform(_e,$.transform,et):tt.transform&&(tt.transform="none")),st){const{originX:ot="50%",originY:at="50%",originZ:lt=0}=rt;tt.transformOrigin=`${ot} ${at} ${lt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly($,_e,et){for(const tt in _e)!isMotionValue(_e[tt])&&!isForcedMotionValue(tt,et)&&($[tt]=_e[tt])}function useInitialMotionValues({transformTemplate:$},_e){return reactExports.useMemo(()=>{const et=createHtmlRenderState();return buildHTMLStyles(et,_e,$),Object.assign({},et.vars,et.style)},[_e])}function useStyle($,_e){const et=$.style||{},tt={};return copyRawValuesOnly(tt,et,$),Object.assign(tt,useInitialMotionValues($,_e)),tt}function useHTMLProps($,_e){const et={},tt=useStyle($,_e);return $.drag&&$.dragListener!==!1&&(et.draggable=!1,tt.userSelect=tt.WebkitUserSelect=tt.WebkitTouchCallout="none",tt.touchAction=$.drag===!0?"none":`pan-${$.drag==="x"?"y":"x"}`),$.tabIndex===void 0&&($.onTap||$.onTapStart||$.whileTap)&&(et.tabIndex=0),et.style=tt,et}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath($,_e,et=1,tt=0,nt=!0){$.pathLength=1;const rt=nt?dashKeys:camelKeys;$[rt.offset]=px.transform(-tt);const it=px.transform(_e),st=px.transform(et);$[rt.array]=`${it} ${st}`}function buildSVGAttrs($,{attrX:_e,attrY:et,attrScale:tt,pathLength:nt,pathSpacing:rt=1,pathOffset:it=0,...st},ot,at,lt){if(buildHTMLStyles($,st,at),ot){$.style.viewBox&&($.attrs.viewBox=$.style.viewBox);return}$.attrs=$.style,$.style={};const{attrs:ut,style:dt}=$;ut.transform&&(dt.transform=ut.transform,delete ut.transform),(dt.transform||ut.transformOrigin)&&(dt.transformOrigin=ut.transformOrigin??"50% 50%",delete ut.transformOrigin),dt.transform&&(dt.transformBox=(lt==null?void 0:lt.transformBox)??"fill-box",delete ut.transformBox),_e!==void 0&&(ut.x=_e),et!==void 0&&(ut.y=et),tt!==void 0&&(ut.scale=tt),nt!==void 0&&buildSVGPath(ut,nt,rt,it,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=$=>typeof $=="string"&&$.toLowerCase()==="svg";function useSVGProps($,_e,et,tt){const nt=reactExports.useMemo(()=>{const rt=createSvgRenderState();return buildSVGAttrs(rt,_e,isSVGTag(tt),$.transformTemplate,$.style),{...rt.attrs,style:{...rt.style}}},[_e]);if($.style){const rt={};copyRawValuesOnly(rt,$.style,$),nt.style={...rt,...nt.style}}return nt}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent($){return typeof $!="string"||$.includes("-")?!1:!!(lowercaseSVGElements.indexOf($)>-1||/[A-Z]/u.test($))}function useRender($,_e,et,{latestValues:tt},nt,rt=!1){const st=(isSVGComponent($)?useSVGProps:useHTMLProps)(_e,tt,nt,$),ot=filterProps(_e,typeof $=="string",rt),at=$!==reactExports.Fragment?{...ot,...st,ref:et}:{},{children:lt}=_e,ut=reactExports.useMemo(()=>isMotionValue(lt)?lt.get():lt,[lt]);return reactExports.createElement($,{...at,children:ut})}function getValueState($){const _e=[{},{}];return $==null||$.values.forEach((et,tt)=>{_e[0][tt]=et.get(),_e[1][tt]=et.getVelocity()}),_e}function resolveVariantFromProps($,_e,et,tt){if(typeof _e=="function"){const[nt,rt]=getValueState(tt);_e=_e(et!==void 0?et:$.custom,nt,rt)}if(typeof _e=="string"&&(_e=$.variants&&$.variants[_e]),typeof _e=="function"){const[nt,rt]=getValueState(tt);_e=_e(et!==void 0?et:$.custom,nt,rt)}return _e}function resolveMotionValue($){return isMotionValue($)?$.get():$}function makeState({scrapeMotionValuesFromProps:$,createRenderState:_e},et,tt,nt){return{latestValues:makeLatestValues(et,tt,nt,$),renderState:_e()}}function makeLatestValues($,_e,et,tt){const nt={},rt=tt($,{});for(const dt in rt)nt[dt]=resolveMotionValue(rt[dt]);let{initial:it,animate:st}=$;const ot=isControllingVariants($),at=isVariantNode($);_e&&at&&!ot&&$.inherit!==!1&&(it===void 0&&(it=_e.initial),st===void 0&&(st=_e.animate));let lt=et?et.initial===!1:!1;lt=lt||it===!1;const ut=lt?st:it;if(ut&&typeof ut!="boolean"&&!isAnimationControls(ut)){const dt=Array.isArray(ut)?ut:[ut];for(let ct=0;ct<dt.length;ct++){const ft=resolveVariantFromProps($,dt[ct]);if(ft){const{transitionEnd:pt,transition:gt,...ht}=ft;for(const mt in ht){let bt=ht[mt];if(Array.isArray(bt)){const xt=lt?bt.length-1:0;bt=bt[xt]}bt!==null&&(nt[mt]=bt)}for(const mt in pt)nt[mt]=pt[mt]}}}return nt}const makeUseVisualState=$=>(_e,et)=>{const tt=reactExports.useContext(MotionContext),nt=reactExports.useContext(PresenceContext),rt=()=>makeState($,_e,tt,nt);return et?rt():useConstant(rt)};function scrapeMotionValuesFromProps$1($,_e,et){var rt;const{style:tt}=$,nt={};for(const it in tt)(isMotionValue(tt[it])||_e.style&&isMotionValue(_e.style[it])||isForcedMotionValue(it,$)||((rt=et==null?void 0:et.getValue(it))==null?void 0:rt.liveStyle)!==void 0)&&(nt[it]=tt[it]);return nt}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps($,_e,et){const tt=scrapeMotionValuesFromProps$1($,_e,et);for(const nt in $)if(isMotionValue($[nt])||isMotionValue(_e[nt])){const rt=transformPropOrder.indexOf(nt)!==-1?"attr"+nt.charAt(0).toUpperCase()+nt.substring(1):nt;tt[rt]=$[nt]}return tt}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject($){return $&&typeof $=="object"&&Object.prototype.hasOwnProperty.call($,"current")}function useMotionRef($,_e,et){return reactExports.useCallback(tt=>{tt&&$.onMount&&$.onMount(tt),_e&&(tt?_e.mount(tt):_e.unmount()),et&&(typeof et=="function"?et(tt):isRefObject(et)&&(et.current=tt))},[_e])}const camelToDash=$=>$.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement($,_e,et,tt,nt){var pt,gt;const{visualElement:rt}=reactExports.useContext(MotionContext),it=reactExports.useContext(LazyContext),st=reactExports.useContext(PresenceContext),ot=reactExports.useContext(MotionConfigContext).reducedMotion,at=reactExports.useRef(null);tt=tt||it.renderer,!at.current&&tt&&(at.current=tt($,{visualState:_e,parent:rt,props:et,presenceContext:st,blockInitialAnimation:st?st.initial===!1:!1,reducedMotionConfig:ot}));const lt=at.current,ut=reactExports.useContext(SwitchLayoutGroupContext);lt&&!lt.projection&&nt&&(lt.type==="html"||lt.type==="svg")&&createProjectionNode$1(at.current,et,nt,ut);const dt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{lt&&dt.current&&lt.update(et,st)});const ct=et[optimizedAppearDataAttribute],ft=reactExports.useRef(!!ct&&!((pt=window.MotionHandoffIsComplete)!=null&&pt.call(window,ct))&&((gt=window.MotionHasOptimisedAnimation)==null?void 0:gt.call(window,ct)));return useIsomorphicLayoutEffect(()=>{lt&&(dt.current=!0,window.MotionIsMounted=!0,lt.updateFeatures(),lt.scheduleRenderMicrotask(),ft.current&&lt.animationState&&lt.animationState.animateChanges())}),reactExports.useEffect(()=>{lt&&(!ft.current&&lt.animationState&&lt.animationState.animateChanges(),ft.current&&(queueMicrotask(()=>{var ht;(ht=window.MotionHandoffMarkAsComplete)==null||ht.call(window,ct)}),ft.current=!1),lt.enteringChildren=void 0)}),lt}function createProjectionNode$1($,_e,et,tt){const{layoutId:nt,layout:rt,drag:it,dragConstraints:st,layoutScroll:ot,layoutRoot:at,layoutCrossfade:lt}=_e;$.projection=new et($.latestValues,_e["data-framer-portal-id"]?void 0:getClosestProjectingNode($.parent)),$.projection.setOptions({layoutId:nt,layout:rt,alwaysMeasureLayout:!!it||st&&isRefObject(st),visualElement:$,animationType:typeof rt=="string"?rt:"both",initialPromotionConfig:tt,crossfade:lt,layoutScroll:ot,layoutRoot:at})}function getClosestProjectingNode($){if($)return $.options.allowProjection!==!1?$.projection:getClosestProjectingNode($.parent)}function createMotionComponent($,{forwardMotionProps:_e=!1}={},et,tt){et&&loadFeatures(et);const nt=isSVGComponent($)?useSVGVisualState:useHTMLVisualState;function rt(st,ot){let at;const lt={...reactExports.useContext(MotionConfigContext),...st,layoutId:useLayoutId(st)},{isStatic:ut}=lt,dt=useCreateMotionContext(st),ct=nt(st,ut);if(!ut&&isBrowser){useStrictMode();const ft=getProjectionFunctionality(lt);at=ft.MeasureLayout,dt.visualElement=useVisualElement($,ct,lt,tt,ft.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:dt,children:[at&&dt.visualElement?jsxRuntimeExports.jsx(at,{visualElement:dt.visualElement,...lt}):null,useRender($,st,useMotionRef(ct,dt.visualElement,ot),ct,ut,_e)]})}rt.displayName=`motion.${typeof $=="string"?$:`create(${$.displayName??$.name??""})`}`;const it=reactExports.forwardRef(rt);return it[motionComponentSymbol]=$,it}function useLayoutId({layoutId:$}){const _e=reactExports.useContext(LayoutGroupContext).id;return _e&&$!==void 0?_e+"-"+$:$}function useStrictMode($,_e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality($){const{drag:_e,layout:et}=featureDefinitions;if(!_e&&!et)return{};const tt={..._e,...et};return{MeasureLayout:_e!=null&&_e.isEnabled($)||et!=null&&et.isEnabled($)?tt.MeasureLayout:void 0,ProjectionNode:tt.ProjectionNode}}function createMotionProxy($,_e){if(typeof Proxy>"u")return createMotionComponent;const et=new Map,tt=(rt,it)=>createMotionComponent(rt,it,$,_e),nt=(rt,it)=>tt(rt,it);return new Proxy(nt,{get:(rt,it)=>it==="create"?tt:(et.has(it)||et.set(it,createMotionComponent(it,void 0,$,_e)),et.get(it))})}function convertBoundingBoxToBox({top:$,left:_e,right:et,bottom:tt}){return{x:{min:_e,max:et},y:{min:$,max:tt}}}function convertBoxToBoundingBox({x:$,y:_e}){return{top:_e.min,right:$.max,bottom:_e.max,left:$.min}}function transformBoxPoints($,_e){if(!_e)return $;const et=_e({x:$.left,y:$.top}),tt=_e({x:$.right,y:$.bottom});return{top:et.y,left:et.x,bottom:tt.y,right:tt.x}}function isIdentityScale($){return $===void 0||$===1}function hasScale({scale:$,scaleX:_e,scaleY:et}){return!isIdentityScale($)||!isIdentityScale(_e)||!isIdentityScale(et)}function hasTransform($){return hasScale($)||has2DTranslate($)||$.z||$.rotate||$.rotateX||$.rotateY||$.skewX||$.skewY}function has2DTranslate($){return is2DTranslate($.x)||is2DTranslate($.y)}function is2DTranslate($){return $&&$!=="0%"}function scalePoint($,_e,et){const tt=$-et,nt=_e*tt;return et+nt}function applyPointDelta($,_e,et,tt,nt){return nt!==void 0&&($=scalePoint($,nt,tt)),scalePoint($,et,tt)+_e}function applyAxisDelta($,_e=0,et=1,tt,nt){$.min=applyPointDelta($.min,_e,et,tt,nt),$.max=applyPointDelta($.max,_e,et,tt,nt)}function applyBoxDelta($,{x:_e,y:et}){applyAxisDelta($.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta($.y,et.translate,et.scale,et.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas($,_e,et,tt=!1){const nt=et.length;if(!nt)return;_e.x=_e.y=1;let rt,it;for(let st=0;st<nt;st++){rt=et[st],it=rt.projectionDelta;const{visualElement:ot}=rt.options;ot&&ot.props.style&&ot.props.style.display==="contents"||(tt&&rt.options.layoutScroll&&rt.scroll&&rt!==rt.root&&transformBox($,{x:-rt.scroll.offset.x,y:-rt.scroll.offset.y}),it&&(_e.x*=it.x.scale,_e.y*=it.y.scale,applyBoxDelta($,it)),tt&&hasTransform(rt.latestValues)&&transformBox($,rt.latestValues))}_e.x<TREE_SCALE_SNAP_MAX&&_e.x>TREE_SCALE_SNAP_MIN&&(_e.x=1),_e.y<TREE_SCALE_SNAP_MAX&&_e.y>TREE_SCALE_SNAP_MIN&&(_e.y=1)}function translateAxis($,_e){$.min=$.min+_e,$.max=$.max+_e}function transformAxis($,_e,et,tt,nt=.5){const rt=mixNumber$1($.min,$.max,nt);applyAxisDelta($,_e,et,rt,tt)}function transformBox($,_e){transformAxis($.x,_e.x,_e.scaleX,_e.scale,_e.originX),transformAxis($.y,_e.y,_e.scaleY,_e.scale,_e.originY)}function measureViewportBox($,_e){return convertBoundingBoxToBox(transformBoxPoints($.getBoundingClientRect(),_e))}function measurePageBox($,_e,et){const tt=measureViewportBox($,et),{scroll:nt}=_e;return nt&&(translateAxis(tt.x,nt.offset.x),translateAxis(tt.y,nt.offset.y)),tt}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const $=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion.current=$.matches;$.addEventListener("change",_e),_e()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps($,_e,et){for(const tt in _e){const nt=_e[tt],rt=et[tt];if(isMotionValue(nt))$.addValue(tt,nt);else if(isMotionValue(rt))$.addValue(tt,motionValue(nt,{owner:$}));else if(rt!==nt)if($.hasValue(tt)){const it=$.getValue(tt);it.liveStyle===!0?it.jump(nt):it.hasAnimated||it.set(nt)}else{const it=$.getStaticValue(tt);$.addValue(tt,motionValue(it!==void 0?it:nt,{owner:$}))}}for(const tt in et)_e[tt]===void 0&&$.removeValue(tt);return _e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(_e,et,tt){return{}}constructor({parent:_e,props:et,presenceContext:tt,reducedMotionConfig:nt,blockInitialAnimation:rt,visualState:it},st={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const dt=time.now();this.renderScheduledAt<dt&&(this.renderScheduledAt=dt,frame.render(this.render,!1,!0))};const{latestValues:ot,renderState:at}=it;this.latestValues=ot,this.baseTarget={...ot},this.initialValues=et.initial?{...ot}:{},this.renderState=at,this.parent=_e,this.props=et,this.presenceContext=tt,this.depth=_e?_e.depth+1:0,this.reducedMotionConfig=nt,this.options=st,this.blockInitialAnimation=!!rt,this.isControllingVariants=isControllingVariants(et),this.isVariantNode=isVariantNode(et),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(_e&&_e.current);const{willChange:lt,...ut}=this.scrapeMotionValuesFromProps(et,{},this);for(const dt in ut){const ct=ut[dt];ot[dt]!==void 0&&isMotionValue(ct)&&ct.set(ot[dt])}}mount(_e){var et;this.current=_e,visualElementStore.set(_e,this),this.projection&&!this.projection.instance&&this.projection.mount(_e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((tt,nt)=>this.bindToMotionValue(nt,tt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,(et=this.parent)==null||et.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var _e;this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(et=>et()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(_e=this.parent)==null||_e.removeChild(this);for(const et in this.events)this.events[et].clear();for(const et in this.features){const tt=this.features[et];tt&&(tt.unmount(),tt.isMounted=!1)}this.current=null}addChild(_e){this.children.add(_e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(_e)}removeChild(_e){this.children.delete(_e),this.enteringChildren&&this.enteringChildren.delete(_e)}bindToMotionValue(_e,et){this.valueSubscriptions.has(_e)&&this.valueSubscriptions.get(_e)();const tt=transformProps.has(_e);tt&&this.onBindTransform&&this.onBindTransform();const nt=et.on("change",it=>{this.latestValues[_e]=it,this.props.onUpdate&&frame.preRender(this.notifyUpdate),tt&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let rt;window.MotionCheckAppearSync&&(rt=window.MotionCheckAppearSync(this,_e,et)),this.valueSubscriptions.set(_e,()=>{nt(),rt&&rt(),et.owner&&et.stop()})}sortNodePosition(_e){return!this.current||!this.sortInstanceNodePosition||this.type!==_e.type?0:this.sortInstanceNodePosition(this.current,_e.current)}updateFeatures(){let _e="animation";for(_e in featureDefinitions){const et=featureDefinitions[_e];if(!et)continue;const{isEnabled:tt,Feature:nt}=et;if(!this.features[_e]&&nt&&tt(this.props)&&(this.features[_e]=new nt(this)),this.features[_e]){const rt=this.features[_e];rt.isMounted?rt.update():(rt.mount(),rt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_e){return this.latestValues[_e]}setStaticValue(_e,et){this.latestValues[_e]=et}update(_e,et){(_e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_e,this.prevPresenceContext=this.presenceContext,this.presenceContext=et;for(let tt=0;tt<propEventHandlers.length;tt++){const nt=propEventHandlers[tt];this.propEventSubscriptions[nt]&&(this.propEventSubscriptions[nt](),delete this.propEventSubscriptions[nt]);const rt="on"+nt,it=_e[rt];it&&(this.propEventSubscriptions[nt]=this.on(nt,it))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(_e){return this.props.variants?this.props.variants[_e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(_e){const et=this.getClosestVariantNode();if(et)return et.variantChildren&&et.variantChildren.add(_e),()=>et.variantChildren.delete(_e)}addValue(_e,et){const tt=this.values.get(_e);et!==tt&&(tt&&this.removeValue(_e),this.bindToMotionValue(_e,et),this.values.set(_e,et),this.latestValues[_e]=et.get())}removeValue(_e){this.values.delete(_e);const et=this.valueSubscriptions.get(_e);et&&(et(),this.valueSubscriptions.delete(_e)),delete this.latestValues[_e],this.removeValueFromRenderState(_e,this.renderState)}hasValue(_e){return this.values.has(_e)}getValue(_e,et){if(this.props.values&&this.props.values[_e])return this.props.values[_e];let tt=this.values.get(_e);return tt===void 0&&et!==void 0&&(tt=motionValue(et===null?void 0:et,{owner:this}),this.addValue(_e,tt)),tt}readValue(_e,et){let tt=this.latestValues[_e]!==void 0||!this.current?this.latestValues[_e]:this.getBaseTargetFromProps(this.props,_e)??this.readValueFromInstance(this.current,_e,this.options);return tt!=null&&(typeof tt=="string"&&(isNumericalString(tt)||isZeroValueString(tt))?tt=parseFloat(tt):!findValueType(tt)&&complex.test(et)&&(tt=getAnimatableNone(_e,et)),this.setBaseTarget(_e,isMotionValue(tt)?tt.get():tt)),isMotionValue(tt)?tt.get():tt}setBaseTarget(_e,et){this.baseTarget[_e]=et}getBaseTarget(_e){var rt;const{initial:et}=this.props;let tt;if(typeof et=="string"||typeof et=="object"){const it=resolveVariantFromProps(this.props,et,(rt=this.presenceContext)==null?void 0:rt.custom);it&&(tt=it[_e])}if(et&&tt!==void 0)return tt;const nt=this.getBaseTargetFromProps(this.props,_e);return nt!==void 0&&!isMotionValue(nt)?nt:this.initialValues[_e]!==void 0&&tt===void 0?void 0:this.baseTarget[_e]}on(_e,et){return this.events[_e]||(this.events[_e]=new SubscriptionManager),this.events[_e].add(et)}notify(_e,...et){this.events[_e]&&this.events[_e].notify(...et)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(_e,et){return _e.compareDocumentPosition(et)&2?1:-1}getBaseTargetFromProps(_e,et){return _e.style?_e.style[et]:void 0}removeValueFromRenderState(_e,{vars:et,style:tt}){delete et[_e],delete tt[_e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_e}=this.props;isMotionValue(_e)&&(this.childSubscription=_e.on("change",et=>{this.current&&(this.current.textContent=`${et}`)}))}}function renderHTML($,{style:_e,vars:et},tt,nt){const rt=$.style;let it;for(it in _e)rt[it]=_e[it];nt==null||nt.applyProjectionStyles(rt,tt);for(it in et)rt.setProperty(it,et[it])}function getComputedStyle$1($){return window.getComputedStyle($)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(_e,et){var tt;if(transformProps.has(et))return(tt=this.projection)!=null&&tt.isProjecting?defaultTransformValue(et):readTransformValue(_e,et);{const nt=getComputedStyle$1(_e),rt=(isCSSVariableName(et)?nt.getPropertyValue(et):nt[et])||0;return typeof rt=="string"?rt.trim():rt}}measureInstanceViewportBox(_e,{transformPagePoint:et}){return measureViewportBox(_e,et)}build(_e,et,tt){buildHTMLStyles(_e,et,tt.transformTemplate)}scrapeMotionValuesFromProps(_e,et,tt){return scrapeMotionValuesFromProps$1(_e,et,tt)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG($,_e,et,tt){renderHTML($,_e,void 0,tt);for(const nt in _e.attrs)$.setAttribute(camelCaseAttributes.has(nt)?nt:camelToDash(nt),_e.attrs[nt])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(_e,et){return _e[et]}readValueFromInstance(_e,et){if(transformProps.has(et)){const tt=getDefaultValueType(et);return tt&&tt.default||0}return et=camelCaseAttributes.has(et)?et:camelToDash(et),_e.getAttribute(et)}scrapeMotionValuesFromProps(_e,et,tt){return scrapeMotionValuesFromProps(_e,et,tt)}build(_e,et,tt){buildSVGAttrs(_e,et,this.isSVGTag,tt.transformTemplate,tt.style)}renderInstance(_e,et,tt,nt){renderSVG(_e,et,tt,nt)}mount(_e){this.isSVGTag=isSVGTag(_e.tagName),super.mount(_e)}}const createDomVisualElement=($,_e)=>isSVGComponent($)?new SVGVisualElement(_e):new HTMLVisualElement(_e,{allowProjection:$!==reactExports.Fragment});function resolveVariant($,_e,et){const tt=$.getProps();return resolveVariantFromProps(tt,_e,et!==void 0?et:tt.custom,$)}const isKeyframesTarget=$=>Array.isArray($);function setMotionValue($,_e,et){$.hasValue(_e)?$.getValue(_e).set(et):$.addValue(_e,motionValue(et))}function resolveFinalValueInKeyframes($){return isKeyframesTarget($)?$[$.length-1]||0:$}function setTarget($,_e){const et=resolveVariant($,_e);let{transitionEnd:tt={},transition:nt={},...rt}=et||{};rt={...rt,...tt};for(const it in rt){const st=resolveFinalValueInKeyframes(rt[it]);setMotionValue($,it,st)}}function isWillChangeMotionValue($){return!!(isMotionValue($)&&$.add)}function addValueToWillChange($,_e){const et=$.getValue("willChange");if(isWillChangeMotionValue(et))return et.add(_e);if(!et&&MotionGlobalConfig.WillChange){const tt=new MotionGlobalConfig.WillChange("auto");$.addValue("willChange",tt),tt.add(_e)}}function getOptimisedAppearId($){return $.props[optimizedAppearDataAttribute]}const isNotNull=$=>$!==null;function getFinalKeyframe($,{repeat:_e,repeatType:et="loop"},tt){const nt=$.filter(isNotNull),rt=_e&&et!=="loop"&&_e%2===1?0:nt.length-1;return nt[rt]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=$=>({type:"spring",stiffness:550,damping:$===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=($,{keyframes:_e})=>_e.length>2?keyframesTransition:transformProps.has($)?$.startsWith("scale")?criticallyDampedSpring(_e[1]):underDampedSpring:ease;function isTransitionDefined({when:$,delay:_e,delayChildren:et,staggerChildren:tt,staggerDirection:nt,repeat:rt,repeatType:it,repeatDelay:st,from:ot,elapsed:at,...lt}){return!!Object.keys(lt).length}const animateMotionValue=($,_e,et,tt={},nt,rt)=>it=>{const st=getValueTransition(tt,$)||{},ot=st.delay||tt.delay||0;let{elapsed:at=0}=tt;at=at-secondsToMilliseconds(ot);const lt={keyframes:Array.isArray(et)?et:[null,et],ease:"easeOut",velocity:_e.getVelocity(),...st,delay:-at,onUpdate:dt=>{_e.set(dt),st.onUpdate&&st.onUpdate(dt)},onComplete:()=>{it(),st.onComplete&&st.onComplete()},name:$,motionValue:_e,element:rt?void 0:nt};isTransitionDefined(st)||Object.assign(lt,getDefaultTransition($,lt)),lt.duration&&(lt.duration=secondsToMilliseconds(lt.duration)),lt.repeatDelay&&(lt.repeatDelay=secondsToMilliseconds(lt.repeatDelay)),lt.from!==void 0&&(lt.keyframes[0]=lt.from);let ut=!1;if((lt.type===!1||lt.duration===0&&!lt.repeatDelay)&&(makeAnimationInstant(lt),lt.delay===0&&(ut=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(ut=!0,makeAnimationInstant(lt),lt.delay=0),lt.allowFlatten=!st.type&&!st.ease,ut&&!rt&&_e.get()!==void 0){const dt=getFinalKeyframe(lt.keyframes,st);if(dt!==void 0){frame.update(()=>{lt.onUpdate(dt),lt.onComplete()});return}}return st.isSync?new JSAnimation(lt):new AsyncMotionValueAnimation(lt)};function shouldBlockAnimation({protectedKeys:$,needsAnimating:_e},et){const tt=$.hasOwnProperty(et)&&_e[et]!==!0;return _e[et]=!1,tt}function animateTarget($,_e,{delay:et=0,transitionOverride:tt,type:nt}={}){let{transition:rt=$.getDefaultTransition(),transitionEnd:it,...st}=_e;tt&&(rt=tt);const ot=[],at=nt&&$.animationState&&$.animationState.getState()[nt];for(const lt in st){const ut=$.getValue(lt,$.latestValues[lt]??null),dt=st[lt];if(dt===void 0||at&&shouldBlockAnimation(at,lt))continue;const ct={delay:et,...getValueTransition(rt||{},lt)},ft=ut.get();if(ft!==void 0&&!ut.isAnimating&&!Array.isArray(dt)&&dt===ft&&!ct.velocity)continue;let pt=!1;if(window.MotionHandoffAnimation){const ht=getOptimisedAppearId($);if(ht){const mt=window.MotionHandoffAnimation(ht,lt,frame);mt!==null&&(ct.startTime=mt,pt=!0)}}addValueToWillChange($,lt),ut.start(animateMotionValue(lt,ut,dt,$.shouldReduceMotion&&positionalKeys.has(lt)?{type:!1}:ct,$,pt));const gt=ut.animation;gt&&ot.push(gt)}return it&&Promise.all(ot).then(()=>{frame.update(()=>{it&&setTarget($,it)})}),ot}function calcChildStagger($,_e,et,tt=0,nt=1){const rt=Array.from($).sort((at,lt)=>at.sortNodePosition(lt)).indexOf(_e),it=$.size,st=(it-1)*tt;return typeof et=="function"?et(rt,it):nt===1?rt*tt:st-rt*tt}function animateVariant($,_e,et={}){var ot;const tt=resolveVariant($,_e,et.type==="exit"?(ot=$.presenceContext)==null?void 0:ot.custom:void 0);let{transition:nt=$.getDefaultTransition()||{}}=tt||{};et.transitionOverride&&(nt=et.transitionOverride);const rt=tt?()=>Promise.all(animateTarget($,tt,et)):()=>Promise.resolve(),it=$.variantChildren&&$.variantChildren.size?(at=0)=>{const{delayChildren:lt=0,staggerChildren:ut,staggerDirection:dt}=nt;return animateChildren($,_e,at,lt,ut,dt,et)}:()=>Promise.resolve(),{when:st}=nt;if(st){const[at,lt]=st==="beforeChildren"?[rt,it]:[it,rt];return at().then(()=>lt())}else return Promise.all([rt(),it(et.delay)])}function animateChildren($,_e,et=0,tt=0,nt=0,rt=1,it){const st=[];for(const ot of $.variantChildren)ot.notify("AnimationStart",_e),st.push(animateVariant(ot,_e,{...it,delay:et+(typeof tt=="function"?0:tt)+calcChildStagger($.variantChildren,ot,tt,nt,rt)}).then(()=>ot.notify("AnimationComplete",_e)));return Promise.all(st)}function animateVisualElement($,_e,et={}){$.notify("AnimationStart",_e);let tt;if(Array.isArray(_e)){const nt=_e.map(rt=>animateVariant($,rt,et));tt=Promise.all(nt)}else if(typeof _e=="string")tt=animateVariant($,_e,et);else{const nt=typeof _e=="function"?resolveVariant($,_e,et.custom):_e;tt=Promise.all(animateTarget($,nt,et))}return tt.then(()=>{$.notify("AnimationComplete",_e)})}function shallowCompare($,_e){if(!Array.isArray(_e))return!1;const et=_e.length;if(et!==$.length)return!1;for(let tt=0;tt<et;tt++)if(_e[tt]!==$[tt])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext($){if(!$)return;if(!$.isControllingVariants){const et=$.parent?getVariantContext($.parent)||{}:{};return $.props.initial!==void 0&&(et.initial=$.props.initial),et}const _e={};for(let et=0;et<numVariantProps;et++){const tt=variantProps[et],nt=$.props[tt];(isVariantLabel(nt)||nt===!1)&&(_e[tt]=nt)}return _e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList($){return _e=>Promise.all(_e.map(({animation:et,options:tt})=>animateVisualElement($,et,tt)))}function createAnimationState($){let _e=animateList($),et=createState$1(),tt=!0;const nt=ot=>(at,lt)=>{var dt;const ut=resolveVariant($,lt,ot==="exit"?(dt=$.presenceContext)==null?void 0:dt.custom:void 0);if(ut){const{transition:ct,transitionEnd:ft,...pt}=ut;at={...at,...pt,...ft}}return at};function rt(ot){_e=ot($)}function it(ot){const{props:at}=$,lt=getVariantContext($.parent)||{},ut=[],dt=new Set;let ct={},ft=1/0;for(let gt=0;gt<numAnimationTypes;gt++){const ht=reversePriorityOrder[gt],mt=et[ht],bt=at[ht]!==void 0?at[ht]:lt[ht],xt=isVariantLabel(bt),Et=ht===ot?mt.isActive:null;Et===!1&&(ft=gt);let vt=bt===lt[ht]&&bt!==at[ht]&&xt;if(vt&&tt&&$.manuallyAnimateOnMount&&(vt=!1),mt.protectedKeys={...ct},!mt.isActive&&Et===null||!bt&&!mt.prevProp||isAnimationControls(bt)||typeof bt=="boolean")continue;const _t=checkVariantsDidChange(mt.prevProp,bt);let wt=_t||ht===ot&&mt.isActive&&!vt&&xt||gt>ft&&xt,Ct=!1;const Nt=Array.isArray(bt)?bt:[bt];let kt=Nt.reduce(nt(ht),{});Et===!1&&(kt={});const{prevResolvedValues:Pt={}}=mt,Dt={...Pt,...kt},qt=Ft=>{wt=!0,dt.has(Ft)&&(Ct=!0,dt.delete(Ft)),mt.needsAnimating[Ft]=!0;const Bt=$.getValue(Ft);Bt&&(Bt.liveStyle=!1)};for(const Ft in Dt){const Bt=kt[Ft],It=Pt[Ft];if(ct.hasOwnProperty(Ft))continue;let At=!1;isKeyframesTarget(Bt)&&isKeyframesTarget(It)?At=!shallowCompare(Bt,It):At=Bt!==It,At?Bt!=null?qt(Ft):dt.add(Ft):Bt!==void 0&&dt.has(Ft)?qt(Ft):mt.protectedKeys[Ft]=!0}mt.prevProp=bt,mt.prevResolvedValues=kt,mt.isActive&&(ct={...ct,...kt}),tt&&$.blockInitialAnimation&&(wt=!1);const zt=vt&&_t;wt&&(!zt||Ct)&&ut.push(...Nt.map(Ft=>{const Bt={type:ht};if(typeof Ft=="string"&&tt&&!zt&&$.manuallyAnimateOnMount&&$.parent){const{parent:It}=$,At=resolveVariant(It,Ft);if(It.enteringChildren&&At){const{delayChildren:Yt}=At.transition||{};Bt.delay=calcChildStagger(It.enteringChildren,$,Yt)}}return{animation:Ft,options:Bt}}))}if(dt.size){const gt={};if(typeof at.initial!="boolean"){const ht=resolveVariant($,Array.isArray(at.initial)?at.initial[0]:at.initial);ht&&ht.transition&&(gt.transition=ht.transition)}dt.forEach(ht=>{const mt=$.getBaseTarget(ht),bt=$.getValue(ht);bt&&(bt.liveStyle=!0),gt[ht]=mt??null}),ut.push({animation:gt})}let pt=!!ut.length;return tt&&(at.initial===!1||at.initial===at.animate)&&!$.manuallyAnimateOnMount&&(pt=!1),tt=!1,pt?_e(ut):Promise.resolve()}function st(ot,at){var ut;if(et[ot].isActive===at)return Promise.resolve();(ut=$.variantChildren)==null||ut.forEach(dt=>{var ct;return(ct=dt.animationState)==null?void 0:ct.setActive(ot,at)}),et[ot].isActive=at;const lt=it(ot);for(const dt in et)et[dt].protectedKeys={};return lt}return{animateChanges:it,setActive:st,setAnimateFunction:rt,getState:()=>et,reset:()=>{et=createState$1()}}}function checkVariantsDidChange($,_e){return typeof _e=="string"?_e!==$:Array.isArray(_e)?!shallowCompare(_e,$):!1}function createTypeState($=!1){return{isActive:$,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(_e){this.isMounted=!1,this.node=_e}update(){}}class AnimationFeature extends Feature{constructor(_e){super(_e),_e.animationState||(_e.animationState=createAnimationState(_e))}updateAnimationControlsSubscription(){const{animate:_e}=this.node.getProps();isAnimationControls(_e)&&(this.unmountControls=_e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_e}=this.node.getProps(),{animate:et}=this.node.prevProps||{};_e!==et&&this.updateAnimationControlsSubscription()}unmount(){var _e;this.node.animationState.reset(),(_e=this.unmountControls)==null||_e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:_e,onExitComplete:et}=this.node.presenceContext,{isPresent:tt}=this.node.prevPresenceContext||{};if(!this.node.animationState||_e===tt)return;const nt=this.node.animationState.setActive("exit",!_e);et&&!_e&&nt.then(()=>{et(this.id)})}mount(){const{register:_e,onExitComplete:et}=this.node.presenceContext||{};et&&et(this.id),_e&&(this.unmount=_e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent($,_e,et,tt={passive:!0}){return $.addEventListener(_e,et,tt),()=>$.removeEventListener(_e,et)}function extractEventInfo($){return{point:{x:$.pageX,y:$.pageY}}}const addPointerInfo=$=>_e=>isPrimaryPointer(_e)&&$(_e,extractEventInfo(_e));function addPointerEvent($,_e,et,tt){return addDomEvent($,_e,addPointerInfo(et),tt)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength($){return $.max-$.min}function isNear($,_e,et){return Math.abs($-_e)<=et}function calcAxisDelta($,_e,et,tt=.5){$.origin=tt,$.originPoint=mixNumber$1(_e.min,_e.max,$.origin),$.scale=calcLength(et)/calcLength(_e),$.translate=mixNumber$1(et.min,et.max,$.origin)-$.originPoint,($.scale>=SCALE_MIN&&$.scale<=SCALE_MAX||isNaN($.scale))&&($.scale=1),($.translate>=TRANSLATE_MIN&&$.translate<=TRANSLATE_MAX||isNaN($.translate))&&($.translate=0)}function calcBoxDelta($,_e,et,tt){calcAxisDelta($.x,_e.x,et.x,tt?tt.originX:void 0),calcAxisDelta($.y,_e.y,et.y,tt?tt.originY:void 0)}function calcRelativeAxis($,_e,et){$.min=et.min+_e.min,$.max=$.min+calcLength(_e)}function calcRelativeBox($,_e,et){calcRelativeAxis($.x,_e.x,et.x),calcRelativeAxis($.y,_e.y,et.y)}function calcRelativeAxisPosition($,_e,et){$.min=_e.min-et.min,$.max=$.min+calcLength(_e)}function calcRelativePosition($,_e,et){calcRelativeAxisPosition($.x,_e.x,et.x),calcRelativeAxisPosition($.y,_e.y,et.y)}function eachAxis($){return[$("x"),$("y")]}const getContextWindow=({current:$})=>$?$.ownerDocument.defaultView:null,distance=($,_e)=>Math.abs($-_e);function distance2D($,_e){const et=distance($.x,_e.x),tt=distance($.y,_e.y);return Math.sqrt(et**2+tt**2)}class PanSession{constructor(_e,et,{transformPagePoint:tt,contextWindow:nt=window,dragSnapToOrigin:rt=!1,distanceThreshold:it=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dt=getPanInfo(this.lastMoveEventInfo,this.history),ct=this.startEvent!==null,ft=distance2D(dt.offset,{x:0,y:0})>=this.distanceThreshold;if(!ct&&!ft)return;const{point:pt}=dt,{timestamp:gt}=frameData;this.history.push({...pt,timestamp:gt});const{onStart:ht,onMove:mt}=this.handlers;ct||(ht&&ht(this.lastMoveEvent,dt),this.startEvent=this.lastMoveEvent),mt&&mt(this.lastMoveEvent,dt)},this.handlePointerMove=(dt,ct)=>{this.lastMoveEvent=dt,this.lastMoveEventInfo=transformPoint(ct,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(dt,ct)=>{this.end();const{onEnd:ft,onSessionEnd:pt,resumeAnimation:gt}=this.handlers;if(this.dragSnapToOrigin&&gt&&gt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ht=getPanInfo(dt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ct,this.transformPagePoint),this.history);this.startEvent&&ft&&ft(dt,ht),pt&&pt(dt,ht)},!isPrimaryPointer(_e))return;this.dragSnapToOrigin=rt,this.handlers=et,this.transformPagePoint=tt,this.distanceThreshold=it,this.contextWindow=nt||window;const st=extractEventInfo(_e),ot=transformPoint(st,this.transformPagePoint),{point:at}=ot,{timestamp:lt}=frameData;this.history=[{...at,timestamp:lt}];const{onSessionStart:ut}=et;ut&&ut(_e,getPanInfo(ot,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint($,_e){return _e?{point:_e($.point)}:$}function subtractPoint($,_e){return{x:$.x-_e.x,y:$.y-_e.y}}function getPanInfo({point:$},_e){return{point:$,delta:subtractPoint($,lastDevicePoint(_e)),offset:subtractPoint($,startDevicePoint(_e)),velocity:getVelocity(_e,.1)}}function startDevicePoint($){return $[0]}function lastDevicePoint($){return $[$.length-1]}function getVelocity($,_e){if($.length<2)return{x:0,y:0};let et=$.length-1,tt=null;const nt=lastDevicePoint($);for(;et>=0&&(tt=$[et],!(nt.timestamp-tt.timestamp>secondsToMilliseconds(_e)));)et--;if(!tt)return{x:0,y:0};const rt=millisecondsToSeconds(nt.timestamp-tt.timestamp);if(rt===0)return{x:0,y:0};const it={x:(nt.x-tt.x)/rt,y:(nt.y-tt.y)/rt};return it.x===1/0&&(it.x=0),it.y===1/0&&(it.y=0),it}function applyConstraints($,{min:_e,max:et},tt){return _e!==void 0&&$<_e?$=tt?mixNumber$1(_e,$,tt.min):Math.max($,_e):et!==void 0&&$>et&&($=tt?mixNumber$1(et,$,tt.max):Math.min($,et)),$}function calcRelativeAxisConstraints($,_e,et){return{min:_e!==void 0?$.min+_e:void 0,max:et!==void 0?$.max+et-($.max-$.min):void 0}}function calcRelativeConstraints($,{top:_e,left:et,bottom:tt,right:nt}){return{x:calcRelativeAxisConstraints($.x,et,nt),y:calcRelativeAxisConstraints($.y,_e,tt)}}function calcViewportAxisConstraints($,_e){let et=_e.min-$.min,tt=_e.max-$.max;return _e.max-_e.min<$.max-$.min&&([et,tt]=[tt,et]),{min:et,max:tt}}function calcViewportConstraints($,_e){return{x:calcViewportAxisConstraints($.x,_e.x),y:calcViewportAxisConstraints($.y,_e.y)}}function calcOrigin($,_e){let et=.5;const tt=calcLength($),nt=calcLength(_e);return nt>tt?et=progress(_e.min,_e.max-tt,$.min):tt>nt&&(et=progress($.min,$.max-nt,_e.min)),clamp(0,1,et)}function rebaseAxisConstraints($,_e){const et={};return _e.min!==void 0&&(et.min=_e.min-$.min),_e.max!==void 0&&(et.max=_e.max-$.min),et}const defaultElastic=.35;function resolveDragElastic($=defaultElastic){return $===!1?$=0:$===!0&&($=defaultElastic),{x:resolveAxisElastic($,"left","right"),y:resolveAxisElastic($,"top","bottom")}}function resolveAxisElastic($,_e,et){return{min:resolvePointElastic($,_e),max:resolvePointElastic($,et)}}function resolvePointElastic($,_e){return typeof $=="number"?$:$[_e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=_e}start(_e,{snapToCursor:et=!1,distanceThreshold:tt}={}){const{presenceContext:nt}=this.visualElement;if(nt&&nt.isPresent===!1)return;const rt=ut=>{const{dragSnapToOrigin:dt}=this.getProps();dt?this.pauseAnimation():this.stopAnimation(),et&&this.snapToCursor(extractEventInfo(ut).point)},it=(ut,dt)=>{const{drag:ct,dragPropagation:ft,onDragStart:pt}=this.getProps();if(ct&&!ft&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(ct),!this.openDragLock))return;this.latestPointerEvent=ut,this.latestPanInfo=dt,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ht=>{let mt=this.getAxisMotionValue(ht).get()||0;if(percent.test(mt)){const{projection:bt}=this.visualElement;if(bt&&bt.layout){const xt=bt.layout.layoutBox[ht];xt&&(mt=calcLength(xt)*(parseFloat(mt)/100))}}this.originPoint[ht]=mt}),pt&&frame.postRender(()=>pt(ut,dt)),addValueToWillChange(this.visualElement,"transform");const{animationState:gt}=this.visualElement;gt&&gt.setActive("whileDrag",!0)},st=(ut,dt)=>{this.latestPointerEvent=ut,this.latestPanInfo=dt;const{dragPropagation:ct,dragDirectionLock:ft,onDirectionLock:pt,onDrag:gt}=this.getProps();if(!ct&&!this.openDragLock)return;const{offset:ht}=dt;if(ft&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ht),this.currentDirection!==null&&pt&&pt(this.currentDirection);return}this.updateAxis("x",dt.point,ht),this.updateAxis("y",dt.point,ht),this.visualElement.render(),gt&&gt(ut,dt)},ot=(ut,dt)=>{this.latestPointerEvent=ut,this.latestPanInfo=dt,this.stop(ut,dt),this.latestPointerEvent=null,this.latestPanInfo=null},at=()=>eachAxis(ut=>{var dt;return this.getAnimationState(ut)==="paused"&&((dt=this.getAxisMotionValue(ut).animation)==null?void 0:dt.play())}),{dragSnapToOrigin:lt}=this.getProps();this.panSession=new PanSession(_e,{onSessionStart:rt,onStart:it,onMove:st,onSessionEnd:ot,resumeAnimation:at},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:lt,distanceThreshold:tt,contextWindow:getContextWindow(this.visualElement)})}stop(_e,et){const tt=_e||this.latestPointerEvent,nt=et||this.latestPanInfo,rt=this.isDragging;if(this.cancel(),!rt||!nt||!tt)return;const{velocity:it}=nt;this.startAnimation(it);const{onDragEnd:st}=this.getProps();st&&frame.postRender(()=>st(tt,nt))}cancel(){this.isDragging=!1;const{projection:_e,animationState:et}=this.visualElement;_e&&(_e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:tt}=this.getProps();!tt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),et&&et.setActive("whileDrag",!1)}updateAxis(_e,et,tt){const{drag:nt}=this.getProps();if(!tt||!shouldDrag(_e,nt,this.currentDirection))return;const rt=this.getAxisMotionValue(_e);let it=this.originPoint[_e]+tt[_e];this.constraints&&this.constraints[_e]&&(it=applyConstraints(it,this.constraints[_e],this.elastic[_e])),rt.set(it)}resolveConstraints(){var rt;const{dragConstraints:_e,dragElastic:et}=this.getProps(),tt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(rt=this.visualElement.projection)==null?void 0:rt.layout,nt=this.constraints;_e&&isRefObject(_e)?this.constraints||(this.constraints=this.resolveRefConstraints()):_e&&tt?this.constraints=calcRelativeConstraints(tt.layoutBox,_e):this.constraints=!1,this.elastic=resolveDragElastic(et),nt!==this.constraints&&tt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(it=>{this.constraints!==!1&&this.getAxisMotionValue(it)&&(this.constraints[it]=rebaseAxisConstraints(tt.layoutBox[it],this.constraints[it]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:et}=this.getProps();if(!_e||!isRefObject(_e))return!1;const tt=_e.current,{projection:nt}=this.visualElement;if(!nt||!nt.layout)return!1;const rt=measurePageBox(tt,nt.root,this.visualElement.getTransformPagePoint());let it=calcViewportConstraints(nt.layout.layoutBox,rt);if(et){const st=et(convertBoxToBoundingBox(it));this.hasMutatedConstraints=!!st,st&&(it=convertBoundingBoxToBox(st))}return it}startAnimation(_e){const{drag:et,dragMomentum:tt,dragElastic:nt,dragTransition:rt,dragSnapToOrigin:it,onDragTransitionEnd:st}=this.getProps(),ot=this.constraints||{},at=eachAxis(lt=>{if(!shouldDrag(lt,et,this.currentDirection))return;let ut=ot&&ot[lt]||{};it&&(ut={min:0,max:0});const dt=nt?200:1e6,ct=nt?40:1e7,ft={type:"inertia",velocity:tt?_e[lt]:0,bounceStiffness:dt,bounceDamping:ct,timeConstant:750,restDelta:1,restSpeed:10,...rt,...ut};return this.startAxisValueAnimation(lt,ft)});return Promise.all(at).then(st)}startAxisValueAnimation(_e,et){const tt=this.getAxisMotionValue(_e);return addValueToWillChange(this.visualElement,_e),tt.start(animateMotionValue(_e,tt,0,et,this.visualElement,!1))}stopAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).stop())}pauseAnimation(){eachAxis(_e=>{var et;return(et=this.getAxisMotionValue(_e).animation)==null?void 0:et.pause()})}getAnimationState(_e){var et;return(et=this.getAxisMotionValue(_e).animation)==null?void 0:et.state}getAxisMotionValue(_e){const et=`_drag${_e.toUpperCase()}`,tt=this.visualElement.getProps(),nt=tt[et];return nt||this.visualElement.getValue(_e,(tt.initial?tt.initial[_e]:void 0)||0)}snapToCursor(_e){eachAxis(et=>{const{drag:tt}=this.getProps();if(!shouldDrag(et,tt,this.currentDirection))return;const{projection:nt}=this.visualElement,rt=this.getAxisMotionValue(et);if(nt&&nt.layout){const{min:it,max:st}=nt.layout.layoutBox[et];rt.set(_e[et]-mixNumber$1(it,st,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_e,dragConstraints:et}=this.getProps(),{projection:tt}=this.visualElement;if(!isRefObject(et)||!tt||!this.constraints)return;this.stopAnimation();const nt={x:0,y:0};eachAxis(it=>{const st=this.getAxisMotionValue(it);if(st&&this.constraints!==!1){const ot=st.get();nt[it]=calcOrigin({min:ot,max:ot},this.constraints[it])}});const{transformTemplate:rt}=this.visualElement.getProps();this.visualElement.current.style.transform=rt?rt({},""):"none",tt.root&&tt.root.updateScroll(),tt.updateLayout(),this.resolveConstraints(),eachAxis(it=>{if(!shouldDrag(it,_e,null))return;const st=this.getAxisMotionValue(it),{min:ot,max:at}=this.constraints[it];st.set(mixNumber$1(ot,at,nt[it]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const _e=this.visualElement.current,et=addPointerEvent(_e,"pointerdown",ot=>{const{drag:at,dragListener:lt=!0}=this.getProps();at&&lt&&this.start(ot)}),tt=()=>{const{dragConstraints:ot}=this.getProps();isRefObject(ot)&&ot.current&&(this.constraints=this.resolveRefConstraints())},{projection:nt}=this.visualElement,rt=nt.addEventListener("measure",tt);nt&&!nt.layout&&(nt.root&&nt.root.updateScroll(),nt.updateLayout()),frame.read(tt);const it=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),st=nt.addEventListener("didUpdate",({delta:ot,hasLayoutChanged:at})=>{this.isDragging&&at&&(eachAxis(lt=>{const ut=this.getAxisMotionValue(lt);ut&&(this.originPoint[lt]+=ot[lt].translate,ut.set(ut.get()+ot[lt].translate))}),this.visualElement.render())});return()=>{it(),et(),rt(),st&&st()}}getProps(){const _e=this.visualElement.getProps(),{drag:et=!1,dragDirectionLock:tt=!1,dragPropagation:nt=!1,dragConstraints:rt=!1,dragElastic:it=defaultElastic,dragMomentum:st=!0}=_e;return{..._e,drag:et,dragDirectionLock:tt,dragPropagation:nt,dragConstraints:rt,dragElastic:it,dragMomentum:st}}}function shouldDrag($,_e,et){return(_e===!0||_e===$)&&(et===null||et===$)}function getCurrentDirection($,_e=10){let et=null;return Math.abs($.y)>_e?et="y":Math.abs($.x)>_e&&(et="x"),et}class DragGesture extends Feature{constructor(_e){super(_e),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(_e)}mount(){const{dragControls:_e}=this.node.getProps();_e&&(this.removeGroupControls=_e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=$=>(_e,et)=>{$&&frame.postRender(()=>$(_e,et))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(_e){this.session=new PanSession(_e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:_e,onPanStart:et,onPan:tt,onPanEnd:nt}=this.node.getProps();return{onSessionStart:asyncHandler(_e),onStart:asyncHandler(et),onMove:tt,onEnd:(rt,it)=>{delete this.session,nt&&frame.postRender(()=>nt(rt,it))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",_e=>this.onPointerDown(_e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent($,_e){return _e.max===_e.min?0:$/(_e.max-_e.min)*100}const correctBorderRadius={correct:($,_e)=>{if(!_e.target)return $;if(typeof $=="string")if(px.test($))$=parseFloat($);else return $;const et=pixelsToPercent($,_e.target.x),tt=pixelsToPercent($,_e.target.y);return`${et}% ${tt}%`}},correctBoxShadow={correct:($,{treeScale:_e,projectionDelta:et})=>{const tt=$,nt=complex.parse($);if(nt.length>5)return tt;const rt=complex.createTransformer($),it=typeof nt[0]!="number"?1:0,st=et.x.scale*_e.x,ot=et.y.scale*_e.y;nt[0+it]/=st,nt[1+it]/=ot;const at=mixNumber$1(st,ot,.5);return typeof nt[2+it]=="number"&&(nt[2+it]/=at),typeof nt[3+it]=="number"&&(nt[3+it]/=at),rt(nt)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:_e,layoutGroup:et,switchLayoutGroup:tt,layoutId:nt}=this.props,{projection:rt}=_e;addScaleCorrector(defaultScaleCorrectors),rt&&(et.group&&et.group.add(rt),tt&&tt.register&&nt&&tt.register(rt),hasTakenAnySnapshot&&rt.root.didUpdate(),rt.addEventListener("animationComplete",()=>{this.safeToRemove()}),rt.setOptions({...rt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:et,visualElement:tt,drag:nt,isPresent:rt}=this.props,{projection:it}=tt;return it&&(it.isPresent=rt,hasTakenAnySnapshot=!0,nt||_e.layoutDependency!==et||et===void 0||_e.isPresent!==rt?it.willUpdate():this.safeToRemove(),_e.isPresent!==rt&&(rt?it.promote():it.relegate()||frame.postRender(()=>{const st=it.getStack();(!st||!st.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),microtask.postRender(()=>{!_e.currentAnimation&&_e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:_e,layoutGroup:et,switchLayoutGroup:tt}=this.props,{projection:nt}=_e;hasTakenAnySnapshot=!0,nt&&(nt.scheduleCheckAfterUnmount(),et&&et.group&&et.group.remove(nt),tt&&tt.deregister&&tt.deregister(nt))}safeToRemove(){const{safeToRemove:_e}=this.props;_e&&_e()}render(){return null}}function MeasureLayout($){const[_e,et]=usePresence(),tt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...$,layoutGroup:tt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:_e,safeToRemove:et})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue($,_e,et){const tt=isMotionValue($)?$:motionValue($);return tt.start(animateMotionValue("",tt,_e,et)),tt.animation}const compareByDepth=($,_e)=>$.depth-_e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem(this.children,_e),this.isDirty=!0}remove(_e){removeItem(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_e)}}function delay($,_e){const et=time.now(),tt=({timestamp:nt})=>{const rt=nt-et;rt>=_e&&(cancelFrame(tt),$(rt-_e))};return frame.setup(tt,!0),()=>cancelFrame(tt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=$=>typeof $=="string"?parseFloat($):$,isPx=$=>typeof $=="number"||px.test($);function mixValues($,_e,et,tt,nt,rt){nt?($.opacity=mixNumber$1(0,et.opacity??1,easeCrossfadeIn(tt)),$.opacityExit=mixNumber$1(_e.opacity??1,0,easeCrossfadeOut(tt))):rt&&($.opacity=mixNumber$1(_e.opacity??1,et.opacity??1,tt));for(let it=0;it<numBorders;it++){const st=`border${borders[it]}Radius`;let ot=getRadius(_e,st),at=getRadius(et,st);if(ot===void 0&&at===void 0)continue;ot||(ot=0),at||(at=0),ot===0||at===0||isPx(ot)===isPx(at)?($[st]=Math.max(mixNumber$1(asNumber(ot),asNumber(at),tt),0),(percent.test(at)||percent.test(ot))&&($[st]+="%")):$[st]=at}(_e.rotate||et.rotate)&&($.rotate=mixNumber$1(_e.rotate||0,et.rotate||0,tt))}function getRadius($,_e){return $[_e]!==void 0?$[_e]:$.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress($,_e,et){return tt=>tt<$?0:tt>_e?1:et(progress($,_e,tt))}function copyAxisInto($,_e){$.min=_e.min,$.max=_e.max}function copyBoxInto($,_e){copyAxisInto($.x,_e.x),copyAxisInto($.y,_e.y)}function copyAxisDeltaInto($,_e){$.translate=_e.translate,$.scale=_e.scale,$.originPoint=_e.originPoint,$.origin=_e.origin}function removePointDelta($,_e,et,tt,nt){return $-=_e,$=scalePoint($,1/et,tt),nt!==void 0&&($=scalePoint($,1/nt,tt)),$}function removeAxisDelta($,_e=0,et=1,tt=.5,nt,rt=$,it=$){if(percent.test(_e)&&(_e=parseFloat(_e),_e=mixNumber$1(it.min,it.max,_e/100)-it.min),typeof _e!="number")return;let st=mixNumber$1(rt.min,rt.max,tt);$===rt&&(st-=_e),$.min=removePointDelta($.min,_e,et,st,nt),$.max=removePointDelta($.max,_e,et,st,nt)}function removeAxisTransforms($,_e,[et,tt,nt],rt,it){removeAxisDelta($,_e[et],_e[tt],_e[nt],_e.scale,rt,it)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms($,_e,et,tt){removeAxisTransforms($.x,_e,xKeys,et?et.x:void 0,tt?tt.x:void 0),removeAxisTransforms($.y,_e,yKeys,et?et.y:void 0,tt?tt.y:void 0)}function isAxisDeltaZero($){return $.translate===0&&$.scale===1}function isDeltaZero($){return isAxisDeltaZero($.x)&&isAxisDeltaZero($.y)}function axisEquals($,_e){return $.min===_e.min&&$.max===_e.max}function boxEquals($,_e){return axisEquals($.x,_e.x)&&axisEquals($.y,_e.y)}function axisEqualsRounded($,_e){return Math.round($.min)===Math.round(_e.min)&&Math.round($.max)===Math.round(_e.max)}function boxEqualsRounded($,_e){return axisEqualsRounded($.x,_e.x)&&axisEqualsRounded($.y,_e.y)}function aspectRatio($){return calcLength($.x)/calcLength($.y)}function axisDeltaEquals($,_e){return $.translate===_e.translate&&$.scale===_e.scale&&$.originPoint===_e.originPoint}class NodeStack{constructor(){this.members=[]}add(_e){addUniqueItem(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const et=this.members[this.members.length-1];et&&this.promote(et)}}relegate(_e){const et=this.members.findIndex(nt=>_e===nt);if(et===0)return!1;let tt;for(let nt=et;nt>=0;nt--){const rt=this.members[nt];if(rt.isPresent!==!1){tt=rt;break}}return tt?(this.promote(tt),!0):!1}promote(_e,et){const tt=this.lead;if(_e!==tt&&(this.prevLead=tt,this.lead=_e,_e.show(),tt)){tt.instance&&tt.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=tt,et&&(_e.resumeFrom.preserveOpacity=!0),tt.snapshot&&(_e.snapshot=tt.snapshot,_e.snapshot.latestValues=tt.animationValues||tt.latestValues),_e.root&&_e.root.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:nt}=_e.options;nt===!1&&tt.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{const{options:et,resumingFrom:tt}=_e;et.onExitComplete&&et.onExitComplete(),tt&&tt.options.onExitComplete&&tt.options.onExitComplete()})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform($,_e,et){let tt="";const nt=$.x.translate/_e.x,rt=$.y.translate/_e.y,it=(et==null?void 0:et.z)||0;if((nt||rt||it)&&(tt=`translate3d(${nt}px, ${rt}px, ${it}px) `),(_e.x!==1||_e.y!==1)&&(tt+=`scale(${1/_e.x}, ${1/_e.y}) `),et){const{transformPerspective:at,rotate:lt,rotateX:ut,rotateY:dt,skewX:ct,skewY:ft}=et;at&&(tt=`perspective(${at}px) ${tt}`),lt&&(tt+=`rotate(${lt}deg) `),ut&&(tt+=`rotateX(${ut}deg) `),dt&&(tt+=`rotateY(${dt}deg) `),ct&&(tt+=`skewX(${ct}deg) `),ft&&(tt+=`skewY(${ft}deg) `)}const st=$.x.scale*_e.x,ot=$.y.scale*_e.y;return(st!==1||ot!==1)&&(tt+=`scale(${st}, ${ot})`),tt||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform($,_e,et,tt){const{latestValues:nt}=_e;nt[$]&&(et[$]=nt[$],_e.setStaticValue($,0),tt&&(tt[$]=0))}function cancelTreeOptimisedTransformAnimations($){if($.hasCheckedOptimisedAppear=!0,$.root===$)return;const{visualElement:_e}=$.options;if(!_e)return;const et=getOptimisedAppearId(_e);if(window.MotionHasOptimisedAnimation(et,"transform")){const{layout:nt,layoutId:rt}=$.options;window.MotionCancelOptimisedAnimation(et,"transform",frame,!(nt||rt))}const{parent:tt}=$;tt&&!tt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(tt)}function createProjectionNode({attachResizeListener:$,defaultParent:_e,measureScroll:et,checkIsScrollRoot:tt,resetTransform:nt}){return class{constructor(it={},st=_e==null?void 0:_e()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=it,this.root=st?st.root||st:this,this.path=st?[...st.path,st]:[],this.parent=st,this.depth=st?st.depth+1:0;for(let ot=0;ot<this.path.length;ot++)this.path[ot].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(it,st){return this.eventHandlers.has(it)||this.eventHandlers.set(it,new SubscriptionManager),this.eventHandlers.get(it).add(st)}notifyListeners(it,...st){const ot=this.eventHandlers.get(it);ot&&ot.notify(...st)}hasListeners(it){return this.eventHandlers.has(it)}mount(it){if(this.instance)return;this.isSVG=isSVGElement(it)&&!isSVGSVGElement(it),this.instance=it;const{layoutId:st,layout:ot,visualElement:at}=this.options;if(at&&!at.current&&at.mount(it),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(ot||st)&&(this.isLayoutDirty=!0),$){let lt,ut=0;const dt=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{ut=window.innerWidth}),$(it,()=>{const ct=window.innerWidth;ct!==ut&&(ut=ct,this.root.updateBlockedByResize=!0,lt&&lt(),lt=delay(dt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}st&&this.root.registerSharedNode(st,this),this.options.animate!==!1&&at&&(st||ot)&&this.addEventListener("didUpdate",({delta:lt,hasLayoutChanged:ut,hasRelativeLayoutChanged:dt,layout:ct})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ft=this.options.transition||at.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:pt,onLayoutAnimationComplete:gt}=at.getProps(),ht=!this.targetLayout||!boxEqualsRounded(this.targetLayout,ct),mt=!ut&&dt;if(this.options.layoutRoot||this.resumeFrom||mt||ut&&(ht||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const bt={...getValueTransition(ft,"layout"),onPlay:pt,onComplete:gt};(at.shouldReduceMotion||this.options.layoutRoot)&&(bt.delay=0,bt.type=!1),this.startAnimation(bt),this.setAnimationOrigin(lt,mt)}else ut||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ct})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const it=this.getStack();it&&it.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:it}=this.options;return it&&it.getProps().transformTemplate}willUpdate(it=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let lt=0;lt<this.path.length;lt++){const ut=this.path[lt];ut.shouldResetTransform=!0,ut.updateScroll("snapshot"),ut.options.layoutRoot&&ut.willUpdate(!1)}const{layoutId:st,layout:ot}=this.options;if(st===void 0&&!ot)return;const at=this.getTransformTemplate();this.prevTransformTemplateValue=at?at(this.latestValues,""):void 0,this.updateSnapshot(),it&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const st=time.now();frameData.delta=clamp(0,1e3/60,st-frameData.timestamp),frameData.timestamp=st,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ot=0;ot<this.path.length;ot++)this.path[ot].updateScroll();const it=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:st}=this.options;st&&st.notify("LayoutMeasure",this.layout.layoutBox,it?it.layoutBox:void 0)}updateScroll(it="measure"){let st=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===it&&(st=!1),st&&this.instance){const ot=tt(this.instance);this.scroll={animationId:this.root.animationId,phase:it,isRoot:ot,offset:et(this.instance),wasRoot:this.scroll?this.scroll.isRoot:ot}}}resetTransform(){if(!nt)return;const it=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,st=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ot=this.getTransformTemplate(),at=ot?ot(this.latestValues,""):void 0,lt=at!==this.prevTransformTemplateValue;it&&this.instance&&(st||hasTransform(this.latestValues)||lt)&&(nt(this.instance,at),this.shouldResetTransform=!1,this.scheduleRender())}measure(it=!0){const st=this.measurePageBox();let ot=this.removeElementScroll(st);return it&&(ot=this.removeTransform(ot)),roundBox(ot),{animationId:this.root.animationId,measuredBox:st,layoutBox:ot,latestValues:{},source:this.id}}measurePageBox(){var at;const{visualElement:it}=this.options;if(!it)return createBox();const st=it.measureViewportBox();if(!(((at=this.scroll)==null?void 0:at.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:lt}=this.root;lt&&(translateAxis(st.x,lt.offset.x),translateAxis(st.y,lt.offset.y))}return st}removeElementScroll(it){var ot;const st=createBox();if(copyBoxInto(st,it),(ot=this.scroll)!=null&&ot.wasRoot)return st;for(let at=0;at<this.path.length;at++){const lt=this.path[at],{scroll:ut,options:dt}=lt;lt!==this.root&&ut&&dt.layoutScroll&&(ut.wasRoot&&copyBoxInto(st,it),translateAxis(st.x,ut.offset.x),translateAxis(st.y,ut.offset.y))}return st}applyTransform(it,st=!1){const ot=createBox();copyBoxInto(ot,it);for(let at=0;at<this.path.length;at++){const lt=this.path[at];!st&&lt.options.layoutScroll&&lt.scroll&&lt!==lt.root&&transformBox(ot,{x:-lt.scroll.offset.x,y:-lt.scroll.offset.y}),hasTransform(lt.latestValues)&&transformBox(ot,lt.latestValues)}return hasTransform(this.latestValues)&&transformBox(ot,this.latestValues),ot}removeTransform(it){const st=createBox();copyBoxInto(st,it);for(let ot=0;ot<this.path.length;ot++){const at=this.path[ot];if(!at.instance||!hasTransform(at.latestValues))continue;hasScale(at.latestValues)&&at.updateSnapshot();const lt=createBox(),ut=at.measurePageBox();copyBoxInto(lt,ut),removeBoxTransforms(st,at.latestValues,at.snapshot?at.snapshot.layoutBox:void 0,lt)}return hasTransform(this.latestValues)&&removeBoxTransforms(st,this.latestValues),st}setTargetDelta(it){this.targetDelta=it,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(it){this.options={...this.options,...it,crossfade:it.crossfade!==void 0?it.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(it=!1){var dt;const st=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=st.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=st.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=st.isSharedProjectionDirty);const ot=!!this.resumingFrom||this!==st;if(!(it||ot&&this.isSharedProjectionDirty||this.isProjectionDirty||(dt=this.parent)!=null&&dt.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:lt,layoutId:ut}=this.options;if(!(!this.layout||!(lt||ut))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ct=this.getClosestProjectingParent();ct&&ct.layout&&this.animationProgress!==1?(this.relativeParent=ct,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ct.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const ct=this.getClosestProjectingParent();ct&&!!ct.resumingFrom==!!this.resumingFrom&&!ct.options.layoutScroll&&ct.target&&this.animationProgress!==1?(this.relativeParent=ct,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ct.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var ft;const it=this.getLead(),st=!!this.resumingFrom||this!==it;let ot=!0;if((this.isProjectionDirty||(ft=this.parent)!=null&&ft.isProjectionDirty)&&(ot=!1),st&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ot=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ot=!1),ot)return;const{layout:at,layoutId:lt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(at||lt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ut=this.treeScale.x,dt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,st),it.layout&&!it.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(it.target=it.layout.layoutBox,it.targetWithTransforms=createBox());const{target:ct}=it;if(!ct){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,ct,this.latestValues),(this.treeScale.x!==ut||this.treeScale.y!==dt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ct))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(it=!0){var st;if((st=this.options.visualElement)==null||st.scheduleRender(),it){const ot=this.getStack();ot&&ot.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(it,st=!1){const ot=this.snapshot,at=ot?ot.latestValues:{},lt={...this.latestValues},ut=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!st;const dt=createBox(),ct=ot?ot.source:void 0,ft=this.layout?this.layout.source:void 0,pt=ct!==ft,gt=this.getStack(),ht=!gt||gt.members.length<=1,mt=!!(pt&&!ht&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let bt;this.mixTargetDelta=xt=>{const Et=xt/1e3;mixAxisDelta(ut.x,it.x,Et),mixAxisDelta(ut.y,it.y,Et),this.setTargetDelta(ut),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(dt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,dt,Et),bt&&boxEquals(this.relativeTarget,bt)&&(this.isProjectionDirty=!1),bt||(bt=createBox()),copyBoxInto(bt,this.relativeTarget)),pt&&(this.animationValues=lt,mixValues(lt,at,this.latestValues,Et,mt,ht)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Et},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(it){var st,ot,at;this.notifyListeners("animationStart"),(st=this.currentAnimation)==null||st.stop(),(at=(ot=this.resumingFrom)==null?void 0:ot.currentAnimation)==null||at.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...it,velocity:0,isSync:!0,onUpdate:lt=>{this.mixTargetDelta(lt),it.onUpdate&&it.onUpdate(lt)},onStop:()=>{},onComplete:()=>{it.onComplete&&it.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const it=this.getStack();it&&it.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const it=this.getLead();let{targetWithTransforms:st,target:ot,layout:at,latestValues:lt}=it;if(!(!st||!ot||!at)){if(this!==it&&this.layout&&at&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,at.layoutBox)){ot=this.target||createBox();const ut=calcLength(this.layout.layoutBox.x);ot.x.min=it.target.x.min,ot.x.max=ot.x.min+ut;const dt=calcLength(this.layout.layoutBox.y);ot.y.min=it.target.y.min,ot.y.max=ot.y.min+dt}copyBoxInto(st,ot),transformBox(st,lt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,st,lt)}}registerSharedNode(it,st){this.sharedNodes.has(it)||this.sharedNodes.set(it,new NodeStack),this.sharedNodes.get(it).add(st);const at=st.options.initialPromotionConfig;st.promote({transition:at?at.transition:void 0,preserveFollowOpacity:at&&at.shouldPreserveFollowOpacity?at.shouldPreserveFollowOpacity(st):void 0})}isLead(){const it=this.getStack();return it?it.lead===this:!0}getLead(){var st;const{layoutId:it}=this.options;return it?((st=this.getStack())==null?void 0:st.lead)||this:this}getPrevLead(){var st;const{layoutId:it}=this.options;return it?(st=this.getStack())==null?void 0:st.prevLead:void 0}getStack(){const{layoutId:it}=this.options;if(it)return this.root.sharedNodes.get(it)}promote({needsReset:it,transition:st,preserveFollowOpacity:ot}={}){const at=this.getStack();at&&at.promote(this,ot),it&&(this.projectionDelta=void 0,this.needsReset=!0),st&&this.setOptions({transition:st})}relegate(){const it=this.getStack();return it?it.relegate(this):!1}resetSkewAndRotation(){const{visualElement:it}=this.options;if(!it)return;let st=!1;const{latestValues:ot}=it;if((ot.z||ot.rotate||ot.rotateX||ot.rotateY||ot.rotateZ||ot.skewX||ot.skewY)&&(st=!0),!st)return;const at={};ot.z&&resetDistortingTransform("z",it,at,this.animationValues);for(let lt=0;lt<transformAxes.length;lt++)resetDistortingTransform(`rotate${transformAxes[lt]}`,it,at,this.animationValues),resetDistortingTransform(`skew${transformAxes[lt]}`,it,at,this.animationValues);it.render();for(const lt in at)it.setStaticValue(lt,at[lt]),this.animationValues&&(this.animationValues[lt]=at[lt]);it.scheduleRender()}applyProjectionStyles(it,st){if(!this.instance||this.isSVG)return;if(!this.isVisible){it.visibility="hidden";return}const ot=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,it.visibility="",it.opacity="",it.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||"",it.transform=ot?ot(this.latestValues,""):"none";return}const at=this.getLead();if(!this.projectionDelta||!this.layout||!at.target){this.options.layoutId&&(it.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,it.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(it.transform=ot?ot({},""):"none",this.hasProjected=!1);return}it.visibility="";const lt=at.animationValues||at.latestValues;this.applyTransformsToTarget();let ut=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,lt);ot&&(ut=ot(lt,ut)),it.transform=ut;const{x:dt,y:ct}=this.projectionDelta;it.transformOrigin=`${dt.origin*100}% ${ct.origin*100}% 0`,at.animationValues?it.opacity=at===this?lt.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:lt.opacityExit:it.opacity=at===this?lt.opacity!==void 0?lt.opacity:"":lt.opacityExit!==void 0?lt.opacityExit:0;for(const ft in scaleCorrectors){if(lt[ft]===void 0)continue;const{correct:pt,applyTo:gt,isCSSVariable:ht}=scaleCorrectors[ft],mt=ut==="none"?lt[ft]:pt(lt[ft],at);if(gt){const bt=gt.length;for(let xt=0;xt<bt;xt++)it[gt[xt]]=mt}else ht?this.options.visualElement.renderState.vars[ft]=mt:it[ft]=mt}this.options.layoutId&&(it.pointerEvents=at===this?resolveMotionValue(st==null?void 0:st.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(it=>{var st;return(st=it.currentAnimation)==null?void 0:st.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout($){$.updateLayout()}function notifyLayoutUpdate($){var et;const _e=((et=$.resumeFrom)==null?void 0:et.snapshot)||$.snapshot;if($.isLead()&&$.layout&&_e&&$.hasListeners("didUpdate")){const{layoutBox:tt,measuredBox:nt}=$.layout,{animationType:rt}=$.options,it=_e.source!==$.layout.source;rt==="size"?eachAxis(ut=>{const dt=it?_e.measuredBox[ut]:_e.layoutBox[ut],ct=calcLength(dt);dt.min=tt[ut].min,dt.max=dt.min+ct}):shouldAnimatePositionOnly(rt,_e.layoutBox,tt)&&eachAxis(ut=>{const dt=it?_e.measuredBox[ut]:_e.layoutBox[ut],ct=calcLength(tt[ut]);dt.max=dt.min+ct,$.relativeTarget&&!$.currentAnimation&&($.isProjectionDirty=!0,$.relativeTarget[ut].max=$.relativeTarget[ut].min+ct)});const st=createDelta();calcBoxDelta(st,tt,_e.layoutBox);const ot=createDelta();it?calcBoxDelta(ot,$.applyTransform(nt,!0),_e.measuredBox):calcBoxDelta(ot,tt,_e.layoutBox);const at=!isDeltaZero(st);let lt=!1;if(!$.resumeFrom){const ut=$.getClosestProjectingParent();if(ut&&!ut.resumeFrom){const{snapshot:dt,layout:ct}=ut;if(dt&&ct){const ft=createBox();calcRelativePosition(ft,_e.layoutBox,dt.layoutBox);const pt=createBox();calcRelativePosition(pt,tt,ct.layoutBox),boxEqualsRounded(ft,pt)||(lt=!0),ut.options.layoutRoot&&($.relativeTarget=pt,$.relativeTargetOrigin=ft,$.relativeParent=ut)}}}$.notifyListeners("didUpdate",{layout:tt,snapshot:_e,delta:ot,layoutDelta:st,hasLayoutChanged:at,hasRelativeLayoutChanged:lt})}else if($.isLead()){const{onExitComplete:tt}=$.options;tt&&tt()}$.options.transition=void 0}function propagateDirtyNodes($){$.parent&&($.isProjecting()||($.isProjectionDirty=$.parent.isProjectionDirty),$.isSharedProjectionDirty||($.isSharedProjectionDirty=!!($.isProjectionDirty||$.parent.isProjectionDirty||$.parent.isSharedProjectionDirty)),$.isTransformDirty||($.isTransformDirty=$.parent.isTransformDirty))}function cleanDirtyNodes($){$.isProjectionDirty=$.isSharedProjectionDirty=$.isTransformDirty=!1}function clearSnapshot($){$.clearSnapshot()}function clearMeasurements($){$.clearMeasurements()}function clearIsLayoutDirty($){$.isLayoutDirty=!1}function resetTransformStyle($){const{visualElement:_e}=$.options;_e&&_e.getProps().onBeforeLayoutMeasure&&_e.notify("BeforeLayoutMeasure"),$.resetTransform()}function finishAnimation($){$.finishAnimation(),$.targetDelta=$.relativeTarget=$.target=void 0,$.isProjectionDirty=!0}function resolveTargetDelta($){$.resolveTargetDelta()}function calcProjection($){$.calcProjection()}function resetSkewAndRotation($){$.resetSkewAndRotation()}function removeLeadSnapshots($){$.removeLeadSnapshot()}function mixAxisDelta($,_e,et){$.translate=mixNumber$1(_e.translate,0,et),$.scale=mixNumber$1(_e.scale,1,et),$.origin=_e.origin,$.originPoint=_e.originPoint}function mixAxis($,_e,et,tt){$.min=mixNumber$1(_e.min,et.min,tt),$.max=mixNumber$1(_e.max,et.max,tt)}function mixBox($,_e,et,tt){mixAxis($.x,_e.x,et.x,tt),mixAxis($.y,_e.y,et.y,tt)}function hasOpacityCrossfade($){return $.animationValues&&$.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=$=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes($),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis($){$.min=roundPoint($.min),$.max=roundPoint($.max)}function roundBox($){roundAxis($.x),roundAxis($.y)}function shouldAnimatePositionOnly($,_e,et){return $==="position"||$==="preserve-aspect"&&!isNear(aspectRatio(_e),aspectRatio(et),.2)}function checkNodeWasScrollRoot($){var _e;return $!==$.root&&((_e=$.scroll)==null?void 0:_e.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:($,_e)=>addDomEvent($,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:$=>({x:$.scrollLeft,y:$.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const $=new DocumentProjectionNode({});$.mount(window),$.setOptions({layoutScroll:!0}),rootProjectionNode.current=$}return rootProjectionNode.current},resetTransform:($,_e)=>{$.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:$=>window.getComputedStyle($).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent($,_e,et){const{props:tt}=$;$.animationState&&tt.whileHover&&$.animationState.setActive("whileHover",et==="Start");const nt="onHover"+et,rt=tt[nt];rt&&frame.postRender(()=>rt(_e,extractEventInfo(_e)))}class HoverGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=hover(_e,(et,tt)=>(handleHoverEvent(this.node,tt,"Start"),nt=>handleHoverEvent(this.node,nt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _e=!1;try{_e=this.node.current.matches(":focus-visible")}catch{_e=!0}!_e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent($,_e,et){const{props:tt}=$;if($.current instanceof HTMLButtonElement&&$.current.disabled)return;$.animationState&&tt.whileTap&&$.animationState.setActive("whileTap",et==="Start");const nt="onTap"+(et==="End"?"":et),rt=tt[nt];rt&&frame.postRender(()=>rt(_e,extractEventInfo(_e)))}class PressGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=press(_e,(et,tt)=>(handlePressEvent(this.node,tt,"Start"),(nt,{success:rt})=>handlePressEvent(this.node,nt,rt?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=$=>{const _e=observerCallbacks.get($.target);_e&&_e($)},fireAllObserverCallbacks=$=>{$.forEach(fireObserverCallback)};function initIntersectionObserver({root:$,..._e}){const et=$||document;observers.has(et)||observers.set(et,{});const tt=observers.get(et),nt=JSON.stringify(_e);return tt[nt]||(tt[nt]=new IntersectionObserver(fireAllObserverCallbacks,{root:$,..._e})),tt[nt]}function observeIntersection($,_e,et){const tt=initIntersectionObserver(_e);return observerCallbacks.set($,et),tt.observe($),()=>{observerCallbacks.delete($),tt.unobserve($)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_e={}}=this.node.getProps(),{root:et,margin:tt,amount:nt="some",once:rt}=_e,it={root:et?et.current:void 0,rootMargin:tt,threshold:typeof nt=="number"?nt:thresholdNames[nt]},st=ot=>{const{isIntersecting:at}=ot;if(this.isInView===at||(this.isInView=at,rt&&!at&&this.hasEnteredView))return;at&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",at);const{onViewportEnter:lt,onViewportLeave:ut}=this.node.getProps(),dt=at?lt:ut;dt&&dt(ot)};return observeIntersection(this.node.current,it,st)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:_e,prevProps:et}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(_e,et))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:$={}},{viewport:_e={}}={}){return et=>$[et]!==_e[et]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),SOURCE_LOGOS=[{name:"HackerNews",url:"https://upload.wikimedia.org/wikipedia/commons/b/b4/Hacker_News_logo.jpg"},{name:"TechCrunch",url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/TechCrunch_logo.svg/1200px-TechCrunch_logo.svg.png"},{name:"ArXiv",url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/ArXiv_logo_2022.svg/1200px-ArXiv_logo_2022.svg.png"},{name:"MIT",url:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/MIT_logo.svg/1200px-MIT_logo.svg.png"}],FEATURES=[{icon:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 text-indigo-600"}),title:"AI Summaries",desc:"Get the gist of complex papers and articles in seconds with our advanced AI models."},{icon:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-amber-500"}),title:"Personalized Feed",desc:"Our algorithms learn what you love and curate a feed that's 100% relevant to you."},{icon:jsxRuntimeExports.jsx(Globe,{className:"w-6 h-6 text-blue-500"}),title:"Global Sources",desc:"We aggregate content from top research journals, tech blogs, and news outlets worldwide."},{icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-emerald-500"}),title:"Smart Digest",desc:"Receive daily or weekly highlights so you never miss a breakthrough."}],FAQS=[{q:"What is INSIGHTS?",a:"INSIGHTS is your intelligent knowledge companion. We curate, summarize, and rank the best content from the tech and research world."},{q:"Is it free?",a:"Yes! The core features of INSIGHTS are free for everyone. We also offer a Pro plan for power users."},{q:"How does the AI work?",a:"We use state-of-the-art LLMs to analyze content, extract key insights, and generate concise summaries."}];function Landing(){const $=useNavigate(),[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(!1),rt=it=>{it.preventDefault(),_e&&(alert(`Welcome aboard! We've sent a confirmation to ${_e}.`),et(""))};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[jsxRuntimeExports.jsxs("nav",{className:"fixed w-full z-50 bg-white/80 backdrop-blur-md border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[jsxRuntimeExports.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-violet-600",children:"INSIGHTS"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[jsxRuntimeExports.jsx("a",{href:"#features",className:"text-sm font-medium text-slate-600 hover:text-indigo-600 transition",children:"Features"}),jsxRuntimeExports.jsx("a",{href:"#sources",className:"text-sm font-medium text-slate-600 hover:text-indigo-600 transition",children:"Sources"}),jsxRuntimeExports.jsx("a",{href:"#faq",className:"text-sm font-medium text-slate-600 hover:text-indigo-600 transition",children:"FAQ"}),jsxRuntimeExports.jsx("button",{onClick:()=>$("/login"),className:"text-sm font-medium text-slate-600 hover:text-indigo-600 transition",children:"Log in"}),jsxRuntimeExports.jsx("button",{onClick:()=>$("/login"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full text-sm font-medium transition shadow-lg shadow-indigo-200",children:"Get Started"})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>nt(!tt),className:"text-slate-600",children:tt?jsxRuntimeExports.jsx(X,{}):jsxRuntimeExports.jsx(Menu,{})})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:tt&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-b border-slate-200 overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"px-4 py-4 space-y-4",children:[jsxRuntimeExports.jsx("a",{href:"#features",onClick:()=>nt(!1),className:"block text-sm font-medium text-slate-600",children:"Features"}),jsxRuntimeExports.jsx("a",{href:"#sources",onClick:()=>nt(!1),className:"block text-sm font-medium text-slate-600",children:"Sources"}),jsxRuntimeExports.jsx("a",{href:"#faq",onClick:()=>nt(!1),className:"block text-sm font-medium text-slate-600",children:"FAQ"}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t border-slate-100 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$("/login"),className:"w-full text-center text-sm font-medium text-slate-600",children:"Log in"}),jsxRuntimeExports.jsx("button",{onClick:()=>$("/login"),className:"w-full bg-indigo-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium",children:"Get Started"})]})]})})})]}),jsxRuntimeExports.jsx("section",{className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto text-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-700 text-sm font-medium mb-8",children:[jsxRuntimeExports.jsxs("span",{className:"relative flex h-2 w-2",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"v1.0 is now live"]}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-slate-900 mb-8",children:["Knowledge, ",jsxRuntimeExports.jsx("br",{className:"hidden md:block"}),jsxRuntimeExports.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-violet-600 to-purple-600",children:"Distilled & Delivered."})]}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-slate-600 mb-10 leading-relaxed",children:"Stay ahead of the curve with AI-curated insights from the world's best sources. No noise, just signal."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$("/login"),className:"w-full sm:w-auto px-8 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-full font-semibold transition flex items-center justify-center gap-2 shadow-xl shadow-slate-200",children:["Start Reading Free ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>document.getElementById("features").scrollIntoView({behavior:"smooth"}),className:"w-full sm:w-auto px-8 py-4 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-full font-semibold transition",children:"How it Works"})]})]})}),jsxRuntimeExports.jsx("section",{id:"sources",className:"py-12 border-y border-slate-100 bg-white/50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-8",children:"Trusted sources we curate from"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:SOURCE_LOGOS.map(it=>jsxRuntimeExports.jsx("img",{src:it.url,alt:it.name,className:"h-8 md:h-10 object-contain"},it.name))})]})}),jsxRuntimeExports.jsxs("section",{id:"features",className:"py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Why Choose INSIGHTS?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"We built a platform that respects your time and amplifies your learning."})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:FEATURES.map((it,st)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:st*.1},className:"bg-white p-8 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 w-12 h-12 rounded-xl flex items-center justify-center mb-6",children:it.icon}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:it.title}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 leading-relaxed",children:it.desc})]},st))})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 bg-slate-900 text-white overflow-hidden relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-indigo-600 rounded-full blur-3xl opacity-20 -translate-y-1/2 translate-x-1/2"}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:"Ready to upgrade your information diet?"}),jsxRuntimeExports.jsx("p",{className:"text-slate-300 text-lg mb-10 max-w-2xl mx-auto",children:"Join thousands of professionals who start their day with INSIGHTS."}),jsxRuntimeExports.jsxs("form",{onSubmit:rt,className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter your email",value:_e,onChange:it=>et(it.target.value),className:"flex-1 px-6 py-4 rounded-full bg-white/10 border border-white/20 text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 backdrop-blur-sm"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-8 py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full font-bold transition shadow-lg shadow-indigo-900/20",children:"Get Early Access"})]}),jsxRuntimeExports.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"No spam, ever. Unsubscribe anytime."})]})]}),jsxRuntimeExports.jsxs("section",{id:"faq",className:"py-24 max-w-3xl mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:FAQS.map((it,st)=>jsxRuntimeExports.jsxs("details",{className:"group bg-white border border-slate-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("summary",{className:"flex justify-between items-center p-6 cursor-pointer list-none",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-900",children:it.q}),jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-slate-400 transition-transform group-open:rotate-180"})]}),jsxRuntimeExports.jsx("div",{className:"px-6 pb-6 text-slate-600 leading-relaxed",children:it.a})]},st))})]}),jsxRuntimeExports.jsx("footer",{className:"bg-white border-t border-slate-200 py-12",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-900 p-1 rounded",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"font-bold text-slate-900",children:"INSIGHTS"})]}),jsxRuntimeExports.jsxs("div",{className:"text-slate-500 text-sm",children:[" ",new Date().getFullYear()," Insights AI Inc. All rights reserved."]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-slate-400 hover:text-slate-600 transition",children:jsxRuntimeExports.jsx(Twitter,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-slate-400 hover:text-slate-600 transition",children:jsxRuntimeExports.jsx(Github,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-slate-400 hover:text-slate-600 transition",children:jsxRuntimeExports.jsx(Linkedin,{className:"w-5 h-5"})})]})]})})]})}const AnimatedBackground=()=>{const $=reactExports.useRef(null),_e=reactExports.useRef([]);return reactExports.useEffect(()=>{const et=$.current;if(!et)return;const tt=et.getContext("2d"),nt=()=>{et.width=window.innerWidth,et.height=window.innerHeight};window.addEventListener("resize",nt),nt(),_e.current=[];for(let st=0;st<80;st++)_e.current.push({x:Math.random()*et.width,y:Math.random()*et.height,r:Math.random()*2+1,dx:(Math.random()-.5)*.6,dy:(Math.random()-.5)*.6});let rt;const it=()=>{tt.fillStyle="#F3E5D8",tt.fillRect(0,0,et.width,et.height),_e.current.forEach(st=>{tt.beginPath(),tt.arc(st.x,st.y,st.r,0,Math.PI*2),tt.fillStyle="#C6B29A",tt.fill(),st.x+=st.dx,st.y+=st.dy,(st.x<0||st.x>et.width)&&(st.dx*=-1),(st.y<0||st.y>et.height)&&(st.dy*=-1)}),rt=requestAnimationFrame(it)};return it(),()=>{window.removeEventListener("resize",nt),cancelAnimationFrame(rt)}},[]),jsxRuntimeExports.jsx("canvas",{ref:$,className:"absolute inset-0 z-0"})},LoginInfoPanel=()=>jsxRuntimeExports.jsxs("div",{className:"relative w-full md:w-5/12 bg-[#806a55] text-[#F3E5D8] flex flex-col justify-between p-8 md:p-12 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-[#C6B29A] rounded-full blur-[100px] opacity-20 -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold tracking-widest uppercase text-[#C6B29A]",children:"Insights"})}),jsxRuntimeExports.jsxs("div",{className:"z-10 mt-12 md:mt-0",children:[jsxRuntimeExports.jsxs(motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-4xl md:text-5xl font-serif font-medium leading-tight mb-6",children:["Curate your ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-[#C6B29A] italic",children:"knowledge."})]}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.8},className:"text-[#E7D0C5]/80 text-lg font-light leading-relaxed max-w-sm",children:"Your personalized hub for discovery and evolution. Join the research platform built for depth."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},className:"text-xs text-[#C6B29A]/60 mt-12",children:[" 2025 Insights Platform. ",jsxRuntimeExports.jsx("br",{}),"All rights reserved."]})]}),GoogleSignInButton=({onClick:$,loading:_e,disabled:et})=>jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:$,disabled:et||_e,className:`group relative w-full flex items-center justify-center gap-3 px-6 py-4 
                 bg-white border-2 border-[#C6B29A]/50 rounded-xl shadow-sm 
                 hover:shadow-md hover:border-[#C6B29A] hover:bg-[#FAF6F1] 
                 transition-all duration-300 ease-out 
                 disabled:opacity-60 disabled:cursor-not-allowed`,children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 shrink-0",children:_e?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-[#3A2E22] border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full",children:[jsxRuntimeExports.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),jsxRuntimeExports.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),jsxRuntimeExports.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),jsxRuntimeExports.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),jsxRuntimeExports.jsx("span",{className:"text-[#3A2E22] font-semibold tracking-wide text-sm sm:text-base",children:_e?"Connecting...":"Continue with Google"})]}),LoginForm=()=>{const[$,_e]=reactExports.useState(""),[et,tt]=reactExports.useState(!1),nt=async()=>{_e(""),tt(!0);try{const{error:rt}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/onboarding`}});if(rt)throw rt}catch(rt){console.error(rt),_e("Unable to connect to Google. Please try again."),tt(!1)}};return jsxRuntimeExports.jsx("div",{className:"w-full md:w-7/12 bg-[#F3E5D8] flex flex-col justify-center items-center p-8 md:p-12 relative",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"w-full max-w-md space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-[#3A2E22]",children:"Welcome Back"}),jsxRuntimeExports.jsx("p",{className:"text-[#5C4633] text-sm",children:"Sign in to access your dashboard"})]}),$&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm text-center",children:$}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(GoogleSignInButton,{onClick:nt,loading:et}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-[#C6B29A]/30"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-xs",children:jsxRuntimeExports.jsx("span",{className:"px-2 bg-[#F3E5D8] text-[#5C4633]/60 uppercase tracking-wider",children:"Secure Authentication"})})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-[#5C4633]/70 text-xs mt-8",children:["By continuing, you acknowledge our"," ",jsxRuntimeExports.jsx("a",{href:"/terms",className:"underline decoration-[#C6B29A] hover:text-[#3A2E22]",children:"Terms"})," ","and"," ",jsxRuntimeExports.jsx("a",{href:"/privacy",className:"underline decoration-[#C6B29A] hover:text-[#3A2E22]",children:"Privacy Policy"}),"."]})]})})},Login=()=>jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden font-sans bg-[#F3E5D8]",children:[jsxRuntimeExports.jsx(AnimatedBackground,{}),jsxRuntimeExports.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"w-full max-w-5xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] border border-[#C6B29A]/40",children:[jsxRuntimeExports.jsx(LoginInfoPanel,{}),jsxRuntimeExports.jsx(LoginForm,{})]})})]}),CONTENT_MODES=[{id:"researcher",title:"Researcher Mode",description:"Access research papers, ArXiv pre-prints, academic journals, and scientific publications.",icon:BookOpenText},{id:"hobbyist",title:"Hobbyist & Builder",description:"Hands-on tutorials, dev logs, engineering blogs, and practical guides.",icon:CodeXml},{id:"trend_watcher",title:"Trend Watcher",description:"Industry news, tech acquisitions, market movements, and high-level analysis.",icon:TrendingUp}],INTERESTS_DATA={researcher:{"Artificial Intelligence":["Machine Learning","Deep Learning","Computer Vision","NLP","Reinforcement Learning"],"Computer Science":["Algorithms","Distributed Systems","Cryptography","Databases","Operating Systems"],"Physics & Math":["Quantum Computing","Theoretical Physics","Applied Mathematics","Topology"],"Bio & Medicine":["Genomics","Neuroscience","Bioinformatics","Synthetic Biology"]},hobbyist:{"Core Development":["programming","webdev","javascript","python","typescript","softwaredevelopment","softwareengineering","coding","development"],"Frontend & UI":["react","frontend","css","html","design","ux","animation","webcomponents","a11y","reactnative","android"],"Backend & Systems":["node","go","rust","django","database","api","architecture","devops","aws","git","bash","zsh"],"AI & Data":["ai","machinelearning","gemini","llm","rag","agents","learngoogleaistudio","adventofai","mcp"],"Career & Culture":["career","productivity","discuss","opensource","startup","mentalhealth","inclusion","codenewbie","beginners","learning"],"Tools & Ecosystem":["tooling","npm","npx","saas","product","performance","bugbounty","buildinpublic","gamedev","blender"]},trend_watcher:{"Headlines & Media":["Breaking News","Technology","Media","News","Top Stories","Aggregator","Curation"],"Money & Industry":["Money","Business","Deals","Commerce","Startups","Customer Service"],"Innovation & AI":["Artificial Intelligence","Creativity","Cybersecurity","Security","Internet","Computing"],"Big Tech":["Google","Apple","Nvidia","Microsoft","Samsung","Alphabet","Amazon"],"Lifestyle & Gaming":["Gaming","Video Games","PlayStation","Nintendo","Social Media","Video Streaming","Phones"]}},ModeCard=({mode:$,isSelected:_e,onClick:et})=>{const tt=$.icon;return jsxRuntimeExports.jsx("button",{onClick:et,className:`relative w-full p-6 rounded-xl border-2 text-left transition-all duration-300 group
        ${_e?"border-[#8B5E3C] bg-[#F3E5D8] shadow-md scale-[1.01]":"border-[#C6B29A]/50 bg-white hover:border-[#8B5E3C] hover:shadow-sm"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg ${_e?"bg-[#8B5E3C] text-white":"bg-[#F5EFE6] text-[#5C4633] group-hover:bg-[#8B5E3C] group-hover:text-white transition-colors"}`,children:jsxRuntimeExports.jsx(tt,{size:24})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-[#3A2E22] mb-1",children:$.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5C4633]/80 leading-relaxed",children:$.description})]}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:_e?jsxRuntimeExports.jsx(CircleCheck,{className:"text-[#8B5E3C] w-6 h-6"}):jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-[#C6B29A] group-hover:border-[#8B5E3C]"})})]})})},InterestSection=({title:$,interests:_e,selectedInterests:et,onToggle:tt,isExpanded:nt,onExpand:rt})=>{const it=_e.filter(st=>et.includes(st)).length;return jsxRuntimeExports.jsxs("div",{className:`border rounded-lg overflow-hidden transition-colors ${nt?"border-[#8B5E3C] bg-white":"border-[#C6B29A] bg-white"}`,children:[jsxRuntimeExports.jsxs("button",{onClick:rt,className:"w-full p-4 flex items-center justify-between bg-[#F9F5F1] hover:bg-[#F3E5D8] transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-[#3A2E22]",children:$}),it>0&&jsxRuntimeExports.jsx("span",{className:"bg-[#8B5E3C] text-white text-xs px-2 py-0.5 rounded-full",children:it})]}),nt?jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-[#5C4633]"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-[#5C4633]"})]}),nt&&jsxRuntimeExports.jsx("div",{className:"p-4 flex flex-wrap gap-2 animate-in slide-in-from-top-2 duration-200",children:_e.map(st=>{const ot=et.includes(st);return jsxRuntimeExports.jsx("button",{onClick:()=>tt(st),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 border
                  ${ot?"bg-[#8B5E3C] text-white border-[#8B5E3C] shadow-sm":"bg-white text-[#5C4633] border-[#E7D0C5] hover:border-[#8B5E3C] hover:text-[#3A2E22]"}`,children:st},st)})})]})},Onboarding=()=>{const $=useNavigate(),[_e,et]=reactExports.useState(1),[tt,nt]=reactExports.useState([]),[rt,it]=reactExports.useState(""),[st,ot]=reactExports.useState(!1),[at,lt]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{const{data:{user:ft}}=await supabase.auth.getUser();if(ft){const{data:pt}=await supabase.from("users").select("onboarding_completed").eq("id",ft.id).single();pt!=null&&pt.onboarding_completed&&$("/home")}})()},[$]);const ut=ct=>{nt(ft=>ft.includes(ct)?ft.filter(pt=>pt!==ct):[...ft,ct])},dt=async()=>{ot(!0);try{const{data:{user:ct}}=await supabase.auth.getUser();await supabase.from("users").update({content_mode:rt,onboarding_completed:!0}).eq("id",ct.id);const ft=tt.map(pt=>({user_id:ct.id,interest_name:pt}));await supabase.from("user_interests").insert(ft),$("/home")}catch(ct){console.error(ct)}finally{ot(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-[#F5EFE6] flex items-center justify-center p-4 md:p-6 font-sans",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-2xl shadow-xl p-8 border border-[#E7D0C5]",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-[#3A2E22] text-[#F5EFE6] font-bold text-sm",children:_e}),jsxRuntimeExports.jsxs("span",{className:"text-[#C6B29A] text-sm uppercase tracking-widest font-semibold",children:["Step ",_e," of 2"]})]}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-[#3A2E22]",children:_e===1?"Choose your perspective":"Curate your feed"}),jsxRuntimeExports.jsx("p",{className:"text-[#5C4633] mt-2",children:_e===1?"How do you want to consume information on Insights?":"Select at least 3 topics to personalize your experience."})]}),_e===1&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4",children:CONTENT_MODES.map(ct=>jsxRuntimeExports.jsx(ModeCard,{mode:ct,isSelected:rt===ct.id,onClick:()=>it(ct.id)},ct.id))}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>et(2),disabled:!rt,className:`flex items-center gap-2 px-8 py-3 bg-[#3A2E22] text-[#F3E5D8] rounded-lg font-semibold 
                         disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#5C4633] transition-all`,children:["Continue ",jsxRuntimeExports.jsx(ArrowRight,{size:18})]})})]}),_e===2&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:Object.entries(INTERESTS_DATA[rt]||{}).map(([ct,ft])=>jsxRuntimeExports.jsx(InterestSection,{title:ct,interests:ft,selectedInterests:tt,onToggle:ut,isExpanded:at===ct,onExpand:()=>lt(at===ct?null:ct)},ct))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-[#E7D0C5]",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>et(1),className:"flex items-center gap-2 text-[#5C4633] hover:text-[#3A2E22] font-medium px-4 py-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:18})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("span",{className:`text-sm font-medium ${tt.length<3?"text-red-500":"text-green-600"}`,children:[tt.length," selected"]}),jsxRuntimeExports.jsx("button",{onClick:dt,disabled:tt.length<3||st,className:`flex items-center gap-2 px-8 py-3 bg-[#8B5E3C] text-white rounded-lg font-semibold 
                           disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#6E472F] shadow-md transition-all`,children:st?jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin",size:20}):"Complete Setup"})]})]})]})]})})},useHomeContent=()=>{const $=useNavigate(),[_e,et]=reactExports.useState({userMode:"researcher",content:[],loading:!0,userInterests:[],userId:null});reactExports.useEffect(()=>{tt()},[]);const tt=async()=>{var rt,it;try{const{data:{user:st}}=await supabase.auth.getUser();if(!st){$("/login");return}const[ot,at]=await Promise.all([supabase.from("users").select("content_mode").eq("id",st.id).single(),supabase.from("user_interests").select("interest_name").eq("user_id",st.id)]),lt=((rt=ot.data)==null?void 0:rt.content_mode)||"researcher",ut=((it=at.data)==null?void 0:it.map(dt=>dt.interest_name))||[];et(dt=>({...dt,userId:st.id,userMode:lt,userInterests:ut})),nt(lt,ut)}catch(st){console.error("Init Error:",st),et(ot=>({...ot,loading:!1}))}},nt=async(rt,it)=>{try{let st="research_paper";rt==="hobbyist"&&(st="hobby_article"),rt==="trend_watcher"&&(st="news_article");const{data:ot,error:at}=await supabase.from("content").select("*").eq("content_type",st).order("publication_date",{ascending:!1}).limit(300);if(at)throw at;let lt=ot;it.length>0&&(lt=ot.filter(ut=>!ut.tags||ut.tags.length===0?!1:ut.tags.some(dt=>it.some(ct=>dt.toLowerCase().includes(ct.toLowerCase())||ct.toLowerCase().includes(dt.toLowerCase()))))),lt.length===0&&ot.length>0&&(lt=ot.slice(0,10)),et(ut=>({...ut,content:lt.slice(0,50),loading:!1}))}catch(st){console.error("Fetch Error:",st),et(ot=>({...ot,loading:!1}))}};return _e},getUnsplashUrl=$=>`https://images.unsplash.com/photo-${$}?auto=format&fit=crop&w=800&q=80`,tagImageMap={"Machine Learning":{image:getUnsplashUrl("1534723452862-4c874018d66d"),color:"#3B82F6",bgColor:"#EFF6FF"},"Deep Learning":{image:getUnsplashUrl("1542831371-29b0f74f9713"),color:"#8B5CF6",bgColor:"#F5F3FF"},"Computer Vision":{image:getUnsplashUrl("1504384308090-c54beed1f92b"),color:"#EC4899",bgColor:"#FDF2F8"},"Natural Language Processing":{image:getUnsplashUrl("1526378722484-d6a56f1a2a8b"),color:"#F59E0B",bgColor:"#FFFBEB"},"Reinforcement Learning":{image:getUnsplashUrl("1581092918983-6a7c9a57a5bc"),color:"#10B981",bgColor:"#ECFDF5"},"Algorithms & Data Structures":{image:getUnsplashUrl("1518779578993-ec3579fee39f"),color:"#6366F1",bgColor:"#EEF2FF"},"Distributed Systems":{image:getUnsplashUrl("1518770660439-4636190af475"),color:"#0891B2",bgColor:"#ECFEFF"},"Quantum Computing":{image:getUnsplashUrl("1607799279861-927d6d98c73a"),color:"#7C3AED",bgColor:"#F5F3FF"},"Quantum Physics":{image:getUnsplashUrl("1607799279861-927d6d98c73a"),color:"#7C3AED",bgColor:"#F5F3FF"},"Theoretical Physics":{image:getUnsplashUrl("1525909002-1b05e0c869d8"),color:"#8B5CF6",bgColor:"#F5F3FF"},"Applied Mathematics":{image:getUnsplashUrl("1526374965328-7f61d4dc18c5"),color:"#3B82F6",bgColor:"#EFF6FF"},"Statistical Mechanics":{image:getUnsplashUrl("1482192596544-9eb780fc7f66"),color:"#F97316",bgColor:"#FFF7ED"},Topology:{image:getUnsplashUrl("1545235617-46c48f884158"),color:"#06B6D4",bgColor:"#ECFEFF"},"Number Theory":{image:getUnsplashUrl("1529070538774-1843cb3265df"),color:"#6366F1",bgColor:"#EEF2FF"},Genomics:{image:getUnsplashUrl("1559757175-5700dde67597"),color:"#EC4899",bgColor:"#FDF2F8"},Neuroscience:{image:getUnsplashUrl("1535930749574-1399327ce78f"),color:"#8B5CF6",bgColor:"#F5F3FF"},Bioinformatics:{image:getUnsplashUrl("1581093588401-22e0a4b5cda1"),color:"#059669",bgColor:"#ECFDF5"},"Drug Discovery":{image:getUnsplashUrl("1581091012184-5c2af86d6c33"),color:"#F43F5E",bgColor:"#FFF1F2"},"Synthetic Biology":{image:getUnsplashUrl("1559757175-2b2cd0feebf1"),color:"#06B6D4",bgColor:"#ECFEFF"},Immunology:{image:getUnsplashUrl("1559757175-57efb064d2cd"),color:"#10B981",bgColor:"#ECFDF5"},Robotics:{image:getUnsplashUrl("1581091010468-7bb49d20c141"),color:"#2563EB",bgColor:"#EFF6FF"},"Materials Science":{image:getUnsplashUrl("1579547621113-e4bb2a19bdd6"),color:"#475569",bgColor:"#F1F5F9"},Nanotechnology:{image:getUnsplashUrl("1581093588401-22e0a4b5cda1"),color:"#7C3AED",bgColor:"#F5F3FF"},"Aerospace Engineering":{image:getUnsplashUrl("1504198266285-1659872e6590"),color:"#0EA5E9",bgColor:"#E0F2FE"},"Chemical Engineering":{image:getUnsplashUrl("1589811675921-2c5c95d441a4"),color:"#F59E0B",bgColor:"#FFFBEB"},"Electrical Engineering":{image:getUnsplashUrl("1518770660439-4636190af475"),color:"#EAB308",bgColor:"#FEF9C3"},Economics:{image:getUnsplashUrl("1520607162513-77705c0f0d4a"),color:"#10B981",bgColor:"#ECFDF5"},"Psychology Research":{image:getUnsplashUrl("1508385082359-f38ae991e8f2"),color:"#F97316",bgColor:"#FFF7ED"},Sociology:{image:getUnsplashUrl("1508214751196-bcfd4ca60f91"),color:"#06B6D4",bgColor:"#ECFEFF"},"Political Science":{image:getUnsplashUrl("1522156373667-4c7234bbd804"),color:"#3B82F6",bgColor:"#EFF6FF"},React:{image:getUnsplashUrl("1555949963-aa79dcee981d"),color:"#61DAFB",bgColor:"#F0F9FF"},"Vue.js":{image:getUnsplashUrl("1555949963-aa79dcee981d"),color:"#4FC08D",bgColor:"#ECFDF5"},"Next.js":{image:getUnsplashUrl("1618477247222-ac59e27621b4"),color:"#000000",bgColor:"#F3F4F6"},TypeScript:{image:getUnsplashUrl("1587620962725-abab7fe55159"),color:"#3178C6",bgColor:"#EFF6FF"},"Tailwind CSS":{image:getUnsplashUrl("1503387762-592deb58ef4e"),color:"#06B6D4",bgColor:"#ECFEFF"},"Node.js":{image:getUnsplashUrl("1504805572947-34fad45aed93"),color:"#68A063",bgColor:"#F0FDF4"},"Full Stack":{image:getUnsplashUrl("1498050108023-c5249f4df085"),color:"#6366F1",bgColor:"#EEF2FF"},"React Native":{image:getUnsplashUrl("1517430816045-df4b7de11d1d"),color:"#61DAFB",bgColor:"#F0F9FF"},Flutter:{image:getUnsplashUrl("1611095973785-2614c3922f8b"),color:"#02569B",bgColor:"#EFF6FF"},Python:{image:getUnsplashUrl("1523475472560-d2df97ec485c"),color:"#3776AB",bgColor:"#EFF6FF"},Go:{image:getUnsplashUrl("1526374965328-7f61d4dc18c5"),color:"#00ADD8",bgColor:"#ECFEFF"},Rust:{image:getUnsplashUrl("1518770660439-4636190af475"),color:"#CE3262",bgColor:"#FFF1F2"},Docker:{image:getUnsplashUrl("1581091226314-7a8e30b94fda"),color:"#2496ED",bgColor:"#F0F9FF"},Kubernetes:{image:getUnsplashUrl("1581091012184-5c2af86d6c33"),color:"#316CE6",bgColor:"#EFF6FF"},AWS:{image:getUnsplashUrl("1501594907352-04cda38ebc29"),color:"#FF9900",bgColor:"#FFF7ED"},"UI/UX Design":{image:getUnsplashUrl("1559027615-ce3c1b0ed09b"),color:"#EC4899",bgColor:"#FDF2F8"},"3D Modeling":{image:getUnsplashUrl("1581093588401-22e0a4b5cda1"),color:"#6366F1",bgColor:"#EEF2FF"},"Blockchain Development":{image:getUnsplashUrl("1611078489935-0cb964de46d6"),color:"#F7931A",bgColor:"#FFF7ED"},Cybersecurity:{image:getUnsplashUrl("1555949963-ff9fe0c870eb"),color:"#F43F5E",bgColor:"#FFF1F2"},IoT:{image:getUnsplashUrl("1581093588401-22e0a4b5cda1"),color:"#6B8CFF",bgColor:"#EFF6FF"}},DEFAULT_IMAGE={image:getUnsplashUrl("1504384308090-c54beed1f92b"),color:"#6366F1",bgColor:"#EEF2FF"};function getTagImage($){if(tagImageMap[$])return tagImageMap[$];const _e=Object.keys(tagImageMap).find(et=>et.toLowerCase()===($==null?void 0:$.toLowerCase()));return _e?tagImageMap[_e]:DEFAULT_IMAGE}function getFirstTagImage($){return!$||$.length===0?DEFAULT_IMAGE:getTagImage($[0])}const PaperCard=({id:$,title:_e,description:et,text_summary:tt,authors_list:nt,publication_date:rt,tags:it,url:st,pdf_url:ot,citations_count:at,content_type:lt,thumbnail:ut,metadata:dt,scraped_at:ct})=>{const ft=useNavigate(),[pt,gt]=reactExports.useState(!1),ht=lt==="research_paper",mt=lt==="news_article",bt=lt==="hobby_article",xt=getFirstTagImage(it),Et=ut||xt.image,vt=rt||ct||new Date,_t=new Date(vt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});let wt="Unknown";mt&&(dt!=null&&dt.source)?wt=dt.source.toUpperCase():(nt==null?void 0:nt.length)>0&&(wt=nt.slice(0,2).join(", ")+(nt.length>2?"...":""));const Ct=()=>{ft(`/paper/${$}`)};return jsxRuntimeExports.jsxs("div",{onClick:Ct,onMouseEnter:()=>gt(!0),onMouseLeave:()=>gt(!1),className:"group relative flex flex-col h-[450px] bg-white rounded-3xl overflow-hidden cursor-pointer shadow-sm hover:shadow-2xl transition-all duration-500 ease-out border border-[#E7D0C5]/40",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[jsxRuntimeExports.jsx("img",{src:Et,alt:_e,onError:Nt=>{Nt.target.src=xt.image},className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${ht?"from-black/70":"from-black/60"} to-transparent`}),jsxRuntimeExports.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[ht&&jsxRuntimeExports.jsxs("span",{className:"backdrop-blur-md bg-blue-900/40 text-blue-50 text-xs font-bold px-3 py-1 rounded-full border border-blue-200/20 flex items-center gap-1 shadow-sm",children:[jsxRuntimeExports.jsx(FileText,{size:12})," Research"]}),bt&&jsxRuntimeExports.jsxs("span",{className:"backdrop-blur-md bg-emerald-900/40 text-emerald-50 text-xs font-bold px-3 py-1 rounded-full border border-emerald-200/20 flex items-center gap-1 shadow-sm",children:[jsxRuntimeExports.jsx(Coffee,{size:12})," Tech Blog"]}),mt&&jsxRuntimeExports.jsxs("span",{className:"backdrop-blur-md bg-purple-900/40 text-purple-50 text-xs font-bold px-3 py-1 rounded-full border border-purple-200/20 flex items-center gap-1 shadow-sm",children:[jsxRuntimeExports.jsx(Newspaper,{size:12})," News"]}),bt&&(dt==null?void 0:dt.reading_time)&&jsxRuntimeExports.jsxs("span",{className:"backdrop-blur-md bg-black/30 text-white text-xs font-medium px-3 py-1 rounded-full border border-white/20 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{size:12})," ",dt.reading_time," min"]}),mt&&(dt==null?void 0:dt.country)&&jsxRuntimeExports.jsxs("span",{className:"backdrop-blur-md bg-black/30 text-white text-xs font-medium px-3 py-1 rounded-full border border-white/20 flex items-center gap-1 uppercase",children:[jsxRuntimeExports.jsx(Globe,{size:12})," ",dt.country[0]]})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-4 right-4 translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-lg leading-tight line-clamp-2 drop-shadow-md",children:_e})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between bg-[#FAFAFA]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3 font-medium",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-[#8B5E3C]",children:[jsxRuntimeExports.jsx(Calendar,{size:12})," ",_t]}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{className:`line-clamp-1 ${mt?"font-bold text-[#8B5E3C]":"text-gray-600"}`,children:[mt?"Via ":"By ",wt]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 leading-relaxed line-clamp-3 mb-4",children:tt||et||"Click to read the full insights on this topic..."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[it==null?void 0:it.slice(0,2).map(Nt=>jsxRuntimeExports.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded-md ${ht?"bg-[#F3E5D8] text-[#5C4633]":bt?"bg-[#E0F2FE] text-[#0369A1]":"bg-[#F3E8FF] text-[#6B21A8]"}`,children:Nt},Nt)),(it==null?void 0:it.length)>2&&jsxRuntimeExports.jsxs("span",{className:"text-[10px] px-2 py-1 text-gray-400",children:["+",it.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-gray-500",children:[ht&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BookOpen,{size:14,className:"text-[#8B5E3C]"}),jsxRuntimeExports.jsxs("span",{children:[at||0," cit."]})]}),bt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ThumbsUp,{size:14,className:"text-[#059669]"}),jsxRuntimeExports.jsx("span",{children:(dt==null?void 0:dt.reactions)||0})]}),mt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TrendingUp,{size:14,className:"text-purple-600"}),jsxRuntimeExports.jsx("span",{children:"Trending"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[ht&&ot&&jsxRuntimeExports.jsx("a",{href:ot,onClick:Nt=>Nt.stopPropagation(),target:"_blank",rel:"noreferrer",className:"p-2 hover:bg-[#F3E5D8] rounded-full text-[#5C4633] transition-colors",children:jsxRuntimeExports.jsx(ExternalLink,{size:16})}),!ht&&st&&jsxRuntimeExports.jsx("a",{href:st,onClick:Nt=>Nt.stopPropagation(),target:"_blank",rel:"noreferrer",className:"p-2 hover:bg-blue-50 rounded-full text-blue-600 transition-colors",children:jsxRuntimeExports.jsx(ExternalLink,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:Nt=>{Nt.stopPropagation()},className:"p-2 hover:bg-[#F3E5D8] rounded-full text-[#5C4633] transition-colors",children:jsxRuntimeExports.jsx(Bookmark,{size:16})})]})]})]})]})},HomeHeader=({userMode:$,interests:_e})=>{const et=()=>{switch($){case"trend_watcher":return{label:"Global Trends & News",icon:TrendingUp};case"hobbyist":return{label:"Curated Tech Feed",icon:CodeXml};default:return{label:"Academic Research Feed",icon:BookOpen}}},{label:tt,icon:nt}=et();return jsxRuntimeExports.jsxs("div",{className:"relative bg-[#735c45] text-[#F3E5D8] pt-12 pb-24 px-6 md:px-12 overflow-hidden rounded-b-[3rem] shadow-xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#C6B29A] opacity-10 rounded-full blur-3xl translate-x-1/3 -translate-y-1/3"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-[#8B5E3C] opacity-10 rounded-full blur-3xl -translate-x-1/3 translate-y-1/3"}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[#E7D0C5] font-semibold tracking-wider text-xs uppercase bg-white/10 w-fit px-3 py-1 rounded-full border border-white/10",children:[jsxRuntimeExports.jsx(nt,{size:14}),jsxRuntimeExports.jsx("span",{children:tt})]}),jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-6xl font-serif font-bold leading-tight",children:["Insights ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-[#E7D0C5] italic",children:"Engine."})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full md:w-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-[#E7D0C5]/80",children:"Active Interests:"}),jsxRuntimeExports.jsx("button",{className:"text-xs text-white underline hover:text-[#E7D0C5]",children:"Edit"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[_e.slice(0,5).map(rt=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-white/10 backdrop-blur-md border border-white/20 rounded-full text-xs text-[#F3E5D8] font-medium",children:rt},rt)),_e.length>5&&jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-white/5 border border-white/5 rounded-full text-xs text-[#C6B29A]",children:["+ ",_e.length-5]})]})]})]})})]})},Home=()=>{const{content:$,loading:_e,userMode:et,userInterests:tt}=useHomeContent();return _e?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F9F5F1] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 border-4 border-[#C6B29A]/30 border-t-[#8B5E3C] rounded-full animate-spin"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{size:16,className:"text-[#8B5E3C] animate-pulse"})})]}),jsxRuntimeExports.jsx("p",{className:"text-[#5C4633] font-medium tracking-wide animate-pulse",children:"Aggregating sources..."})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F9F5F1] font-sans",children:[jsxRuntimeExports.jsx(HomeHeader,{userMode:et,interests:tt}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20 pb-20 relative z-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[jsxRuntimeExports.jsxs("h2",{className:"text-[#3A2E22] font-bold text-xl flex items-center gap-2",children:[jsxRuntimeExports.jsx(Layers,{size:20,className:"text-[#8B5E3C]"}),"Latest Updates"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"p-2 bg-white rounded-lg shadow-sm text-[#5C4633] hover:bg-[#F3E5D8] transition",children:jsxRuntimeExports.jsx(Search,{size:18})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-white rounded-lg shadow-sm text-[#5C4633] hover:bg-[#F3E5D8] transition",children:jsxRuntimeExports.jsx(Funnel,{size:18})})]})]}),$.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8",children:$.map(nt=>jsxRuntimeExports.jsx(PaperCard,{...nt},nt.id))}):jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-3xl p-16 text-center shadow-sm border border-[#E7D0C5] mt-8",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-[#F3E5D8] rounded-full flex items-center justify-center mx-auto mb-6 text-[#8B5E3C]",children:jsxRuntimeExports.jsx(Layers,{size:40})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-[#3A2E22] mb-3",children:"Feed Empty"}),jsxRuntimeExports.jsx("p",{className:"text-[#5C4633] max-w-md mx-auto",children:"We couldn't find content matching your tags. Try adding broader interests in your profile."})]})]})]})},AIDigest=()=>{const $=useNavigate(),[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(!0),[rt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState(null),[at,lt]=reactExports.useState("");reactExports.useEffect(()=>{ut()},[]);const ut=async()=>{try{const{data:{user:ct}}=await supabase.auth.getUser();if(!ct){$("/login");return}et(ct.email||""),nt(!1)}catch(ct){console.error("Error fetching user:",ct),nt(!1),ot("error"),lt("Failed to load user information")}},dt=async()=>{if(!_e){ot("error"),lt("Email not found. Please update your profile.");return}try{it(!0),ot(null),lt("");const ft=await fetch("https://insights.is-a.software/api/ai/send-digest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:_e,userId:(await supabase.auth.getUser()).data.user.id})});if(!ft.ok)throw new Error("Failed to send digest");const pt=await ft.json();ot("success"),lt(`AI-generated digest sent successfully to ${_e}!`),console.log("Digest response:",pt)}catch(ct){console.error("Error sending digest:",ct),ot("error"),lt("Failed to send digest. Please try again later.")}finally{it(!1)}};return tt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F3E5D8]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#8B6F47] mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28]",children:"Loading..."})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-[#F3E5D8] px-4 md:px-8 py-10",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#3b2f20] mb-3",children:"AI Digest"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28b3] text-lg",children:"Get a personalized AI-generated digest of your saved content"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-3xl shadow-lg overflow-hidden border border-[#e5d3b3]",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-[#C6B29A] to-[#8B6F47] h-48 flex items-center justify-center",children:jsxRuntimeExports.jsx(Mail,{size:80,className:"text-white opacity-30"})}),jsxRuntimeExports.jsxs("div",{className:"p-8 md:p-12",children:[jsxRuntimeExports.jsxs("div",{className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#3b2f20] mb-4",children:"How It Works"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-[#d18b2a] text-white font-bold",children:"1"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-[#3b2f20]",children:"Click Send Digest"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#4a3c28b3]",children:"Our AI analyzes your saved papers, articles, and interests"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-[#d18b2a] text-white font-bold",children:"2"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-[#3b2f20]",children:"AI Generation"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#4a3c28b3]",children:"We generate a personalized summary tailored to your interests"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-[#d18b2a] text-white font-bold",children:"3"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-[#3b2f20]",children:"Email Delivery"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#4a3c28b3]",children:"Receive the digest directly in your inbox for easy reading"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-[#f8f1e4] rounded-xl p-4 mb-8",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-[#4a3c28b3] mb-2",children:" Email Address"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold text-[#3b2f20]",children:_e}),jsxRuntimeExports.jsx("p",{className:"text-xs text-[#4a3c28b3] mt-2",children:"The digest will be sent to this email address"})]}),st==="success"&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-xl p-4 mb-8 flex gap-3",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:20,className:"text-green-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-800",children:at}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Check your email inbox (and spam folder) for the digest"})]})]}),st==="error"&&jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-xl p-4 mb-8 flex gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{size:20,className:"text-red-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"font-semibold text-red-800",children:at})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-[#3b2f20] mb-4",children:"What's Included"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("li",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-[#d18b2a] font-bold",children:""}),jsxRuntimeExports.jsx("span",{className:"text-[#4a3c28]",children:"Summary of your saved research papers and articles"})]}),jsxRuntimeExports.jsxs("li",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-[#d18b2a] font-bold",children:""}),jsxRuntimeExports.jsx("span",{className:"text-[#4a3c28]",children:"AI-generated insights based on your interests"})]}),jsxRuntimeExports.jsxs("li",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-[#d18b2a] font-bold",children:""}),jsxRuntimeExports.jsx("span",{className:"text-[#4a3c28]",children:"Key takeaways and connections between topics"})]}),jsxRuntimeExports.jsxs("li",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-[#d18b2a] font-bold",children:""}),jsxRuntimeExports.jsx("span",{className:"text-[#4a3c28]",children:"Personalized recommendations for new content"})]}),jsxRuntimeExports.jsxs("li",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-[#d18b2a] font-bold",children:""}),jsxRuntimeExports.jsx("span",{className:"text-[#4a3c28]",children:"Links to full articles for deeper reading"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:dt,disabled:rt,className:"w-full bg-gradient-to-r from-[#d18b2a] to-[#c17a1f] hover:from-[#c17a1f] hover:to-[#b06918] disabled:from-gray-400 disabled:to-gray-400 text-white font-bold py-4 rounded-xl transition flex items-center justify-center gap-2 text-lg",children:rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{size:20,className:"animate-spin"}),"Generating & Sending..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Send,{size:20}),"Send AI Digest to My Email"]})}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-[#4a3c28b3] mt-6",children:" You can request a new digest once per day"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-lg p-8 border border-[#e5d3b3]",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-[#3b2f20] mb-6",children:"FAQ"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#3b2f20] mb-2",children:"How is the digest generated?"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28b3]",children:"Our AI analyzes all your saved content (papers, articles, etc.), identifies key themes and insights, and generates a personalized summary that connects related topics and highlights important findings."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#3b2f20] mb-2",children:"How often can I request a digest?"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28b3]",children:"You can request a new digest once per day. This helps us manage our AI resources efficiently while keeping your digest fresh and relevant."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#3b2f20] mb-2",children:"What if I don't receive the email?"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28b3]",children:"Check your spam or promotions folder first. If you still don't find it, try requesting the digest again. Make sure your email address is correct in your profile."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#3b2f20] mb-2",children:"Can I customize the digest?"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28b3]",children:"The digest is automatically tailored based on your interests and saved content. You can influence the digest by saving more content related to your preferred topics."})]})]})]})]})})},Profile=()=>{var wt;const $=useNavigate(),[_e,et]=reactExports.useState(!0),[tt,nt]=reactExports.useState(!1),[rt,it]=reactExports.useState(null),[st,ot]=reactExports.useState(""),[at,lt]=reactExports.useState([]),[ut,dt]=reactExports.useState(""),[ct,ft]=reactExports.useState("overview"),[pt,gt]=reactExports.useState(!1),[ht,mt]=reactExports.useState(!1),bt=["Machine Learning","Deep Learning","Computer Vision","NLP","Quantum Computing","Theoretical Physics","Genomics","Neuroscience","Robotics","Aerospace","Economics","Psychology","React","Node.js","System Design","Startups","Venture Capital","Generative AI"],xt=[{id:"researcher",label:"Researcher",icon:BookOpenText,color:"text-blue-600 bg-blue-50 border-blue-200",desc:"Academic papers & journals"},{id:"hobbyist",label:"Hobbyist",icon:CodeXml,color:"text-emerald-600 bg-emerald-50 border-emerald-200",desc:"Tech blogs & tutorials"},{id:"trend_watcher",label:"Trend Watcher",icon:TrendingUp,color:"text-purple-600 bg-purple-50 border-purple-200",desc:"Global news & markets"}];reactExports.useEffect(()=>{async function Ct(){var Nt,kt;try{et(!0);const{data:{user:Pt}}=await supabase.auth.getUser();if(!Pt){$("/login");return}let{data:Dt,error:qt}=await supabase.from("users").select("*").eq("id",Pt.id).single();qt&&qt.code==="PGRST116"&&(await supabase.from("users").insert({id:Pt.id,email:Pt.email,full_name:((Nt=Pt.user_metadata)==null?void 0:Nt.full_name)||"User",avatar_url:(kt=Pt.user_metadata)==null?void 0:kt.avatar_url,onboarding_completed:!1}),Dt=(await supabase.from("users").select("*").eq("id",Pt.id).single()).data),Dt&&(it(Dt),ot(Dt.bio||""),dt(Dt.content_mode||"researcher"));const{data:zt}=await supabase.from("user_interests").select("interest_name").eq("user_id",Pt.id);zt&&lt(zt.map(jt=>jt.interest_name))}catch(Pt){console.error(Pt)}finally{et(!1)}}Ct()},[]);const Et=async(Ct,Nt)=>{if(rt){nt(!0);try{const{error:kt}=await supabase.from("users").update({[Ct]:Nt}).eq("id",rt.id);kt||(it(Pt=>({...Pt,[Ct]:Nt})),Ct==="content_mode"&&dt(Nt),Ct==="bio"&&(ot(Nt),gt(!1)))}catch(kt){console.error(kt)}finally{nt(!1)}}},vt=async Ct=>{if(!rt||tt)return;nt(!0);const Nt=at.includes(Ct);try{Nt?(await supabase.from("user_interests").delete().eq("user_id",rt.id).eq("interest_name",Ct),lt(kt=>kt.filter(Pt=>Pt!==Ct))):(await supabase.from("user_interests").insert({user_id:rt.id,interest_name:Ct}),lt(kt=>[...kt,Ct]))}catch(kt){console.error(kt)}finally{nt(!1)}},_t=async()=>{await supabase.auth.signOut(),$("/login")};return _e?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-[#F9F5F1] flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#8B5E3C] border-t-transparent rounded-full"})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F9F5F1] font-sans text-[#3A2E22] flex flex-col md:flex-row",children:[jsxRuntimeExports.jsxs("aside",{className:"w-full md:w-64 bg-white border-r border-[#E7D0C5] flex-shrink-0",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-[#E7D0C5]/50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:(rt==null?void 0:rt.avatar_url)||"https://i.pravatar.cc/150?img=12",alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-[#C6B29A]"}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold truncate",children:rt==null?void 0:rt.full_name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 truncate",children:rt==null?void 0:rt.email})]})]})}),jsxRuntimeExports.jsxs("nav",{className:"p-4 space-y-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ft("overview"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-colors ${ct==="overview"?"bg-[#F3E5D8] text-[#8B5E3C]":"text-gray-600 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(User,{size:18})," Profile Overview"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>ft("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-colors ${ct==="settings"?"bg-[#F3E5D8] text-[#8B5E3C]":"text-gray-600 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(Settings,{size:18})," Preferences"]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 mt-auto border-t border-[#E7D0C5]/50",children:jsxRuntimeExports.jsxs("button",{onClick:_t,className:"w-full flex items-center gap-2 text-red-600 hover:bg-red-50 px-4 py-3 rounded-xl text-sm transition",children:[jsxRuntimeExports.jsx(LogOut,{size:18})," Sign Out"]})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-serif font-bold text-[#3A2E22]",children:ct==="overview"?"My Profile":"Account Settings"}),jsxRuntimeExports.jsx("p",{className:"text-[#8B5E3C]",children:"Manage your personal information and feed preferences."})]}),ct==="overview"?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-[#E7D0C5]/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"About Me"}),!pt&&jsxRuntimeExports.jsx("button",{onClick:()=>gt(!0),className:"text-xs font-semibold text-[#8B5E3C] hover:underline",children:"Edit"})]}),pt?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("textarea",{value:st,onChange:Ct=>ot(Ct.target.value),className:"w-full p-3 bg-[#F9F5F1] rounded-xl text-sm border-none focus:ring-2 focus:ring-[#C6B29A]",rows:4}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Et("bio",st),disabled:tt,className:"px-4 py-2 bg-[#3A2E22] text-white text-xs rounded-lg",children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:()=>gt(!1),className:"px-4 py-2 bg-gray-100 text-gray-600 text-xs rounded-lg",children:"Cancel"})]})]}):jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:st||"No bio yet. Tell us what you're working on!"}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MapPin,{size:14})," Earth"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Link,{size:14})," insights.engine"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{size:14})," Joined 2025"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-[#E7D0C5]/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Focus Areas"}),jsxRuntimeExports.jsx("button",{onClick:()=>mt(!ht),className:"text-xs font-semibold text-[#8B5E3C] hover:underline",children:ht?"Done":"Manage"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[at.map(Ct=>jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-[#F3E5D8] text-[#5C4633] text-xs font-medium rounded-full flex items-center gap-1",children:[Ct,ht&&jsxRuntimeExports.jsx("button",{onClick:()=>vt(Ct),className:"hover:text-red-500",children:jsxRuntimeExports.jsx(X,{size:12})})]},Ct)),at.length===0&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 italic",children:"No interests selected."})]}),ht&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Add Topics"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto custom-scrollbar",children:bt.filter(Ct=>!at.includes(Ct)).map(Ct=>jsxRuntimeExports.jsxs("button",{onClick:()=>vt(Ct),disabled:tt,className:"px-3 py-1 border border-gray-200 text-gray-600 text-xs rounded-full hover:bg-gray-50 hover:border-gray-300 transition",children:["+ ",Ct]},Ct))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-[#3A2E22] text-[#F3E5D8] p-6 rounded-3xl shadow-lg relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-widest opacity-70 mb-1",children:"Current Mode"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:((wt=xt.find(Ct=>Ct.id===ut))==null?void 0:wt.label)||"Researcher"}),jsxRuntimeExports.jsx("button",{onClick:()=>ft("settings"),className:"w-full bg-[#F3E5D8]/10 hover:bg-[#F3E5D8]/20 backdrop-blur-sm py-2 rounded-lg text-xs font-bold transition",children:"Change Mode"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-[#8B5E3C] rounded-full blur-2xl opacity-50"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-[#E7D0C5]/60",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-4",children:"Stats"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Papers Read"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"12"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Saved Items"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"28"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Reputation"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Novice"})]})]})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-[#E7D0C5]/60",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg mb-6",children:"Feed Configuration"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:xt.map(Ct=>{const Nt=Ct.icon,kt=ut===Ct.id;return jsxRuntimeExports.jsxs("button",{onClick:()=>Et("content_mode",Ct.id),className:`relative p-5 rounded-2xl border-2 text-left transition-all ${kt?"border-[#8B5E3C] bg-[#F3E5D8] ring-1 ring-[#8B5E3C]":"border-gray-100 hover:border-[#C6B29A] hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${Ct.color}`,children:jsxRuntimeExports.jsx(Nt,{size:20})}),jsxRuntimeExports.jsx("h4",{className:"font-bold text-[#3A2E22]",children:Ct.label}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:Ct.desc}),kt&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-[#8B5E3C] rounded-full shadow-sm"})]},Ct.id)})}),jsxRuntimeExports.jsxs("div",{className:"mt-10 pt-10 border-t border-gray-100",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg mb-2 text-red-600",children:"Danger Zone"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Irreversible actions regarding your account."}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 border border-red-200 text-red-600 text-xs rounded-lg hover:bg-red-50 transition",children:"Delete Account"})]})]})]})})]})},About=()=>jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-4 text-black",children:"About Insight"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Insights is a reader-friendly platform designed to help users explore AI-driven feeds, discover creative content, and read with comfort. Built using React and Tailwind CSS for simplicity, speed, and clean visuals."})]});var lib$h={exports:{}},core_min={};function commonjsRequire($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(_e,et){module.exports=_e.pdfjsLib=et()})(globalThis,()=>(()=>{var __webpack_modules__=[,($,_e)=>{var Pr;Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.TextRenderingMode=_e.RenderingIntentFlag=_e.PromiseCapability=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.MAX_IMAGE_SIZE_TO_CACHE=_e.LINE_FACTOR=_e.LINE_DESCENT_FACTOR=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FeatureTest=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.BASELINE_FACTOR=_e.AnnotationType=_e.AnnotationReplyType=_e.AnnotationPrefix=_e.AnnotationMode=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationEditorType=_e.AnnotationEditorPrefix=_e.AnnotationEditorParamsType=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.assert=It,_e.bytesToString=fn,_e.createValidAbsoluteUrl=Yt,_e.getModificationDate=en,_e.getUuid=Zn,_e.getVerbosityLevel=zt,_e.info=jt,_e.isArrayBuffer=cn,_e.isArrayEqual=Kt,_e.isNodeJS=void 0,_e.normalizeUnicode=zn,_e.objectFromMap=An,_e.objectSize=Tn,_e.setVerbosityLevel=qt,_e.shadow=Ot,_e.string32=kn,_e.stringToBytes=En,_e.stringToPDFString=yn,_e.stringToUTF8String=Pn,_e.unreachable=Bt,_e.utf8StringToString=Nn,_e.warn=Ft;const et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=et;const tt=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=tt;const nt=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=nt;const rt=1e7;_e.MAX_IMAGE_SIZE_TO_CACHE=rt;const it=1.35;_e.LINE_FACTOR=it;const st=.35;_e.LINE_DESCENT_FACTOR=st;const ot=st/it;_e.BASELINE_FACTOR=ot;const at={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=at;const lt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=lt;const ut="pdfjs_internal_editor_";_e.AnnotationEditorPrefix=ut;const dt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_e.AnnotationEditorType=dt;const ct={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_e.AnnotationEditorParamsType=ct;const ft={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=ft;const pt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=pt;const gt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=gt;const ht={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=ht;const mt={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=mt;const bt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=bt;const xt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=xt;const Et={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=Et;const vt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=vt;const _t={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=_t;const wt={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=wt;const Ct={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=Ct;const Nt={NONE:0,BINARY:1};_e.CMapCompressionType=Nt;const kt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=kt;const Pt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=Pt;let Dt=Ct.WARNINGS;function qt(In){Number.isInteger(In)&&(Dt=In)}function zt(){return Dt}function jt(In){Dt>=Ct.INFOS&&console.log(`Info: ${In}`)}function Ft(In){Dt>=Ct.WARNINGS&&console.log(`Warning: ${In}`)}function Bt(In){throw new Error(In)}function It(In,hn){In||Bt(hn)}function At(In){switch(In==null?void 0:In.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Yt(In,hn=null,gn=null){if(!In)return null;try{if(gn&&typeof In=="string"){if(gn.addDefaultProtocol&&In.startsWith("www.")){const er=In.match(/\./g);(er==null?void 0:er.length)>=2&&(In=`http://${In}`)}if(gn.tryConvertEncoding)try{In=Pn(In)}catch{}}const Kn=hn?new URL(In,hn):new URL(In);if(At(Kn))return Kn}catch{}return null}function Ot(In,hn,gn,Kn=!1){return Object.defineProperty(In,hn,{value:gn,enumerable:!Kn,configurable:!0,writable:!1}),gn}const yt=function(){function hn(gn,Kn){this.constructor===hn&&Bt("Cannot initialize BaseException."),this.message=gn,this.name=Kn}return hn.prototype=new Error,hn.constructor=hn,hn}();_e.BaseException=yt;class Tt extends yt{constructor(hn,gn){super(hn,"PasswordException"),this.code=gn}}_e.PasswordException=Tt;class $t extends yt{constructor(hn,gn){super(hn,"UnknownErrorException"),this.details=gn}}_e.UnknownErrorException=$t;class Ut extends yt{constructor(hn){super(hn,"InvalidPDFException")}}_e.InvalidPDFException=Ut;class Ht extends yt{constructor(hn){super(hn,"MissingPDFException")}}_e.MissingPDFException=Ht;class Wt extends yt{constructor(hn,gn){super(hn,"UnexpectedResponseException"),this.status=gn}}_e.UnexpectedResponseException=Wt;class Qt extends yt{constructor(hn){super(hn,"FormatError")}}_e.FormatError=Qt;class mn extends yt{constructor(hn){super(hn,"AbortException")}}_e.AbortException=mn;function fn(In){(typeof In!="object"||(In==null?void 0:In.length)===void 0)&&Bt("Invalid argument for bytesToString");const hn=In.length,gn=8192;if(hn<gn)return String.fromCharCode.apply(null,In);const Kn=[];for(let er=0;er<hn;er+=gn){const ur=Math.min(er+gn,hn),Zt=In.subarray(er,ur);Kn.push(String.fromCharCode.apply(null,Zt))}return Kn.join("")}function En(In){typeof In!="string"&&Bt("Invalid argument for stringToBytes");const hn=In.length,gn=new Uint8Array(hn);for(let Kn=0;Kn<hn;++Kn)gn[Kn]=In.charCodeAt(Kn)&255;return gn}function kn(In){return String.fromCharCode(In>>24&255,In>>16&255,In>>8&255,In&255)}function Tn(In){return Object.keys(In).length}function An(In){const hn=Object.create(null);for(const[gn,Kn]of In)hn[gn]=Kn;return hn}function sn(){const In=new Uint8Array(4);return In[0]=1,new Uint32Array(In.buffer,0,1)[0]===1}function dn(){try{return new Function(""),!0}catch{return!1}}class Mt{static get isLittleEndian(){return Ot(this,"isLittleEndian",sn())}static get isEvalSupported(){return Ot(this,"isEvalSupported",dn())}static get isOffscreenCanvasSupported(){return Ot(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ot(this,"platform",{isWin:!1,isMac:!1}):Ot(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var hn,gn;return Ot(this,"isCSSRoundSupported",(gn=(hn=globalThis.CSS)==null?void 0:hn.supports)==null?void 0:gn.call(hn,"width: round(1.5px, 1px)"))}}_e.FeatureTest=Mt;const Vt=[...Array(256).keys()].map(In=>In.toString(16).padStart(2,"0"));class nn{static makeHexColor(hn,gn,Kn){return`#${Vt[hn]}${Vt[gn]}${Vt[Kn]}`}static scaleMinMax(hn,gn){let Kn;hn[0]?(hn[0]<0&&(Kn=gn[0],gn[0]=gn[1],gn[1]=Kn),gn[0]*=hn[0],gn[1]*=hn[0],hn[3]<0&&(Kn=gn[2],gn[2]=gn[3],gn[3]=Kn),gn[2]*=hn[3],gn[3]*=hn[3]):(Kn=gn[0],gn[0]=gn[2],gn[2]=Kn,Kn=gn[1],gn[1]=gn[3],gn[3]=Kn,hn[1]<0&&(Kn=gn[2],gn[2]=gn[3],gn[3]=Kn),gn[2]*=hn[1],gn[3]*=hn[1],hn[2]<0&&(Kn=gn[0],gn[0]=gn[1],gn[1]=Kn),gn[0]*=hn[2],gn[1]*=hn[2]),gn[0]+=hn[4],gn[1]+=hn[4],gn[2]+=hn[5],gn[3]+=hn[5]}static transform(hn,gn){return[hn[0]*gn[0]+hn[2]*gn[1],hn[1]*gn[0]+hn[3]*gn[1],hn[0]*gn[2]+hn[2]*gn[3],hn[1]*gn[2]+hn[3]*gn[3],hn[0]*gn[4]+hn[2]*gn[5]+hn[4],hn[1]*gn[4]+hn[3]*gn[5]+hn[5]]}static applyTransform(hn,gn){const Kn=hn[0]*gn[0]+hn[1]*gn[2]+gn[4],er=hn[0]*gn[1]+hn[1]*gn[3]+gn[5];return[Kn,er]}static applyInverseTransform(hn,gn){const Kn=gn[0]*gn[3]-gn[1]*gn[2],er=(hn[0]*gn[3]-hn[1]*gn[2]+gn[2]*gn[5]-gn[4]*gn[3])/Kn,ur=(-hn[0]*gn[1]+hn[1]*gn[0]+gn[4]*gn[1]-gn[5]*gn[0])/Kn;return[er,ur]}static getAxialAlignedBoundingBox(hn,gn){const Kn=this.applyTransform(hn,gn),er=this.applyTransform(hn.slice(2,4),gn),ur=this.applyTransform([hn[0],hn[3]],gn),Zt=this.applyTransform([hn[2],hn[1]],gn);return[Math.min(Kn[0],er[0],ur[0],Zt[0]),Math.min(Kn[1],er[1],ur[1],Zt[1]),Math.max(Kn[0],er[0],ur[0],Zt[0]),Math.max(Kn[1],er[1],ur[1],Zt[1])]}static inverseTransform(hn){const gn=hn[0]*hn[3]-hn[1]*hn[2];return[hn[3]/gn,-hn[1]/gn,-hn[2]/gn,hn[0]/gn,(hn[2]*hn[5]-hn[4]*hn[3])/gn,(hn[4]*hn[1]-hn[5]*hn[0])/gn]}static singularValueDecompose2dScale(hn){const gn=[hn[0],hn[2],hn[1],hn[3]],Kn=hn[0]*gn[0]+hn[1]*gn[2],er=hn[0]*gn[1]+hn[1]*gn[3],ur=hn[2]*gn[0]+hn[3]*gn[2],Zt=hn[2]*gn[1]+hn[3]*gn[3],Mn=(Kn+Zt)/2,Hn=Math.sqrt((Kn+Zt)**2-4*(Kn*Zt-ur*er))/2,tr=Mn+Hn||1,ir=Mn-Hn||1;return[Math.sqrt(tr),Math.sqrt(ir)]}static normalizeRect(hn){const gn=hn.slice(0);return hn[0]>hn[2]&&(gn[0]=hn[2],gn[2]=hn[0]),hn[1]>hn[3]&&(gn[1]=hn[3],gn[3]=hn[1]),gn}static intersect(hn,gn){const Kn=Math.max(Math.min(hn[0],hn[2]),Math.min(gn[0],gn[2])),er=Math.min(Math.max(hn[0],hn[2]),Math.max(gn[0],gn[2]));if(Kn>er)return null;const ur=Math.max(Math.min(hn[1],hn[3]),Math.min(gn[1],gn[3])),Zt=Math.min(Math.max(hn[1],hn[3]),Math.max(gn[1],gn[3]));return ur>Zt?null:[Kn,ur,er,Zt]}static bezierBoundingBox(hn,gn,Kn,er,ur,Zt,Mn,Hn){const tr=[],ir=[[],[]];let Yn,Xt,Gt,ln,Cn,Rn,On,Bn;for(let Er=0;Er<2;++Er){if(Er===0?(Xt=6*hn-12*Kn+6*ur,Yn=-3*hn+9*Kn-9*ur+3*Mn,Gt=3*Kn-3*hn):(Xt=6*gn-12*er+6*Zt,Yn=-3*gn+9*er-9*Zt+3*Hn,Gt=3*er-3*gn),Math.abs(Yn)<1e-12){if(Math.abs(Xt)<1e-12)continue;ln=-Gt/Xt,0<ln&&ln<1&&tr.push(ln);continue}On=Xt*Xt-4*Gt*Yn,Bn=Math.sqrt(On),!(On<0)&&(Cn=(-Xt+Bn)/(2*Yn),0<Cn&&Cn<1&&tr.push(Cn),Rn=(-Xt-Bn)/(2*Yn),0<Rn&&Rn<1&&tr.push(Rn))}let nr=tr.length,Jn;const Gn=nr;for(;nr--;)ln=tr[nr],Jn=1-ln,ir[0][nr]=Jn*Jn*Jn*hn+3*Jn*Jn*ln*Kn+3*Jn*ln*ln*ur+ln*ln*ln*Mn,ir[1][nr]=Jn*Jn*Jn*gn+3*Jn*Jn*ln*er+3*Jn*ln*ln*Zt+ln*ln*ln*Hn;return ir[0][Gn]=hn,ir[1][Gn]=gn,ir[0][Gn+1]=Mn,ir[1][Gn+1]=Hn,ir[0].length=ir[1].length=Gn+2,[Math.min(...ir[0]),Math.min(...ir[1]),Math.max(...ir[0]),Math.max(...ir[1])]}}_e.Util=nn;const on=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function yn(In){if(In[0]>=""){let gn;if(In[0]===""&&In[1]===""?gn="utf-16be":In[0]===""&&In[1]===""?gn="utf-16le":In[0]===""&&In[1]===""&&In[2]===""&&(gn="utf-8"),gn)try{const Kn=new TextDecoder(gn,{fatal:!0}),er=En(In);return Kn.decode(er)}catch(Kn){Ft(`stringToPDFString: "${Kn}".`)}}const hn=[];for(let gn=0,Kn=In.length;gn<Kn;gn++){const er=on[In.charCodeAt(gn)];hn.push(er?String.fromCharCode(er):In.charAt(gn))}return hn.join("")}function Pn(In){return decodeURIComponent(escape(In))}function Nn(In){return unescape(encodeURIComponent(In))}function cn(In){return typeof In=="object"&&(In==null?void 0:In.byteLength)!==void 0}function Kt(In,hn){if(In.length!==hn.length)return!1;for(let gn=0,Kn=In.length;gn<Kn;gn++)if(In[gn]!==hn[gn])return!1;return!0}function en(In=new Date){return[In.getUTCFullYear().toString(),(In.getUTCMonth()+1).toString().padStart(2,"0"),In.getUTCDate().toString().padStart(2,"0"),In.getUTCHours().toString().padStart(2,"0"),In.getUTCMinutes().toString().padStart(2,"0"),In.getUTCSeconds().toString().padStart(2,"0")].join("")}class $n{constructor(){wn(this,Pr,!1);this.promise=new Promise((hn,gn)=>{this.resolve=Kn=>{Sn(this,Pr,!0),hn(Kn)},this.reject=Kn=>{Sn(this,Pr,!0),gn(Kn)}})}get settled(){return St(this,Pr)}}Pr=new WeakMap,_e.PromiseCapability=$n;let Ln=null,qn=null;function zn(In){return Ln||(Ln=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qn=new Map([["","t"]])),In.replaceAll(Ln,(hn,gn,Kn)=>gn?gn.normalize("NFKC"):qn.get(Kn))}function Zn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const In=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(In);else for(let hn=0;hn<32;hn++)In[hn]=Math.floor(Math.random()*255);return fn(In)}const cr="pdfjs_internal_id_";_e.AnnotationPrefix=cr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var $,et,tt,nt,Ms,to,st,ot,at,lt,ut,dt,ct,ft,pt,no,ht,mt,Po,xt,Et;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(_t){if(typeof _t=="string"||_t instanceof URL?_t={url:_t}:(0,_util.isArrayBuffer)(_t)&&(_t={data:_t}),typeof _t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_t.url&&!_t.data&&!_t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const wt=new PDFDocumentLoadingTask,{docId:Ct}=wt,Nt=_t.url?getUrlProp(_t.url):null,kt=_t.data?getDataProp(_t.data):null,Pt=_t.httpHeaders||null,Dt=_t.withCredentials===!0,qt=_t.password??null,zt=_t.range instanceof PDFDataRangeTransport?_t.range:null,jt=Number.isInteger(_t.rangeChunkSize)&&_t.rangeChunkSize>0?_t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ft=_t.worker instanceof PDFWorker?_t.worker:null;const Bt=_t.verbosity,It=typeof _t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(_t.docBaseUrl)?_t.docBaseUrl:null,At=typeof _t.cMapUrl=="string"?_t.cMapUrl:null,Yt=_t.cMapPacked!==!1,Ot=_t.CMapReaderFactory||DefaultCMapReaderFactory,yt=typeof _t.standardFontDataUrl=="string"?_t.standardFontDataUrl:null,Tt=_t.StandardFontDataFactory||DefaultStandardFontDataFactory,$t=_t.stopAtErrors!==!0,Ut=Number.isInteger(_t.maxImageSize)&&_t.maxImageSize>-1?_t.maxImageSize:-1,Ht=_t.isEvalSupported!==!1,Wt=typeof _t.isOffscreenCanvasSupported=="boolean"?_t.isOffscreenCanvasSupported:!_util.isNodeJS,Qt=Number.isInteger(_t.canvasMaxAreaInBytes)?_t.canvasMaxAreaInBytes:-1,mn=typeof _t.disableFontFace=="boolean"?_t.disableFontFace:_util.isNodeJS,fn=_t.fontExtraProperties===!0,En=_t.enableXfa===!0,kn=_t.ownerDocument||globalThis.document,Tn=_t.disableRange===!0,An=_t.disableStream===!0,sn=_t.disableAutoFetch===!0,dn=_t.pdfBug===!0,Mt=zt?zt.length:_t.length??NaN,Vt=typeof _t.useSystemFonts=="boolean"?_t.useSystemFonts:!_util.isNodeJS&&!mn,nn=typeof _t.useWorkerFetch=="boolean"?_t.useWorkerFetch:Ot===_display_utils.DOMCMapReaderFactory&&Tt===_display_utils.DOMStandardFontDataFactory&&At&&yt&&(0,_display_utils.isValidFetchUrl)(At,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(yt,document.baseURI),on=_t.canvasFactory||new DefaultCanvasFactory({ownerDocument:kn}),yn=_t.filterFactory||new DefaultFilterFactory({docId:Ct,ownerDocument:kn}),Pn=null;(0,_util.setVerbosityLevel)(Bt);const Nn={canvasFactory:on,filterFactory:yn};if(nn||(Nn.cMapReaderFactory=new Ot({baseUrl:At,isCompressed:Yt}),Nn.standardFontDataFactory=new Tt({baseUrl:yt})),!Ft){const en={verbosity:Bt,port:_worker_options.GlobalWorkerOptions.workerPort};Ft=en.port?PDFWorker.fromPort(en):new PDFWorker(en),wt._worker=Ft}const cn={docId:Ct,apiVersion:"3.11.174",data:kt,password:qt,disableAutoFetch:sn,rangeChunkSize:jt,length:Mt,docBaseUrl:It,enableXfa:En,evaluatorOptions:{maxImageSize:Ut,disableFontFace:mn,ignoreErrors:$t,isEvalSupported:Ht,isOffscreenCanvasSupported:Wt,canvasMaxAreaInBytes:Qt,fontExtraProperties:fn,useSystemFonts:Vt,cMapUrl:nn?At:null,standardFontDataUrl:nn?yt:null}},Kt={ignoreErrors:$t,isEvalSupported:Ht,disableFontFace:mn,fontExtraProperties:fn,enableXfa:En,ownerDocument:kn,disableAutoFetch:sn,pdfBug:dn,styleElement:Pn};return Ft.promise.then(function(){if(wt.destroyed)throw new Error("Loading aborted");const en=_fetchDocument(Ft,cn),$n=new Promise(function(Ln){let qn;zt?qn=new _transport_stream.PDFDataTransportStream({length:Mt,initialData:zt.initialData,progressiveDone:zt.progressiveDone,contentDispositionFilename:zt.contentDispositionFilename,disableRange:Tn,disableStream:An},zt):kt||(qn=(Zn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Zn):(0,_display_utils.isValidFetchUrl)(Zn.url)?new _displayFetch_stream.PDFFetchStream(Zn):new _displayNetwork.PDFNetworkStream(Zn))({url:Nt,length:Mt,httpHeaders:Pt,withCredentials:Dt,rangeChunkSize:jt,disableRange:Tn,disableStream:An})),Ln(qn)});return Promise.all([en,$n]).then(function([Ln,qn]){if(wt.destroyed)throw new Error("Loading aborted");const zn=new _message_handler.MessageHandler(Ct,Ln,Ft.port),Zn=new WorkerTransport(zn,wt,qn,Kt,Nn);wt._transport=Zn,zn.send("Ready",null)})}).catch(wt._capability.reject),wt}async function _fetchDocument(_t,wt){if(_t.destroyed)throw new Error("Worker was destroyed");const Ct=await _t.messageHandler.sendWithPromise("GetDocRequest",wt,wt.data?[wt.data.buffer]:null);if(_t.destroyed)throw new Error("Worker was destroyed");return Ct}function getUrlProp(_t){if(_t instanceof URL)return _t.href;try{return new URL(_t,window.location).href}catch{if(_util.isNodeJS&&typeof _t=="string")return _t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_t){if(_util.isNodeJS&&typeof Buffer<"u"&&_t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_t instanceof Uint8Array&&_t.byteLength===_t.buffer.byteLength)return _t;if(typeof _t=="string")return(0,_util.stringToBytes)(_t);if(typeof _t=="object"&&!isNaN(_t==null?void 0:_t.length)||(0,_util.isArrayBuffer)(_t))return new Uint8Array(_t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _e=class _e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Fs(_e,$)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var wt,Ct,Nt;this.destroyed=!0;try{(wt=this._worker)!=null&&wt.port&&(this._worker._pendingDestroy=!0),await((Ct=this._transport)==null?void 0:Ct.destroy())}catch(kt){throw(Nt=this._worker)!=null&&Nt.port&&delete this._worker._pendingDestroy,kt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$=new WeakMap,wn(_e,$,0);let PDFDocumentLoadingTask=_e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(wt,Ct,Nt=!1,kt=null){this.length=wt,this.initialData=Ct,this.progressiveDone=Nt,this.contentDispositionFilename=kt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(wt){this._rangeListeners.push(wt)}addProgressListener(wt){this._progressListeners.push(wt)}addProgressiveReadListener(wt){this._progressiveReadListeners.push(wt)}addProgressiveDoneListener(wt){this._progressiveDoneListeners.push(wt)}onDataRange(wt,Ct){for(const Nt of this._rangeListeners)Nt(wt,Ct)}onDataProgress(wt,Ct){this._readyCapability.promise.then(()=>{for(const Nt of this._progressListeners)Nt(wt,Ct)})}onDataProgressiveRead(wt){this._readyCapability.promise.then(()=>{for(const Ct of this._progressiveReadListeners)Ct(wt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const wt of this._progressiveDoneListeners)wt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(wt,Ct){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(wt,Ct){this._pdfInfo=wt,this._transport=Ct,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Nt=>{if(!Nt)return Nt;const kt=[];for(const Pt in Nt)kt.push(...Nt[Pt]);return kt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(wt){return this._transport.getPage(wt)}getPageIndex(wt){return this._transport.getPageIndex(wt)}getDestinations(){return this._transport.getDestinations()}getDestination(wt){return this._transport.getDestination(wt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(wt=!1){return this._transport.startCleanup(wt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(wt,Ct,Nt,kt=!1){wn(this,nt);wn(this,et,null);wn(this,tt,!1);this._pageIndex=wt,this._pageInfo=Ct,this._transport=Nt,this._stats=kt?new _display_utils.StatTimer:null,this._pdfBug=kt,this.commonObjs=Nt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:wt,rotation:Ct=this.rotate,offsetX:Nt=0,offsetY:kt=0,dontFlip:Pt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:wt,rotation:Ct,offsetX:Nt,offsetY:kt,dontFlip:Pt})}getAnnotations({intent:wt="display"}={}){const Ct=this._transport.getRenderingIntent(wt);return this._transport.getAnnotations(this._pageIndex,Ct.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var wt;return((wt=this._transport._htmlForXfa)==null?void 0:wt.children[this._pageIndex])||null}render({canvasContext:wt,viewport:Ct,intent:Nt="display",annotationMode:kt=_util.AnnotationMode.ENABLE,transform:Pt=null,background:Dt=null,optionalContentConfigPromise:qt=null,annotationCanvasMap:zt=null,pageColors:jt=null,printAnnotationStorage:Ft=null}){var Tt,$t;(Tt=this._stats)==null||Tt.time("Overall");const Bt=this._transport.getRenderingIntent(Nt,kt,Ft);Sn(this,tt,!1),pn(this,nt,to).call(this),qt||(qt=this._transport.getOptionalContentConfig());let It=this._intentStates.get(Bt.cacheKey);It||(It=Object.create(null),this._intentStates.set(Bt.cacheKey,It)),It.streamReaderCancelTimeout&&(clearTimeout(It.streamReaderCancelTimeout),It.streamReaderCancelTimeout=null);const At=!!(Bt.renderingIntent&_util.RenderingIntentFlag.PRINT);It.displayReadyCapability||(It.displayReadyCapability=new _util.PromiseCapability,It.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($t=this._stats)==null||$t.time("Page Request"),this._pumpOperatorList(Bt));const Yt=Ut=>{var Ht,Wt;It.renderTasks.delete(Ot),(this._maybeCleanupAfterRender||At)&&Sn(this,tt,!0),pn(this,nt,Ms).call(this,!At),Ut?(Ot.capability.reject(Ut),this._abortOperatorList({intentState:It,reason:Ut instanceof Error?Ut:new Error(Ut)})):Ot.capability.resolve(),(Ht=this._stats)==null||Ht.timeEnd("Rendering"),(Wt=this._stats)==null||Wt.timeEnd("Overall")},Ot=new InternalRenderTask({callback:Yt,params:{canvasContext:wt,viewport:Ct,transform:Pt,background:Dt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:zt,operatorList:It.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!At,pdfBug:this._pdfBug,pageColors:jt});(It.renderTasks||(It.renderTasks=new Set)).add(Ot);const yt=Ot.task;return Promise.all([It.displayReadyCapability.promise,qt]).then(([Ut,Ht])=>{var Wt;if(this.destroyed){Yt();return}(Wt=this._stats)==null||Wt.time("Rendering"),Ot.initializeGraphics({transparency:Ut,optionalContentConfig:Ht}),Ot.operatorListChanged()}).catch(Yt),yt}getOperatorList({intent:wt="display",annotationMode:Ct=_util.AnnotationMode.ENABLE,printAnnotationStorage:Nt=null}={}){var zt;function kt(){Dt.operatorList.lastChunk&&(Dt.opListReadCapability.resolve(Dt.operatorList),Dt.renderTasks.delete(qt))}const Pt=this._transport.getRenderingIntent(wt,Ct,Nt,!0);let Dt=this._intentStates.get(Pt.cacheKey);Dt||(Dt=Object.create(null),this._intentStates.set(Pt.cacheKey,Dt));let qt;return Dt.opListReadCapability||(qt=Object.create(null),qt.operatorListChanged=kt,Dt.opListReadCapability=new _util.PromiseCapability,(Dt.renderTasks||(Dt.renderTasks=new Set)).add(qt),Dt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(zt=this._stats)==null||zt.time("Page Request"),this._pumpOperatorList(Pt)),Dt.opListReadCapability.promise}streamTextContent({includeMarkedContent:wt=!1,disableNormalization:Ct=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:wt===!0,disableNormalization:Ct===!0},{highWaterMark:100,size(kt){return kt.items.length}})}getTextContent(wt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Nt=>_xfa_text.XfaText.textContent(Nt));const Ct=this.streamTextContent(wt);return new Promise(function(Nt,kt){function Pt(){Dt.read().then(function({value:zt,done:jt}){if(jt){Nt(qt);return}Object.assign(qt.styles,zt.styles),qt.items.push(...zt.items),Pt()},kt)}const Dt=Ct.getReader(),qt={items:[],styles:Object.create(null)};Pt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const wt=[];for(const Ct of this._intentStates.values())if(this._abortOperatorList({intentState:Ct,reason:new Error("Page was destroyed."),force:!0}),!Ct.opListReadCapability)for(const Nt of Ct.renderTasks)wt.push(Nt.completed),Nt.cancel();return this.objs.clear(),Sn(this,tt,!1),pn(this,nt,to).call(this),Promise.all(wt)}cleanup(wt=!1){Sn(this,tt,!0);const Ct=pn(this,nt,Ms).call(this,!1);return wt&&Ct&&this._stats&&(this._stats=new _display_utils.StatTimer),Ct}_startRenderPage(wt,Ct){var kt,Pt;const Nt=this._intentStates.get(Ct);Nt&&((kt=this._stats)==null||kt.timeEnd("Page Request"),(Pt=Nt.displayReadyCapability)==null||Pt.resolve(wt))}_renderPageChunk(wt,Ct){for(let Nt=0,kt=wt.length;Nt<kt;Nt++)Ct.operatorList.fnArray.push(wt.fnArray[Nt]),Ct.operatorList.argsArray.push(wt.argsArray[Nt]);Ct.operatorList.lastChunk=wt.lastChunk,Ct.operatorList.separateAnnots=wt.separateAnnots;for(const Nt of Ct.renderTasks)Nt.operatorListChanged();wt.lastChunk&&pn(this,nt,Ms).call(this,!0)}_pumpOperatorList({renderingIntent:wt,cacheKey:Ct,annotationStorageSerializable:Nt}){const{map:kt,transfers:Pt}=Nt,qt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:wt,cacheKey:Ct,annotationStorage:kt},Pt).getReader(),zt=this._intentStates.get(Ct);zt.streamReader=qt;const jt=()=>{qt.read().then(({value:Ft,done:Bt})=>{if(Bt){zt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ft,zt),jt())},Ft=>{if(zt.streamReader=null,!this._transport.destroyed){if(zt.operatorList){zt.operatorList.lastChunk=!0;for(const Bt of zt.renderTasks)Bt.operatorListChanged();pn(this,nt,Ms).call(this,!0)}if(zt.displayReadyCapability)zt.displayReadyCapability.reject(Ft);else if(zt.opListReadCapability)zt.opListReadCapability.reject(Ft);else throw Ft}})};jt()}_abortOperatorList({intentState:wt,reason:Ct,force:Nt=!1}){if(wt.streamReader){if(wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null),!Nt){if(wt.renderTasks.size>0)return;if(Ct instanceof _display_utils.RenderingCancelledException){let kt=RENDERING_CANCELLED_TIMEOUT;Ct.extraDelay>0&&Ct.extraDelay<1e3&&(kt+=Ct.extraDelay),wt.streamReaderCancelTimeout=setTimeout(()=>{wt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:wt,reason:Ct,force:!0})},kt);return}}if(wt.streamReader.cancel(new _util.AbortException(Ct.message)).catch(()=>{}),wt.streamReader=null,!this._transport.destroyed){for(const[kt,Pt]of this._intentStates)if(Pt===wt){this._intentStates.delete(kt);break}this.cleanup()}}}get stats(){return this._stats}}et=new WeakMap,tt=new WeakMap,nt=new WeakSet,Ms=function(wt=!1){if(pn(this,nt,to).call(this),!St(this,tt)||this.destroyed)return!1;if(wt)return Sn(this,et,setTimeout(()=>{Sn(this,et,null),pn(this,nt,Ms).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ct,operatorList:Nt}of this._intentStates.values())if(Ct.size>0||!Nt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Sn(this,tt,!1),!0},to=function(){St(this,et)&&(clearTimeout(St(this,et)),Sn(this,et,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){wn(this,st,new Set);wn(this,ot,Promise.resolve())}postMessage(wt,Ct){const Nt={data:structuredClone(wt,Ct?{transfer:Ct}:null)};St(this,ot).then(()=>{for(const kt of St(this,st))kt.call(this,Nt)})}addEventListener(wt,Ct){St(this,st).add(Ct)}removeEventListener(wt,Ct){St(this,st).delete(Ct)}terminate(){St(this,st).clear()}}st=new WeakMap,ot=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const _t=(at=document==null?void 0:document.currentScript)==null?void 0:at.src;_t&&(PDFWorkerUtil.fallbackWorkerSrc=_t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(_t,wt){let Ct;try{if(Ct=new URL(_t),!Ct.origin||Ct.origin==="null")return!1}catch{return!1}const Nt=new URL(wt,Ct);return Ct.origin===Nt.origin},PDFWorkerUtil.createCDNWrapper=function(_t){const wt=`importScripts("${_t}");`;return URL.createObjectURL(new Blob([wt]))}}const _PDFWorker=class _PDFWorker{constructor({name:_t=null,port:wt=null,verbosity:Ct=(0,_util.getVerbosityLevel)()}={}){var Nt;if(this.name=_t,this.destroyed=!1,this.verbosity=Ct,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,wt){if((Nt=St(_PDFWorker,lt))!=null&&Nt.has(wt))throw new Error("Cannot use more than one PDFWorker per port.");(St(_PDFWorker,lt)||Sn(_PDFWorker,lt,new WeakMap)).set(wt,this),this._initializeFromPort(wt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_t){this._port=_t,this._messageHandler=new _message_handler.MessageHandler("main","worker",_t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:_t}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,_t)||(_t=PDFWorkerUtil.createCDNWrapper(new URL(_t,window.location).href));const wt=new Worker(_t),Ct=new _message_handler.MessageHandler("main","worker",wt),Nt=()=>{wt.removeEventListener("error",kt),Ct.destroy(),wt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},kt=()=>{this._webWorker||Nt()};wt.addEventListener("error",kt),Ct.on("test",Dt=>{if(wt.removeEventListener("error",kt),this.destroyed){Nt();return}Dt?(this._messageHandler=Ct,this._port=wt,this._webWorker=wt,this._readyCapability.resolve(),Ct.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ct.destroy(),wt.terminate())}),Ct.on("ready",Dt=>{if(wt.removeEventListener("error",kt),this.destroyed){Nt();return}try{Pt()}catch{this._setupFakeWorker()}});const Pt=()=>{const Dt=new Uint8Array;Ct.send("test",Dt,[Dt.buffer])};Pt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(_t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const wt=new LoopbackPort;this._port=wt;const Ct=`fake${PDFWorkerUtil.fakeWorkerId++}`,Nt=new _message_handler.MessageHandler(Ct+"_worker",Ct,wt);_t.setup(Nt,wt);const kt=new _message_handler.MessageHandler(Ct,Ct+"_worker",wt);this._messageHandler=kt,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})}).catch(_t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_t.message}".`))})}destroy(){var _t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(_t=St(_PDFWorker,lt))==null||_t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_t){var Ct;if(!(_t!=null&&_t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const wt=(Ct=St(this,lt))==null?void 0:Ct.get(_t.port);if(wt){if(wt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return wt}return new _PDFWorker(_t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var _t;try{return((_t=globalThis.pdfjsWorker)==null?void 0:_t.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};lt=new WeakMap,wn(_PDFWorker,lt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(wt,Ct,Nt,kt,Pt){wn(this,pt);wn(this,ut,new Map);wn(this,dt,new Map);wn(this,ct,new Map);wn(this,ft,null);this.messageHandler=wt,this.loadingTask=Ct,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:kt.ownerDocument,styleElement:kt.styleElement}),this._params=kt,this.canvasFactory=Pt.canvasFactory,this.filterFactory=Pt.filterFactory,this.cMapReaderFactory=Pt.cMapReaderFactory,this.standardFontDataFactory=Pt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Nt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(wt,Ct=_util.AnnotationMode.ENABLE,Nt=null,kt=!1){let Pt=_util.RenderingIntentFlag.DISPLAY,Dt=_annotation_storage.SerializableEmpty;switch(wt){case"any":Pt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Pt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${wt}`)}switch(Ct){case _util.AnnotationMode.DISABLE:Pt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Pt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Pt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Dt=(Pt&_util.RenderingIntentFlag.PRINT&&Nt instanceof _annotation_storage.PrintAnnotationStorage?Nt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ct}`)}return kt&&(Pt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Pt,cacheKey:`${Pt}_${Dt.hash}`,annotationStorageSerializable:Dt}}destroy(){var Nt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Nt=St(this,ft))==null||Nt.reject(new Error("Worker was destroyed during onPassword callback"));const wt=[];for(const kt of St(this,dt).values())wt.push(kt._destroy());St(this,dt).clear(),St(this,ct).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ct=this.messageHandler.sendWithPromise("Terminate",null);return wt.push(Ct),Promise.all(wt).then(()=>{var kt;this.commonObjs.clear(),this.fontLoader.clear(),St(this,ut).clear(),this.filterFactory.destroy(),(kt=this._networkStream)==null||kt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:wt,loadingTask:Ct}=this;wt.on("GetReader",(Nt,kt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Pt=>{this._lastProgress={loaded:Pt.loaded,total:Pt.total}},kt.onPull=()=>{this._fullReader.read().then(function({value:Pt,done:Dt}){if(Dt){kt.close();return}(0,_util.assert)(Pt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(Pt),1,[Pt])}).catch(Pt=>{kt.error(Pt)})},kt.onCancel=Pt=>{this._fullReader.cancel(Pt),kt.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),wt.on("ReaderHeadersReady",Nt=>{const kt=new _util.PromiseCapability,Pt=this._fullReader;return Pt.headersReady.then(()=>{var Dt;(!Pt.isStreamingSupported||!Pt.isRangeSupported)&&(this._lastProgress&&((Dt=Ct.onProgress)==null||Dt.call(Ct,this._lastProgress)),Pt.onProgress=qt=>{var zt;(zt=Ct.onProgress)==null||zt.call(Ct,{loaded:qt.loaded,total:qt.total})}),kt.resolve({isStreamingSupported:Pt.isStreamingSupported,isRangeSupported:Pt.isRangeSupported,contentLength:Pt.contentLength})},kt.reject),kt.promise}),wt.on("GetRangeReader",(Nt,kt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Pt=this._networkStream.getRangeReader(Nt.begin,Nt.end);if(!Pt){kt.close();return}kt.onPull=()=>{Pt.read().then(function({value:Dt,done:qt}){if(qt){kt.close();return}(0,_util.assert)(Dt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(Dt),1,[Dt])}).catch(Dt=>{kt.error(Dt)})},kt.onCancel=Dt=>{Pt.cancel(Dt),kt.ready.catch(qt=>{if(!this.destroyed)throw qt})}}),wt.on("GetDoc",({pdfInfo:Nt})=>{this._numPages=Nt.numPages,this._htmlForXfa=Nt.htmlForXfa,delete Nt.htmlForXfa,Ct._capability.resolve(new PDFDocumentProxy(Nt,this))}),wt.on("DocException",function(Nt){let kt;switch(Nt.name){case"PasswordException":kt=new _util.PasswordException(Nt.message,Nt.code);break;case"InvalidPDFException":kt=new _util.InvalidPDFException(Nt.message);break;case"MissingPDFException":kt=new _util.MissingPDFException(Nt.message);break;case"UnexpectedResponseException":kt=new _util.UnexpectedResponseException(Nt.message,Nt.status);break;case"UnknownErrorException":kt=new _util.UnknownErrorException(Nt.message,Nt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ct._capability.reject(kt)}),wt.on("PasswordRequest",Nt=>{if(Sn(this,ft,new _util.PromiseCapability),Ct.onPassword){const kt=Pt=>{Pt instanceof Error?St(this,ft).reject(Pt):St(this,ft).resolve({password:Pt})};try{Ct.onPassword(kt,Nt.code)}catch(Pt){St(this,ft).reject(Pt)}}else St(this,ft).reject(new _util.PasswordException(Nt.message,Nt.code));return St(this,ft).promise}),wt.on("DataLoaded",Nt=>{var kt;(kt=Ct.onProgress)==null||kt.call(Ct,{loaded:Nt.length,total:Nt.length}),this.downloadInfoCapability.resolve(Nt)}),wt.on("StartRenderPage",Nt=>{if(this.destroyed)return;St(this,dt).get(Nt.pageIndex)._startRenderPage(Nt.transparency,Nt.cacheKey)}),wt.on("commonobj",([Nt,kt,Pt])=>{var Dt;if(!this.destroyed&&!this.commonObjs.has(Nt))switch(kt){case"Font":const qt=this._params;if("error"in Pt){const Ft=Pt.error;(0,_util.warn)(`Error during font loading: ${Ft}`),this.commonObjs.resolve(Nt,Ft);break}const zt=qt.pdfBug&&((Dt=globalThis.FontInspector)!=null&&Dt.enabled)?(Ft,Bt)=>globalThis.FontInspector.fontAdded(Ft,Bt):null,jt=new _font_loader.FontFaceObject(Pt,{isEvalSupported:qt.isEvalSupported,disableFontFace:qt.disableFontFace,ignoreErrors:qt.ignoreErrors,inspectFont:zt});this.fontLoader.bind(jt).catch(Ft=>wt.sendWithPromise("FontFallback",{id:Nt})).finally(()=>{!qt.fontExtraProperties&&jt.data&&(jt.data=null),this.commonObjs.resolve(Nt,jt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Nt,Pt);break;default:throw new Error(`Got unknown common object type ${kt}`)}}),wt.on("obj",([Nt,kt,Pt,Dt])=>{var zt;if(this.destroyed)return;const qt=St(this,dt).get(kt);if(!qt.objs.has(Nt))switch(Pt){case"Image":if(qt.objs.resolve(Nt,Dt),Dt){let jt;if(Dt.bitmap){const{width:Ft,height:Bt}=Dt;jt=Ft*Bt*4}else jt=((zt=Dt.data)==null?void 0:zt.length)||0;jt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(qt._maybeCleanupAfterRender=!0)}break;case"Pattern":qt.objs.resolve(Nt,Dt);break;default:throw new Error(`Got unknown object type ${Pt}`)}}),wt.on("DocProgress",Nt=>{var kt;this.destroyed||(kt=Ct.onProgress)==null||kt.call(Ct,{loaded:Nt.loaded,total:Nt.total})}),wt.on("FetchBuiltInCMap",Nt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Nt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),wt.on("FetchStandardFontData",Nt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Nt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Nt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:wt,transfers:Ct}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:wt,filename:((Nt=this._fullReader)==null?void 0:Nt.filename)??null},Ct).finally(()=>{this.annotationStorage.resetModified()})}getPage(wt){if(!Number.isInteger(wt)||wt<=0||wt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ct=wt-1,Nt=St(this,ct).get(Ct);if(Nt)return Nt;const kt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ct}).then(Pt=>{if(this.destroyed)throw new Error("Transport destroyed");const Dt=new PDFPageProxy(Ct,Pt,this,this._params.pdfBug);return St(this,dt).set(Ct,Dt),Dt});return St(this,ct).set(Ct,kt),kt}getPageIndex(wt){return typeof wt!="object"||wt===null||!Number.isInteger(wt.num)||wt.num<0||!Number.isInteger(wt.gen)||wt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:wt.num,gen:wt.gen})}getAnnotations(wt,Ct){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:wt,intent:Ct})}getFieldObjects(){return pn(this,pt,no).call(this,"GetFieldObjects")}hasJSActions(){return pn(this,pt,no).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(wt){return typeof wt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:wt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return pn(this,pt,no).call(this,"GetDocJSActions")}getPageJSActions(wt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:wt})}getStructTree(wt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:wt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(wt=>new _optional_content_config.OptionalContentConfig(wt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const wt="GetMetadata",Ct=St(this,ut).get(wt);if(Ct)return Ct;const Nt=this.messageHandler.sendWithPromise(wt,null).then(kt=>{var Pt,Dt;return{info:kt[0],metadata:kt[1]?new _metadata.Metadata(kt[1]):null,contentDispositionFilename:((Pt=this._fullReader)==null?void 0:Pt.filename)??null,contentLength:((Dt=this._fullReader)==null?void 0:Dt.contentLength)??null}});return St(this,ut).set(wt,Nt),Nt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(wt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ct of St(this,dt).values())if(!Ct.cleanup())throw new Error(`startCleanup: Page ${Ct.pageNumber} is currently rendering.`);this.commonObjs.clear(),wt||this.fontLoader.clear(),St(this,ut).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:wt,enableXfa:Ct}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:wt,enableXfa:Ct})}}ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ft=new WeakMap,pt=new WeakSet,no=function(wt,Ct=null){const Nt=St(this,ut).get(wt);if(Nt)return Nt;const kt=this.messageHandler.sendWithPromise(wt,Ct);return St(this,ut).set(wt,kt),kt};class PDFObjects{constructor(){wn(this,mt);wn(this,ht,Object.create(null))}get(wt,Ct=null){if(Ct){const kt=pn(this,mt,Po).call(this,wt);return kt.capability.promise.then(()=>Ct(kt.data)),null}const Nt=St(this,ht)[wt];if(!(Nt!=null&&Nt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${wt}.`);return Nt.data}has(wt){const Ct=St(this,ht)[wt];return(Ct==null?void 0:Ct.capability.settled)||!1}resolve(wt,Ct=null){const Nt=pn(this,mt,Po).call(this,wt);Nt.data=Ct,Nt.capability.resolve()}clear(){var wt;for(const Ct in St(this,ht)){const{data:Nt}=St(this,ht)[Ct];(wt=Nt==null?void 0:Nt.bitmap)==null||wt.close()}Sn(this,ht,Object.create(null))}}ht=new WeakMap,mt=new WeakSet,Po=function(wt){var Ct;return(Ct=St(this,ht))[wt]||(Ct[wt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(wt){wn(this,xt,null);Sn(this,xt,wt),this.onContinue=null}get promise(){return St(this,xt).capability.promise}cancel(wt=0){St(this,xt).cancel(null,wt)}get separateAnnots(){const{separateAnnots:wt}=St(this,xt).operatorList;if(!wt)return!1;const{annotationCanvasMap:Ct}=St(this,xt);return wt.form||wt.canvas&&(Ct==null?void 0:Ct.size)>0}}xt=new WeakMap,exports.RenderTask=RenderTask;const vt=class vt{constructor({callback:wt,params:Ct,objs:Nt,commonObjs:kt,annotationCanvasMap:Pt,operatorList:Dt,pageIndex:qt,canvasFactory:zt,filterFactory:jt,useRequestAnimationFrame:Ft=!1,pdfBug:Bt=!1,pageColors:It=null}){this.callback=wt,this.params=Ct,this.objs=Nt,this.commonObjs=kt,this.annotationCanvasMap=Pt,this.operatorListIdx=null,this.operatorList=Dt,this._pageIndex=qt,this.canvasFactory=zt,this.filterFactory=jt,this._pdfBug=Bt,this.pageColors=It,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ft===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ct.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:wt=!1,optionalContentConfig:Ct}){var qt,zt;if(this.cancelled)return;if(this._canvas){if(St(vt,Et).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");St(vt,Et).add(this._canvas)}this._pdfBug&&((qt=globalThis.StepperManager)!=null&&qt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Nt,viewport:kt,transform:Pt,background:Dt}=this.params;this.gfx=new _canvas.CanvasGraphics(Nt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ct},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Pt,viewport:kt,transparency:wt,background:Dt}),this.operatorListIdx=0,this.graphicsReady=!0,(zt=this.graphicsReadyCallback)==null||zt.call(this)}cancel(wt=null,Ct=0){var Nt;this.running=!1,this.cancelled=!0,(Nt=this.gfx)==null||Nt.endDrawing(),St(vt,Et).delete(this._canvas),this.callback(wt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ct))}operatorListChanged(){var wt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(wt=this.stepper)==null||wt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),St(vt,Et).delete(this._canvas),this.callback())))}};Et=new WeakMap,wn(vt,Et,new WeakSet);let InternalRenderTask=vt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},($,_e,et)=>{var at,lt,ut,Wl,ct;Object.defineProperty(_e,"__esModule",{value:!0}),_e.SerializableEmpty=_e.PrintAnnotationStorage=_e.AnnotationStorage=void 0;var tt=et(1),nt=et(4),rt=et(8);const it=Object.freeze({map:null,hash:"",transfers:void 0});_e.SerializableEmpty=it;class st{constructor(){wn(this,ut);wn(this,at,!1);wn(this,lt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(pt,gt){const ht=St(this,lt).get(pt);return ht===void 0?gt:Object.assign(gt,ht)}getRawValue(pt){return St(this,lt).get(pt)}remove(pt){if(St(this,lt).delete(pt),St(this,lt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const gt of St(this,lt).values())if(gt instanceof nt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(pt,gt){const ht=St(this,lt).get(pt);let mt=!1;if(ht!==void 0)for(const[bt,xt]of Object.entries(gt))ht[bt]!==xt&&(mt=!0,ht[bt]=xt);else mt=!0,St(this,lt).set(pt,gt);mt&&pn(this,ut,Wl).call(this),gt instanceof nt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(gt.constructor._type)}has(pt){return St(this,lt).has(pt)}getAll(){return St(this,lt).size>0?(0,tt.objectFromMap)(St(this,lt)):null}setAll(pt){for(const[gt,ht]of Object.entries(pt))this.setValue(gt,ht)}get size(){return St(this,lt).size}resetModified(){St(this,at)&&(Sn(this,at,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ot(this)}get serializable(){if(St(this,lt).size===0)return it;const pt=new Map,gt=new rt.MurmurHash3_64,ht=[],mt=Object.create(null);let bt=!1;for(const[xt,Et]of St(this,lt)){const vt=Et instanceof nt.AnnotationEditor?Et.serialize(!1,mt):Et;vt&&(pt.set(xt,vt),gt.update(`${xt}:${JSON.stringify(vt)}`),bt||(bt=!!vt.bitmap))}if(bt)for(const xt of pt.values())xt.bitmap&&ht.push(xt.bitmap);return pt.size>0?{map:pt,hash:gt.hexdigest(),transfers:ht}:it}}at=new WeakMap,lt=new WeakMap,ut=new WeakSet,Wl=function(){St(this,at)||(Sn(this,at,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_e.AnnotationStorage=st;class ot extends st{constructor(gt){super();wn(this,ct);const{map:ht,hash:mt,transfers:bt}=gt.serializable,xt=structuredClone(ht,bt?{transfer:bt}:null);Sn(this,ct,{map:xt,hash:mt,transfers:bt})}get print(){(0,tt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return St(this,ct)}}ct=new WeakMap,_e.PrintAnnotationStorage=ot},($,_e,et)=>{var ot,at,lt,ut,dt,ct,ft,pt,gt,ht,mt,bt,xt,Et,vt,No,Mo,Ct,Io,$o,Gl,Kl,Xl,Oo,Yl;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditor=void 0;var tt=et(5),nt=et(1),rt=et(6);const Ft=class Ft{constructor(It){wn(this,vt);wn(this,ot,"");wn(this,at,!1);wn(this,lt,null);wn(this,ut,null);wn(this,dt,null);wn(this,ct,!1);wn(this,ft,null);wn(this,pt,this.focusin.bind(this));wn(this,gt,this.focusout.bind(this));wn(this,ht,!1);wn(this,mt,!1);wn(this,bt,!1);Gr(this,"_initialOptions",Object.create(null));Gr(this,"_uiManager",null);Gr(this,"_focusEventsAllowed",!0);Gr(this,"_l10nPromise",null);wn(this,xt,!1);wn(this,Et,Ft._zIndex++);this.constructor===Ft&&(0,nt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=It.parent,this.id=It.id,this.width=this.height=null,this.pageIndex=It.parent.pageIndex,this.name=It.name,this.div=null,this._uiManager=It.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=It.isCentered,this._structTreeParentId=null;const{rotation:At,rawDims:{pageWidth:Yt,pageHeight:Ot,pageX:yt,pageY:Tt}}=this.parent.viewport;this.rotation=At,this.pageRotation=(360+At-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Yt,Ot],this.pageTranslation=[yt,Tt];const[$t,Ut]=this.parentDimensions;this.x=It.x/$t,this.y=It.y/Ut,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,nt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(It){const At=new st({id:It.parent.getNextId(),parent:It.parent,uiManager:It._uiManager});At.annotationElementId=It.annotationElementId,At.deleted=!0,At._uiManager.addToAnnotationStorage(At)}static initialize(It,At=null){if(Ft._l10nPromise||(Ft._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ot=>[Ot,It.get(Ot)]))),At!=null&&At.strings)for(const Ot of At.strings)Ft._l10nPromise.set(Ot,It.get(Ot));if(Ft._borderLineWidth!==-1)return;const Yt=getComputedStyle(document.documentElement);Ft._borderLineWidth=parseFloat(Yt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(It,At){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(It){return!1}static paste(It,At){(0,nt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return St(this,xt)}set _isDraggable(It){var At;Sn(this,xt,It),(At=this.div)==null||At.classList.toggle("draggable",It)}center(){const[It,At]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*At/(It*2),this.y+=this.width*It/(At*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*At/(It*2),this.y-=this.width*It/(At*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(It){this._uiManager.addCommands(It)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=St(this,Et)}setParent(It){It!==null&&(this.pageIndex=It.pageIndex,this.pageDimensions=It.pageDimensions),this.parent=It}focusin(It){this._focusEventsAllowed&&(St(this,ht)?Sn(this,ht,!1):this.parent.setSelected(this))}focusout(It){var Yt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const At=It.relatedTarget;At!=null&&At.closest(`#${this.id}`)||(It.preventDefault(),(Yt=this.parent)!=null&&Yt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(It,At,Yt,Ot){const[yt,Tt]=this.parentDimensions;[Yt,Ot]=this.screenToPageTranslation(Yt,Ot),this.x=(It+Yt)/yt,this.y=(At+Ot)/Tt,this.fixAndSetPosition()}translate(It,At){pn(this,vt,No).call(this,this.parentDimensions,It,At)}translateInPage(It,At){pn(this,vt,No).call(this,this.pageDimensions,It,At),this.div.scrollIntoView({block:"nearest"})}drag(It,At){const[Yt,Ot]=this.parentDimensions;if(this.x+=It/Yt,this.y+=At/Ot,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ht,y:Wt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ht,Wt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:yt,y:Tt}=this;const[$t,Ut]=pn(this,vt,Mo).call(this);yt+=$t,Tt+=Ut,this.div.style.left=`${(100*yt).toFixed(2)}%`,this.div.style.top=`${(100*Tt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[It,At]=this.pageDimensions;let{x:Yt,y:Ot,width:yt,height:Tt}=this;switch(yt*=It,Tt*=At,Yt*=It,Ot*=At,this.rotation){case 0:Yt=Math.max(0,Math.min(It-yt,Yt)),Ot=Math.max(0,Math.min(At-Tt,Ot));break;case 90:Yt=Math.max(0,Math.min(It-Tt,Yt)),Ot=Math.min(At,Math.max(yt,Ot));break;case 180:Yt=Math.min(It,Math.max(yt,Yt)),Ot=Math.min(At,Math.max(Tt,Ot));break;case 270:Yt=Math.min(It,Math.max(Tt,Yt)),Ot=Math.max(0,Math.min(At-yt,Ot));break}this.x=Yt/=It,this.y=Ot/=At;const[$t,Ut]=pn(this,vt,Mo).call(this);Yt+=$t,Ot+=Ut;const{style:Ht}=this.div;Ht.left=`${(100*Yt).toFixed(2)}%`,Ht.top=`${(100*Ot).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(It,At){var Yt;return pn(Yt=Ft,Ct,Io).call(Yt,It,At,this.parentRotation)}pageTranslationToScreen(It,At){var Yt;return pn(Yt=Ft,Ct,Io).call(Yt,It,At,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:It,pageDimensions:[At,Yt]}=this,Ot=At*It,yt=Yt*It;return nt.FeatureTest.isCSSRoundSupported?[Math.round(Ot),Math.round(yt)]:[Ot,yt]}setDims(It,At){var yt;const[Yt,Ot]=this.parentDimensions;this.div.style.width=`${(100*It/Yt).toFixed(2)}%`,St(this,ct)||(this.div.style.height=`${(100*At/Ot).toFixed(2)}%`),(yt=St(this,lt))==null||yt.classList.toggle("small",It<Ft.SMALL_EDITOR_SIZE||At<Ft.SMALL_EDITOR_SIZE)}fixDims(){const{style:It}=this.div,{height:At,width:Yt}=It,Ot=Yt.endsWith("%"),yt=!St(this,ct)&&At.endsWith("%");if(Ot&&yt)return;const[Tt,$t]=this.parentDimensions;Ot||(It.width=`${(100*parseFloat(Yt)/Tt).toFixed(2)}%`),!St(this,ct)&&!yt&&(It.height=`${(100*parseFloat(At)/$t).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(St(this,lt))return;const It=Sn(this,lt,document.createElement("button"));It.className="altText";const At=await Ft._l10nPromise.get("editor_alt_text_button_label");It.textContent=At,It.setAttribute("aria-label",At),It.tabIndex="0",It.addEventListener("contextmenu",rt.noContextMenu),It.addEventListener("pointerdown",Yt=>Yt.stopPropagation()),It.addEventListener("click",Yt=>{Yt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),It.addEventListener("keydown",Yt=>{Yt.target===It&&Yt.key==="Enter"&&(Yt.preventDefault(),this._uiManager.editAltText(this))}),pn(this,vt,Oo).call(this),this.div.append(It),Ft.SMALL_EDITOR_SIZE||(Ft.SMALL_EDITOR_SIZE=Math.min(128,Math.round(It.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:St(this,ot),decorative:St(this,at)}}set altTextData({altText:It,decorative:At}){St(this,ot)===It&&St(this,at)===At||(Sn(this,ot,It),Sn(this,at,At),pn(this,vt,Oo).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",St(this,pt)),this.div.addEventListener("focusout",St(this,gt));const[It,At]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*At/It).toFixed(2)}%`,this.div.style.maxHeight=`${(100*It/At).toFixed(2)}%`);const[Yt,Ot]=this.getInitialTranslation();return this.translate(Yt,Ot),(0,tt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(It){const{isMac:At}=nt.FeatureTest.platform;if(It.button!==0||It.ctrlKey&&At){It.preventDefault();return}Sn(this,ht,!0),pn(this,vt,Yl).call(this,It)}moveInDOM(){var It;(It=this.parent)==null||It.moveEditorInDOM(this)}_setParentAndPosition(It,At,Yt){It.changeParent(this),this.x=At,this.y=Yt,this.fixAndSetPosition()}getRect(It,At){const Yt=this.parentScale,[Ot,yt]=this.pageDimensions,[Tt,$t]=this.pageTranslation,Ut=It/Yt,Ht=At/Yt,Wt=this.x*Ot,Qt=this.y*yt,mn=this.width*Ot,fn=this.height*yt;switch(this.rotation){case 0:return[Wt+Ut+Tt,yt-Qt-Ht-fn+$t,Wt+Ut+mn+Tt,yt-Qt-Ht+$t];case 90:return[Wt+Ht+Tt,yt-Qt+Ut+$t,Wt+Ht+fn+Tt,yt-Qt+Ut+mn+$t];case 180:return[Wt-Ut-mn+Tt,yt-Qt+Ht+$t,Wt-Ut+Tt,yt-Qt+Ht+fn+$t];case 270:return[Wt-Ht-fn+Tt,yt-Qt-Ut-mn+$t,Wt-Ht+Tt,yt-Qt-Ut+$t];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(It,At){const[Yt,Ot,yt,Tt]=It,$t=yt-Yt,Ut=Tt-Ot;switch(this.rotation){case 0:return[Yt,At-Tt,$t,Ut];case 90:return[Yt,At-Ot,Ut,$t];case 180:return[yt,At-Ot,$t,Ut];case 270:return[yt,At-Tt,Ut,$t];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Sn(this,bt,!0)}disableEditMode(){Sn(this,bt,!1)}isInEditMode(){return St(this,bt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var It,At;(It=this.div)==null||It.addEventListener("focusin",St(this,pt)),(At=this.div)==null||At.addEventListener("focusout",St(this,gt))}serialize(It=!1,At=null){(0,nt.unreachable)("An editor must be serializable")}static deserialize(It,At,Yt){const Ot=new this.prototype.constructor({parent:At,id:At.getNextId(),uiManager:Yt});Ot.rotation=It.rotation;const[yt,Tt]=Ot.pageDimensions,[$t,Ut,Ht,Wt]=Ot.getRectInCurrentCoords(It.rect,Tt);return Ot.x=$t/yt,Ot.y=Ut/Tt,Ot.width=Ht/yt,Ot.height=Wt/Tt,Ot}remove(){var It;this.div.removeEventListener("focusin",St(this,pt)),this.div.removeEventListener("focusout",St(this,gt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(It=St(this,lt))==null||It.remove(),Sn(this,lt,null),Sn(this,ut,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(pn(this,vt,Gl).call(this),St(this,ft).classList.remove("hidden"))}select(){var It;this.makeResizable(),(It=this.div)==null||It.classList.add("selectedEditor")}unselect(){var It,At,Yt;(It=St(this,ft))==null||It.classList.add("hidden"),(At=this.div)==null||At.classList.remove("selectedEditor"),(Yt=this.div)!=null&&Yt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(It,At){}disableEditing(){St(this,lt)&&(St(this,lt).hidden=!0)}enableEditing(){St(this,lt)&&(St(this,lt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return St(this,mt)}set isEditing(It){Sn(this,mt,It),this.parent&&(It?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(It,At){Sn(this,ct,!0);const Yt=It/At,{style:Ot}=this.div;Ot.aspectRatio=Yt,Ot.height="auto"}static get MIN_SIZE(){return 16}};ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakMap,mt=new WeakMap,bt=new WeakMap,xt=new WeakMap,Et=new WeakMap,vt=new WeakSet,No=function([It,At],Yt,Ot){[Yt,Ot]=this.screenToPageTranslation(Yt,Ot),this.x+=Yt/It,this.y+=Ot/At,this.fixAndSetPosition()},Mo=function(){const[It,At]=this.parentDimensions,{_borderLineWidth:Yt}=Ft,Ot=Yt/It,yt=Yt/At;switch(this.rotation){case 90:return[-Ot,yt];case 180:return[Ot,yt];case 270:return[Ot,-yt];default:return[-Ot,-yt]}},Ct=new WeakSet,Io=function(It,At,Yt){switch(Yt){case 90:return[At,-It];case 180:return[-It,-At];case 270:return[-At,It];default:return[It,At]}},$o=function(It){switch(It){case 90:{const[At,Yt]=this.pageDimensions;return[0,-At/Yt,Yt/At,0]}case 180:return[-1,0,0,-1];case 270:{const[At,Yt]=this.pageDimensions;return[0,At/Yt,-Yt/At,0]}default:return[1,0,0,1]}},Gl=function(){if(St(this,ft))return;Sn(this,ft,document.createElement("div")),St(this,ft).classList.add("resizers");const It=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||It.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const At of It){const Yt=document.createElement("div");St(this,ft).append(Yt),Yt.classList.add("resizer",At),Yt.addEventListener("pointerdown",pn(this,vt,Kl).bind(this,At)),Yt.addEventListener("contextmenu",rt.noContextMenu)}this.div.prepend(St(this,ft))},Kl=function(It,At){At.preventDefault();const{isMac:Yt}=nt.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&Yt)return;const Ot=pn(this,vt,Xl).bind(this,It),yt=this._isDraggable;this._isDraggable=!1;const Tt={passive:!0,capture:!0};window.addEventListener("pointermove",Ot,Tt);const $t=this.x,Ut=this.y,Ht=this.width,Wt=this.height,Qt=this.parent.div.style.cursor,mn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(At.target).cursor;const fn=()=>{this._isDraggable=yt,window.removeEventListener("pointerup",fn),window.removeEventListener("blur",fn),window.removeEventListener("pointermove",Ot,Tt),this.parent.div.style.cursor=Qt,this.div.style.cursor=mn;const En=this.x,kn=this.y,Tn=this.width,An=this.height;En===$t&&kn===Ut&&Tn===Ht&&An===Wt||this.addCommands({cmd:()=>{this.width=Tn,this.height=An,this.x=En,this.y=kn;const[sn,dn]=this.parentDimensions;this.setDims(sn*Tn,dn*An),this.fixAndSetPosition()},undo:()=>{this.width=Ht,this.height=Wt,this.x=$t,this.y=Ut;const[sn,dn]=this.parentDimensions;this.setDims(sn*Ht,dn*Wt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",fn),window.addEventListener("blur",fn)},Xl=function(It,At){const[Yt,Ot]=this.parentDimensions,yt=this.x,Tt=this.y,$t=this.width,Ut=this.height,Ht=Ft.MIN_SIZE/Yt,Wt=Ft.MIN_SIZE/Ot,Qt=zn=>Math.round(zn*1e4)/1e4,mn=pn(this,vt,$o).call(this,this.rotation),fn=(zn,Zn)=>[mn[0]*zn+mn[2]*Zn,mn[1]*zn+mn[3]*Zn],En=pn(this,vt,$o).call(this,360-this.rotation),kn=(zn,Zn)=>[En[0]*zn+En[2]*Zn,En[1]*zn+En[3]*Zn];let Tn,An,sn=!1,dn=!1;switch(It){case"topLeft":sn=!0,Tn=(zn,Zn)=>[0,0],An=(zn,Zn)=>[zn,Zn];break;case"topMiddle":Tn=(zn,Zn)=>[zn/2,0],An=(zn,Zn)=>[zn/2,Zn];break;case"topRight":sn=!0,Tn=(zn,Zn)=>[zn,0],An=(zn,Zn)=>[0,Zn];break;case"middleRight":dn=!0,Tn=(zn,Zn)=>[zn,Zn/2],An=(zn,Zn)=>[0,Zn/2];break;case"bottomRight":sn=!0,Tn=(zn,Zn)=>[zn,Zn],An=(zn,Zn)=>[0,0];break;case"bottomMiddle":Tn=(zn,Zn)=>[zn/2,Zn],An=(zn,Zn)=>[zn/2,0];break;case"bottomLeft":sn=!0,Tn=(zn,Zn)=>[0,Zn],An=(zn,Zn)=>[zn,0];break;case"middleLeft":dn=!0,Tn=(zn,Zn)=>[0,Zn/2],An=(zn,Zn)=>[zn,Zn/2];break}const Mt=Tn($t,Ut),Vt=An($t,Ut);let nn=fn(...Vt);const on=Qt(yt+nn[0]),yn=Qt(Tt+nn[1]);let Pn=1,Nn=1,[cn,Kt]=this.screenToPageTranslation(At.movementX,At.movementY);if([cn,Kt]=kn(cn/Yt,Kt/Ot),sn){const zn=Math.hypot($t,Ut);Pn=Nn=Math.max(Math.min(Math.hypot(Vt[0]-Mt[0]-cn,Vt[1]-Mt[1]-Kt)/zn,1/$t,1/Ut),Ht/$t,Wt/Ut)}else dn?Pn=Math.max(Ht,Math.min(1,Math.abs(Vt[0]-Mt[0]-cn)))/$t:Nn=Math.max(Wt,Math.min(1,Math.abs(Vt[1]-Mt[1]-Kt)))/Ut;const en=Qt($t*Pn),$n=Qt(Ut*Nn);nn=fn(...An(en,$n));const Ln=on-nn[0],qn=yn-nn[1];this.width=en,this.height=$n,this.x=Ln,this.y=qn,this.setDims(Yt*en,Ot*$n),this.fixAndSetPosition()},Oo=async function(){var Yt;const It=St(this,lt);if(!It)return;if(!St(this,ot)&&!St(this,at)){It.classList.remove("done"),(Yt=St(this,ut))==null||Yt.remove();return}Ft._l10nPromise.get("editor_alt_text_edit_button_label").then(Ot=>{It.setAttribute("aria-label",Ot)});let At=St(this,ut);if(!At){Sn(this,ut,At=document.createElement("span")),At.className="tooltip",At.setAttribute("role","tooltip");const Ot=At.id=`alt-text-tooltip-${this.id}`;It.setAttribute("aria-describedby",Ot);const yt=100;It.addEventListener("mouseenter",()=>{Sn(this,dt,setTimeout(()=>{Sn(this,dt,null),St(this,ut).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},yt))}),It.addEventListener("mouseleave",()=>{var Tt;clearTimeout(St(this,dt)),Sn(this,dt,null),(Tt=St(this,ut))==null||Tt.classList.remove("show")})}It.classList.add("done"),At.innerText=St(this,at)?await Ft._l10nPromise.get("editor_alt_text_decorative_tooltip"):St(this,ot),At.parentNode||It.append(At)},Yl=function(It){if(!this._isDraggable)return;const At=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Yt,Ot;At&&(Yt={passive:!0,capture:!0},Ot=Tt=>{const[$t,Ut]=this.screenToPageTranslation(Tt.movementX,Tt.movementY);this._uiManager.dragSelectedEditors($t,Ut)},window.addEventListener("pointermove",Ot,Yt));const yt=()=>{if(window.removeEventListener("pointerup",yt),window.removeEventListener("blur",yt),At&&window.removeEventListener("pointermove",Ot,Yt),Sn(this,ht,!1),!this._uiManager.endDragSession()){const{isMac:Tt}=nt.FeatureTest.platform;It.ctrlKey&&!Tt||It.shiftKey||It.metaKey&&Tt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",yt),window.addEventListener("blur",yt)},wn(Ft,Ct),Gr(Ft,"_borderLineWidth",-1),Gr(Ft,"_colorManager",new tt.ColorManager),Gr(Ft,"_zIndex",1),Gr(Ft,"SMALL_EDITOR_SIZE",0);let it=Ft;_e.AnnotationEditor=it;class st extends it{constructor(It){super(It),this.annotationElementId=It.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},($,_e,et)=>{var ct,ft,pt,gt,ht,Lo,xt,Et,vt,_t,wt,Zl,kt,Pt,Dt,qt,zt,jt,Ft,Bt,It,At,Yt,Ot,yt,Tt,$t,Ut,Ht,Wt,Qt,mn,fn,En,kn,Tn,An,sn,dn,Mt,Vt,nn,on,yn,Pn,Nn,cn,Jl,Do,jo,ro,Fo,Bo,fs,Bs,Ql,_c,Uo,Us,zo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeyboardManager=_e.CommandManager=_e.ColorManager=_e.AnnotationEditorUIManager=void 0,_e.bindEvents=rt,_e.opacityToHex=it;var tt=et(1),nt=et(6);function rt(ur,Zt,Mn){for(const Hn of Mn)Zt.addEventListener(Hn,ur[Hn].bind(ur))}function it(ur){return Math.round(Math.min(255,Math.max(1,255*ur))).toString(16).padStart(2,"0")}class st{constructor(){wn(this,ct,0)}getId(){return`${tt.AnnotationEditorPrefix}${Fs(this,ct)._++}`}}ct=new WeakMap;const bt=class bt{constructor(){wn(this,ht);wn(this,ft,(0,tt.getUuid)());wn(this,pt,0);wn(this,gt,null)}static get _isSVGFittingCanvas(){const Zt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Hn=new OffscreenCanvas(1,3).getContext("2d"),tr=new Image;tr.src=Zt;const ir=tr.decode().then(()=>(Hn.drawImage(tr,0,0,1,1,0,0,1,3),new Uint32Array(Hn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,tt.shadow)(this,"_isSVGFittingCanvas",ir)}async getFromFile(Zt){const{lastModified:Mn,name:Hn,size:tr,type:ir}=Zt;return pn(this,ht,Lo).call(this,`${Mn}_${Hn}_${tr}_${ir}`,Zt)}async getFromUrl(Zt){return pn(this,ht,Lo).call(this,Zt,Zt)}async getFromId(Zt){St(this,gt)||Sn(this,gt,new Map);const Mn=St(this,gt).get(Zt);return Mn?Mn.bitmap?(Mn.refCounter+=1,Mn):Mn.file?this.getFromFile(Mn.file):this.getFromUrl(Mn.url):null}getSvgUrl(Zt){const Mn=St(this,gt).get(Zt);return Mn!=null&&Mn.isSvg?Mn.svgUrl:null}deleteId(Zt){St(this,gt)||Sn(this,gt,new Map);const Mn=St(this,gt).get(Zt);Mn&&(Mn.refCounter-=1,Mn.refCounter===0&&(Mn.bitmap=null))}isValidId(Zt){return Zt.startsWith(`image_${St(this,ft)}_`)}};ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakSet,Lo=async function(Zt,Mn){St(this,gt)||Sn(this,gt,new Map);let Hn=St(this,gt).get(Zt);if(Hn===null)return null;if(Hn!=null&&Hn.bitmap)return Hn.refCounter+=1,Hn;try{Hn||(Hn={bitmap:null,id:`image_${St(this,ft)}_${Fs(this,pt)._++}`,refCounter:0,isSvg:!1});let tr;if(typeof Mn=="string"){Hn.url=Mn;const ir=await fetch(Mn);if(!ir.ok)throw new Error(ir.statusText);tr=await ir.blob()}else tr=Hn.file=Mn;if(tr.type==="image/svg+xml"){const ir=bt._isSVGFittingCanvas,Yn=new FileReader,Xt=new Image,Gt=new Promise((ln,Cn)=>{Xt.onload=()=>{Hn.bitmap=Xt,Hn.isSvg=!0,ln()},Yn.onload=async()=>{const Rn=Hn.svgUrl=Yn.result;Xt.src=await ir?`${Rn}#svgView(preserveAspectRatio(none))`:Rn},Xt.onerror=Yn.onerror=Cn});Yn.readAsDataURL(tr),await Gt}else Hn.bitmap=await createImageBitmap(tr);Hn.refCounter=1}catch(tr){console.error(tr),Hn=null}return St(this,gt).set(Zt,Hn),Hn&&St(this,gt).set(Hn.id,Hn),Hn};let ot=bt;class at{constructor(Zt=128){wn(this,xt,[]);wn(this,Et,!1);wn(this,vt);wn(this,_t,-1);Sn(this,vt,Zt)}add({cmd:Zt,undo:Mn,mustExec:Hn,type:tr=NaN,overwriteIfSameType:ir=!1,keepUndo:Yn=!1}){if(Hn&&Zt(),St(this,Et))return;const Xt={cmd:Zt,undo:Mn,type:tr};if(St(this,_t)===-1){St(this,xt).length>0&&(St(this,xt).length=0),Sn(this,_t,0),St(this,xt).push(Xt);return}if(ir&&St(this,xt)[St(this,_t)].type===tr){Yn&&(Xt.undo=St(this,xt)[St(this,_t)].undo),St(this,xt)[St(this,_t)]=Xt;return}const Gt=St(this,_t)+1;Gt===St(this,vt)?St(this,xt).splice(0,1):(Sn(this,_t,Gt),Gt<St(this,xt).length&&St(this,xt).splice(Gt)),St(this,xt).push(Xt)}undo(){St(this,_t)!==-1&&(Sn(this,Et,!0),St(this,xt)[St(this,_t)].undo(),Sn(this,Et,!1),Sn(this,_t,St(this,_t)-1))}redo(){St(this,_t)<St(this,xt).length-1&&(Sn(this,_t,St(this,_t)+1),Sn(this,Et,!0),St(this,xt)[St(this,_t)].cmd(),Sn(this,Et,!1))}hasSomethingToUndo(){return St(this,_t)!==-1}hasSomethingToRedo(){return St(this,_t)<St(this,xt).length-1}destroy(){Sn(this,xt,null)}}xt=new WeakMap,Et=new WeakMap,vt=new WeakMap,_t=new WeakMap,_e.CommandManager=at;class lt{constructor(Zt){wn(this,wt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Mn}=tt.FeatureTest.platform;for(const[Hn,tr,ir={}]of Zt)for(const Yn of Hn){const Xt=Yn.startsWith("mac+");Mn&&Xt?(this.callbacks.set(Yn.slice(4),{callback:tr,options:ir}),this.allKeys.add(Yn.split("+").at(-1))):!Mn&&!Xt&&(this.callbacks.set(Yn,{callback:tr,options:ir}),this.allKeys.add(Yn.split("+").at(-1)))}}exec(Zt,Mn){if(!this.allKeys.has(Mn.key))return;const Hn=this.callbacks.get(pn(this,wt,Zl).call(this,Mn));if(!Hn)return;const{callback:tr,options:{bubbles:ir=!1,args:Yn=[],checker:Xt=null}}=Hn;Xt&&!Xt(Zt,Mn)||(tr.bind(Zt,...Yn)(),ir||(Mn.stopPropagation(),Mn.preventDefault()))}}wt=new WeakSet,Zl=function(Zt){Zt.altKey&&this.buffer.push("alt"),Zt.ctrlKey&&this.buffer.push("ctrl"),Zt.metaKey&&this.buffer.push("meta"),Zt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Zt.key);const Mn=this.buffer.join("+");return this.buffer.length=0,Mn},_e.KeyboardManager=lt;const Nt=class Nt{get _colors(){const Zt=new Map([["CanvasText",null],["Canvas",null]]);return(0,nt.getColorValues)(Zt),(0,tt.shadow)(this,"_colors",Zt)}convert(Zt){const Mn=(0,nt.getRGB)(Zt);if(!window.matchMedia("(forced-colors: active)").matches)return Mn;for(const[Hn,tr]of this._colors)if(tr.every((ir,Yn)=>ir===Mn[Yn]))return Nt._colorsMapping.get(Hn);return Mn}getHexCode(Zt){const Mn=this._colors.get(Zt);return Mn?tt.Util.makeHexColor(...Mn):Zt}};Gr(Nt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ut=Nt;_e.ColorManager=ut;const er=class er{constructor(Zt,Mn,Hn,tr,ir,Yn){wn(this,cn);wn(this,kt,null);wn(this,Pt,new Map);wn(this,Dt,new Map);wn(this,qt,null);wn(this,zt,null);wn(this,jt,new at);wn(this,Ft,0);wn(this,Bt,new Set);wn(this,It,null);wn(this,At,null);wn(this,Yt,new Set);wn(this,Ot,null);wn(this,yt,new st);wn(this,Tt,!1);wn(this,$t,!1);wn(this,Ut,null);wn(this,Ht,tt.AnnotationEditorType.NONE);wn(this,Wt,new Set);wn(this,Qt,null);wn(this,mn,this.blur.bind(this));wn(this,fn,this.focus.bind(this));wn(this,En,this.copy.bind(this));wn(this,kn,this.cut.bind(this));wn(this,Tn,this.paste.bind(this));wn(this,An,this.keydown.bind(this));wn(this,sn,this.onEditingAction.bind(this));wn(this,dn,this.onPageChanging.bind(this));wn(this,Mt,this.onScaleChanging.bind(this));wn(this,Vt,this.onRotationChanging.bind(this));wn(this,nn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});wn(this,on,[0,0]);wn(this,yn,null);wn(this,Pn,null);wn(this,Nn,null);Sn(this,Pn,Zt),Sn(this,Nn,Mn),Sn(this,qt,Hn),this._eventBus=tr,this._eventBus._on("editingaction",St(this,sn)),this._eventBus._on("pagechanging",St(this,dn)),this._eventBus._on("scalechanging",St(this,Mt)),this._eventBus._on("rotationchanging",St(this,Vt)),Sn(this,zt,ir.annotationStorage),Sn(this,Ot,ir.filterFactory),Sn(this,Qt,Yn),this.viewParameters={realScale:nt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Zt=er.prototype,Mn=ir=>{const{activeElement:Yn}=document;return Yn&&St(ir,Pn).contains(Yn)&&ir.hasSomethingToControl()},Hn=this.TRANSLATE_SMALL,tr=this.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new lt([[["ctrl+a","mac+meta+a"],Zt.selectAll],[["ctrl+z","mac+meta+z"],Zt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Zt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Zt.delete],[["Escape","mac+Escape"],Zt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Zt.translateSelectedEditors,{args:[-Hn,0],checker:Mn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Zt.translateSelectedEditors,{args:[-tr,0],checker:Mn}],[["ArrowRight","mac+ArrowRight"],Zt.translateSelectedEditors,{args:[Hn,0],checker:Mn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Zt.translateSelectedEditors,{args:[tr,0],checker:Mn}],[["ArrowUp","mac+ArrowUp"],Zt.translateSelectedEditors,{args:[0,-Hn],checker:Mn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Zt.translateSelectedEditors,{args:[0,-tr],checker:Mn}],[["ArrowDown","mac+ArrowDown"],Zt.translateSelectedEditors,{args:[0,Hn],checker:Mn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Zt.translateSelectedEditors,{args:[0,tr],checker:Mn}]]))}destroy(){pn(this,cn,ro).call(this),pn(this,cn,Do).call(this),this._eventBus._off("editingaction",St(this,sn)),this._eventBus._off("pagechanging",St(this,dn)),this._eventBus._off("scalechanging",St(this,Mt)),this._eventBus._off("rotationchanging",St(this,Vt));for(const Zt of St(this,Dt).values())Zt.destroy();St(this,Dt).clear(),St(this,Pt).clear(),St(this,Yt).clear(),Sn(this,kt,null),St(this,Wt).clear(),St(this,jt).destroy(),St(this,qt).destroy()}get hcmFilter(){return(0,tt.shadow)(this,"hcmFilter",St(this,Qt)?St(this,Ot).addHCMFilter(St(this,Qt).foreground,St(this,Qt).background):"none")}get direction(){return(0,tt.shadow)(this,"direction",getComputedStyle(St(this,Pn)).direction)}editAltText(Zt){var Mn;(Mn=St(this,qt))==null||Mn.editAltText(this,Zt)}onPageChanging({pageNumber:Zt}){Sn(this,Ft,Zt-1)}focusMainContainer(){St(this,Pn).focus()}findParent(Zt,Mn){for(const Hn of St(this,Dt).values()){const{x:tr,y:ir,width:Yn,height:Xt}=Hn.div.getBoundingClientRect();if(Zt>=tr&&Zt<=tr+Yn&&Mn>=ir&&Mn<=ir+Xt)return Hn}return null}disableUserSelect(Zt=!1){St(this,Nn).classList.toggle("noUserSelect",Zt)}addShouldRescale(Zt){St(this,Yt).add(Zt)}removeShouldRescale(Zt){St(this,Yt).delete(Zt)}onScaleChanging({scale:Zt}){this.commitOrRemove(),this.viewParameters.realScale=Zt*nt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Mn of St(this,Yt))Mn.onScaleChanging()}onRotationChanging({pagesRotation:Zt}){this.commitOrRemove(),this.viewParameters.rotation=Zt}addToAnnotationStorage(Zt){!Zt.isEmpty()&&St(this,zt)&&!St(this,zt).has(Zt.id)&&St(this,zt).setValue(Zt.id,Zt)}blur(){if(!this.hasSelection)return;const{activeElement:Zt}=document;for(const Mn of St(this,Wt))if(Mn.div.contains(Zt)){Sn(this,Ut,[Mn,Zt]),Mn._focusEventsAllowed=!1;break}}focus(){if(!St(this,Ut))return;const[Zt,Mn]=St(this,Ut);Sn(this,Ut,null),Mn.addEventListener("focusin",()=>{Zt._focusEventsAllowed=!0},{once:!0}),Mn.focus()}addEditListeners(){pn(this,cn,jo).call(this),pn(this,cn,Fo).call(this)}removeEditListeners(){pn(this,cn,ro).call(this),pn(this,cn,Bo).call(this)}copy(Zt){var Hn;if(Zt.preventDefault(),(Hn=St(this,kt))==null||Hn.commitOrRemove(),!this.hasSelection)return;const Mn=[];for(const tr of St(this,Wt)){const ir=tr.serialize(!0);ir&&Mn.push(ir)}Mn.length!==0&&Zt.clipboardData.setData("application/pdfjs",JSON.stringify(Mn))}cut(Zt){this.copy(Zt),this.delete()}paste(Zt){Zt.preventDefault();const{clipboardData:Mn}=Zt;for(const ir of Mn.items)for(const Yn of St(this,At))if(Yn.isHandlingMimeForPasting(ir.type)){Yn.paste(ir,this.currentLayer);return}let Hn=Mn.getData("application/pdfjs");if(!Hn)return;try{Hn=JSON.parse(Hn)}catch(ir){(0,tt.warn)(`paste: "${ir.message}".`);return}if(!Array.isArray(Hn))return;this.unselectAll();const tr=this.currentLayer;try{const ir=[];for(const Gt of Hn){const ln=tr.deserialize(Gt);if(!ln)return;ir.push(ln)}const Yn=()=>{for(const Gt of ir)pn(this,cn,Uo).call(this,Gt);pn(this,cn,zo).call(this,ir)},Xt=()=>{for(const Gt of ir)Gt.remove()};this.addCommands({cmd:Yn,undo:Xt,mustExec:!0})}catch(ir){(0,tt.warn)(`paste: "${ir.message}".`)}}keydown(Zt){var Mn;(Mn=this.getActive())!=null&&Mn.shouldGetKeyboardEvents()||er._keyboardManager.exec(this,Zt)}onEditingAction(Zt){["undo","redo","delete","selectAll"].includes(Zt.name)&&this[Zt.name]()}setEditingState(Zt){Zt?(pn(this,cn,Jl).call(this),pn(this,cn,jo).call(this),pn(this,cn,Fo).call(this),pn(this,cn,fs).call(this,{isEditing:St(this,Ht)!==tt.AnnotationEditorType.NONE,isEmpty:pn(this,cn,Us).call(this),hasSomethingToUndo:St(this,jt).hasSomethingToUndo(),hasSomethingToRedo:St(this,jt).hasSomethingToRedo(),hasSelectedEditor:!1})):(pn(this,cn,Do).call(this),pn(this,cn,ro).call(this),pn(this,cn,Bo).call(this),pn(this,cn,fs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Zt){if(!St(this,At)){Sn(this,At,Zt);for(const Mn of St(this,At))pn(this,cn,Bs).call(this,Mn.defaultPropertiesToUpdate)}}getId(){return St(this,yt).getId()}get currentLayer(){return St(this,Dt).get(St(this,Ft))}getLayer(Zt){return St(this,Dt).get(Zt)}get currentPageIndex(){return St(this,Ft)}addLayer(Zt){St(this,Dt).set(Zt.pageIndex,Zt),St(this,Tt)?Zt.enable():Zt.disable()}removeLayer(Zt){St(this,Dt).delete(Zt.pageIndex)}updateMode(Zt,Mn=null){if(St(this,Ht)!==Zt){if(Sn(this,Ht,Zt),Zt===tt.AnnotationEditorType.NONE){this.setEditingState(!1),pn(this,cn,_c).call(this);return}this.setEditingState(!0),pn(this,cn,Ql).call(this),this.unselectAll();for(const Hn of St(this,Dt).values())Hn.updateMode(Zt);if(Mn){for(const Hn of St(this,Pt).values())if(Hn.annotationElementId===Mn){this.setSelected(Hn),Hn.enterInEditMode();break}}}}updateToolbar(Zt){Zt!==St(this,Ht)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Zt})}updateParams(Zt,Mn){if(St(this,At)){if(Zt===tt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Zt);return}for(const Hn of St(this,Wt))Hn.updateParams(Zt,Mn);for(const Hn of St(this,At))Hn.updateDefaultParams(Zt,Mn)}}enableWaiting(Zt=!1){if(St(this,$t)!==Zt){Sn(this,$t,Zt);for(const Mn of St(this,Dt).values())Zt?Mn.disableClick():Mn.enableClick(),Mn.div.classList.toggle("waiting",Zt)}}getEditors(Zt){const Mn=[];for(const Hn of St(this,Pt).values())Hn.pageIndex===Zt&&Mn.push(Hn);return Mn}getEditor(Zt){return St(this,Pt).get(Zt)}addEditor(Zt){St(this,Pt).set(Zt.id,Zt)}removeEditor(Zt){var Mn;St(this,Pt).delete(Zt.id),this.unselect(Zt),(!Zt.annotationElementId||!St(this,Bt).has(Zt.annotationElementId))&&((Mn=St(this,zt))==null||Mn.remove(Zt.id))}addDeletedAnnotationElement(Zt){St(this,Bt).add(Zt.annotationElementId),Zt.deleted=!0}isDeletedAnnotationElement(Zt){return St(this,Bt).has(Zt)}removeDeletedAnnotationElement(Zt){St(this,Bt).delete(Zt.annotationElementId),Zt.deleted=!1}setActiveEditor(Zt){St(this,kt)!==Zt&&(Sn(this,kt,Zt),Zt&&pn(this,cn,Bs).call(this,Zt.propertiesToUpdate))}toggleSelected(Zt){if(St(this,Wt).has(Zt)){St(this,Wt).delete(Zt),Zt.unselect(),pn(this,cn,fs).call(this,{hasSelectedEditor:this.hasSelection});return}St(this,Wt).add(Zt),Zt.select(),pn(this,cn,Bs).call(this,Zt.propertiesToUpdate),pn(this,cn,fs).call(this,{hasSelectedEditor:!0})}setSelected(Zt){for(const Mn of St(this,Wt))Mn!==Zt&&Mn.unselect();St(this,Wt).clear(),St(this,Wt).add(Zt),Zt.select(),pn(this,cn,Bs).call(this,Zt.propertiesToUpdate),pn(this,cn,fs).call(this,{hasSelectedEditor:!0})}isSelected(Zt){return St(this,Wt).has(Zt)}unselect(Zt){Zt.unselect(),St(this,Wt).delete(Zt),pn(this,cn,fs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return St(this,Wt).size!==0}undo(){St(this,jt).undo(),pn(this,cn,fs).call(this,{hasSomethingToUndo:St(this,jt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:pn(this,cn,Us).call(this)})}redo(){St(this,jt).redo(),pn(this,cn,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:St(this,jt).hasSomethingToRedo(),isEmpty:pn(this,cn,Us).call(this)})}addCommands(Zt){St(this,jt).add(Zt),pn(this,cn,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:pn(this,cn,Us).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Zt=[...St(this,Wt)],Mn=()=>{for(const tr of Zt)tr.remove()},Hn=()=>{for(const tr of Zt)pn(this,cn,Uo).call(this,tr)};this.addCommands({cmd:Mn,undo:Hn,mustExec:!0})}commitOrRemove(){var Zt;(Zt=St(this,kt))==null||Zt.commitOrRemove()}hasSomethingToControl(){return St(this,kt)||this.hasSelection}selectAll(){for(const Zt of St(this,Wt))Zt.commit();pn(this,cn,zo).call(this,St(this,Pt).values())}unselectAll(){if(St(this,kt)){St(this,kt).commitOrRemove();return}if(this.hasSelection){for(const Zt of St(this,Wt))Zt.unselect();St(this,Wt).clear(),pn(this,cn,fs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Zt,Mn,Hn=!1){if(Hn||this.commitOrRemove(),!this.hasSelection)return;St(this,on)[0]+=Zt,St(this,on)[1]+=Mn;const[tr,ir]=St(this,on),Yn=[...St(this,Wt)],Xt=1e3;St(this,yn)&&clearTimeout(St(this,yn)),Sn(this,yn,setTimeout(()=>{Sn(this,yn,null),St(this,on)[0]=St(this,on)[1]=0,this.addCommands({cmd:()=>{for(const Gt of Yn)St(this,Pt).has(Gt.id)&&Gt.translateInPage(tr,ir)},undo:()=>{for(const Gt of Yn)St(this,Pt).has(Gt.id)&&Gt.translateInPage(-tr,-ir)},mustExec:!1})},Xt));for(const Gt of Yn)Gt.translateInPage(Zt,Mn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Sn(this,It,new Map);for(const Zt of St(this,Wt))St(this,It).set(Zt,{savedX:Zt.x,savedY:Zt.y,savedPageIndex:Zt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!St(this,It))return!1;this.disableUserSelect(!1);const Zt=St(this,It);Sn(this,It,null);let Mn=!1;for(const[{x:tr,y:ir,pageIndex:Yn},Xt]of Zt)Xt.newX=tr,Xt.newY=ir,Xt.newPageIndex=Yn,Mn||(Mn=tr!==Xt.savedX||ir!==Xt.savedY||Yn!==Xt.savedPageIndex);if(!Mn)return!1;const Hn=(tr,ir,Yn,Xt)=>{if(St(this,Pt).has(tr.id)){const Gt=St(this,Dt).get(Xt);Gt?tr._setParentAndPosition(Gt,ir,Yn):(tr.pageIndex=Xt,tr.x=ir,tr.y=Yn)}};return this.addCommands({cmd:()=>{for(const[tr,{newX:ir,newY:Yn,newPageIndex:Xt}]of Zt)Hn(tr,ir,Yn,Xt)},undo:()=>{for(const[tr,{savedX:ir,savedY:Yn,savedPageIndex:Xt}]of Zt)Hn(tr,ir,Yn,Xt)},mustExec:!0}),!0}dragSelectedEditors(Zt,Mn){if(St(this,It))for(const Hn of St(this,It).keys())Hn.drag(Zt,Mn)}rebuild(Zt){if(Zt.parent===null){const Mn=this.getLayer(Zt.pageIndex);Mn?(Mn.changeParent(Zt),Mn.addOrRebuild(Zt)):(this.addEditor(Zt),this.addToAnnotationStorage(Zt),Zt.rebuild())}else Zt.parent.addOrRebuild(Zt)}isActive(Zt){return St(this,kt)===Zt}getActive(){return St(this,kt)}getMode(){return St(this,Ht)}get imageManager(){return(0,tt.shadow)(this,"imageManager",new ot)}};kt=new WeakMap,Pt=new WeakMap,Dt=new WeakMap,qt=new WeakMap,zt=new WeakMap,jt=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,It=new WeakMap,At=new WeakMap,Yt=new WeakMap,Ot=new WeakMap,yt=new WeakMap,Tt=new WeakMap,$t=new WeakMap,Ut=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,mn=new WeakMap,fn=new WeakMap,En=new WeakMap,kn=new WeakMap,Tn=new WeakMap,An=new WeakMap,sn=new WeakMap,dn=new WeakMap,Mt=new WeakMap,Vt=new WeakMap,nn=new WeakMap,on=new WeakMap,yn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,cn=new WeakSet,Jl=function(){window.addEventListener("focus",St(this,fn)),window.addEventListener("blur",St(this,mn))},Do=function(){window.removeEventListener("focus",St(this,fn)),window.removeEventListener("blur",St(this,mn))},jo=function(){window.addEventListener("keydown",St(this,An),{capture:!0})},ro=function(){window.removeEventListener("keydown",St(this,An),{capture:!0})},Fo=function(){document.addEventListener("copy",St(this,En)),document.addEventListener("cut",St(this,kn)),document.addEventListener("paste",St(this,Tn))},Bo=function(){document.removeEventListener("copy",St(this,En)),document.removeEventListener("cut",St(this,kn)),document.removeEventListener("paste",St(this,Tn))},fs=function(Zt){Object.entries(Zt).some(([Hn,tr])=>St(this,nn)[Hn]!==tr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(St(this,nn),Zt)})},Bs=function(Zt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Zt})},Ql=function(){if(!St(this,Tt)){Sn(this,Tt,!0);for(const Zt of St(this,Dt).values())Zt.enable()}},_c=function(){if(this.unselectAll(),St(this,Tt)){Sn(this,Tt,!1);for(const Zt of St(this,Dt).values())Zt.disable()}},Uo=function(Zt){const Mn=St(this,Dt).get(Zt.pageIndex);Mn?Mn.addOrRebuild(Zt):this.addEditor(Zt)},Us=function(){if(St(this,Pt).size===0)return!0;if(St(this,Pt).size===1)for(const Zt of St(this,Pt).values())return Zt.isEmpty();return!1},zo=function(Zt){St(this,Wt).clear();for(const Mn of Zt)Mn.isEmpty()||(St(this,Wt).add(Mn),Mn.select());pn(this,cn,fs).call(this,{hasSelectedEditor:!0})},Gr(er,"TRANSLATE_SMALL",1),Gr(er,"TRANSLATE_BIG",10);let dt=er;_e.AnnotationEditorUIManager=dt},($,_e,et)=>{var Ft,Bt,It,At,Yt,Ot,yt,Tt,$t,Ut,Ht,Wt,Is,$s,Vo,io,so,zs,Vs;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatTimer=_e.RenderingCancelledException=_e.PixelsPerInch=_e.PageViewport=_e.PDFDateString=_e.DOMStandardFontDataFactory=_e.DOMSVGFactory=_e.DOMFilterFactory=_e.DOMCanvasFactory=_e.DOMCMapReaderFactory=void 0,_e.deprecated=_t,_e.getColorValues=Pt,_e.getCurrentTransform=Dt,_e.getCurrentTransformInverse=qt,_e.getFilenameFromUrl=ht,_e.getPdfFilenameFromUrl=mt,_e.getRGB=kt,_e.getXfaPageViewport=Nt,_e.isDataScheme=pt,_e.isPdfFile=gt,_e.isValidFetchUrl=xt,_e.loadScript=vt,_e.noContextMenu=Et,_e.setLayerDimensions=zt;var tt=et(7),nt=et(1);const rt="http://www.w3.org/2000/svg",jt=class jt{};Gr(jt,"CSS",96),Gr(jt,"PDF",72),Gr(jt,"PDF_TO_CSS_UNITS",jt.CSS/jt.PDF);let it=jt;_e.PixelsPerInch=it;class st extends tt.BaseFilterFactory{constructor({docId:Mt,ownerDocument:Vt=globalThis.document}={}){super();wn(this,Wt);wn(this,Ft);wn(this,Bt);wn(this,It);wn(this,At);wn(this,Yt);wn(this,Ot);wn(this,yt);wn(this,Tt);wn(this,$t);wn(this,Ut);wn(this,Ht,0);Sn(this,It,Mt),Sn(this,At,Vt)}addFilter(Mt){if(!Mt)return"none";let Vt=St(this,Wt,Is).get(Mt);if(Vt)return Vt;let nn,on,yn,Pn;if(Mt.length===1){const en=Mt[0],$n=new Array(256);for(let Ln=0;Ln<256;Ln++)$n[Ln]=en[Ln]/255;Pn=nn=on=yn=$n.join(",")}else{const[en,$n,Ln]=Mt,qn=new Array(256),zn=new Array(256),Zn=new Array(256);for(let cr=0;cr<256;cr++)qn[cr]=en[cr]/255,zn[cr]=$n[cr]/255,Zn[cr]=Ln[cr]/255;nn=qn.join(","),on=zn.join(","),yn=Zn.join(","),Pn=`${nn}${on}${yn}`}if(Vt=St(this,Wt,Is).get(Pn),Vt)return St(this,Wt,Is).set(Mt,Vt),Vt;const Nn=`g_${St(this,It)}_transfer_map_${Fs(this,Ht)._++}`,cn=`url(#${Nn})`;St(this,Wt,Is).set(Mt,cn),St(this,Wt,Is).set(Pn,cn);const Kt=pn(this,Wt,io).call(this,Nn);return pn(this,Wt,zs).call(this,nn,on,yn,Kt),cn}addHCMFilter(Mt,Vt){var $n;const nn=`${Mt}-${Vt}`;if(St(this,Ot)===nn)return St(this,yt);if(Sn(this,Ot,nn),Sn(this,yt,"none"),($n=St(this,Yt))==null||$n.remove(),!Mt||!Vt)return St(this,yt);const on=pn(this,Wt,Vs).call(this,Mt);Mt=nt.Util.makeHexColor(...on);const yn=pn(this,Wt,Vs).call(this,Vt);if(Vt=nt.Util.makeHexColor(...yn),St(this,Wt,$s).style.color="",Mt==="#000000"&&Vt==="#ffffff"||Mt===Vt)return St(this,yt);const Pn=new Array(256);for(let Ln=0;Ln<=255;Ln++){const qn=Ln/255;Pn[Ln]=qn<=.03928?qn/12.92:((qn+.055)/1.055)**2.4}const Nn=Pn.join(","),cn=`g_${St(this,It)}_hcm_filter`,Kt=Sn(this,Tt,pn(this,Wt,io).call(this,cn));pn(this,Wt,zs).call(this,Nn,Nn,Nn,Kt),pn(this,Wt,Vo).call(this,Kt);const en=(Ln,qn)=>{const zn=on[Ln]/255,Zn=yn[Ln]/255,cr=new Array(qn+1);for(let Pr=0;Pr<=qn;Pr++)cr[Pr]=zn+Pr/qn*(Zn-zn);return cr.join(",")};return pn(this,Wt,zs).call(this,en(0,5),en(1,5),en(2,5),Kt),Sn(this,yt,`url(#${cn})`),St(this,yt)}addHighlightHCMFilter(Mt,Vt,nn,on){var Zn;const yn=`${Mt}-${Vt}-${nn}-${on}`;if(St(this,$t)===yn)return St(this,Ut);if(Sn(this,$t,yn),Sn(this,Ut,"none"),(Zn=St(this,Tt))==null||Zn.remove(),!Mt||!Vt)return St(this,Ut);const[Pn,Nn]=[Mt,Vt].map(pn(this,Wt,Vs).bind(this));let cn=Math.round(.2126*Pn[0]+.7152*Pn[1]+.0722*Pn[2]),Kt=Math.round(.2126*Nn[0]+.7152*Nn[1]+.0722*Nn[2]),[en,$n]=[nn,on].map(pn(this,Wt,Vs).bind(this));Kt<cn&&([cn,Kt,en,$n]=[Kt,cn,$n,en]),St(this,Wt,$s).style.color="";const Ln=(cr,Pr,In)=>{const hn=new Array(256),gn=(Kt-cn)/In,Kn=cr/255,er=(Pr-cr)/(255*In);let ur=0;for(let Zt=0;Zt<=In;Zt++){const Mn=Math.round(cn+Zt*gn),Hn=Kn+Zt*er;for(let tr=ur;tr<=Mn;tr++)hn[tr]=Hn;ur=Mn+1}for(let Zt=ur;Zt<256;Zt++)hn[Zt]=hn[ur-1];return hn.join(",")},qn=`g_${St(this,It)}_hcm_highlight_filter`,zn=Sn(this,Tt,pn(this,Wt,io).call(this,qn));return pn(this,Wt,Vo).call(this,zn),pn(this,Wt,zs).call(this,Ln(en[0],$n[0],5),Ln(en[1],$n[1],5),Ln(en[2],$n[2],5),zn),Sn(this,Ut,`url(#${qn})`),St(this,Ut)}destroy(Mt=!1){Mt&&(St(this,yt)||St(this,Ut))||(St(this,Bt)&&(St(this,Bt).parentNode.parentNode.remove(),Sn(this,Bt,null)),St(this,Ft)&&(St(this,Ft).clear(),Sn(this,Ft,null)),Sn(this,Ht,0))}}Ft=new WeakMap,Bt=new WeakMap,It=new WeakMap,At=new WeakMap,Yt=new WeakMap,Ot=new WeakMap,yt=new WeakMap,Tt=new WeakMap,$t=new WeakMap,Ut=new WeakMap,Ht=new WeakMap,Wt=new WeakSet,Is=function(){return St(this,Ft)||Sn(this,Ft,new Map)},$s=function(){if(!St(this,Bt)){const Mt=St(this,At).createElement("div"),{style:Vt}=Mt;Vt.visibility="hidden",Vt.contain="strict",Vt.width=Vt.height=0,Vt.position="absolute",Vt.top=Vt.left=0,Vt.zIndex=-1;const nn=St(this,At).createElementNS(rt,"svg");nn.setAttribute("width",0),nn.setAttribute("height",0),Sn(this,Bt,St(this,At).createElementNS(rt,"defs")),Mt.append(nn),nn.append(St(this,Bt)),St(this,At).body.append(Mt)}return St(this,Bt)},Vo=function(Mt){const Vt=St(this,At).createElementNS(rt,"feColorMatrix");Vt.setAttribute("type","matrix"),Vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Mt.append(Vt)},io=function(Mt){const Vt=St(this,At).createElementNS(rt,"filter");return Vt.setAttribute("color-interpolation-filters","sRGB"),Vt.setAttribute("id",Mt),St(this,Wt,$s).append(Vt),Vt},so=function(Mt,Vt,nn){const on=St(this,At).createElementNS(rt,Vt);on.setAttribute("type","discrete"),on.setAttribute("tableValues",nn),Mt.append(on)},zs=function(Mt,Vt,nn,on){const yn=St(this,At).createElementNS(rt,"feComponentTransfer");on.append(yn),pn(this,Wt,so).call(this,yn,"feFuncR",Mt),pn(this,Wt,so).call(this,yn,"feFuncG",Vt),pn(this,Wt,so).call(this,yn,"feFuncB",nn)},Vs=function(Mt){return St(this,Wt,$s).style.color=Mt,kt(getComputedStyle(St(this,Wt,$s)).getPropertyValue("color"))},_e.DOMFilterFactory=st;class ot extends tt.BaseCanvasFactory{constructor({ownerDocument:dn=globalThis.document}={}){super(),this._document=dn}_createCanvas(dn,Mt){const Vt=this._document.createElement("canvas");return Vt.width=dn,Vt.height=Mt,Vt}}_e.DOMCanvasFactory=ot;async function at(sn,dn=!1){if(xt(sn,document.baseURI)){const Mt=await fetch(sn);if(!Mt.ok)throw new Error(Mt.statusText);return dn?new Uint8Array(await Mt.arrayBuffer()):(0,nt.stringToBytes)(await Mt.text())}return new Promise((Mt,Vt)=>{const nn=new XMLHttpRequest;nn.open("GET",sn,!0),dn&&(nn.responseType="arraybuffer"),nn.onreadystatechange=()=>{if(nn.readyState===XMLHttpRequest.DONE){if(nn.status===200||nn.status===0){let on;if(dn&&nn.response?on=new Uint8Array(nn.response):!dn&&nn.responseText&&(on=(0,nt.stringToBytes)(nn.responseText)),on){Mt(on);return}}Vt(new Error(nn.statusText))}},nn.send(null)})}class lt extends tt.BaseCMapReaderFactory{_fetchData(dn,Mt){return at(dn,this.isCompressed).then(Vt=>({cMapData:Vt,compressionType:Mt}))}}_e.DOMCMapReaderFactory=lt;class ut extends tt.BaseStandardFontDataFactory{_fetchData(dn){return at(dn,!0)}}_e.DOMStandardFontDataFactory=ut;class dt extends tt.BaseSVGFactory{_createSVG(dn){return document.createElementNS(rt,dn)}}_e.DOMSVGFactory=dt;class ct{constructor({viewBox:dn,scale:Mt,rotation:Vt,offsetX:nn=0,offsetY:on=0,dontFlip:yn=!1}){this.viewBox=dn,this.scale=Mt,this.rotation=Vt,this.offsetX=nn,this.offsetY=on;const Pn=(dn[2]+dn[0])/2,Nn=(dn[3]+dn[1])/2;let cn,Kt,en,$n;switch(Vt%=360,Vt<0&&(Vt+=360),Vt){case 180:cn=-1,Kt=0,en=0,$n=1;break;case 90:cn=0,Kt=1,en=1,$n=0;break;case 270:cn=0,Kt=-1,en=-1,$n=0;break;case 0:cn=1,Kt=0,en=0,$n=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}yn&&(en=-en,$n=-$n);let Ln,qn,zn,Zn;cn===0?(Ln=Math.abs(Nn-dn[1])*Mt+nn,qn=Math.abs(Pn-dn[0])*Mt+on,zn=(dn[3]-dn[1])*Mt,Zn=(dn[2]-dn[0])*Mt):(Ln=Math.abs(Pn-dn[0])*Mt+nn,qn=Math.abs(Nn-dn[1])*Mt+on,zn=(dn[2]-dn[0])*Mt,Zn=(dn[3]-dn[1])*Mt),this.transform=[cn*Mt,Kt*Mt,en*Mt,$n*Mt,Ln-cn*Mt*Pn-en*Mt*Nn,qn-Kt*Mt*Pn-$n*Mt*Nn],this.width=zn,this.height=Zn}get rawDims(){const{viewBox:dn}=this;return(0,nt.shadow)(this,"rawDims",{pageWidth:dn[2]-dn[0],pageHeight:dn[3]-dn[1],pageX:dn[0],pageY:dn[1]})}clone({scale:dn=this.scale,rotation:Mt=this.rotation,offsetX:Vt=this.offsetX,offsetY:nn=this.offsetY,dontFlip:on=!1}={}){return new ct({viewBox:this.viewBox.slice(),scale:dn,rotation:Mt,offsetX:Vt,offsetY:nn,dontFlip:on})}convertToViewportPoint(dn,Mt){return nt.Util.applyTransform([dn,Mt],this.transform)}convertToViewportRectangle(dn){const Mt=nt.Util.applyTransform([dn[0],dn[1]],this.transform),Vt=nt.Util.applyTransform([dn[2],dn[3]],this.transform);return[Mt[0],Mt[1],Vt[0],Vt[1]]}convertToPdfPoint(dn,Mt){return nt.Util.applyInverseTransform([dn,Mt],this.transform)}}_e.PageViewport=ct;class ft extends nt.BaseException{constructor(dn,Mt=0){super(dn,"RenderingCancelledException"),this.extraDelay=Mt}}_e.RenderingCancelledException=ft;function pt(sn){const dn=sn.length;let Mt=0;for(;Mt<dn&&sn[Mt].trim()==="";)Mt++;return sn.substring(Mt,Mt+5).toLowerCase()==="data:"}function gt(sn){return typeof sn=="string"&&/\.pdf$/i.test(sn)}function ht(sn,dn=!1){return dn||([sn]=sn.split(/[#?]/,1)),sn.substring(sn.lastIndexOf("/")+1)}function mt(sn,dn="document.pdf"){if(typeof sn!="string")return dn;if(pt(sn))return(0,nt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),dn;const Mt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,nn=Mt.exec(sn);let on=Vt.exec(nn[1])||Vt.exec(nn[2])||Vt.exec(nn[3]);if(on&&(on=on[0],on.includes("%")))try{on=Vt.exec(decodeURIComponent(on))[0]}catch{}return on||dn}class bt{constructor(){Gr(this,"started",Object.create(null));Gr(this,"times",[])}time(dn){dn in this.started&&(0,nt.warn)(`Timer is already running for ${dn}`),this.started[dn]=Date.now()}timeEnd(dn){dn in this.started||(0,nt.warn)(`Timer has not been started for ${dn}`),this.times.push({name:dn,start:this.started[dn],end:Date.now()}),delete this.started[dn]}toString(){const dn=[];let Mt=0;for(const{name:Vt}of this.times)Mt=Math.max(Vt.length,Mt);for(const{name:Vt,start:nn,end:on}of this.times)dn.push(`${Vt.padEnd(Mt)} ${on-nn}ms
`);return dn.join("")}}_e.StatTimer=bt;function xt(sn,dn){try{const{protocol:Mt}=dn?new URL(sn,dn):new URL(sn);return Mt==="http:"||Mt==="https:"}catch{return!1}}function Et(sn){sn.preventDefault()}function vt(sn,dn=!1){return new Promise((Mt,Vt)=>{const nn=document.createElement("script");nn.src=sn,nn.onload=function(on){dn&&nn.remove(),Mt(on)},nn.onerror=function(){Vt(new Error(`Cannot load script at: ${nn.src}`))},(document.head||document.documentElement).append(nn)})}function _t(sn){console.log("Deprecated API usage: "+sn)}let wt;class Ct{static toDateObject(dn){if(!dn||typeof dn!="string")return null;wt||(wt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Mt=wt.exec(dn);if(!Mt)return null;const Vt=parseInt(Mt[1],10);let nn=parseInt(Mt[2],10);nn=nn>=1&&nn<=12?nn-1:0;let on=parseInt(Mt[3],10);on=on>=1&&on<=31?on:1;let yn=parseInt(Mt[4],10);yn=yn>=0&&yn<=23?yn:0;let Pn=parseInt(Mt[5],10);Pn=Pn>=0&&Pn<=59?Pn:0;let Nn=parseInt(Mt[6],10);Nn=Nn>=0&&Nn<=59?Nn:0;const cn=Mt[7]||"Z";let Kt=parseInt(Mt[8],10);Kt=Kt>=0&&Kt<=23?Kt:0;let en=parseInt(Mt[9],10)||0;return en=en>=0&&en<=59?en:0,cn==="-"?(yn+=Kt,Pn+=en):cn==="+"&&(yn-=Kt,Pn-=en),new Date(Date.UTC(Vt,nn,on,yn,Pn,Nn))}}_e.PDFDateString=Ct;function Nt(sn,{scale:dn=1,rotation:Mt=0}){const{width:Vt,height:nn}=sn.attributes.style,on=[0,0,parseInt(Vt),parseInt(nn)];return new ct({viewBox:on,scale:dn,rotation:Mt})}function kt(sn){if(sn.startsWith("#")){const dn=parseInt(sn.slice(1),16);return[(dn&16711680)>>16,(dn&65280)>>8,dn&255]}return sn.startsWith("rgb(")?sn.slice(4,-1).split(",").map(dn=>parseInt(dn)):sn.startsWith("rgba(")?sn.slice(5,-1).split(",").map(dn=>parseInt(dn)).slice(0,3):((0,nt.warn)(`Not a valid color format: "${sn}"`),[0,0,0])}function Pt(sn){const dn=document.createElement("span");dn.style.visibility="hidden",document.body.append(dn);for(const Mt of sn.keys()){dn.style.color=Mt;const Vt=window.getComputedStyle(dn).color;sn.set(Mt,kt(Vt))}dn.remove()}function Dt(sn){const{a:dn,b:Mt,c:Vt,d:nn,e:on,f:yn}=sn.getTransform();return[dn,Mt,Vt,nn,on,yn]}function qt(sn){const{a:dn,b:Mt,c:Vt,d:nn,e:on,f:yn}=sn.getTransform().invertSelf();return[dn,Mt,Vt,nn,on,yn]}function zt(sn,dn,Mt=!1,Vt=!0){if(dn instanceof ct){const{pageWidth:nn,pageHeight:on}=dn.rawDims,{style:yn}=sn,Pn=nt.FeatureTest.isCSSRoundSupported,Nn=`var(--scale-factor) * ${nn}px`,cn=`var(--scale-factor) * ${on}px`,Kt=Pn?`round(${Nn}, 1px)`:`calc(${Nn})`,en=Pn?`round(${cn}, 1px)`:`calc(${cn})`;!Mt||dn.rotation%180===0?(yn.width=Kt,yn.height=en):(yn.width=en,yn.height=Kt)}Vt&&sn.setAttribute("data-main-rotation",dn.rotation)}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStandardFontDataFactory=_e.BaseSVGFactory=_e.BaseFilterFactory=_e.BaseCanvasFactory=_e.BaseCMapReaderFactory=void 0;var tt=et(1);class nt{constructor(){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(lt){return"none"}addHCMFilter(lt,ut){return"none"}addHighlightHCMFilter(lt,ut,dt,ct){return"none"}destroy(lt=!1){}}_e.BaseFilterFactory=nt;class rt{constructor(){this.constructor===rt&&(0,tt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(lt,ut){if(lt<=0||ut<=0)throw new Error("Invalid canvas size");const dt=this._createCanvas(lt,ut);return{canvas:dt,context:dt.getContext("2d")}}reset(lt,ut,dt){if(!lt.canvas)throw new Error("Canvas is not specified");if(ut<=0||dt<=0)throw new Error("Invalid canvas size");lt.canvas.width=ut,lt.canvas.height=dt}destroy(lt){if(!lt.canvas)throw new Error("Canvas is not specified");lt.canvas.width=0,lt.canvas.height=0,lt.canvas=null,lt.context=null}_createCanvas(lt,ut){(0,tt.unreachable)("Abstract method `_createCanvas` called.")}}_e.BaseCanvasFactory=rt;class it{constructor({baseUrl:lt=null,isCompressed:ut=!0}){this.constructor===it&&(0,tt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=lt,this.isCompressed=ut}async fetch({name:lt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!lt)throw new Error("CMap name must be specified.");const ut=this.baseUrl+lt+(this.isCompressed?".bcmap":""),dt=this.isCompressed?tt.CMapCompressionType.BINARY:tt.CMapCompressionType.NONE;return this._fetchData(ut,dt).catch(ct=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ut}`)})}_fetchData(lt,ut){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseCMapReaderFactory=it;class st{constructor({baseUrl:lt=null}){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=lt}async fetch({filename:lt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!lt)throw new Error("Font filename must be specified.");const ut=`${this.baseUrl}${lt}`;return this._fetchData(ut).catch(dt=>{throw new Error(`Unable to load font data at: ${ut}`)})}_fetchData(lt){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseStandardFontDataFactory=st;class ot{constructor(){this.constructor===ot&&(0,tt.unreachable)("Cannot initialize BaseSVGFactory.")}create(lt,ut,dt=!1){if(lt<=0||ut<=0)throw new Error("Invalid SVG dimensions");const ct=this._createSVG("svg:svg");return ct.setAttribute("version","1.1"),dt||(ct.setAttribute("width",`${lt}px`),ct.setAttribute("height",`${ut}px`)),ct.setAttribute("preserveAspectRatio","none"),ct.setAttribute("viewBox",`0 0 ${lt} ${ut}`),ct}createElement(lt){if(typeof lt!="string")throw new Error("Invalid SVG element type");return this._createSVG(lt)}_createSVG(lt){(0,tt.unreachable)("Abstract method `_createSVG` called.")}}_e.BaseSVGFactory=ot},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MurmurHash3_64=void 0;var tt=et(1);const nt=3285377520,rt=4294901760,it=65535;class st{constructor(at){this.h1=at?at&4294967295:nt,this.h2=at?at&4294967295:nt}update(at){let lt,ut;if(typeof at=="string"){lt=new Uint8Array(at.length*2),ut=0;for(let _t=0,wt=at.length;_t<wt;_t++){const Ct=at.charCodeAt(_t);Ct<=255?lt[ut++]=Ct:(lt[ut++]=Ct>>>8,lt[ut++]=Ct&255)}}else if((0,tt.isArrayBuffer)(at))lt=at.slice(),ut=lt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const dt=ut>>2,ct=ut-dt*4,ft=new Uint32Array(lt.buffer,0,dt);let pt=0,gt=0,ht=this.h1,mt=this.h2;const bt=3432918353,xt=461845907,Et=bt&it,vt=xt&it;for(let _t=0;_t<dt;_t++)_t&1?(pt=ft[_t],pt=pt*bt&rt|pt*Et&it,pt=pt<<15|pt>>>17,pt=pt*xt&rt|pt*vt&it,ht^=pt,ht=ht<<13|ht>>>19,ht=ht*5+3864292196):(gt=ft[_t],gt=gt*bt&rt|gt*Et&it,gt=gt<<15|gt>>>17,gt=gt*xt&rt|gt*vt&it,mt^=gt,mt=mt<<13|mt>>>19,mt=mt*5+3864292196);switch(pt=0,ct){case 3:pt^=lt[dt*4+2]<<16;case 2:pt^=lt[dt*4+1]<<8;case 1:pt^=lt[dt*4],pt=pt*bt&rt|pt*Et&it,pt=pt<<15|pt>>>17,pt=pt*xt&rt|pt*vt&it,dt&1?ht^=pt:mt^=pt}this.h1=ht,this.h2=mt}hexdigest(){let at=this.h1,lt=this.h2;return at^=lt>>>1,at=at*3981806797&rt|at*36045&it,lt=lt*4283543511&rt|((lt<<16|at>>>16)*2950163797&rt)>>>16,at^=lt>>>1,at=at*444984403&rt|at*60499&it,lt=lt*3301882366&rt|((lt<<16|at>>>16)*3120437893&rt)>>>16,at^=lt>>>1,(at>>>0).toString(16).padStart(8,"0")+(lt>>>0).toString(16).padStart(8,"0")}}_e.MurmurHash3_64=st},($,_e,et)=>{var it;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontLoader=_e.FontFaceObject=void 0;var tt=et(1);class nt{constructor({ownerDocument:ot=globalThis.document,styleElement:at=null}){wn(this,it,new Set);this._document=ot,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ot){this.nativeFontFaces.add(ot),this._document.fonts.add(ot)}removeNativeFontFace(ot){this.nativeFontFaces.delete(ot),this._document.fonts.delete(ot)}insertRule(ot){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const at=this.styleElement.sheet;at.insertRule(ot,at.cssRules.length)}clear(){for(const ot of this.nativeFontFaces)this._document.fonts.delete(ot);this.nativeFontFaces.clear(),St(this,it).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ot){if(!(!ot||St(this,it).has(ot.loadedName))){if((0,tt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:at,src:lt,style:ut}=ot,dt=new FontFace(at,lt,ut);this.addNativeFontFace(dt);try{await dt.load(),St(this,it).add(at)}catch{(0,tt.warn)(`Cannot load system font: ${ot.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(dt)}return}(0,tt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ot){if(ot.attached||ot.missingFile&&!ot.systemFontInfo)return;if(ot.attached=!0,ot.systemFontInfo){await this.loadSystemFont(ot.systemFontInfo);return}if(this.isFontLoadingAPISupported){const lt=ot.createNativeFontFace();if(lt){this.addNativeFontFace(lt);try{await lt.loaded}catch(ut){throw(0,tt.warn)(`Failed to load font '${lt.family}': '${ut}'.`),ot.disableFontFace=!0,ut}}return}const at=ot.createFontFaceRule();if(at){if(this.insertRule(at),this.isSyncFontLoadingSupported)return;await new Promise(lt=>{const ut=this._queueLoadingCallback(lt);this._prepareFontLoadEvent(ot,ut)})}}get isFontLoadingAPISupported(){var at;const ot=!!((at=this._document)!=null&&at.fonts);return(0,tt.shadow)(this,"isFontLoadingAPISupported",ot)}get isSyncFontLoadingSupported(){let ot=!1;return(tt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ot=!0),(0,tt.shadow)(this,"isSyncFontLoadingSupported",ot)}_queueLoadingCallback(ot){function at(){for((0,tt.assert)(!ut.done,"completeRequest() cannot be called twice."),ut.done=!0;lt.length>0&&lt[0].done;){const dt=lt.shift();setTimeout(dt.callback,0)}}const{loadingRequests:lt}=this,ut={done:!1,complete:at,callback:ot};return lt.push(ut),ut}get _loadTestFont(){const ot=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,tt.shadow)(this,"_loadTestFont",ot)}_prepareFontLoadEvent(ot,at){function lt(kt,Pt){return kt.charCodeAt(Pt)<<24|kt.charCodeAt(Pt+1)<<16|kt.charCodeAt(Pt+2)<<8|kt.charCodeAt(Pt+3)&255}function ut(kt,Pt,Dt,qt){const zt=kt.substring(0,Pt),jt=kt.substring(Pt+Dt);return zt+qt+jt}let dt,ct;const ft=this._document.createElement("canvas");ft.width=1,ft.height=1;const pt=ft.getContext("2d");let gt=0;function ht(kt,Pt){if(++gt>30){(0,tt.warn)("Load test font never loaded."),Pt();return}if(pt.font="30px "+kt,pt.fillText(".",0,20),pt.getImageData(0,0,1,1).data[3]>0){Pt();return}setTimeout(ht.bind(null,kt,Pt))}const mt=`lt${Date.now()}${this.loadTestFontId++}`;let bt=this._loadTestFont;bt=ut(bt,976,mt.length,mt);const Et=16,vt=1482184792;let _t=lt(bt,Et);for(dt=0,ct=mt.length-3;dt<ct;dt+=4)_t=_t-vt+lt(mt,dt)|0;dt<mt.length&&(_t=_t-vt+lt(mt+"XXX",dt)|0),bt=ut(bt,Et,4,(0,tt.string32)(_t));const wt=`url(data:font/opentype;base64,${btoa(bt)});`,Ct=`@font-face {font-family:"${mt}";src:${wt}}`;this.insertRule(Ct);const Nt=this._document.createElement("div");Nt.style.visibility="hidden",Nt.style.width=Nt.style.height="10px",Nt.style.position="absolute",Nt.style.top=Nt.style.left="0px";for(const kt of[ot.loadedName,mt]){const Pt=this._document.createElement("span");Pt.textContent="Hi",Pt.style.fontFamily=kt,Nt.append(Pt)}this._document.body.append(Nt),ht(mt,()=>{Nt.remove(),at.complete()})}}it=new WeakMap,_e.FontLoader=nt;class rt{constructor(ot,{isEvalSupported:at=!0,disableFontFace:lt=!1,ignoreErrors:ut=!1,inspectFont:dt=null}){this.compiledGlyphs=Object.create(null);for(const ct in ot)this[ct]=ot[ct];this.isEvalSupported=at!==!1,this.disableFontFace=lt===!0,this.ignoreErrors=ut===!0,this._inspectFont=dt}createNativeFontFace(){var at;if(!this.data||this.disableFontFace)return null;let ot;if(!this.cssFontInfo)ot=new FontFace(this.loadedName,this.data,{});else{const lt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(lt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ot=new FontFace(this.cssFontInfo.fontFamily,this.data,lt)}return(at=this._inspectFont)==null||at.call(this,this),ot}createFontFaceRule(){var ut;if(!this.data||this.disableFontFace)return null;const ot=(0,tt.bytesToString)(this.data),at=`url(data:${this.mimetype};base64,${btoa(ot)});`;let lt;if(!this.cssFontInfo)lt=`@font-face {font-family:"${this.loadedName}";src:${at}}`;else{let dt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(dt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),lt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${dt}src:${at}}`}return(ut=this._inspectFont)==null||ut.call(this,this,at),lt}getPathGenerator(ot,at){if(this.compiledGlyphs[at]!==void 0)return this.compiledGlyphs[at];let lt;try{lt=ot.get(this.loadedName+"_path_"+at)}catch(ut){if(!this.ignoreErrors)throw ut;return(0,tt.warn)(`getPathGenerator - ignoring character: "${ut}".`),this.compiledGlyphs[at]=function(dt,ct){}}if(this.isEvalSupported&&tt.FeatureTest.isEvalSupported){const ut=[];for(const dt of lt){const ct=dt.args!==void 0?dt.args.join(","):"";ut.push("c.",dt.cmd,"(",ct,`);
`)}return this.compiledGlyphs[at]=new Function("c","size",ut.join(""))}return this.compiledGlyphs[at]=function(ut,dt){for(const ct of lt)ct.cmd==="scale"&&(ct.args=[dt,-dt]),ut[ct.cmd].apply(ut,ct.args)}}}_e.FontFaceObject=rt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NodeStandardFontDataFactory=_e.NodeFilterFactory=_e.NodeCanvasFactory=_e.NodeCMapReaderFactory=void 0;var tt=et(7);et(1);const nt=function(at){return new Promise((lt,ut)=>{require$$5.readFile(at,(ct,ft)=>{if(ct||!ft){ut(new Error(ct));return}lt(new Uint8Array(ft))})})};class rt extends tt.BaseFilterFactory{}_e.NodeFilterFactory=rt;class it extends tt.BaseCanvasFactory{_createCanvas(lt,ut){return require$$5.createCanvas(lt,ut)}}_e.NodeCanvasFactory=it;class st extends tt.BaseCMapReaderFactory{_fetchData(lt,ut){return nt(lt).then(dt=>({cMapData:dt,compressionType:ut}))}}_e.NodeCMapReaderFactory=st;class ot extends tt.BaseStandardFontDataFactory{_fetchData(lt){return nt(lt)}}_e.NodeStandardFontDataFactory=ot},($,_e,et)=>{var Bt,Ho,Wo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.CanvasGraphics=void 0;var tt=et(1),nt=et(6),rt=et(12),it=et(13);const st=16,ot=100,at=4096,lt=15,ut=10,dt=1e3,ct=16;function ft(Ot,yt){if(Ot._removeMirroring)throw new Error("Context is already forwarding operations.");Ot.__originalSave=Ot.save,Ot.__originalRestore=Ot.restore,Ot.__originalRotate=Ot.rotate,Ot.__originalScale=Ot.scale,Ot.__originalTranslate=Ot.translate,Ot.__originalTransform=Ot.transform,Ot.__originalSetTransform=Ot.setTransform,Ot.__originalResetTransform=Ot.resetTransform,Ot.__originalClip=Ot.clip,Ot.__originalMoveTo=Ot.moveTo,Ot.__originalLineTo=Ot.lineTo,Ot.__originalBezierCurveTo=Ot.bezierCurveTo,Ot.__originalRect=Ot.rect,Ot.__originalClosePath=Ot.closePath,Ot.__originalBeginPath=Ot.beginPath,Ot._removeMirroring=()=>{Ot.save=Ot.__originalSave,Ot.restore=Ot.__originalRestore,Ot.rotate=Ot.__originalRotate,Ot.scale=Ot.__originalScale,Ot.translate=Ot.__originalTranslate,Ot.transform=Ot.__originalTransform,Ot.setTransform=Ot.__originalSetTransform,Ot.resetTransform=Ot.__originalResetTransform,Ot.clip=Ot.__originalClip,Ot.moveTo=Ot.__originalMoveTo,Ot.lineTo=Ot.__originalLineTo,Ot.bezierCurveTo=Ot.__originalBezierCurveTo,Ot.rect=Ot.__originalRect,Ot.closePath=Ot.__originalClosePath,Ot.beginPath=Ot.__originalBeginPath,delete Ot._removeMirroring},Ot.save=function(){yt.save(),this.__originalSave()},Ot.restore=function(){yt.restore(),this.__originalRestore()},Ot.translate=function($t,Ut){yt.translate($t,Ut),this.__originalTranslate($t,Ut)},Ot.scale=function($t,Ut){yt.scale($t,Ut),this.__originalScale($t,Ut)},Ot.transform=function($t,Ut,Ht,Wt,Qt,mn){yt.transform($t,Ut,Ht,Wt,Qt,mn),this.__originalTransform($t,Ut,Ht,Wt,Qt,mn)},Ot.setTransform=function($t,Ut,Ht,Wt,Qt,mn){yt.setTransform($t,Ut,Ht,Wt,Qt,mn),this.__originalSetTransform($t,Ut,Ht,Wt,Qt,mn)},Ot.resetTransform=function(){yt.resetTransform(),this.__originalResetTransform()},Ot.rotate=function($t){yt.rotate($t),this.__originalRotate($t)},Ot.clip=function($t){yt.clip($t),this.__originalClip($t)},Ot.moveTo=function(Tt,$t){yt.moveTo(Tt,$t),this.__originalMoveTo(Tt,$t)},Ot.lineTo=function(Tt,$t){yt.lineTo(Tt,$t),this.__originalLineTo(Tt,$t)},Ot.bezierCurveTo=function(Tt,$t,Ut,Ht,Wt,Qt){yt.bezierCurveTo(Tt,$t,Ut,Ht,Wt,Qt),this.__originalBezierCurveTo(Tt,$t,Ut,Ht,Wt,Qt)},Ot.rect=function(Tt,$t,Ut,Ht){yt.rect(Tt,$t,Ut,Ht),this.__originalRect(Tt,$t,Ut,Ht)},Ot.closePath=function(){yt.closePath(),this.__originalClosePath()},Ot.beginPath=function(){yt.beginPath(),this.__originalBeginPath()}}class pt{constructor(yt){this.canvasFactory=yt,this.cache=Object.create(null)}getCanvas(yt,Tt,$t){let Ut;return this.cache[yt]!==void 0?(Ut=this.cache[yt],this.canvasFactory.reset(Ut,Tt,$t)):(Ut=this.canvasFactory.create(Tt,$t),this.cache[yt]=Ut),Ut}delete(yt){delete this.cache[yt]}clear(){for(const yt in this.cache){const Tt=this.cache[yt];this.canvasFactory.destroy(Tt),delete this.cache[yt]}}}function gt(Ot,yt,Tt,$t,Ut,Ht,Wt,Qt,mn,fn){const[En,kn,Tn,An,sn,dn]=(0,nt.getCurrentTransform)(Ot);if(kn===0&&Tn===0){const nn=Wt*En+sn,on=Math.round(nn),yn=Qt*An+dn,Pn=Math.round(yn),Nn=(Wt+mn)*En+sn,cn=Math.abs(Math.round(Nn)-on)||1,Kt=(Qt+fn)*An+dn,en=Math.abs(Math.round(Kt)-Pn)||1;return Ot.setTransform(Math.sign(En),0,0,Math.sign(An),on,Pn),Ot.drawImage(yt,Tt,$t,Ut,Ht,0,0,cn,en),Ot.setTransform(En,kn,Tn,An,sn,dn),[cn,en]}if(En===0&&An===0){const nn=Qt*Tn+sn,on=Math.round(nn),yn=Wt*kn+dn,Pn=Math.round(yn),Nn=(Qt+fn)*Tn+sn,cn=Math.abs(Math.round(Nn)-on)||1,Kt=(Wt+mn)*kn+dn,en=Math.abs(Math.round(Kt)-Pn)||1;return Ot.setTransform(0,Math.sign(kn),Math.sign(Tn),0,on,Pn),Ot.drawImage(yt,Tt,$t,Ut,Ht,0,0,en,cn),Ot.setTransform(En,kn,Tn,An,sn,dn),[en,cn]}Ot.drawImage(yt,Tt,$t,Ut,Ht,Wt,Qt,mn,fn);const Mt=Math.hypot(En,kn),Vt=Math.hypot(Tn,An);return[Mt*mn,Vt*fn]}function ht(Ot){const{width:yt,height:Tt}=Ot;if(yt>dt||Tt>dt)return null;const $t=1e3,Ut=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ht=yt+1;let Wt=new Uint8Array(Ht*(Tt+1)),Qt,mn,fn;const En=yt+7&-8;let kn=new Uint8Array(En*Tt),Tn=0;for(const Vt of Ot.data){let nn=128;for(;nn>0;)kn[Tn++]=Vt&nn?0:255,nn>>=1}let An=0;for(Tn=0,kn[Tn]!==0&&(Wt[0]=1,++An),mn=1;mn<yt;mn++)kn[Tn]!==kn[Tn+1]&&(Wt[mn]=kn[Tn]?2:1,++An),Tn++;for(kn[Tn]!==0&&(Wt[mn]=2,++An),Qt=1;Qt<Tt;Qt++){Tn=Qt*En,fn=Qt*Ht,kn[Tn-En]!==kn[Tn]&&(Wt[fn]=kn[Tn]?1:8,++An);let Vt=(kn[Tn]?4:0)+(kn[Tn-En]?8:0);for(mn=1;mn<yt;mn++)Vt=(Vt>>2)+(kn[Tn+1]?4:0)+(kn[Tn-En+1]?8:0),Ut[Vt]&&(Wt[fn+mn]=Ut[Vt],++An),Tn++;if(kn[Tn-En]!==kn[Tn]&&(Wt[fn+mn]=kn[Tn]?2:4,++An),An>$t)return null}for(Tn=En*(Tt-1),fn=Qt*Ht,kn[Tn]!==0&&(Wt[fn]=8,++An),mn=1;mn<yt;mn++)kn[Tn]!==kn[Tn+1]&&(Wt[fn+mn]=kn[Tn]?4:8,++An),Tn++;if(kn[Tn]!==0&&(Wt[fn+mn]=4,++An),An>$t)return null;const sn=new Int32Array([0,Ht,-1,0,-Ht,0,0,0,1]),dn=new Path2D;for(Qt=0;An&&Qt<=Tt;Qt++){let Vt=Qt*Ht;const nn=Vt+yt;for(;Vt<nn&&!Wt[Vt];)Vt++;if(Vt===nn)continue;dn.moveTo(Vt%Ht,Qt);const on=Vt;let yn=Wt[Vt];do{const Pn=sn[yn];do Vt+=Pn;while(!Wt[Vt]);const Nn=Wt[Vt];Nn!==5&&Nn!==10?(yn=Nn,Wt[Vt]=0):(yn=Nn&51*yn>>4,Wt[Vt]&=yn>>2|yn<<2),dn.lineTo(Vt%Ht,Vt/Ht|0),Wt[Vt]||--An}while(on!==Vt);--Qt}return kn=null,Wt=null,function(Vt){Vt.save(),Vt.scale(1/yt,-1/Tt),Vt.translate(0,-Tt),Vt.fill(dn),Vt.beginPath(),Vt.restore()}}class mt{constructor(yt,Tt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,yt,Tt])}clone(){const yt=Object.create(this);return yt.clipBox=this.clipBox.slice(),yt}setCurrentPoint(yt,Tt){this.x=yt,this.y=Tt}updatePathMinMax(yt,Tt,$t){[Tt,$t]=tt.Util.applyTransform([Tt,$t],yt),this.minX=Math.min(this.minX,Tt),this.minY=Math.min(this.minY,$t),this.maxX=Math.max(this.maxX,Tt),this.maxY=Math.max(this.maxY,$t)}updateRectMinMax(yt,Tt){const $t=tt.Util.applyTransform(Tt,yt),Ut=tt.Util.applyTransform(Tt.slice(2),yt);this.minX=Math.min(this.minX,$t[0],Ut[0]),this.minY=Math.min(this.minY,$t[1],Ut[1]),this.maxX=Math.max(this.maxX,$t[0],Ut[0]),this.maxY=Math.max(this.maxY,$t[1],Ut[1])}updateScalingPathMinMax(yt,Tt){tt.Util.scaleMinMax(yt,Tt),this.minX=Math.min(this.minX,Tt[0]),this.maxX=Math.max(this.maxX,Tt[1]),this.minY=Math.min(this.minY,Tt[2]),this.maxY=Math.max(this.maxY,Tt[3])}updateCurvePathMinMax(yt,Tt,$t,Ut,Ht,Wt,Qt,mn,fn,En){const kn=tt.Util.bezierBoundingBox(Tt,$t,Ut,Ht,Wt,Qt,mn,fn);if(En){En[0]=Math.min(En[0],kn[0],kn[2]),En[1]=Math.max(En[1],kn[0],kn[2]),En[2]=Math.min(En[2],kn[1],kn[3]),En[3]=Math.max(En[3],kn[1],kn[3]);return}this.updateRectMinMax(yt,kn)}getPathBoundingBox(yt=rt.PathType.FILL,Tt=null){const $t=[this.minX,this.minY,this.maxX,this.maxY];if(yt===rt.PathType.STROKE){Tt||(0,tt.unreachable)("Stroke bounding box must include transform.");const Ut=tt.Util.singularValueDecompose2dScale(Tt),Ht=Ut[0]*this.lineWidth/2,Wt=Ut[1]*this.lineWidth/2;$t[0]-=Ht,$t[1]-=Wt,$t[2]+=Ht,$t[3]+=Wt}return $t}updateClipFromPath(){const yt=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(yt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(yt){this.clipBox=yt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(yt=rt.PathType.FILL,Tt=null){return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(yt,Tt))}}function bt(Ot,yt){if(typeof ImageData<"u"&&yt instanceof ImageData){Ot.putImageData(yt,0,0);return}const Tt=yt.height,$t=yt.width,Ut=Tt%ct,Ht=(Tt-Ut)/ct,Wt=Ut===0?Ht:Ht+1,Qt=Ot.createImageData($t,ct);let mn=0,fn;const En=yt.data,kn=Qt.data;let Tn,An,sn,dn;if(yt.kind===tt.ImageKind.GRAYSCALE_1BPP){const Mt=En.byteLength,Vt=new Uint32Array(kn.buffer,0,kn.byteLength>>2),nn=Vt.length,on=$t+7>>3,yn=4294967295,Pn=tt.FeatureTest.isLittleEndian?4278190080:255;for(Tn=0;Tn<Wt;Tn++){for(sn=Tn<Ht?ct:Ut,fn=0,An=0;An<sn;An++){const Nn=Mt-mn;let cn=0;const Kt=Nn>on?$t:Nn*8-7,en=Kt&-8;let $n=0,Ln=0;for(;cn<en;cn+=8)Ln=En[mn++],Vt[fn++]=Ln&128?yn:Pn,Vt[fn++]=Ln&64?yn:Pn,Vt[fn++]=Ln&32?yn:Pn,Vt[fn++]=Ln&16?yn:Pn,Vt[fn++]=Ln&8?yn:Pn,Vt[fn++]=Ln&4?yn:Pn,Vt[fn++]=Ln&2?yn:Pn,Vt[fn++]=Ln&1?yn:Pn;for(;cn<Kt;cn++)$n===0&&(Ln=En[mn++],$n=128),Vt[fn++]=Ln&$n?yn:Pn,$n>>=1}for(;fn<nn;)Vt[fn++]=0;Ot.putImageData(Qt,0,Tn*ct)}}else if(yt.kind===tt.ImageKind.RGBA_32BPP){for(An=0,dn=$t*ct*4,Tn=0;Tn<Ht;Tn++)kn.set(En.subarray(mn,mn+dn)),mn+=dn,Ot.putImageData(Qt,0,An),An+=ct;Tn<Wt&&(dn=$t*Ut*4,kn.set(En.subarray(mn,mn+dn)),Ot.putImageData(Qt,0,An))}else if(yt.kind===tt.ImageKind.RGB_24BPP)for(sn=ct,dn=$t*sn,Tn=0;Tn<Wt;Tn++){for(Tn>=Ht&&(sn=Ut,dn=$t*sn),fn=0,An=dn;An--;)kn[fn++]=En[mn++],kn[fn++]=En[mn++],kn[fn++]=En[mn++],kn[fn++]=255;Ot.putImageData(Qt,0,Tn*ct)}else throw new Error(`bad image kind: ${yt.kind}`)}function xt(Ot,yt){if(yt.bitmap){Ot.drawImage(yt.bitmap,0,0);return}const Tt=yt.height,$t=yt.width,Ut=Tt%ct,Ht=(Tt-Ut)/ct,Wt=Ut===0?Ht:Ht+1,Qt=Ot.createImageData($t,ct);let mn=0;const fn=yt.data,En=Qt.data;for(let kn=0;kn<Wt;kn++){const Tn=kn<Ht?ct:Ut;({srcPos:mn}=(0,it.convertBlackAndWhiteToRGBA)({src:fn,srcPos:mn,dest:En,width:$t,height:Tn,nonBlackColor:0})),Ot.putImageData(Qt,0,kn*ct)}}function Et(Ot,yt){const Tt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const $t of Tt)Ot[$t]!==void 0&&(yt[$t]=Ot[$t]);Ot.setLineDash!==void 0&&(yt.setLineDash(Ot.getLineDash()),yt.lineDashOffset=Ot.lineDashOffset)}function vt(Ot){if(Ot.strokeStyle=Ot.fillStyle="#000000",Ot.fillRule="nonzero",Ot.globalAlpha=1,Ot.lineWidth=1,Ot.lineCap="butt",Ot.lineJoin="miter",Ot.miterLimit=10,Ot.globalCompositeOperation="source-over",Ot.font="10px sans-serif",Ot.setLineDash!==void 0&&(Ot.setLineDash([]),Ot.lineDashOffset=0),!tt.isNodeJS){const{filter:yt}=Ot;yt!=="none"&&yt!==""&&(Ot.filter="none")}}function _t(Ot,yt,Tt,$t){const Ut=Ot.length;for(let Ht=3;Ht<Ut;Ht+=4){const Wt=Ot[Ht];if(Wt===0)Ot[Ht-3]=yt,Ot[Ht-2]=Tt,Ot[Ht-1]=$t;else if(Wt<255){const Qt=255-Wt;Ot[Ht-3]=Ot[Ht-3]*Wt+yt*Qt>>8,Ot[Ht-2]=Ot[Ht-2]*Wt+Tt*Qt>>8,Ot[Ht-1]=Ot[Ht-1]*Wt+$t*Qt>>8}}}function wt(Ot,yt,Tt){const $t=Ot.length,Ut=1/255;for(let Ht=3;Ht<$t;Ht+=4){const Wt=Tt?Tt[Ot[Ht]]:Ot[Ht];yt[Ht]=yt[Ht]*Wt*Ut|0}}function Ct(Ot,yt,Tt){const $t=Ot.length;for(let Ut=3;Ut<$t;Ut+=4){const Ht=Ot[Ut-3]*77+Ot[Ut-2]*152+Ot[Ut-1]*28;yt[Ut]=Tt?yt[Ut]*Tt[Ht>>8]>>8:yt[Ut]*Ht>>16}}function Nt(Ot,yt,Tt,$t,Ut,Ht,Wt,Qt,mn,fn,En){const kn=!!Ht,Tn=kn?Ht[0]:0,An=kn?Ht[1]:0,sn=kn?Ht[2]:0,dn=Ut==="Luminosity"?Ct:wt,Vt=Math.min($t,Math.ceil(1048576/Tt));for(let nn=0;nn<$t;nn+=Vt){const on=Math.min(Vt,$t-nn),yn=Ot.getImageData(Qt-fn,nn+(mn-En),Tt,on),Pn=yt.getImageData(Qt,nn+mn,Tt,on);kn&&_t(yn.data,Tn,An,sn),dn(yn.data,Pn.data,Wt),yt.putImageData(Pn,Qt,nn+mn)}}function kt(Ot,yt,Tt,$t){const Ut=$t[0],Ht=$t[1],Wt=$t[2]-Ut,Qt=$t[3]-Ht;Wt===0||Qt===0||(Nt(yt.context,Tt,Wt,Qt,yt.subtype,yt.backdrop,yt.transferMap,Ut,Ht,yt.offsetX,yt.offsetY),Ot.save(),Ot.globalAlpha=1,Ot.globalCompositeOperation="source-over",Ot.setTransform(1,0,0,1,0,0),Ot.drawImage(Tt.canvas,0,0),Ot.restore())}function Pt(Ot,yt){const Tt=tt.Util.singularValueDecompose2dScale(Ot);Tt[0]=Math.fround(Tt[0]),Tt[1]=Math.fround(Tt[1]);const $t=Math.fround((globalThis.devicePixelRatio||1)*nt.PixelsPerInch.PDF_TO_CSS_UNITS);return yt!==void 0?yt:Tt[0]<=$t||Tt[1]<=$t}const Dt=["butt","round","square"],qt=["miter","round","bevel"],zt={},jt={},Yt=class Yt{constructor(yt,Tt,$t,Ut,Ht,{optionalContentConfig:Wt,markedContentStack:Qt=null},mn,fn){wn(this,Bt);this.ctx=yt,this.current=new mt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Tt,this.objs=$t,this.canvasFactory=Ut,this.filterFactory=Ht,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Qt||[],this.optionalContentConfig=Wt,this.cachedCanvases=new pt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=mn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=fn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(yt,Tt=null){return typeof yt=="string"?yt.startsWith("g_")?this.commonObjs.get(yt):this.objs.get(yt):Tt}beginDrawing({transform:yt,viewport:Tt,transparency:$t=!1,background:Ut=null}){const Ht=this.ctx.canvas.width,Wt=this.ctx.canvas.height,Qt=this.ctx.fillStyle;if(this.ctx.fillStyle=Ut||"#ffffff",this.ctx.fillRect(0,0,Ht,Wt),this.ctx.fillStyle=Qt,$t){const mn=this.cachedCanvases.getCanvas("transparent",Ht,Wt);this.compositeCtx=this.ctx,this.transparentCanvas=mn.canvas,this.ctx=mn.context,this.ctx.save(),this.ctx.transform(...(0,nt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),vt(this.ctx),yt&&(this.ctx.transform(...yt),this.outputScaleX=yt[0],this.outputScaleY=yt[0]),this.ctx.transform(...Tt.transform),this.viewportScale=Tt.scale,this.baseTransform=(0,nt.getCurrentTransform)(this.ctx)}executeOperatorList(yt,Tt,$t,Ut){const Ht=yt.argsArray,Wt=yt.fnArray;let Qt=Tt||0;const mn=Ht.length;if(mn===Qt)return Qt;const fn=mn-Qt>ut&&typeof $t=="function",En=fn?Date.now()+lt:0;let kn=0;const Tn=this.commonObjs,An=this.objs;let sn;for(;;){if(Ut!==void 0&&Qt===Ut.nextBreakPoint)return Ut.breakIt(Qt,$t),Qt;if(sn=Wt[Qt],sn!==tt.OPS.dependency)this[sn].apply(this,Ht[Qt]);else for(const dn of Ht[Qt]){const Mt=dn.startsWith("g_")?Tn:An;if(!Mt.has(dn))return Mt.get(dn,$t),Qt}if(Qt++,Qt===mn)return Qt;if(fn&&++kn>ut){if(Date.now()>En)return $t(),Qt;kn=0}}}endDrawing(){pn(this,Bt,Ho).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const yt of this._cachedBitmapsMap.values()){for(const Tt of yt.values())typeof HTMLCanvasElement<"u"&&Tt instanceof HTMLCanvasElement&&(Tt.width=Tt.height=0);yt.clear()}this._cachedBitmapsMap.clear(),pn(this,Bt,Wo).call(this)}_scaleImage(yt,Tt){const $t=yt.width,Ut=yt.height;let Ht=Math.max(Math.hypot(Tt[0],Tt[1]),1),Wt=Math.max(Math.hypot(Tt[2],Tt[3]),1),Qt=$t,mn=Ut,fn="prescale1",En,kn;for(;Ht>2&&Qt>1||Wt>2&&mn>1;){let Tn=Qt,An=mn;Ht>2&&Qt>1&&(Tn=Qt>=16384?Math.floor(Qt/2)-1||1:Math.ceil(Qt/2),Ht/=Qt/Tn),Wt>2&&mn>1&&(An=mn>=16384?Math.floor(mn/2)-1||1:Math.ceil(mn)/2,Wt/=mn/An),En=this.cachedCanvases.getCanvas(fn,Tn,An),kn=En.context,kn.clearRect(0,0,Tn,An),kn.drawImage(yt,0,0,Qt,mn,0,0,Tn,An),yt=En.canvas,Qt=Tn,mn=An,fn=fn==="prescale1"?"prescale2":"prescale1"}return{img:yt,paintWidth:Qt,paintHeight:mn}}_createMaskCanvas(yt){const Tt=this.ctx,{width:$t,height:Ut}=yt,Ht=this.current.fillColor,Wt=this.current.patternFill,Qt=(0,nt.getCurrentTransform)(Tt);let mn,fn,En,kn;if((yt.bitmap||yt.data)&&yt.count>1){const cn=yt.bitmap||yt.data.buffer;fn=JSON.stringify(Wt?Qt:[Qt.slice(0,4),Ht]),mn=this._cachedBitmapsMap.get(cn),mn||(mn=new Map,this._cachedBitmapsMap.set(cn,mn));const Kt=mn.get(fn);if(Kt&&!Wt){const en=Math.round(Math.min(Qt[0],Qt[2])+Qt[4]),$n=Math.round(Math.min(Qt[1],Qt[3])+Qt[5]);return{canvas:Kt,offsetX:en,offsetY:$n}}En=Kt}En||(kn=this.cachedCanvases.getCanvas("maskCanvas",$t,Ut),xt(kn.context,yt));let Tn=tt.Util.transform(Qt,[1/$t,0,0,-1/Ut,0,0]);Tn=tt.Util.transform(Tn,[1,0,0,1,0,-Ut]);const An=tt.Util.applyTransform([0,0],Tn),sn=tt.Util.applyTransform([$t,Ut],Tn),dn=tt.Util.normalizeRect([An[0],An[1],sn[0],sn[1]]),Mt=Math.round(dn[2]-dn[0])||1,Vt=Math.round(dn[3]-dn[1])||1,nn=this.cachedCanvases.getCanvas("fillCanvas",Mt,Vt),on=nn.context,yn=Math.min(An[0],sn[0]),Pn=Math.min(An[1],sn[1]);on.translate(-yn,-Pn),on.transform(...Tn),En||(En=this._scaleImage(kn.canvas,(0,nt.getCurrentTransformInverse)(on)),En=En.img,mn&&Wt&&mn.set(fn,En)),on.imageSmoothingEnabled=Pt((0,nt.getCurrentTransform)(on),yt.interpolate),gt(on,En,0,0,En.width,En.height,0,0,$t,Ut),on.globalCompositeOperation="source-in";const Nn=tt.Util.transform((0,nt.getCurrentTransformInverse)(on),[1,0,0,1,-yn,-Pn]);return on.fillStyle=Wt?Ht.getPattern(Tt,this,Nn,rt.PathType.FILL):Ht,on.fillRect(0,0,$t,Ut),mn&&!Wt&&(this.cachedCanvases.delete("fillCanvas"),mn.set(fn,nn.canvas)),{canvas:nn.canvas,offsetX:Math.round(yn),offsetY:Math.round(Pn)}}setLineWidth(yt){yt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=yt,this.ctx.lineWidth=yt}setLineCap(yt){this.ctx.lineCap=Dt[yt]}setLineJoin(yt){this.ctx.lineJoin=qt[yt]}setMiterLimit(yt){this.ctx.miterLimit=yt}setDash(yt,Tt){const $t=this.ctx;$t.setLineDash!==void 0&&($t.setLineDash(yt),$t.lineDashOffset=Tt)}setRenderingIntent(yt){}setFlatness(yt){}setGState(yt){for(const[Tt,$t]of yt)switch(Tt){case"LW":this.setLineWidth($t);break;case"LC":this.setLineCap($t);break;case"LJ":this.setLineJoin($t);break;case"ML":this.setMiterLimit($t);break;case"D":this.setDash($t[0],$t[1]);break;case"RI":this.setRenderingIntent($t);break;case"FL":this.setFlatness($t);break;case"Font":this.setFont($t[0],$t[1]);break;case"CA":this.current.strokeAlpha=$t;break;case"ca":this.current.fillAlpha=$t,this.ctx.globalAlpha=$t;break;case"BM":this.ctx.globalCompositeOperation=$t;break;case"SMask":this.current.activeSMask=$t?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter($t);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const yt=this.inSMaskMode;this.current.activeSMask&&!yt?this.beginSMaskMode():!this.current.activeSMask&&yt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const yt=this.ctx.canvas.width,Tt=this.ctx.canvas.height,$t="smaskGroupAt"+this.groupLevel,Ut=this.cachedCanvases.getCanvas($t,yt,Tt);this.suspendedCtx=this.ctx,this.ctx=Ut.context;const Ht=this.ctx;Ht.setTransform(...(0,nt.getCurrentTransform)(this.suspendedCtx)),Et(this.suspendedCtx,Ht),ft(Ht,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Et(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(yt){if(!this.current.activeSMask)return;yt?(yt[0]=Math.floor(yt[0]),yt[1]=Math.floor(yt[1]),yt[2]=Math.ceil(yt[2]),yt[3]=Math.ceil(yt[3])):yt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Tt=this.current.activeSMask,$t=this.suspendedCtx;kt($t,Tt,this.ctx,yt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Et(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const yt=this.current;this.stateStack.push(yt),this.current=yt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Et(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(yt,Tt,$t,Ut,Ht,Wt){this.ctx.transform(yt,Tt,$t,Ut,Ht,Wt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(yt,Tt,$t){const Ut=this.ctx,Ht=this.current;let Wt=Ht.x,Qt=Ht.y,mn,fn;const En=(0,nt.getCurrentTransform)(Ut),kn=En[0]===0&&En[3]===0||En[1]===0&&En[2]===0,Tn=kn?$t.slice(0):null;for(let An=0,sn=0,dn=yt.length;An<dn;An++)switch(yt[An]|0){case tt.OPS.rectangle:Wt=Tt[sn++],Qt=Tt[sn++];const Mt=Tt[sn++],Vt=Tt[sn++],nn=Wt+Mt,on=Qt+Vt;Ut.moveTo(Wt,Qt),Mt===0||Vt===0?Ut.lineTo(nn,on):(Ut.lineTo(nn,Qt),Ut.lineTo(nn,on),Ut.lineTo(Wt,on)),kn||Ht.updateRectMinMax(En,[Wt,Qt,nn,on]),Ut.closePath();break;case tt.OPS.moveTo:Wt=Tt[sn++],Qt=Tt[sn++],Ut.moveTo(Wt,Qt),kn||Ht.updatePathMinMax(En,Wt,Qt);break;case tt.OPS.lineTo:Wt=Tt[sn++],Qt=Tt[sn++],Ut.lineTo(Wt,Qt),kn||Ht.updatePathMinMax(En,Wt,Qt);break;case tt.OPS.curveTo:mn=Wt,fn=Qt,Wt=Tt[sn+4],Qt=Tt[sn+5],Ut.bezierCurveTo(Tt[sn],Tt[sn+1],Tt[sn+2],Tt[sn+3],Wt,Qt),Ht.updateCurvePathMinMax(En,mn,fn,Tt[sn],Tt[sn+1],Tt[sn+2],Tt[sn+3],Wt,Qt,Tn),sn+=6;break;case tt.OPS.curveTo2:mn=Wt,fn=Qt,Ut.bezierCurveTo(Wt,Qt,Tt[sn],Tt[sn+1],Tt[sn+2],Tt[sn+3]),Ht.updateCurvePathMinMax(En,mn,fn,Wt,Qt,Tt[sn],Tt[sn+1],Tt[sn+2],Tt[sn+3],Tn),Wt=Tt[sn+2],Qt=Tt[sn+3],sn+=4;break;case tt.OPS.curveTo3:mn=Wt,fn=Qt,Wt=Tt[sn+2],Qt=Tt[sn+3],Ut.bezierCurveTo(Tt[sn],Tt[sn+1],Wt,Qt,Wt,Qt),Ht.updateCurvePathMinMax(En,mn,fn,Tt[sn],Tt[sn+1],Wt,Qt,Wt,Qt,Tn),sn+=4;break;case tt.OPS.closePath:Ut.closePath();break}kn&&Ht.updateScalingPathMinMax(En,Tn),Ht.setCurrentPoint(Wt,Qt)}closePath(){this.ctx.closePath()}stroke(yt=!0){const Tt=this.ctx,$t=this.current.strokeColor;Tt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof $t=="object"&&($t!=null&&$t.getPattern)?(Tt.save(),Tt.strokeStyle=$t.getPattern(Tt,this,(0,nt.getCurrentTransformInverse)(Tt),rt.PathType.STROKE),this.rescaleAndStroke(!1),Tt.restore()):this.rescaleAndStroke(!0)),yt&&this.consumePath(this.current.getClippedPathBoundingBox()),Tt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(yt=!0){const Tt=this.ctx,$t=this.current.fillColor,Ut=this.current.patternFill;let Ht=!1;Ut&&(Tt.save(),Tt.fillStyle=$t.getPattern(Tt,this,(0,nt.getCurrentTransformInverse)(Tt),rt.PathType.FILL),Ht=!0);const Wt=this.current.getClippedPathBoundingBox();this.contentVisible&&Wt!==null&&(this.pendingEOFill?(Tt.fill("evenodd"),this.pendingEOFill=!1):Tt.fill()),Ht&&Tt.restore(),yt&&this.consumePath(Wt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zt}eoClip(){this.pendingClip=jt}beginText(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const yt=this.pendingTextPaths,Tt=this.ctx;if(yt===void 0){Tt.beginPath();return}Tt.save(),Tt.beginPath();for(const $t of yt)Tt.setTransform(...$t.transform),Tt.translate($t.x,$t.y),$t.addToPath(Tt,$t.fontSize);Tt.restore(),Tt.clip(),Tt.beginPath(),delete this.pendingTextPaths}setCharSpacing(yt){this.current.charSpacing=yt}setWordSpacing(yt){this.current.wordSpacing=yt}setHScale(yt){this.current.textHScale=yt/100}setLeading(yt){this.current.leading=-yt}setFont(yt,Tt){var En;const $t=this.commonObjs.get(yt),Ut=this.current;if(!$t)throw new Error(`Can't find font for ${yt}`);if(Ut.fontMatrix=$t.fontMatrix||tt.FONT_IDENTITY_MATRIX,(Ut.fontMatrix[0]===0||Ut.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+yt),Tt<0?(Tt=-Tt,Ut.fontDirection=-1):Ut.fontDirection=1,this.current.font=$t,this.current.fontSize=Tt,$t.isType3Font)return;const Ht=$t.loadedName||"sans-serif",Wt=((En=$t.systemFontInfo)==null?void 0:En.css)||`"${Ht}", ${$t.fallbackName}`;let Qt="normal";$t.black?Qt="900":$t.bold&&(Qt="bold");const mn=$t.italic?"italic":"normal";let fn=Tt;Tt<st?fn=st:Tt>ot&&(fn=ot),this.current.fontSizeScale=Tt/fn,this.ctx.font=`${mn} ${Qt} ${fn}px ${Wt}`}setTextRenderingMode(yt){this.current.textRenderingMode=yt}setTextRise(yt){this.current.textRise=yt}moveText(yt,Tt){this.current.x=this.current.lineX+=yt,this.current.y=this.current.lineY+=Tt}setLeadingMoveText(yt,Tt){this.setLeading(-Tt),this.moveText(yt,Tt)}setTextMatrix(yt,Tt,$t,Ut,Ht,Wt){this.current.textMatrix=[yt,Tt,$t,Ut,Ht,Wt],this.current.textMatrixScale=Math.hypot(yt,Tt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(yt,Tt,$t,Ut){const Ht=this.ctx,Wt=this.current,Qt=Wt.font,mn=Wt.textRenderingMode,fn=Wt.fontSize/Wt.fontSizeScale,En=mn&tt.TextRenderingMode.FILL_STROKE_MASK,kn=!!(mn&tt.TextRenderingMode.ADD_TO_PATH_FLAG),Tn=Wt.patternFill&&!Qt.missingFile;let An;(Qt.disableFontFace||kn||Tn)&&(An=Qt.getPathGenerator(this.commonObjs,yt)),Qt.disableFontFace||Tn?(Ht.save(),Ht.translate(Tt,$t),Ht.beginPath(),An(Ht,fn),Ut&&Ht.setTransform(...Ut),(En===tt.TextRenderingMode.FILL||En===tt.TextRenderingMode.FILL_STROKE)&&Ht.fill(),(En===tt.TextRenderingMode.STROKE||En===tt.TextRenderingMode.FILL_STROKE)&&Ht.stroke(),Ht.restore()):((En===tt.TextRenderingMode.FILL||En===tt.TextRenderingMode.FILL_STROKE)&&Ht.fillText(yt,Tt,$t),(En===tt.TextRenderingMode.STROKE||En===tt.TextRenderingMode.FILL_STROKE)&&Ht.strokeText(yt,Tt,$t)),kn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nt.getCurrentTransform)(Ht),x:Tt,y:$t,fontSize:fn,addToPath:An})}get isFontSubpixelAAEnabled(){const{context:yt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);yt.scale(1.5,1),yt.fillText("I",0,10);const Tt=yt.getImageData(0,0,10,10).data;let $t=!1;for(let Ut=3;Ut<Tt.length;Ut+=4)if(Tt[Ut]>0&&Tt[Ut]<255){$t=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",$t)}showText(yt){const Tt=this.current,$t=Tt.font;if($t.isType3Font)return this.showType3Text(yt);const Ut=Tt.fontSize;if(Ut===0)return;const Ht=this.ctx,Wt=Tt.fontSizeScale,Qt=Tt.charSpacing,mn=Tt.wordSpacing,fn=Tt.fontDirection,En=Tt.textHScale*fn,kn=yt.length,Tn=$t.vertical,An=Tn?1:-1,sn=$t.defaultVMetrics,dn=Ut*Tt.fontMatrix[0],Mt=Tt.textRenderingMode===tt.TextRenderingMode.FILL&&!$t.disableFontFace&&!Tt.patternFill;Ht.save(),Ht.transform(...Tt.textMatrix),Ht.translate(Tt.x,Tt.y+Tt.textRise),fn>0?Ht.scale(En,-1):Ht.scale(En,1);let Vt;if(Tt.patternFill){Ht.save();const Nn=Tt.fillColor.getPattern(Ht,this,(0,nt.getCurrentTransformInverse)(Ht),rt.PathType.FILL);Vt=(0,nt.getCurrentTransform)(Ht),Ht.restore(),Ht.fillStyle=Nn}let nn=Tt.lineWidth;const on=Tt.textMatrixScale;if(on===0||nn===0){const Nn=Tt.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(Nn===tt.TextRenderingMode.STROKE||Nn===tt.TextRenderingMode.FILL_STROKE)&&(nn=this.getSinglePixelWidth())}else nn/=on;if(Wt!==1&&(Ht.scale(Wt,Wt),nn/=Wt),Ht.lineWidth=nn,$t.isInvalidPDFjsFont){const Nn=[];let cn=0;for(const Kt of yt)Nn.push(Kt.unicode),cn+=Kt.width;Ht.fillText(Nn.join(""),0,0),Tt.x+=cn*dn*En,Ht.restore(),this.compose();return}let yn=0,Pn;for(Pn=0;Pn<kn;++Pn){const Nn=yt[Pn];if(typeof Nn=="number"){yn+=An*Nn*Ut/1e3;continue}let cn=!1;const Kt=(Nn.isSpace?mn:0)+Qt,en=Nn.fontChar,$n=Nn.accent;let Ln,qn,zn=Nn.width;if(Tn){const cr=Nn.vmetric||sn,Pr=-(Nn.vmetric?cr[1]:zn*.5)*dn,In=cr[2]*dn;zn=cr?-cr[0]:zn,Ln=Pr/Wt,qn=(yn+In)/Wt}else Ln=yn/Wt,qn=0;if($t.remeasure&&zn>0){const cr=Ht.measureText(en).width*1e3/Ut*Wt;if(zn<cr&&this.isFontSubpixelAAEnabled){const Pr=zn/cr;cn=!0,Ht.save(),Ht.scale(Pr,1),Ln/=Pr}else zn!==cr&&(Ln+=(zn-cr)/2e3*Ut/Wt)}if(this.contentVisible&&(Nn.isInFont||$t.missingFile)){if(Mt&&!$n)Ht.fillText(en,Ln,qn);else if(this.paintChar(en,Ln,qn,Vt),$n){const cr=Ln+Ut*$n.offset.x/Wt,Pr=qn-Ut*$n.offset.y/Wt;this.paintChar($n.fontChar,cr,Pr,Vt)}}const Zn=Tn?zn*dn-Kt*fn:zn*dn+Kt*fn;yn+=Zn,cn&&Ht.restore()}Tn?Tt.y-=yn:Tt.x+=yn*En,Ht.restore(),this.compose()}showType3Text(yt){const Tt=this.ctx,$t=this.current,Ut=$t.font,Ht=$t.fontSize,Wt=$t.fontDirection,Qt=Ut.vertical?1:-1,mn=$t.charSpacing,fn=$t.wordSpacing,En=$t.textHScale*Wt,kn=$t.fontMatrix||tt.FONT_IDENTITY_MATRIX,Tn=yt.length,An=$t.textRenderingMode===tt.TextRenderingMode.INVISIBLE;let sn,dn,Mt,Vt;if(!(An||Ht===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Tt.save(),Tt.transform(...$t.textMatrix),Tt.translate($t.x,$t.y),Tt.scale(En,Wt),sn=0;sn<Tn;++sn){if(dn=yt[sn],typeof dn=="number"){Vt=Qt*dn*Ht/1e3,this.ctx.translate(Vt,0),$t.x+=Vt*En;continue}const nn=(dn.isSpace?fn:0)+mn,on=Ut.charProcOperatorList[dn.operatorListId];if(!on){(0,tt.warn)(`Type3 character "${dn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=dn,this.save(),Tt.scale(Ht,Ht),Tt.transform(...kn),this.executeOperatorList(on),this.restore()),Mt=tt.Util.applyTransform([dn.width,0],kn)[0]*Ht+nn,Tt.translate(Mt,0),$t.x+=Mt*En}Tt.restore(),this.processingType3=null}}setCharWidth(yt,Tt){}setCharWidthAndBounds(yt,Tt,$t,Ut,Ht,Wt){this.ctx.rect($t,Ut,Ht-$t,Wt-Ut),this.ctx.clip(),this.endPath()}getColorN_Pattern(yt){let Tt;if(yt[0]==="TilingPattern"){const $t=yt[1],Ut=this.baseTransform||(0,nt.getCurrentTransform)(this.ctx),Ht={createCanvasGraphics:Wt=>new Yt(Wt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Tt=new rt.TilingPattern(yt,$t,this.ctx,Ht,Ut)}else Tt=this._getPattern(yt[1],yt[2]);return Tt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(yt,Tt,$t){const Ut=tt.Util.makeHexColor(yt,Tt,$t);this.ctx.strokeStyle=Ut,this.current.strokeColor=Ut}setFillRGBColor(yt,Tt,$t){const Ut=tt.Util.makeHexColor(yt,Tt,$t);this.ctx.fillStyle=Ut,this.current.fillColor=Ut,this.current.patternFill=!1}_getPattern(yt,Tt=null){let $t;return this.cachedPatterns.has(yt)?$t=this.cachedPatterns.get(yt):($t=(0,rt.getShadingPattern)(this.getObject(yt)),this.cachedPatterns.set(yt,$t)),Tt&&($t.matrix=Tt),$t}shadingFill(yt){if(!this.contentVisible)return;const Tt=this.ctx;this.save();const $t=this._getPattern(yt);Tt.fillStyle=$t.getPattern(Tt,this,(0,nt.getCurrentTransformInverse)(Tt),rt.PathType.SHADING);const Ut=(0,nt.getCurrentTransformInverse)(Tt);if(Ut){const{width:Ht,height:Wt}=Tt.canvas,[Qt,mn,fn,En]=tt.Util.getAxialAlignedBoundingBox([0,0,Ht,Wt],Ut);this.ctx.fillRect(Qt,mn,fn-Qt,En-mn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(yt,Tt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(yt)&&yt.length===6&&this.transform(...yt),this.baseTransform=(0,nt.getCurrentTransform)(this.ctx),Tt)){const $t=Tt[2]-Tt[0],Ut=Tt[3]-Tt[1];this.ctx.rect(Tt[0],Tt[1],$t,Ut),this.current.updateRectMinMax((0,nt.getCurrentTransform)(this.ctx),Tt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(yt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Tt=this.ctx;yt.isolated||(0,tt.info)("TODO: Support non-isolated groups."),yt.knockout&&(0,tt.warn)("Knockout groups not supported.");const $t=(0,nt.getCurrentTransform)(Tt);if(yt.matrix&&Tt.transform(...yt.matrix),!yt.bbox)throw new Error("Bounding box is required.");let Ut=tt.Util.getAxialAlignedBoundingBox(yt.bbox,(0,nt.getCurrentTransform)(Tt));const Ht=[0,0,Tt.canvas.width,Tt.canvas.height];Ut=tt.Util.intersect(Ut,Ht)||[0,0,0,0];const Wt=Math.floor(Ut[0]),Qt=Math.floor(Ut[1]);let mn=Math.max(Math.ceil(Ut[2])-Wt,1),fn=Math.max(Math.ceil(Ut[3])-Qt,1),En=1,kn=1;mn>at&&(En=mn/at,mn=at),fn>at&&(kn=fn/at,fn=at),this.current.startNewPathAndClipBox([0,0,mn,fn]);let Tn="groupAt"+this.groupLevel;yt.smask&&(Tn+="_smask_"+this.smaskCounter++%2);const An=this.cachedCanvases.getCanvas(Tn,mn,fn),sn=An.context;sn.scale(1/En,1/kn),sn.translate(-Wt,-Qt),sn.transform(...$t),yt.smask?this.smaskStack.push({canvas:An.canvas,context:sn,offsetX:Wt,offsetY:Qt,scaleX:En,scaleY:kn,subtype:yt.smask.subtype,backdrop:yt.smask.backdrop,transferMap:yt.smask.transferMap||null,startTransformInverse:null}):(Tt.setTransform(1,0,0,1,0,0),Tt.translate(Wt,Qt),Tt.scale(En,kn),Tt.save()),Et(Tt,sn),this.ctx=sn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Tt),this.groupLevel++}endGroup(yt){if(!this.contentVisible)return;this.groupLevel--;const Tt=this.ctx,$t=this.groupStack.pop();if(this.ctx=$t,this.ctx.imageSmoothingEnabled=!1,yt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ut=(0,nt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ut);const Ht=tt.Util.getAxialAlignedBoundingBox([0,0,Tt.canvas.width,Tt.canvas.height],Ut);this.ctx.drawImage(Tt.canvas,0,0),this.ctx.restore(),this.compose(Ht)}}beginAnnotation(yt,Tt,$t,Ut,Ht){if(pn(this,Bt,Ho).call(this),vt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Tt)&&Tt.length===4){const Wt=Tt[2]-Tt[0],Qt=Tt[3]-Tt[1];if(Ht&&this.annotationCanvasMap){$t=$t.slice(),$t[4]-=Tt[0],$t[5]-=Tt[1],Tt=Tt.slice(),Tt[0]=Tt[1]=0,Tt[2]=Wt,Tt[3]=Qt;const[mn,fn]=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(this.ctx)),{viewportScale:En}=this,kn=Math.ceil(Wt*this.outputScaleX*En),Tn=Math.ceil(Qt*this.outputScaleY*En);this.annotationCanvas=this.canvasFactory.create(kn,Tn);const{canvas:An,context:sn}=this.annotationCanvas;this.annotationCanvasMap.set(yt,An),this.annotationCanvas.savedCtx=this.ctx,this.ctx=sn,this.ctx.save(),this.ctx.setTransform(mn,0,0,-fn,0,Qt*fn),vt(this.ctx)}else vt(this.ctx),this.ctx.rect(Tt[0],Tt[1],Wt,Qt),this.ctx.clip(),this.endPath()}this.current=new mt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...$t),this.transform(...Ut)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),pn(this,Bt,Wo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(yt){if(!this.contentVisible)return;const Tt=yt.count;yt=this.getObject(yt.data,yt),yt.count=Tt;const $t=this.ctx,Ut=this.processingType3;if(Ut&&(Ut.compiled===void 0&&(Ut.compiled=ht(yt)),Ut.compiled)){Ut.compiled($t);return}const Ht=this._createMaskCanvas(yt),Wt=Ht.canvas;$t.save(),$t.setTransform(1,0,0,1,0,0),$t.drawImage(Wt,Ht.offsetX,Ht.offsetY),$t.restore(),this.compose()}paintImageMaskXObjectRepeat(yt,Tt,$t=0,Ut=0,Ht,Wt){if(!this.contentVisible)return;yt=this.getObject(yt.data,yt);const Qt=this.ctx;Qt.save();const mn=(0,nt.getCurrentTransform)(Qt);Qt.transform(Tt,$t,Ut,Ht,0,0);const fn=this._createMaskCanvas(yt);Qt.setTransform(1,0,0,1,fn.offsetX-mn[4],fn.offsetY-mn[5]);for(let En=0,kn=Wt.length;En<kn;En+=2){const Tn=tt.Util.transform(mn,[Tt,$t,Ut,Ht,Wt[En],Wt[En+1]]),[An,sn]=tt.Util.applyTransform([0,0],Tn);Qt.drawImage(fn.canvas,An,sn)}Qt.restore(),this.compose()}paintImageMaskXObjectGroup(yt){if(!this.contentVisible)return;const Tt=this.ctx,$t=this.current.fillColor,Ut=this.current.patternFill;for(const Ht of yt){const{data:Wt,width:Qt,height:mn,transform:fn}=Ht,En=this.cachedCanvases.getCanvas("maskCanvas",Qt,mn),kn=En.context;kn.save();const Tn=this.getObject(Wt,Ht);xt(kn,Tn),kn.globalCompositeOperation="source-in",kn.fillStyle=Ut?$t.getPattern(kn,this,(0,nt.getCurrentTransformInverse)(Tt),rt.PathType.FILL):$t,kn.fillRect(0,0,Qt,mn),kn.restore(),Tt.save(),Tt.transform(...fn),Tt.scale(1,-1),gt(Tt,En.canvas,0,0,Qt,mn,0,-1,1,1),Tt.restore()}this.compose()}paintImageXObject(yt){if(!this.contentVisible)return;const Tt=this.getObject(yt);if(!Tt){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Tt)}paintImageXObjectRepeat(yt,Tt,$t,Ut){if(!this.contentVisible)return;const Ht=this.getObject(yt);if(!Ht){(0,tt.warn)("Dependent image isn't ready yet");return}const Wt=Ht.width,Qt=Ht.height,mn=[];for(let fn=0,En=Ut.length;fn<En;fn+=2)mn.push({transform:[Tt,0,0,$t,Ut[fn],Ut[fn+1]],x:0,y:0,w:Wt,h:Qt});this.paintInlineImageXObjectGroup(Ht,mn)}applyTransferMapsToCanvas(yt){return this.current.transferMaps!=="none"&&(yt.filter=this.current.transferMaps,yt.drawImage(yt.canvas,0,0),yt.filter="none"),yt.canvas}applyTransferMapsToBitmap(yt){if(this.current.transferMaps==="none")return yt.bitmap;const{bitmap:Tt,width:$t,height:Ut}=yt,Ht=this.cachedCanvases.getCanvas("inlineImage",$t,Ut),Wt=Ht.context;return Wt.filter=this.current.transferMaps,Wt.drawImage(Tt,0,0),Wt.filter="none",Ht.canvas}paintInlineImageXObject(yt){if(!this.contentVisible)return;const Tt=yt.width,$t=yt.height,Ut=this.ctx;if(this.save(),!tt.isNodeJS){const{filter:Qt}=Ut;Qt!=="none"&&Qt!==""&&(Ut.filter="none")}Ut.scale(1/Tt,-1/$t);let Ht;if(yt.bitmap)Ht=this.applyTransferMapsToBitmap(yt);else if(typeof HTMLElement=="function"&&yt instanceof HTMLElement||!yt.data)Ht=yt;else{const mn=this.cachedCanvases.getCanvas("inlineImage",Tt,$t).context;bt(mn,yt),Ht=this.applyTransferMapsToCanvas(mn)}const Wt=this._scaleImage(Ht,(0,nt.getCurrentTransformInverse)(Ut));Ut.imageSmoothingEnabled=Pt((0,nt.getCurrentTransform)(Ut),yt.interpolate),gt(Ut,Wt.img,0,0,Wt.paintWidth,Wt.paintHeight,0,-$t,Tt,$t),this.compose(),this.restore()}paintInlineImageXObjectGroup(yt,Tt){if(!this.contentVisible)return;const $t=this.ctx;let Ut;if(yt.bitmap)Ut=yt.bitmap;else{const Ht=yt.width,Wt=yt.height,mn=this.cachedCanvases.getCanvas("inlineImage",Ht,Wt).context;bt(mn,yt),Ut=this.applyTransferMapsToCanvas(mn)}for(const Ht of Tt)$t.save(),$t.transform(...Ht.transform),$t.scale(1,-1),gt($t,Ut,Ht.x,Ht.y,Ht.w,Ht.h,0,-1,1,1),$t.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(yt){}markPointProps(yt,Tt){}beginMarkedContent(yt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(yt,Tt){yt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Tt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(yt){const Tt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(yt);const $t=this.ctx;this.pendingClip&&(Tt||(this.pendingClip===jt?$t.clip("evenodd"):$t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),$t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const yt=(0,nt.getCurrentTransform)(this.ctx);if(yt[1]===0&&yt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(yt[0]),Math.abs(yt[3]));else{const Tt=Math.abs(yt[0]*yt[3]-yt[2]*yt[1]),$t=Math.hypot(yt[0],yt[2]),Ut=Math.hypot(yt[1],yt[3]);this._cachedGetSinglePixelWidth=Math.max($t,Ut)/Tt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:yt}=this.current,{a:Tt,b:$t,c:Ut,d:Ht}=this.ctx.getTransform();let Wt,Qt;if($t===0&&Ut===0){const mn=Math.abs(Tt),fn=Math.abs(Ht);if(mn===fn)if(yt===0)Wt=Qt=1/mn;else{const En=mn*yt;Wt=Qt=En<1?1/En:1}else if(yt===0)Wt=1/mn,Qt=1/fn;else{const En=mn*yt,kn=fn*yt;Wt=En<1?1/En:1,Qt=kn<1?1/kn:1}}else{const mn=Math.abs(Tt*Ht-$t*Ut),fn=Math.hypot(Tt,$t),En=Math.hypot(Ut,Ht);if(yt===0)Wt=En/mn,Qt=fn/mn;else{const kn=yt*mn;Wt=En>kn?En/kn:1,Qt=fn>kn?fn/kn:1}}this._cachedScaleForStroking[0]=Wt,this._cachedScaleForStroking[1]=Qt}return this._cachedScaleForStroking}rescaleAndStroke(yt){const{ctx:Tt}=this,{lineWidth:$t}=this.current,[Ut,Ht]=this.getScaleForStroking();if(Tt.lineWidth=$t||1,Ut===1&&Ht===1){Tt.stroke();return}const Wt=Tt.getLineDash();if(yt&&Tt.save(),Tt.scale(Ut,Ht),Wt.length>0){const Qt=Math.max(Ut,Ht);Tt.setLineDash(Wt.map(mn=>mn/Qt)),Tt.lineDashOffset/=Qt}Tt.stroke(),yt&&Tt.restore()}isContentVisible(){for(let yt=this.markedContentStack.length-1;yt>=0;yt--)if(!this.markedContentStack[yt].visible)return!1;return!0}};Bt=new WeakSet,Ho=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Wo=function(){if(this.pageColors){const yt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(yt!=="none"){const Tt=this.ctx.filter;this.ctx.filter=yt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Tt}}};let Ft=Yt;_e.CanvasGraphics=Ft;for(const Ot in tt.OPS)Ft.prototype[Ot]!==void 0&&(Ft.prototype[tt.OPS[Ot]]=Ft.prototype[Ot])},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TilingPattern=_e.PathType=void 0,_e.getShadingPattern=ct;var tt=et(1),nt=et(6);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_e.PathType=rt;function it(ht,mt){if(!mt)return;const bt=mt[2]-mt[0],xt=mt[3]-mt[1],Et=new Path2D;Et.rect(mt[0],mt[1],bt,xt),ht.clip(Et)}class st{constructor(){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tt.unreachable)("Abstract method `getPattern` called.")}}class ot extends st{constructor(mt){super(),this._type=mt[1],this._bbox=mt[2],this._colorStops=mt[3],this._p0=mt[4],this._p1=mt[5],this._r0=mt[6],this._r1=mt[7],this.matrix=null}_createGradient(mt){let bt;this._type==="axial"?bt=mt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(bt=mt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const xt of this._colorStops)bt.addColorStop(xt[0],xt[1]);return bt}getPattern(mt,bt,xt,Et){let vt;if(Et===rt.STROKE||Et===rt.FILL){const _t=bt.current.getClippedPathBoundingBox(Et,(0,nt.getCurrentTransform)(mt))||[0,0,0,0],wt=Math.ceil(_t[2]-_t[0])||1,Ct=Math.ceil(_t[3]-_t[1])||1,Nt=bt.cachedCanvases.getCanvas("pattern",wt,Ct,!0),kt=Nt.context;kt.clearRect(0,0,kt.canvas.width,kt.canvas.height),kt.beginPath(),kt.rect(0,0,kt.canvas.width,kt.canvas.height),kt.translate(-_t[0],-_t[1]),xt=tt.Util.transform(xt,[1,0,0,1,_t[0],_t[1]]),kt.transform(...bt.baseTransform),this.matrix&&kt.transform(...this.matrix),it(kt,this._bbox),kt.fillStyle=this._createGradient(kt),kt.fill(),vt=mt.createPattern(Nt.canvas,"no-repeat");const Pt=new DOMMatrix(xt);vt.setTransform(Pt)}else it(mt,this._bbox),vt=this._createGradient(mt);return vt}}function at(ht,mt,bt,xt,Et,vt,_t,wt){const Ct=mt.coords,Nt=mt.colors,kt=ht.data,Pt=ht.width*4;let Dt;Ct[bt+1]>Ct[xt+1]&&(Dt=bt,bt=xt,xt=Dt,Dt=vt,vt=_t,_t=Dt),Ct[xt+1]>Ct[Et+1]&&(Dt=xt,xt=Et,Et=Dt,Dt=_t,_t=wt,wt=Dt),Ct[bt+1]>Ct[xt+1]&&(Dt=bt,bt=xt,xt=Dt,Dt=vt,vt=_t,_t=Dt);const qt=(Ct[bt]+mt.offsetX)*mt.scaleX,zt=(Ct[bt+1]+mt.offsetY)*mt.scaleY,jt=(Ct[xt]+mt.offsetX)*mt.scaleX,Ft=(Ct[xt+1]+mt.offsetY)*mt.scaleY,Bt=(Ct[Et]+mt.offsetX)*mt.scaleX,It=(Ct[Et+1]+mt.offsetY)*mt.scaleY;if(zt>=It)return;const At=Nt[vt],Yt=Nt[vt+1],Ot=Nt[vt+2],yt=Nt[_t],Tt=Nt[_t+1],$t=Nt[_t+2],Ut=Nt[wt],Ht=Nt[wt+1],Wt=Nt[wt+2],Qt=Math.round(zt),mn=Math.round(It);let fn,En,kn,Tn,An,sn,dn,Mt;for(let Vt=Qt;Vt<=mn;Vt++){if(Vt<Ft){const Nn=Vt<zt?0:(zt-Vt)/(zt-Ft);fn=qt-(qt-jt)*Nn,En=At-(At-yt)*Nn,kn=Yt-(Yt-Tt)*Nn,Tn=Ot-(Ot-$t)*Nn}else{let Nn;Vt>It?Nn=1:Ft===It?Nn=0:Nn=(Ft-Vt)/(Ft-It),fn=jt-(jt-Bt)*Nn,En=yt-(yt-Ut)*Nn,kn=Tt-(Tt-Ht)*Nn,Tn=$t-($t-Wt)*Nn}let nn;Vt<zt?nn=0:Vt>It?nn=1:nn=(zt-Vt)/(zt-It),An=qt-(qt-Bt)*nn,sn=At-(At-Ut)*nn,dn=Yt-(Yt-Ht)*nn,Mt=Ot-(Ot-Wt)*nn;const on=Math.round(Math.min(fn,An)),yn=Math.round(Math.max(fn,An));let Pn=Pt*Vt+on*4;for(let Nn=on;Nn<=yn;Nn++)nn=(fn-Nn)/(fn-An),nn<0?nn=0:nn>1&&(nn=1),kt[Pn++]=En-(En-sn)*nn|0,kt[Pn++]=kn-(kn-dn)*nn|0,kt[Pn++]=Tn-(Tn-Mt)*nn|0,kt[Pn++]=255}}function lt(ht,mt,bt){const xt=mt.coords,Et=mt.colors;let vt,_t;switch(mt.type){case"lattice":const wt=mt.verticesPerRow,Ct=Math.floor(xt.length/wt)-1,Nt=wt-1;for(vt=0;vt<Ct;vt++){let kt=vt*wt;for(let Pt=0;Pt<Nt;Pt++,kt++)at(ht,bt,xt[kt],xt[kt+1],xt[kt+wt],Et[kt],Et[kt+1],Et[kt+wt]),at(ht,bt,xt[kt+wt+1],xt[kt+1],xt[kt+wt],Et[kt+wt+1],Et[kt+1],Et[kt+wt])}break;case"triangles":for(vt=0,_t=xt.length;vt<_t;vt+=3)at(ht,bt,xt[vt],xt[vt+1],xt[vt+2],Et[vt],Et[vt+1],Et[vt+2]);break;default:throw new Error("illegal figure")}}class ut extends st{constructor(mt){super(),this._coords=mt[2],this._colors=mt[3],this._figures=mt[4],this._bounds=mt[5],this._bbox=mt[7],this._background=mt[8],this.matrix=null}_createMeshCanvas(mt,bt,xt){const wt=Math.floor(this._bounds[0]),Ct=Math.floor(this._bounds[1]),Nt=Math.ceil(this._bounds[2])-wt,kt=Math.ceil(this._bounds[3])-Ct,Pt=Math.min(Math.ceil(Math.abs(Nt*mt[0]*1.1)),3e3),Dt=Math.min(Math.ceil(Math.abs(kt*mt[1]*1.1)),3e3),qt=Nt/Pt,zt=kt/Dt,jt={coords:this._coords,colors:this._colors,offsetX:-wt,offsetY:-Ct,scaleX:1/qt,scaleY:1/zt},Ft=Pt+2*2,Bt=Dt+2*2,It=xt.getCanvas("mesh",Ft,Bt,!1),At=It.context,Yt=At.createImageData(Pt,Dt);if(bt){const yt=Yt.data;for(let Tt=0,$t=yt.length;Tt<$t;Tt+=4)yt[Tt]=bt[0],yt[Tt+1]=bt[1],yt[Tt+2]=bt[2],yt[Tt+3]=255}for(const yt of this._figures)lt(Yt,yt,jt);return At.putImageData(Yt,2,2),{canvas:It.canvas,offsetX:wt-2*qt,offsetY:Ct-2*zt,scaleX:qt,scaleY:zt}}getPattern(mt,bt,xt,Et){it(mt,this._bbox);let vt;if(Et===rt.SHADING)vt=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(mt));else if(vt=tt.Util.singularValueDecompose2dScale(bt.baseTransform),this.matrix){const wt=tt.Util.singularValueDecompose2dScale(this.matrix);vt=[vt[0]*wt[0],vt[1]*wt[1]]}const _t=this._createMeshCanvas(vt,Et===rt.SHADING?null:this._background,bt.cachedCanvases);return Et!==rt.SHADING&&(mt.setTransform(...bt.baseTransform),this.matrix&&mt.transform(...this.matrix)),mt.translate(_t.offsetX,_t.offsetY),mt.scale(_t.scaleX,_t.scaleY),mt.createPattern(_t.canvas,"no-repeat")}}class dt extends st{getPattern(){return"hotpink"}}function ct(ht){switch(ht[0]){case"RadialAxial":return new ot(ht);case"Mesh":return new ut(ht);case"Dummy":return new dt}throw new Error(`Unknown IR type: ${ht[0]}`)}const ft={COLORED:1,UNCOLORED:2},gt=class gt{constructor(mt,bt,xt,Et,vt){this.operatorList=mt[2],this.matrix=mt[3]||[1,0,0,1,0,0],this.bbox=mt[4],this.xstep=mt[5],this.ystep=mt[6],this.paintType=mt[7],this.tilingType=mt[8],this.color=bt,this.ctx=xt,this.canvasGraphicsFactory=Et,this.baseTransform=vt}createPatternCanvas(mt){const bt=this.operatorList,xt=this.bbox,Et=this.xstep,vt=this.ystep,_t=this.paintType,wt=this.tilingType,Ct=this.color,Nt=this.canvasGraphicsFactory;(0,tt.info)("TilingType: "+wt);const kt=xt[0],Pt=xt[1],Dt=xt[2],qt=xt[3],zt=tt.Util.singularValueDecompose2dScale(this.matrix),jt=tt.Util.singularValueDecompose2dScale(this.baseTransform),Ft=[zt[0]*jt[0],zt[1]*jt[1]],Bt=this.getSizeAndScale(Et,this.ctx.canvas.width,Ft[0]),It=this.getSizeAndScale(vt,this.ctx.canvas.height,Ft[1]),At=mt.cachedCanvases.getCanvas("pattern",Bt.size,It.size,!0),Yt=At.context,Ot=Nt.createCanvasGraphics(Yt);Ot.groupLevel=mt.groupLevel,this.setFillAndStrokeStyleToContext(Ot,_t,Ct);let yt=kt,Tt=Pt,$t=Dt,Ut=qt;return kt<0&&(yt=0,$t+=Math.abs(kt)),Pt<0&&(Tt=0,Ut+=Math.abs(Pt)),Yt.translate(-(Bt.scale*yt),-(It.scale*Tt)),Ot.transform(Bt.scale,0,0,It.scale,0,0),Yt.save(),this.clipBbox(Ot,yt,Tt,$t,Ut),Ot.baseTransform=(0,nt.getCurrentTransform)(Ot.ctx),Ot.executeOperatorList(bt),Ot.endDrawing(),{canvas:At.canvas,scaleX:Bt.scale,scaleY:It.scale,offsetX:yt,offsetY:Tt}}getSizeAndScale(mt,bt,xt){mt=Math.abs(mt);const Et=Math.max(gt.MAX_PATTERN_SIZE,bt);let vt=Math.ceil(mt*xt);return vt>=Et?vt=Et:xt=vt/mt,{scale:xt,size:vt}}clipBbox(mt,bt,xt,Et,vt){const _t=Et-bt,wt=vt-xt;mt.ctx.rect(bt,xt,_t,wt),mt.current.updateRectMinMax((0,nt.getCurrentTransform)(mt.ctx),[bt,xt,Et,vt]),mt.clip(),mt.endPath()}setFillAndStrokeStyleToContext(mt,bt,xt){const Et=mt.ctx,vt=mt.current;switch(bt){case ft.COLORED:const _t=this.ctx;Et.fillStyle=_t.fillStyle,Et.strokeStyle=_t.strokeStyle,vt.fillColor=_t.fillStyle,vt.strokeColor=_t.strokeStyle;break;case ft.UNCOLORED:const wt=tt.Util.makeHexColor(xt[0],xt[1],xt[2]);Et.fillStyle=wt,Et.strokeStyle=wt,vt.fillColor=wt,vt.strokeColor=wt;break;default:throw new tt.FormatError(`Unsupported paint type: ${bt}`)}}getPattern(mt,bt,xt,Et){let vt=xt;Et!==rt.SHADING&&(vt=tt.Util.transform(vt,bt.baseTransform),this.matrix&&(vt=tt.Util.transform(vt,this.matrix)));const _t=this.createPatternCanvas(bt);let wt=new DOMMatrix(vt);wt=wt.translate(_t.offsetX,_t.offsetY),wt=wt.scale(1/_t.scaleX,1/_t.scaleY);const Ct=mt.createPattern(_t.canvas,"repeat");return Ct.setTransform(wt),Ct}};Gr(gt,"MAX_PATTERN_SIZE",3e3);let pt=gt;_e.TilingPattern=pt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.convertBlackAndWhiteToRGBA=rt,_e.convertToRGBA=nt,_e.grayToRGBA=st;var tt=et(1);function nt(ot){switch(ot.kind){case tt.ImageKind.GRAYSCALE_1BPP:return rt(ot);case tt.ImageKind.RGB_24BPP:return it(ot)}return null}function rt({src:ot,srcPos:at=0,dest:lt,width:ut,height:dt,nonBlackColor:ct=4294967295,inverseDecode:ft=!1}){const pt=tt.FeatureTest.isLittleEndian?4278190080:255,[gt,ht]=ft?[ct,pt]:[pt,ct],mt=ut>>3,bt=ut&7,xt=ot.length;lt=new Uint32Array(lt.buffer);let Et=0;for(let vt=0;vt<dt;vt++){for(const wt=at+mt;at<wt;at++){const Ct=at<xt?ot[at]:255;lt[Et++]=Ct&128?ht:gt,lt[Et++]=Ct&64?ht:gt,lt[Et++]=Ct&32?ht:gt,lt[Et++]=Ct&16?ht:gt,lt[Et++]=Ct&8?ht:gt,lt[Et++]=Ct&4?ht:gt,lt[Et++]=Ct&2?ht:gt,lt[Et++]=Ct&1?ht:gt}if(bt===0)continue;const _t=at<xt?ot[at++]:255;for(let wt=0;wt<bt;wt++)lt[Et++]=_t&1<<7-wt?ht:gt}return{srcPos:at,destPos:Et}}function it({src:ot,srcPos:at=0,dest:lt,destPos:ut=0,width:dt,height:ct}){let ft=0;const pt=ot.length>>2,gt=new Uint32Array(ot.buffer,at,pt);if(tt.FeatureTest.isLittleEndian){for(;ft<pt-2;ft+=3,ut+=4){const ht=gt[ft],mt=gt[ft+1],bt=gt[ft+2];lt[ut]=ht|4278190080,lt[ut+1]=ht>>>24|mt<<8|4278190080,lt[ut+2]=mt>>>16|bt<<16|4278190080,lt[ut+3]=bt>>>8|4278190080}for(let ht=ft*4,mt=ot.length;ht<mt;ht+=3)lt[ut++]=ot[ht]|ot[ht+1]<<8|ot[ht+2]<<16|4278190080}else{for(;ft<pt-2;ft+=3,ut+=4){const ht=gt[ft],mt=gt[ft+1],bt=gt[ft+2];lt[ut]=ht|255,lt[ut+1]=ht<<24|mt>>>8|255,lt[ut+2]=mt<<16|bt>>>16|255,lt[ut+3]=bt<<8|255}for(let ht=ft*4,mt=ot.length;ht<mt;ht+=3)lt[ut++]=ot[ht]<<24|ot[ht+1]<<16|ot[ht+2]<<8|255}return{srcPos:at,destPos:ut}}function st(ot,at){if(tt.FeatureTest.isLittleEndian)for(let lt=0,ut=ot.length;lt<ut;lt++)at[lt]=ot[lt]*65793|4278190080;else for(let lt=0,ut=ot.length;lt<ut;lt++)at[lt]=ot[lt]*16843008|255}},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlobalWorkerOptions=void 0;const et=Object.create(null);_e.GlobalWorkerOptions=et,et.workerPort=null,et.workerSrc=""},($,_e,et)=>{var ot,eu,tu,oo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var tt=et(1);const nt={DATA:1,ERROR:2},rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function it(dt){switch(dt instanceof Error||typeof dt=="object"&&dt!==null||(0,tt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),dt.name){case"AbortException":return new tt.AbortException(dt.message);case"MissingPDFException":return new tt.MissingPDFException(dt.message);case"PasswordException":return new tt.PasswordException(dt.message,dt.code);case"UnexpectedResponseException":return new tt.UnexpectedResponseException(dt.message,dt.status);case"UnknownErrorException":return new tt.UnknownErrorException(dt.message,dt.details);default:return new tt.UnknownErrorException(dt.message,dt.toString())}}class st{constructor(ct,ft,pt){wn(this,ot);this.sourceName=ct,this.targetName=ft,this.comObj=pt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=gt=>{const ht=gt.data;if(ht.targetName!==this.sourceName)return;if(ht.stream){pn(this,ot,tu).call(this,ht);return}if(ht.callback){const bt=ht.callbackId,xt=this.callbackCapabilities[bt];if(!xt)throw new Error(`Cannot resolve callback ${bt}`);if(delete this.callbackCapabilities[bt],ht.callback===nt.DATA)xt.resolve(ht.data);else if(ht.callback===nt.ERROR)xt.reject(it(ht.reason));else throw new Error("Unexpected callback case");return}const mt=this.actionHandler[ht.action];if(!mt)throw new Error(`Unknown action from worker: ${ht.action}`);if(ht.callbackId){const bt=this.sourceName,xt=ht.sourceName;new Promise(function(Et){Et(mt(ht.data))}).then(function(Et){pt.postMessage({sourceName:bt,targetName:xt,callback:nt.DATA,callbackId:ht.callbackId,data:Et})},function(Et){pt.postMessage({sourceName:bt,targetName:xt,callback:nt.ERROR,callbackId:ht.callbackId,reason:it(Et)})});return}if(ht.streamId){pn(this,ot,eu).call(this,ht);return}mt(ht.data)},pt.addEventListener("message",this._onComObjOnMessage)}on(ct,ft){const pt=this.actionHandler;if(pt[ct])throw new Error(`There is already an actionName called "${ct}"`);pt[ct]=ft}send(ct,ft,pt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ct,data:ft},pt)}sendWithPromise(ct,ft,pt){const gt=this.callbackId++,ht=new tt.PromiseCapability;this.callbackCapabilities[gt]=ht;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ct,callbackId:gt,data:ft},pt)}catch(mt){ht.reject(mt)}return ht.promise}sendWithStream(ct,ft,pt,gt){const ht=this.streamId++,mt=this.sourceName,bt=this.targetName,xt=this.comObj;return new ReadableStream({start:Et=>{const vt=new tt.PromiseCapability;return this.streamControllers[ht]={controller:Et,startCall:vt,pullCall:null,cancelCall:null,isClosed:!1},xt.postMessage({sourceName:mt,targetName:bt,action:ct,streamId:ht,data:ft,desiredSize:Et.desiredSize},gt),vt.promise},pull:Et=>{const vt=new tt.PromiseCapability;return this.streamControllers[ht].pullCall=vt,xt.postMessage({sourceName:mt,targetName:bt,stream:rt.PULL,streamId:ht,desiredSize:Et.desiredSize}),vt.promise},cancel:Et=>{(0,tt.assert)(Et instanceof Error,"cancel must have a valid reason");const vt=new tt.PromiseCapability;return this.streamControllers[ht].cancelCall=vt,this.streamControllers[ht].isClosed=!0,xt.postMessage({sourceName:mt,targetName:bt,stream:rt.CANCEL,streamId:ht,reason:it(Et)}),vt.promise}},pt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ot=new WeakSet,eu=function(ct){const ft=ct.streamId,pt=this.sourceName,gt=ct.sourceName,ht=this.comObj,mt=this,bt=this.actionHandler[ct.action],xt={enqueue(Et,vt=1,_t){if(this.isCancelled)return;const wt=this.desiredSize;this.desiredSize-=vt,wt>0&&this.desiredSize<=0&&(this.sinkCapability=new tt.PromiseCapability,this.ready=this.sinkCapability.promise),ht.postMessage({sourceName:pt,targetName:gt,stream:rt.ENQUEUE,streamId:ft,chunk:Et},_t)},close(){this.isCancelled||(this.isCancelled=!0,ht.postMessage({sourceName:pt,targetName:gt,stream:rt.CLOSE,streamId:ft}),delete mt.streamSinks[ft])},error(Et){(0,tt.assert)(Et instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ht.postMessage({sourceName:pt,targetName:gt,stream:rt.ERROR,streamId:ft,reason:it(Et)}))},sinkCapability:new tt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ct.desiredSize,ready:null};xt.sinkCapability.resolve(),xt.ready=xt.sinkCapability.promise,this.streamSinks[ft]=xt,new Promise(function(Et){Et(bt(ct.data,xt))}).then(function(){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.START_COMPLETE,streamId:ft,success:!0})},function(Et){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.START_COMPLETE,streamId:ft,reason:it(Et)})})},tu=function(ct){const ft=ct.streamId,pt=this.sourceName,gt=ct.sourceName,ht=this.comObj,mt=this.streamControllers[ft],bt=this.streamSinks[ft];switch(ct.stream){case rt.START_COMPLETE:ct.success?mt.startCall.resolve():mt.startCall.reject(it(ct.reason));break;case rt.PULL_COMPLETE:ct.success?mt.pullCall.resolve():mt.pullCall.reject(it(ct.reason));break;case rt.PULL:if(!bt){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.PULL_COMPLETE,streamId:ft,success:!0});break}bt.desiredSize<=0&&ct.desiredSize>0&&bt.sinkCapability.resolve(),bt.desiredSize=ct.desiredSize,new Promise(function(xt){var Et;xt((Et=bt.onPull)==null?void 0:Et.call(bt))}).then(function(){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.PULL_COMPLETE,streamId:ft,success:!0})},function(xt){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.PULL_COMPLETE,streamId:ft,reason:it(xt)})});break;case rt.ENQUEUE:if((0,tt.assert)(mt,"enqueue should have stream controller"),mt.isClosed)break;mt.controller.enqueue(ct.chunk);break;case rt.CLOSE:if((0,tt.assert)(mt,"close should have stream controller"),mt.isClosed)break;mt.isClosed=!0,mt.controller.close(),pn(this,ot,oo).call(this,mt,ft);break;case rt.ERROR:(0,tt.assert)(mt,"error should have stream controller"),mt.controller.error(it(ct.reason)),pn(this,ot,oo).call(this,mt,ft);break;case rt.CANCEL_COMPLETE:ct.success?mt.cancelCall.resolve():mt.cancelCall.reject(it(ct.reason)),pn(this,ot,oo).call(this,mt,ft);break;case rt.CANCEL:if(!bt)break;new Promise(function(xt){var Et;xt((Et=bt.onCancel)==null?void 0:Et.call(bt,it(ct.reason)))}).then(function(){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.CANCEL_COMPLETE,streamId:ft,success:!0})},function(xt){ht.postMessage({sourceName:pt,targetName:gt,stream:rt.CANCEL_COMPLETE,streamId:ft,reason:it(xt)})}),bt.sinkCapability.reject(it(ct.reason)),bt.isCancelled=!0,delete this.streamSinks[ft];break;default:throw new Error("Unexpected stream case")}},oo=async function(ct,ft){var pt,gt,ht;await Promise.allSettled([(pt=ct.startCall)==null?void 0:pt.promise,(gt=ct.pullCall)==null?void 0:gt.promise,(ht=ct.cancelCall)==null?void 0:ht.promise]),delete this.streamControllers[ft]},_e.MessageHandler=st},($,_e,et)=>{var rt,it;Object.defineProperty(_e,"__esModule",{value:!0}),_e.Metadata=void 0;var tt=et(1);class nt{constructor({parsedData:ot,rawData:at}){wn(this,rt);wn(this,it);Sn(this,rt,ot),Sn(this,it,at)}getRaw(){return St(this,it)}get(ot){return St(this,rt).get(ot)??null}getAll(){return(0,tt.objectFromMap)(St(this,rt))}has(ot){return St(this,rt).has(ot)}}rt=new WeakMap,it=new WeakMap,_e.Metadata=nt},($,_e,et)=>{var ot,at,lt,ut,dt,ct,Go;Object.defineProperty(_e,"__esModule",{value:!0}),_e.OptionalContentConfig=void 0;var tt=et(1),nt=et(8);const rt=Symbol("INTERNAL");class it{constructor(gt,ht){wn(this,ot,!0);this.name=gt,this.intent=ht}get visible(){return St(this,ot)}_setVisible(gt,ht){gt!==rt&&(0,tt.unreachable)("Internal method `_setVisible` called."),Sn(this,ot,ht)}}ot=new WeakMap;class st{constructor(gt){wn(this,ct);wn(this,at,null);wn(this,lt,new Map);wn(this,ut,null);wn(this,dt,null);if(this.name=null,this.creator=null,gt!==null){this.name=gt.name,this.creator=gt.creator,Sn(this,dt,gt.order);for(const ht of gt.groups)St(this,lt).set(ht.id,new it(ht.name,ht.intent));if(gt.baseState==="OFF")for(const ht of St(this,lt).values())ht._setVisible(rt,!1);for(const ht of gt.on)St(this,lt).get(ht)._setVisible(rt,!0);for(const ht of gt.off)St(this,lt).get(ht)._setVisible(rt,!1);Sn(this,ut,this.getHash())}}isVisible(gt){if(St(this,lt).size===0)return!0;if(!gt)return(0,tt.warn)("Optional content group not defined."),!0;if(gt.type==="OCG")return St(this,lt).has(gt.id)?St(this,lt).get(gt.id).visible:((0,tt.warn)(`Optional content group not found: ${gt.id}`),!0);if(gt.type==="OCMD"){if(gt.expression)return pn(this,ct,Go).call(this,gt.expression);if(!gt.policy||gt.policy==="AnyOn"){for(const ht of gt.ids){if(!St(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(St(this,lt).get(ht).visible)return!0}return!1}else if(gt.policy==="AllOn"){for(const ht of gt.ids){if(!St(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(!St(this,lt).get(ht).visible)return!1}return!0}else if(gt.policy==="AnyOff"){for(const ht of gt.ids){if(!St(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(!St(this,lt).get(ht).visible)return!0}return!1}else if(gt.policy==="AllOff"){for(const ht of gt.ids){if(!St(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(St(this,lt).get(ht).visible)return!1}return!0}return(0,tt.warn)(`Unknown optional content policy ${gt.policy}.`),!0}return(0,tt.warn)(`Unknown group type ${gt.type}.`),!0}setVisibility(gt,ht=!0){if(!St(this,lt).has(gt)){(0,tt.warn)(`Optional content group not found: ${gt}`);return}St(this,lt).get(gt)._setVisible(rt,!!ht),Sn(this,at,null)}get hasInitialVisibility(){return St(this,ut)===null||this.getHash()===St(this,ut)}getOrder(){return St(this,lt).size?St(this,dt)?St(this,dt).slice():[...St(this,lt).keys()]:null}getGroups(){return St(this,lt).size>0?(0,tt.objectFromMap)(St(this,lt)):null}getGroup(gt){return St(this,lt).get(gt)||null}getHash(){if(St(this,at)!==null)return St(this,at);const gt=new nt.MurmurHash3_64;for(const[ht,mt]of St(this,lt))gt.update(`${ht}:${mt.visible}`);return Sn(this,at,gt.hexdigest())}}at=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,ct=new WeakSet,Go=function(gt){const ht=gt.length;if(ht<2)return!0;const mt=gt[0];for(let bt=1;bt<ht;bt++){const xt=gt[bt];let Et;if(Array.isArray(xt))Et=pn(this,ct,Go).call(this,xt);else if(St(this,lt).has(xt))Et=St(this,lt).get(xt).visible;else return(0,tt.warn)(`Optional content group not found: ${xt}`),!0;switch(mt){case"And":if(!Et)return!1;break;case"Or":if(Et)return!0;break;case"Not":return!Et;default:return!0}}return mt==="And"},_e.OptionalContentConfig=st},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFDataTransportStream=void 0;var tt=et(1),nt=et(6);class rt{constructor({length:at,initialData:lt,progressiveDone:ut=!1,contentDispositionFilename:dt=null,disableRange:ct=!1,disableStream:ft=!1},pt){if((0,tt.assert)(pt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ut,this._contentDispositionFilename=dt,(lt==null?void 0:lt.length)>0){const gt=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;this._queuedChunks.push(gt)}this._pdfDataRangeTransport=pt,this._isStreamingSupported=!ft,this._isRangeSupported=!ct,this._contentLength=at,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((gt,ht)=>{this._onReceiveData({begin:gt,chunk:ht})}),this._pdfDataRangeTransport.addProgressListener((gt,ht)=>{this._onProgress({loaded:gt,total:ht})}),this._pdfDataRangeTransport.addProgressiveReadListener(gt=>{this._onReceiveData({chunk:gt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:at,chunk:lt}){const ut=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;if(at===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ut):this._queuedChunks.push(ut);else{const dt=this._rangeReaders.some(function(ct){return ct._begin!==at?!1:(ct._enqueue(ut),!0)});(0,tt.assert)(dt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var at;return((at=this._fullRequestReader)==null?void 0:at._loaded)??0}_onProgress(at){var lt,ut,dt,ct;at.total===void 0?(ut=(lt=this._rangeReaders[0])==null?void 0:lt.onProgress)==null||ut.call(lt,{loaded:at.loaded}):(ct=(dt=this._fullRequestReader)==null?void 0:dt.onProgress)==null||ct.call(dt,{loaded:at.loaded,total:at.total})}_onProgressiveDone(){var at;(at=this._fullRequestReader)==null||at.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(at){const lt=this._rangeReaders.indexOf(at);lt>=0&&this._rangeReaders.splice(lt,1)}getFullReader(){(0,tt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const at=this._queuedChunks;return this._queuedChunks=null,new it(this,at,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(at,lt){if(lt<=this._progressiveDataLength)return null;const ut=new st(this,at,lt);return this._pdfDataRangeTransport.requestDataRange(at,lt),this._rangeReaders.push(ut),ut}cancelAllRequests(at){var lt;(lt=this._fullRequestReader)==null||lt.cancel(at);for(const ut of this._rangeReaders.slice(0))ut.cancel(at);this._pdfDataRangeTransport.abort()}}_e.PDFDataTransportStream=rt;class it{constructor(at,lt,ut=!1,dt=null){this._stream=at,this._done=ut||!1,this._filename=(0,nt.isPdfFile)(dt)?dt:null,this._queuedChunks=lt||[],this._loaded=0;for(const ct of this._queuedChunks)this._loaded+=ct.byteLength;this._requests=[],this._headersReady=Promise.resolve(),at._fullRequestReader=this,this.onProgress=null}_enqueue(at){this._done||(this._requests.length>0?this._requests.shift().resolve({value:at,done:!1}):this._queuedChunks.push(at),this._loaded+=at.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const at=new tt.PromiseCapability;return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class st{constructor(at,lt,ut){this._stream=at,this._begin=lt,this._end=ut,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(at){if(!this._done){if(this._requests.length===0)this._queuedChunk=at;else{this._requests.shift().resolve({value:at,done:!1});for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const at=new tt.PromiseCapability;return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFFetchStream=void 0;var tt=et(1),nt=et(20);function rt(ut,dt,ct){return{method:"GET",headers:ut,signal:ct.signal,mode:"cors",credentials:dt?"include":"same-origin",redirect:"follow"}}function it(ut){const dt=new Headers;for(const ct in ut){const ft=ut[ct];ft!==void 0&&dt.append(ct,ft)}return dt}function st(ut){return ut instanceof Uint8Array?ut.buffer:ut instanceof ArrayBuffer?ut:((0,tt.warn)(`getArrayBuffer - unexpected data format: ${ut}`),new Uint8Array(ut).buffer)}class ot{constructor(dt){this.source=dt,this.isHttp=/^https?:/i.test(dt.url),this.httpHeaders=this.isHttp&&dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dt;return((dt=this._fullRequestReader)==null?void 0:dt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new at(this),this._fullRequestReader}getRangeReader(dt,ct){if(ct<=this._progressiveDataLength)return null;const ft=new lt(this,dt,ct);return this._rangeRequestReaders.push(ft),ft}cancelAllRequests(dt){var ct;(ct=this._fullRequestReader)==null||ct.cancel(dt);for(const ft of this._rangeRequestReaders.slice(0))ft.cancel(dt)}}_e.PDFFetchStream=ot;class at{constructor(dt){this._stream=dt,this._reader=null,this._loaded=0,this._filename=null;const ct=dt.source;this._withCredentials=ct.withCredentials||!1,this._contentLength=ct.length,this._headersCapability=new tt.PromiseCapability,this._disableRange=ct.disableRange||!1,this._rangeChunkSize=ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ct.disableStream,this._isRangeSupported=!ct.disableRange,this._headers=it(this._stream.httpHeaders);const ft=ct.url;fetch(ft,rt(this._headers,this._withCredentials,this._abortController)).then(pt=>{if(!(0,nt.validateResponseStatus)(pt.status))throw(0,nt.createResponseStatusError)(pt.status,ft);this._reader=pt.body.getReader(),this._headersCapability.resolve();const gt=bt=>pt.headers.get(bt),{allowRangeRequests:ht,suggestedLength:mt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ht,this._contentLength=mt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(gt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ft;await this._headersCapability.promise;const{value:dt,done:ct}=await this._reader.read();return ct?{value:dt,done:ct}:(this._loaded+=dt.byteLength,(ft=this.onProgress)==null||ft.call(this,{loaded:this._loaded,total:this._contentLength}),{value:st(dt),done:!1})}cancel(dt){var ct;(ct=this._reader)==null||ct.cancel(dt),this._abortController.abort()}}class lt{constructor(dt,ct,ft){this._stream=dt,this._reader=null,this._loaded=0;const pt=dt.source;this._withCredentials=pt.withCredentials||!1,this._readCapability=new tt.PromiseCapability,this._isStreamingSupported=!pt.disableStream,this._abortController=new AbortController,this._headers=it(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ct}-${ft-1}`);const gt=pt.url;fetch(gt,rt(this._headers,this._withCredentials,this._abortController)).then(ht=>{if(!(0,nt.validateResponseStatus)(ht.status))throw(0,nt.createResponseStatusError)(ht.status,gt);this._readCapability.resolve(),this._reader=ht.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ft;await this._readCapability.promise;const{value:dt,done:ct}=await this._reader.read();return ct?{value:dt,done:ct}:(this._loaded+=dt.byteLength,(ft=this.onProgress)==null||ft.call(this,{loaded:this._loaded}),{value:st(dt),done:!1})}cancel(dt){var ct;(ct=this._reader)==null||ct.cancel(dt),this._abortController.abort()}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createResponseStatusError=ot,_e.extractFilenameFromHeader=st,_e.validateRangeRequestCapabilities=it,_e.validateResponseStatus=at;var tt=et(1),nt=et(21),rt=et(6);function it({getResponseHeader:lt,isHttp:ut,rangeChunkSize:dt,disableRange:ct}){const ft={allowRangeRequests:!1,suggestedLength:void 0},pt=parseInt(lt("Content-Length"),10);return!Number.isInteger(pt)||(ft.suggestedLength=pt,pt<=2*dt)||ct||!ut||lt("Accept-Ranges")!=="bytes"||(lt("Content-Encoding")||"identity")!=="identity"||(ft.allowRangeRequests=!0),ft}function st(lt){const ut=lt("Content-Disposition");if(ut){let dt=(0,nt.getFilenameFromContentDispositionHeader)(ut);if(dt.includes("%"))try{dt=decodeURIComponent(dt)}catch{}if((0,rt.isPdfFile)(dt))return dt}return null}function ot(lt,ut){return lt===404||lt===0&&ut.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+ut+'".'):new tt.UnexpectedResponseException(`Unexpected server response (${lt}) while retrieving PDF "${ut}".`,lt)}function at(lt){return lt===200||lt===206}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFilenameFromContentDispositionHeader=nt;var tt=et(1);function nt(rt){let it=!0,st=ot("filename\\*","i").exec(rt);if(st){st=st[1];let pt=dt(st);return pt=unescape(pt),pt=ct(pt),pt=ft(pt),lt(pt)}if(st=ut(rt),st){const pt=ft(st);return lt(pt)}if(st=ot("filename","i").exec(rt),st){st=st[1];let pt=dt(st);return pt=ft(pt),lt(pt)}function ot(pt,gt){return new RegExp("(?:^|;)\\s*"+pt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',gt)}function at(pt,gt){if(pt){if(!/^[\x00-\xFF]+$/.test(gt))return gt;try{const ht=new TextDecoder(pt,{fatal:!0}),mt=(0,tt.stringToBytes)(gt);gt=ht.decode(mt),it=!1}catch{}}return gt}function lt(pt){return it&&/[\x80-\xff]/.test(pt)&&(pt=at("utf-8",pt),it&&(pt=at("iso-8859-1",pt))),pt}function ut(pt){const gt=[];let ht;const mt=ot("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ht=mt.exec(pt))!==null;){let[,xt,Et,vt]=ht;if(xt=parseInt(xt,10),xt in gt){if(xt===0)break;continue}gt[xt]=[Et,vt]}const bt=[];for(let xt=0;xt<gt.length&&xt in gt;++xt){let[Et,vt]=gt[xt];vt=dt(vt),Et&&(vt=unescape(vt),xt===0&&(vt=ct(vt))),bt.push(vt)}return bt.join("")}function dt(pt){if(pt.startsWith('"')){const gt=pt.slice(1).split('\\"');for(let ht=0;ht<gt.length;++ht){const mt=gt[ht].indexOf('"');mt!==-1&&(gt[ht]=gt[ht].slice(0,mt),gt.length=ht+1),gt[ht]=gt[ht].replaceAll(/\\(.)/g,"$1")}pt=gt.join('"')}return pt}function ct(pt){const gt=pt.indexOf("'");if(gt===-1)return pt;const ht=pt.slice(0,gt),bt=pt.slice(gt+1).replace(/^[^']*'/,"");return at(ht,bt)}function ft(pt){return!pt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(pt)?pt:pt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(gt,ht,mt,bt){if(mt==="q"||mt==="Q")return bt=bt.replaceAll("_"," "),bt=bt.replaceAll(/=([0-9a-fA-F]{2})/g,function(xt,Et){return String.fromCharCode(parseInt(Et,16))}),at(ht,bt);try{bt=atob(bt)}catch{}return at(ht,bt)})}return""}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNetworkStream=void 0;var tt=et(1),nt=et(20);const rt=200,it=206;function st(dt){const ct=dt.response;return typeof ct!="string"?ct:(0,tt.stringToBytes)(ct).buffer}class ot{constructor(ct,ft={}){this.url=ct,this.isHttp=/^https?:/i.test(ct),this.httpHeaders=this.isHttp&&ft.httpHeaders||Object.create(null),this.withCredentials=ft.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ct,ft,pt){const gt={begin:ct,end:ft};for(const ht in pt)gt[ht]=pt[ht];return this.request(gt)}requestFull(ct){return this.request(ct)}request(ct){const ft=new XMLHttpRequest,pt=this.currXhrId++,gt=this.pendingRequests[pt]={xhr:ft};ft.open("GET",this.url),ft.withCredentials=this.withCredentials;for(const ht in this.httpHeaders){const mt=this.httpHeaders[ht];mt!==void 0&&ft.setRequestHeader(ht,mt)}return this.isHttp&&"begin"in ct&&"end"in ct?(ft.setRequestHeader("Range",`bytes=${ct.begin}-${ct.end-1}`),gt.expectedStatus=it):gt.expectedStatus=rt,ft.responseType="arraybuffer",ct.onError&&(ft.onerror=function(ht){ct.onError(ft.status)}),ft.onreadystatechange=this.onStateChange.bind(this,pt),ft.onprogress=this.onProgress.bind(this,pt),gt.onHeadersReceived=ct.onHeadersReceived,gt.onDone=ct.onDone,gt.onError=ct.onError,gt.onProgress=ct.onProgress,ft.send(null),pt}onProgress(ct,ft){var gt;const pt=this.pendingRequests[ct];pt&&((gt=pt.onProgress)==null||gt.call(pt,ft))}onStateChange(ct,ft){var xt,Et,vt;const pt=this.pendingRequests[ct];if(!pt)return;const gt=pt.xhr;if(gt.readyState>=2&&pt.onHeadersReceived&&(pt.onHeadersReceived(),delete pt.onHeadersReceived),gt.readyState!==4||!(ct in this.pendingRequests))return;if(delete this.pendingRequests[ct],gt.status===0&&this.isHttp){(xt=pt.onError)==null||xt.call(pt,gt.status);return}const ht=gt.status||rt;if(!(ht===rt&&pt.expectedStatus===it)&&ht!==pt.expectedStatus){(Et=pt.onError)==null||Et.call(pt,gt.status);return}const bt=st(gt);if(ht===it){const _t=gt.getResponseHeader("Content-Range"),wt=/bytes (\d+)-(\d+)\/(\d+)/.exec(_t);pt.onDone({begin:parseInt(wt[1],10),chunk:bt})}else bt?pt.onDone({begin:0,chunk:bt}):(vt=pt.onError)==null||vt.call(pt,gt.status)}getRequestXhr(ct){return this.pendingRequests[ct].xhr}isPendingRequest(ct){return ct in this.pendingRequests}abortRequest(ct){const ft=this.pendingRequests[ct].xhr;delete this.pendingRequests[ct],ft.abort()}}class at{constructor(ct){this._source=ct,this._manager=new ot(ct.url,{httpHeaders:ct.httpHeaders,withCredentials:ct.withCredentials}),this._rangeChunkSize=ct.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ct){const ft=this._rangeRequestReaders.indexOf(ct);ft>=0&&this._rangeRequestReaders.splice(ft,1)}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this._manager,this._source),this._fullRequestReader}getRangeReader(ct,ft){const pt=new ut(this._manager,ct,ft);return pt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(pt),pt}cancelAllRequests(ct){var ft;(ft=this._fullRequestReader)==null||ft.cancel(ct);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(ct)}}_e.PDFNetworkStream=at;class lt{constructor(ct,ft){this._manager=ct;const pt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ft.url,this._fullRequestId=ct.requestFull(pt),this._headersReceivedCapability=new tt.PromiseCapability,this._disableRange=ft.disableRange||!1,this._contentLength=ft.length,this._rangeChunkSize=ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ct=this._fullRequestId,ft=this._manager.getRequestXhr(ct),pt=mt=>ft.getResponseHeader(mt),{allowRangeRequests:gt,suggestedLength:ht}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});gt&&(this._isRangeSupported=!0),this._contentLength=ht||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(pt),this._isRangeSupported&&this._manager.abortRequest(ct),this._headersReceivedCapability.resolve()}_onDone(ct){if(ct&&(this._requests.length>0?this._requests.shift().resolve({value:ct.chunk,done:!1}):this._cachedChunks.push(ct.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ct){this._storedError=(0,nt.createResponseStatusError)(ct,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ft of this._requests)ft.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ct){var ft;(ft=this.onProgress)==null||ft.call(this,{loaded:ct.loaded,total:ct.lengthComputable?ct.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ct=new tt.PromiseCapability;return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0,this._headersReceivedCapability.reject(ct);for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ut{constructor(ct,ft,pt){this._manager=ct;const gt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ct.url,this._requestId=ct.requestRange(ft,pt,gt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ct;(ct=this.onClosed)==null||ct.call(this,this)}_onDone(ct){const ft=ct.chunk;this._requests.length>0?this._requests.shift().resolve({value:ft,done:!1}):this._queuedChunk=ft,this._done=!0;for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ct){this._storedError=(0,nt.createResponseStatusError)(ct,this._url);for(const ft of this._requests)ft.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ct){var ft;this.isStreamingSupported||(ft=this.onProgress)==null||ft.call(this,{loaded:ct.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ft=this._queuedChunk;return this._queuedChunk=null,{value:ft,done:!1}}if(this._done)return{value:void 0,done:!0};const ct=new tt.PromiseCapability;return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNodeStream=void 0;var tt=et(1),nt=et(20);const rt=/^file:\/\/\/[a-zA-Z]:\//;function it(pt){const gt=require$$5,ht=gt.parse(pt);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(pt)?gt.parse(`file:///${pt}`):(ht.host||(ht.protocol="file:"),ht)}class st{constructor(gt){this.source=gt,this.url=it(gt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&gt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var gt;return((gt=this._fullRequestReader)==null?void 0:gt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ct(this):new ut(this),this._fullRequestReader}getRangeReader(gt,ht){if(ht<=this._progressiveDataLength)return null;const mt=this.isFsUrl?new ft(this,gt,ht):new dt(this,gt,ht);return this._rangeRequestReaders.push(mt),mt}cancelAllRequests(gt){var ht;(ht=this._fullRequestReader)==null||ht.cancel(gt);for(const mt of this._rangeRequestReaders.slice(0))mt.cancel(gt)}}_e.PDFNodeStream=st;class ot{constructor(gt){this._url=gt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=gt.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=new tt.PromiseCapability,this._headersCapability=new tt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const gt=this._readableStream.read();return gt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=gt.length,(mt=this.onProgress)==null||mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(gt).buffer,done:!1})}cancel(gt){if(!this._readableStream){this._error(gt);return}this._readableStream.destroy(gt)}_error(gt){this._storedError=gt,this._readCapability.resolve()}_setReadableStream(gt){this._readableStream=gt,gt.on("readable",()=>{this._readCapability.resolve()}),gt.on("end",()=>{gt.destroy(),this._done=!0,this._readCapability.resolve()}),gt.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class at{constructor(gt){this._url=gt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new tt.PromiseCapability;const ht=gt.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const gt=this._readableStream.read();return gt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=gt.length,(mt=this.onProgress)==null||mt.call(this,{loaded:this._loaded}),{value:new Uint8Array(gt).buffer,done:!1})}cancel(gt){if(!this._readableStream){this._error(gt);return}this._readableStream.destroy(gt)}_error(gt){this._storedError=gt,this._readCapability.resolve()}_setReadableStream(gt){this._readableStream=gt,gt.on("readable",()=>{this._readCapability.resolve()}),gt.on("end",()=>{gt.destroy(),this._done=!0,this._readCapability.resolve()}),gt.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lt(pt,gt){return{protocol:pt.protocol,auth:pt.auth,host:pt.hostname,port:pt.port,path:pt.path,method:"GET",headers:gt}}class ut extends ot{constructor(gt){super(gt);const ht=mt=>{if(mt.statusCode===404){const vt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=vt,this._headersCapability.reject(vt);return}this._headersCapability.resolve(),this._setReadableStream(mt);const bt=vt=>this._readableStream.headers[vt.toLowerCase()],{allowRangeRequests:xt,suggestedLength:Et}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:bt,isHttp:gt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=xt,this._contentLength=Et||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(bt)};if(this._request=null,this._url.protocol==="http:"){const mt=require$$5;this._request=mt.request(lt(this._url,gt.httpHeaders),ht)}else{const mt=require$$5;this._request=mt.request(lt(this._url,gt.httpHeaders),ht)}this._request.on("error",mt=>{this._storedError=mt,this._headersCapability.reject(mt)}),this._request.end()}}class dt extends at{constructor(gt,ht,mt){super(gt),this._httpHeaders={};for(const xt in gt.httpHeaders){const Et=gt.httpHeaders[xt];Et!==void 0&&(this._httpHeaders[xt]=Et)}this._httpHeaders.Range=`bytes=${ht}-${mt-1}`;const bt=xt=>{if(xt.statusCode===404){const Et=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(xt)};if(this._request=null,this._url.protocol==="http:"){const xt=require$$5;this._request=xt.request(lt(this._url,this._httpHeaders),bt)}else{const xt=require$$5;this._request=xt.request(lt(this._url,this._httpHeaders),bt)}this._request.on("error",xt=>{this._storedError=xt}),this._request.end()}}class ct extends ot{constructor(gt){super(gt);let ht=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(ht=ht.replace(/^\//,""));const mt=require$$5;mt.lstat(ht,(bt,xt)=>{if(bt){bt.code==="ENOENT"&&(bt=new tt.MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=bt,this._headersCapability.reject(bt);return}this._contentLength=xt.size,this._setReadableStream(mt.createReadStream(ht)),this._headersCapability.resolve()})}}class ft extends at{constructor(gt,ht,mt){super(gt);let bt=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(bt=bt.replace(/^\//,""));const xt=require$$5;this._setReadableStream(xt.createReadStream(bt,{start:ht,end:mt-1}))}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SVGGraphics=void 0;var tt=et(6),nt=et(1);const rt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it="http://www.w3.org/XML/1998/namespace",st="http://www.w3.org/1999/xlink",ot=["butt","round","square"],at=["miter","round","bevel"],lt=function(xt,Et="",vt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!vt)return URL.createObjectURL(new Blob([xt],{type:Et}));const _t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let wt=`data:${Et};base64,`;for(let Ct=0,Nt=xt.length;Ct<Nt;Ct+=3){const kt=xt[Ct]&255,Pt=xt[Ct+1]&255,Dt=xt[Ct+2]&255,qt=kt>>2,zt=(kt&3)<<4|Pt>>4,jt=Ct+1<Nt?(Pt&15)<<2|Dt>>6:64,Ft=Ct+2<Nt?Dt&63:64;wt+=_t[qt]+_t[zt]+_t[jt]+_t[Ft]}return wt},ut=function(){const xt=new Uint8Array([137,80,78,71,13,10,26,10]),Et=12,vt=new Int32Array(256);for(let Dt=0;Dt<256;Dt++){let qt=Dt;for(let zt=0;zt<8;zt++)qt=qt&1?3988292384^qt>>1&2147483647:qt>>1&2147483647;vt[Dt]=qt}function _t(Dt,qt,zt){let jt=-1;for(let Ft=qt;Ft<zt;Ft++){const Bt=(jt^Dt[Ft])&255,It=vt[Bt];jt=jt>>>8^It}return jt^-1}function wt(Dt,qt,zt,jt){let Ft=jt;const Bt=qt.length;zt[Ft]=Bt>>24&255,zt[Ft+1]=Bt>>16&255,zt[Ft+2]=Bt>>8&255,zt[Ft+3]=Bt&255,Ft+=4,zt[Ft]=Dt.charCodeAt(0)&255,zt[Ft+1]=Dt.charCodeAt(1)&255,zt[Ft+2]=Dt.charCodeAt(2)&255,zt[Ft+3]=Dt.charCodeAt(3)&255,Ft+=4,zt.set(qt,Ft),Ft+=qt.length;const It=_t(zt,jt+4,Ft);zt[Ft]=It>>24&255,zt[Ft+1]=It>>16&255,zt[Ft+2]=It>>8&255,zt[Ft+3]=It&255}function Ct(Dt,qt,zt){let jt=1,Ft=0;for(let Bt=qt;Bt<zt;++Bt)jt=(jt+(Dt[Bt]&255))%65521,Ft=(Ft+jt)%65521;return Ft<<16|jt}function Nt(Dt){if(!nt.isNodeJS)return kt(Dt);try{const qt=parseInt(process.versions.node)>=8?Dt:Buffer.from(Dt),zt=require$$5.deflateSync(qt,{level:9});return zt instanceof Uint8Array?zt:new Uint8Array(zt)}catch(qt){(0,nt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+qt)}return kt(Dt)}function kt(Dt){let qt=Dt.length;const zt=65535,jt=Math.ceil(qt/zt),Ft=new Uint8Array(2+qt+jt*5+4);let Bt=0;Ft[Bt++]=120,Ft[Bt++]=156;let It=0;for(;qt>zt;)Ft[Bt++]=0,Ft[Bt++]=255,Ft[Bt++]=255,Ft[Bt++]=0,Ft[Bt++]=0,Ft.set(Dt.subarray(It,It+zt),Bt),Bt+=zt,It+=zt,qt-=zt;Ft[Bt++]=1,Ft[Bt++]=qt&255,Ft[Bt++]=qt>>8&255,Ft[Bt++]=~qt&65535&255,Ft[Bt++]=(~qt&65535)>>8&255,Ft.set(Dt.subarray(It),Bt),Bt+=Dt.length-It;const At=Ct(Dt,0,Dt.length);return Ft[Bt++]=At>>24&255,Ft[Bt++]=At>>16&255,Ft[Bt++]=At>>8&255,Ft[Bt++]=At&255,Ft}function Pt(Dt,qt,zt,jt){const Ft=Dt.width,Bt=Dt.height;let It,At,Yt;const Ot=Dt.data;switch(qt){case nt.ImageKind.GRAYSCALE_1BPP:At=0,It=1,Yt=Ft+7>>3;break;case nt.ImageKind.RGB_24BPP:At=2,It=8,Yt=Ft*3;break;case nt.ImageKind.RGBA_32BPP:At=6,It=8,Yt=Ft*4;break;default:throw new Error("invalid format")}const yt=new Uint8Array((1+Yt)*Bt);let Tt=0,$t=0;for(let fn=0;fn<Bt;++fn)yt[Tt++]=0,yt.set(Ot.subarray($t,$t+Yt),Tt),$t+=Yt,Tt+=Yt;if(qt===nt.ImageKind.GRAYSCALE_1BPP&&jt){Tt=0;for(let fn=0;fn<Bt;fn++){Tt++;for(let En=0;En<Yt;En++)yt[Tt++]^=255}}const Ut=new Uint8Array([Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255,Bt>>24&255,Bt>>16&255,Bt>>8&255,Bt&255,It,At,0,0,0]),Ht=Nt(yt),Wt=xt.length+Et*3+Ut.length+Ht.length,Qt=new Uint8Array(Wt);let mn=0;return Qt.set(xt,mn),mn+=xt.length,wt("IHDR",Ut,Qt,mn),mn+=Et+Ut.length,wt("IDATA",Ht,Qt,mn),mn+=Et+Ht.length,wt("IEND",new Uint8Array(0),Qt,mn),lt(Qt,"image/png",zt)}return function(qt,zt,jt){const Ft=qt.kind===void 0?nt.ImageKind.GRAYSCALE_1BPP:qt.kind;return Pt(qt,Ft,zt,jt)}}();class dt{constructor(){this.fontSizeScale=1,this.fontWeight=rt.fontWeight,this.fontSize=0,this.textMatrix=nt.IDENTITY_MATRIX,this.fontMatrix=nt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=rt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Et,vt){this.x=Et,this.y=vt}}function ct(xt){let Et=[];const vt=[];for(const _t of xt){if(_t.fn==="save"){Et.push({fnId:92,fn:"group",items:[]}),vt.push(Et),Et=Et.at(-1).items;continue}_t.fn==="restore"?Et=vt.pop():Et.push(_t)}return Et}function ft(xt){if(Number.isInteger(xt))return xt.toString();const Et=xt.toFixed(10);let vt=Et.length-1;if(Et[vt]!=="0")return Et;do vt--;while(Et[vt]==="0");return Et.substring(0,Et[vt]==="."?vt:vt+1)}function pt(xt){if(xt[4]===0&&xt[5]===0){if(xt[1]===0&&xt[2]===0)return xt[0]===1&&xt[3]===1?"":`scale(${ft(xt[0])} ${ft(xt[3])})`;if(xt[0]===xt[3]&&xt[1]===-xt[2]){const Et=Math.acos(xt[0])*180/Math.PI;return`rotate(${ft(Et)})`}}else if(xt[0]===1&&xt[1]===0&&xt[2]===0&&xt[3]===1)return`translate(${ft(xt[4])} ${ft(xt[5])})`;return`matrix(${ft(xt[0])} ${ft(xt[1])} ${ft(xt[2])} ${ft(xt[3])} ${ft(xt[4])} ${ft(xt[5])})`}let gt=0,ht=0,mt=0;class bt{constructor(Et,vt,_t=!1){(0,tt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tt.DOMSVGFactory,this.current=new dt,this.transformMatrix=nt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Et,this.objs=vt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_t,this._operatorIdMapping=[];for(const wt in nt.OPS)this._operatorIdMapping[nt.OPS[wt]]=wt}getObject(Et,vt=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):vt}save(){this.transformStack.push(this.transformMatrix);const Et=this.current;this.extraStack.push(Et),this.current=Et.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Et){this.save(),this.executeOpTree(Et),this.restore()}loadDependencies(Et){const vt=Et.fnArray,_t=Et.argsArray;for(let wt=0,Ct=vt.length;wt<Ct;wt++)if(vt[wt]===nt.OPS.dependency)for(const Nt of _t[wt]){const kt=Nt.startsWith("g_")?this.commonObjs:this.objs,Pt=new Promise(Dt=>{kt.get(Nt,Dt)});this.current.dependencies.push(Pt)}return Promise.all(this.current.dependencies)}transform(Et,vt,_t,wt,Ct,Nt){const kt=[Et,vt,_t,wt,Ct,Nt];this.transformMatrix=nt.Util.transform(this.transformMatrix,kt),this.tgrp=null}getSVG(Et,vt){this.viewport=vt;const _t=this._initialize(vt);return this.loadDependencies(Et).then(()=>(this.transformMatrix=nt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Et)),_t))}convertOpList(Et){const vt=this._operatorIdMapping,_t=Et.argsArray,wt=Et.fnArray,Ct=[];for(let Nt=0,kt=wt.length;Nt<kt;Nt++){const Pt=wt[Nt];Ct.push({fnId:Pt,fn:vt[Pt],args:_t[Nt]})}return ct(Ct)}executeOpTree(Et){for(const vt of Et){const _t=vt.fn,wt=vt.fnId,Ct=vt.args;switch(wt|0){case nt.OPS.beginText:this.beginText();break;case nt.OPS.dependency:break;case nt.OPS.setLeading:this.setLeading(Ct);break;case nt.OPS.setLeadingMoveText:this.setLeadingMoveText(Ct[0],Ct[1]);break;case nt.OPS.setFont:this.setFont(Ct);break;case nt.OPS.showText:this.showText(Ct[0]);break;case nt.OPS.showSpacedText:this.showText(Ct[0]);break;case nt.OPS.endText:this.endText();break;case nt.OPS.moveText:this.moveText(Ct[0],Ct[1]);break;case nt.OPS.setCharSpacing:this.setCharSpacing(Ct[0]);break;case nt.OPS.setWordSpacing:this.setWordSpacing(Ct[0]);break;case nt.OPS.setHScale:this.setHScale(Ct[0]);break;case nt.OPS.setTextMatrix:this.setTextMatrix(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case nt.OPS.setTextRise:this.setTextRise(Ct[0]);break;case nt.OPS.setTextRenderingMode:this.setTextRenderingMode(Ct[0]);break;case nt.OPS.setLineWidth:this.setLineWidth(Ct[0]);break;case nt.OPS.setLineJoin:this.setLineJoin(Ct[0]);break;case nt.OPS.setLineCap:this.setLineCap(Ct[0]);break;case nt.OPS.setMiterLimit:this.setMiterLimit(Ct[0]);break;case nt.OPS.setFillRGBColor:this.setFillRGBColor(Ct[0],Ct[1],Ct[2]);break;case nt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ct[0],Ct[1],Ct[2]);break;case nt.OPS.setStrokeColorN:this.setStrokeColorN(Ct);break;case nt.OPS.setFillColorN:this.setFillColorN(Ct);break;case nt.OPS.shadingFill:this.shadingFill(Ct[0]);break;case nt.OPS.setDash:this.setDash(Ct[0],Ct[1]);break;case nt.OPS.setRenderingIntent:this.setRenderingIntent(Ct[0]);break;case nt.OPS.setFlatness:this.setFlatness(Ct[0]);break;case nt.OPS.setGState:this.setGState(Ct[0]);break;case nt.OPS.fill:this.fill();break;case nt.OPS.eoFill:this.eoFill();break;case nt.OPS.stroke:this.stroke();break;case nt.OPS.fillStroke:this.fillStroke();break;case nt.OPS.eoFillStroke:this.eoFillStroke();break;case nt.OPS.clip:this.clip("nonzero");break;case nt.OPS.eoClip:this.clip("evenodd");break;case nt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nt.OPS.paintImageXObject:this.paintImageXObject(Ct[0]);break;case nt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ct[0]);break;case nt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ct[0]);break;case nt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ct[0],Ct[1]);break;case nt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nt.OPS.closePath:this.closePath();break;case nt.OPS.closeStroke:this.closeStroke();break;case nt.OPS.closeFillStroke:this.closeFillStroke();break;case nt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nt.OPS.nextLine:this.nextLine();break;case nt.OPS.transform:this.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case nt.OPS.constructPath:this.constructPath(Ct[0],Ct[1]);break;case nt.OPS.endPath:this.endPath();break;case 92:this.group(vt.items);break;default:(0,nt.warn)(`Unimplemented operator ${_t}`);break}}}setWordSpacing(Et){this.current.wordSpacing=Et}setCharSpacing(Et){this.current.charSpacing=Et}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Et,vt,_t,wt,Ct,Nt){const kt=this.current;kt.textMatrix=kt.lineMatrix=[Et,vt,_t,wt,Ct,Nt],kt.textMatrixScale=Math.hypot(Et,vt),kt.x=kt.lineX=0,kt.y=kt.lineY=0,kt.xcoords=[],kt.ycoords=[],kt.tspan=this.svgFactory.createElement("svg:tspan"),kt.tspan.setAttributeNS(null,"font-family",kt.fontFamily),kt.tspan.setAttributeNS(null,"font-size",`${ft(kt.fontSize)}px`),kt.tspan.setAttributeNS(null,"y",ft(-kt.y)),kt.txtElement=this.svgFactory.createElement("svg:text"),kt.txtElement.append(kt.tspan)}beginText(){const Et=this.current;Et.x=Et.lineX=0,Et.y=Et.lineY=0,Et.textMatrix=nt.IDENTITY_MATRIX,Et.lineMatrix=nt.IDENTITY_MATRIX,Et.textMatrixScale=1,Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.txtElement=this.svgFactory.createElement("svg:text"),Et.txtgrp=this.svgFactory.createElement("svg:g"),Et.xcoords=[],Et.ycoords=[]}moveText(Et,vt){const _t=this.current;_t.x=_t.lineX+=Et,_t.y=_t.lineY+=vt,_t.xcoords=[],_t.ycoords=[],_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.tspan.setAttributeNS(null,"font-family",_t.fontFamily),_t.tspan.setAttributeNS(null,"font-size",`${ft(_t.fontSize)}px`),_t.tspan.setAttributeNS(null,"y",ft(-_t.y))}showText(Et){const vt=this.current,_t=vt.font,wt=vt.fontSize;if(wt===0)return;const Ct=vt.fontSizeScale,Nt=vt.charSpacing,kt=vt.wordSpacing,Pt=vt.fontDirection,Dt=vt.textHScale*Pt,qt=_t.vertical,zt=qt?1:-1,jt=_t.defaultVMetrics,Ft=wt*vt.fontMatrix[0];let Bt=0;for(const Yt of Et){if(Yt===null){Bt+=Pt*kt;continue}else if(typeof Yt=="number"){Bt+=zt*Yt*wt/1e3;continue}const Ot=(Yt.isSpace?kt:0)+Nt,yt=Yt.fontChar;let Tt,$t,Ut=Yt.width;if(qt){let Wt;const Qt=Yt.vmetric||jt;Wt=Yt.vmetric?Qt[1]:Ut*.5,Wt=-Wt*Ft;const mn=Qt[2]*Ft;Ut=Qt?-Qt[0]:Ut,Tt=Wt/Ct,$t=(Bt+mn)/Ct}else Tt=Bt/Ct,$t=0;(Yt.isInFont||_t.missingFile)&&(vt.xcoords.push(vt.x+Tt),qt&&vt.ycoords.push(-vt.y+$t),vt.tspan.textContent+=yt);const Ht=qt?Ut*Ft-Ot*Pt:Ut*Ft+Ot*Pt;Bt+=Ht}vt.tspan.setAttributeNS(null,"x",vt.xcoords.map(ft).join(" ")),qt?vt.tspan.setAttributeNS(null,"y",vt.ycoords.map(ft).join(" ")):vt.tspan.setAttributeNS(null,"y",ft(-vt.y)),qt?vt.y-=Bt:vt.x+=Bt*Dt,vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${ft(vt.fontSize)}px`),vt.fontStyle!==rt.fontStyle&&vt.tspan.setAttributeNS(null,"font-style",vt.fontStyle),vt.fontWeight!==rt.fontWeight&&vt.tspan.setAttributeNS(null,"font-weight",vt.fontWeight);const It=vt.textRenderingMode&nt.TextRenderingMode.FILL_STROKE_MASK;if(It===nt.TextRenderingMode.FILL||It===nt.TextRenderingMode.FILL_STROKE?(vt.fillColor!==rt.fillColor&&vt.tspan.setAttributeNS(null,"fill",vt.fillColor),vt.fillAlpha<1&&vt.tspan.setAttributeNS(null,"fill-opacity",vt.fillAlpha)):vt.textRenderingMode===nt.TextRenderingMode.ADD_TO_PATH?vt.tspan.setAttributeNS(null,"fill","transparent"):vt.tspan.setAttributeNS(null,"fill","none"),It===nt.TextRenderingMode.STROKE||It===nt.TextRenderingMode.FILL_STROKE){const Yt=1/(vt.textMatrixScale||1);this._setStrokeAttributes(vt.tspan,Yt)}let At=vt.textMatrix;vt.textRise!==0&&(At=At.slice(),At[5]+=vt.textRise),vt.txtElement.setAttributeNS(null,"transform",`${pt(At)} scale(${ft(Dt)}, -1)`),vt.txtElement.setAttributeNS(it,"xml:space","preserve"),vt.txtElement.append(vt.tspan),vt.txtgrp.append(vt.txtElement),this._ensureTransformGroup().append(vt.txtElement)}setLeadingMoveText(Et,vt){this.setLeading(-vt),this.moveText(Et,vt)}addFontStyle(Et){if(!Et.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const vt=lt(Et.data,Et.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Et.loadedName}"; src: url(${vt}); }
`}setFont(Et){const vt=this.current,_t=this.commonObjs.get(Et[0]);let wt=Et[1];vt.font=_t,this.embedFonts&&!_t.missingFile&&!this.embeddedFonts[_t.loadedName]&&(this.addFontStyle(_t),this.embeddedFonts[_t.loadedName]=_t),vt.fontMatrix=_t.fontMatrix||nt.FONT_IDENTITY_MATRIX;let Ct="normal";_t.black?Ct="900":_t.bold&&(Ct="bold");const Nt=_t.italic?"italic":"normal";wt<0?(wt=-wt,vt.fontDirection=-1):vt.fontDirection=1,vt.fontSize=wt,vt.fontFamily=_t.loadedName,vt.fontWeight=Ct,vt.fontStyle=Nt,vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"y",ft(-vt.y)),vt.xcoords=[],vt.ycoords=[]}endText(){var vt;const Et=this.current;Et.textRenderingMode&nt.TextRenderingMode.ADD_TO_PATH_FLAG&&((vt=Et.txtElement)!=null&&vt.hasChildNodes())&&(Et.element=Et.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Et){Et>0&&(this.current.lineWidth=Et)}setLineCap(Et){this.current.lineCap=ot[Et]}setLineJoin(Et){this.current.lineJoin=at[Et]}setMiterLimit(Et){this.current.miterLimit=Et}setStrokeAlpha(Et){this.current.strokeAlpha=Et}setStrokeRGBColor(Et,vt,_t){this.current.strokeColor=nt.Util.makeHexColor(Et,vt,_t)}setFillAlpha(Et){this.current.fillAlpha=Et}setFillRGBColor(Et,vt,_t){this.current.fillColor=nt.Util.makeHexColor(Et,vt,_t),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Et){this.current.strokeColor=this._makeColorN_Pattern(Et)}setFillColorN(Et){this.current.fillColor=this._makeColorN_Pattern(Et)}shadingFill(Et){const{width:vt,height:_t}=this.viewport,wt=nt.Util.inverseTransform(this.transformMatrix),[Ct,Nt,kt,Pt]=nt.Util.getAxialAlignedBoundingBox([0,0,vt,_t],wt),Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x",Ct),Dt.setAttributeNS(null,"y",Nt),Dt.setAttributeNS(null,"width",kt-Ct),Dt.setAttributeNS(null,"height",Pt-Nt),Dt.setAttributeNS(null,"fill",this._makeShadingPattern(Et)),this.current.fillAlpha<1&&Dt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Dt)}_makeColorN_Pattern(Et){return Et[0]==="TilingPattern"?this._makeTilingPattern(Et):this._makeShadingPattern(Et)}_makeTilingPattern(Et){const vt=Et[1],_t=Et[2],wt=Et[3]||nt.IDENTITY_MATRIX,[Ct,Nt,kt,Pt]=Et[4],Dt=Et[5],qt=Et[6],zt=Et[7],jt=`shading${mt++}`,[Ft,Bt,It,At]=nt.Util.normalizeRect([...nt.Util.applyTransform([Ct,Nt],wt),...nt.Util.applyTransform([kt,Pt],wt)]),[Yt,Ot]=nt.Util.singularValueDecompose2dScale(wt),yt=Dt*Yt,Tt=qt*Ot,$t=this.svgFactory.createElement("svg:pattern");$t.setAttributeNS(null,"id",jt),$t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),$t.setAttributeNS(null,"width",yt),$t.setAttributeNS(null,"height",Tt),$t.setAttributeNS(null,"x",`${Ft}`),$t.setAttributeNS(null,"y",`${Bt}`);const Ut=this.svg,Ht=this.transformMatrix,Wt=this.current.fillColor,Qt=this.current.strokeColor,mn=this.svgFactory.create(It-Ft,At-Bt);if(this.svg=mn,this.transformMatrix=wt,zt===2){const fn=nt.Util.makeHexColor(...vt);this.current.fillColor=fn,this.current.strokeColor=fn}return this.executeOpTree(this.convertOpList(_t)),this.svg=Ut,this.transformMatrix=Ht,this.current.fillColor=Wt,this.current.strokeColor=Qt,$t.append(mn.childNodes[0]),this.defs.append($t),`url(#${jt})`}_makeShadingPattern(Et){switch(typeof Et=="string"&&(Et=this.objs.get(Et)),Et[0]){case"RadialAxial":const vt=`shading${mt++}`,_t=Et[3];let wt;switch(Et[1]){case"axial":const Ct=Et[4],Nt=Et[5];wt=this.svgFactory.createElement("svg:linearGradient"),wt.setAttributeNS(null,"id",vt),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"x1",Ct[0]),wt.setAttributeNS(null,"y1",Ct[1]),wt.setAttributeNS(null,"x2",Nt[0]),wt.setAttributeNS(null,"y2",Nt[1]);break;case"radial":const kt=Et[4],Pt=Et[5],Dt=Et[6],qt=Et[7];wt=this.svgFactory.createElement("svg:radialGradient"),wt.setAttributeNS(null,"id",vt),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"cx",Pt[0]),wt.setAttributeNS(null,"cy",Pt[1]),wt.setAttributeNS(null,"r",qt),wt.setAttributeNS(null,"fx",kt[0]),wt.setAttributeNS(null,"fy",kt[1]),wt.setAttributeNS(null,"fr",Dt);break;default:throw new Error(`Unknown RadialAxial type: ${Et[1]}`)}for(const Ct of _t){const Nt=this.svgFactory.createElement("svg:stop");Nt.setAttributeNS(null,"offset",Ct[0]),Nt.setAttributeNS(null,"stop-color",Ct[1]),wt.append(Nt)}return this.defs.append(wt),`url(#${vt})`;case"Mesh":return(0,nt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Et[0]}`)}}setDash(Et,vt){this.current.dashArray=Et,this.current.dashPhase=vt}constructPath(Et,vt){const _t=this.current;let wt=_t.x,Ct=_t.y,Nt=[],kt=0;for(const Pt of Et)switch(Pt|0){case nt.OPS.rectangle:wt=vt[kt++],Ct=vt[kt++];const Dt=vt[kt++],qt=vt[kt++],zt=wt+Dt,jt=Ct+qt;Nt.push("M",ft(wt),ft(Ct),"L",ft(zt),ft(Ct),"L",ft(zt),ft(jt),"L",ft(wt),ft(jt),"Z");break;case nt.OPS.moveTo:wt=vt[kt++],Ct=vt[kt++],Nt.push("M",ft(wt),ft(Ct));break;case nt.OPS.lineTo:wt=vt[kt++],Ct=vt[kt++],Nt.push("L",ft(wt),ft(Ct));break;case nt.OPS.curveTo:wt=vt[kt+4],Ct=vt[kt+5],Nt.push("C",ft(vt[kt]),ft(vt[kt+1]),ft(vt[kt+2]),ft(vt[kt+3]),ft(wt),ft(Ct)),kt+=6;break;case nt.OPS.curveTo2:Nt.push("C",ft(wt),ft(Ct),ft(vt[kt]),ft(vt[kt+1]),ft(vt[kt+2]),ft(vt[kt+3])),wt=vt[kt+2],Ct=vt[kt+3],kt+=4;break;case nt.OPS.curveTo3:wt=vt[kt+2],Ct=vt[kt+3],Nt.push("C",ft(vt[kt]),ft(vt[kt+1]),ft(wt),ft(Ct),ft(wt),ft(Ct)),kt+=4;break;case nt.OPS.closePath:Nt.push("Z");break}Nt=Nt.join(" "),_t.path&&Et.length>0&&Et[0]!==nt.OPS.rectangle&&Et[0]!==nt.OPS.moveTo?Nt=_t.path.getAttributeNS(null,"d")+Nt:(_t.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(_t.path)),_t.path.setAttributeNS(null,"d",Nt),_t.path.setAttributeNS(null,"fill","none"),_t.element=_t.path,_t.setCurrentPoint(wt,Ct)}endPath(){const Et=this.current;if(Et.path=null,!this.pendingClip)return;if(!Et.element){this.pendingClip=null;return}const vt=`clippath${gt++}`,_t=this.svgFactory.createElement("svg:clipPath");_t.setAttributeNS(null,"id",vt),_t.setAttributeNS(null,"transform",pt(this.transformMatrix));const wt=Et.element.cloneNode(!0);if(this.pendingClip==="evenodd"?wt.setAttributeNS(null,"clip-rule","evenodd"):wt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,_t.append(wt),this.defs.append(_t),Et.activeClipUrl){Et.clipGroup=null;for(const Ct of this.extraStack)Ct.clipGroup=null;_t.setAttributeNS(null,"clip-path",Et.activeClipUrl)}Et.activeClipUrl=`url(#${vt})`,this.tgrp=null}clip(Et){this.pendingClip=Et}closePath(){const Et=this.current;if(Et.path){const vt=`${Et.path.getAttributeNS(null,"d")}Z`;Et.path.setAttributeNS(null,"d",vt)}}setLeading(Et){this.current.leading=-Et}setTextRise(Et){this.current.textRise=Et}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setHScale(Et){this.current.textHScale=Et/100}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(const[vt,_t]of Et)switch(vt){case"LW":this.setLineWidth(_t);break;case"LC":this.setLineCap(_t);break;case"LJ":this.setLineJoin(_t);break;case"ML":this.setMiterLimit(_t);break;case"D":this.setDash(_t[0],_t[1]);break;case"RI":this.setRenderingIntent(_t);break;case"FL":this.setFlatness(_t);break;case"Font":this.setFont(_t);break;case"CA":this.setStrokeAlpha(_t);break;case"ca":this.setFillAlpha(_t);break;default:(0,nt.warn)(`Unimplemented graphic state operator ${vt}`);break}}fill(){const Et=this.current;Et.element&&(Et.element.setAttributeNS(null,"fill",Et.fillColor),Et.element.setAttributeNS(null,"fill-opacity",Et.fillAlpha),this.endPath())}stroke(){const Et=this.current;Et.element&&(this._setStrokeAttributes(Et.element),Et.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Et,vt=1){const _t=this.current;let wt=_t.dashArray;vt!==1&&wt.length>0&&(wt=wt.map(function(Ct){return vt*Ct})),Et.setAttributeNS(null,"stroke",_t.strokeColor),Et.setAttributeNS(null,"stroke-opacity",_t.strokeAlpha),Et.setAttributeNS(null,"stroke-miterlimit",ft(_t.miterLimit)),Et.setAttributeNS(null,"stroke-linecap",_t.lineCap),Et.setAttributeNS(null,"stroke-linejoin",_t.lineJoin),Et.setAttributeNS(null,"stroke-width",ft(vt*_t.lineWidth)+"px"),Et.setAttributeNS(null,"stroke-dasharray",wt.map(ft).join(" ")),Et.setAttributeNS(null,"stroke-dashoffset",ft(vt*_t.dashPhase)+"px")}eoFill(){var Et;(Et=this.current.element)==null||Et.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Et;(Et=this.current.element)==null||Et.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width","1px"),Et.setAttributeNS(null,"height","1px"),Et.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Et)}paintImageXObject(Et){const vt=this.getObject(Et);if(!vt){(0,nt.warn)(`Dependent image with object ID ${Et} is not ready yet`);return}this.paintInlineImageXObject(vt)}paintInlineImageXObject(Et,vt){const _t=Et.width,wt=Et.height,Ct=ut(Et,this.forceDataSchema,!!vt),Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width",ft(_t)),Nt.setAttributeNS(null,"height",ft(wt)),this.current.element=Nt,this.clip("nonzero");const kt=this.svgFactory.createElement("svg:image");kt.setAttributeNS(st,"xlink:href",Ct),kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y",ft(-wt)),kt.setAttributeNS(null,"width",ft(_t)+"px"),kt.setAttributeNS(null,"height",ft(wt)+"px"),kt.setAttributeNS(null,"transform",`scale(${ft(1/_t)} ${ft(-1/wt)})`),vt?vt.append(kt):this._ensureTransformGroup().append(kt)}paintImageMaskXObject(Et){const vt=this.getObject(Et.data,Et);if(vt.bitmap){(0,nt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const _t=this.current,wt=vt.width,Ct=vt.height,Nt=_t.fillColor;_t.maskId=`mask${ht++}`;const kt=this.svgFactory.createElement("svg:mask");kt.setAttributeNS(null,"id",_t.maskId);const Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width",ft(wt)),Pt.setAttributeNS(null,"height",ft(Ct)),Pt.setAttributeNS(null,"fill",Nt),Pt.setAttributeNS(null,"mask",`url(#${_t.maskId})`),this.defs.append(kt),this._ensureTransformGroup().append(Pt),this.paintInlineImageXObject(vt,kt)}paintFormXObjectBegin(Et,vt){if(Array.isArray(Et)&&Et.length===6&&this.transform(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]),vt){const _t=vt[2]-vt[0],wt=vt[3]-vt[1],Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",vt[0]),Ct.setAttributeNS(null,"y",vt[1]),Ct.setAttributeNS(null,"width",ft(_t)),Ct.setAttributeNS(null,"height",ft(wt)),this.current.element=Ct,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Et){const vt=this.svgFactory.create(Et.width,Et.height),_t=this.svgFactory.createElement("svg:defs");vt.append(_t),this.defs=_t;const wt=this.svgFactory.createElement("svg:g");return wt.setAttributeNS(null,"transform",pt(Et.transform)),vt.append(wt),this.svg=wt,vt}_ensureClipGroup(){if(!this.current.clipGroup){const Et=this.svgFactory.createElement("svg:g");Et.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Et),this.current.clipGroup=Et}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_e.SVGGraphics=bt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaText=void 0;class et{static textContent(nt){const rt=[],it={items:rt,styles:Object.create(null)};function st(ot){var ut;if(!ot)return;let at=null;const lt=ot.name;if(lt==="#text")at=ot.value;else if(et.shouldBuildText(lt))(ut=ot==null?void 0:ot.attributes)!=null&&ut.textContent?at=ot.attributes.textContent:ot.value&&(at=ot.value);else return;if(at!==null&&rt.push({str:at}),!!ot.children)for(const dt of ot.children)st(dt)}return st(nt),it}static shouldBuildText(nt){return!(nt==="textarea"||nt==="input"||nt==="option"||nt==="select")}}_e.XfaText=et},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextLayerRenderTask=void 0,_e.renderTextLayer=pt,_e.updateTextLayer=gt;var tt=et(1),nt=et(6);const rt=1e5,it=30,st=.8,ot=new Map;function at(ht,mt){let bt;if(mt&&tt.FeatureTest.isOffscreenCanvasSupported)bt=new OffscreenCanvas(ht,ht).getContext("2d",{alpha:!1});else{const xt=document.createElement("canvas");xt.width=xt.height=ht,bt=xt.getContext("2d",{alpha:!1})}return bt}function lt(ht,mt){const bt=ot.get(ht);if(bt)return bt;const xt=at(it,mt);xt.font=`${it}px ${ht}`;const Et=xt.measureText("");let vt=Et.fontBoundingBoxAscent,_t=Math.abs(Et.fontBoundingBoxDescent);if(vt){const Ct=vt/(vt+_t);return ot.set(ht,Ct),xt.canvas.width=xt.canvas.height=0,Ct}xt.strokeStyle="red",xt.clearRect(0,0,it,it),xt.strokeText("g",0,0);let wt=xt.getImageData(0,0,it,it).data;_t=0;for(let Ct=wt.length-1-3;Ct>=0;Ct-=4)if(wt[Ct]>0){_t=Math.ceil(Ct/4/it);break}xt.clearRect(0,0,it,it),xt.strokeText("A",0,it),wt=xt.getImageData(0,0,it,it).data,vt=0;for(let Ct=0,Nt=wt.length;Ct<Nt;Ct+=4)if(wt[Ct]>0){vt=it-Math.floor(Ct/4/it);break}if(xt.canvas.width=xt.canvas.height=0,vt){const Ct=vt/(vt+_t);return ot.set(ht,Ct),Ct}return ot.set(ht,st),st}function ut(ht,mt,bt){const xt=document.createElement("span"),Et={angle:0,canvasWidth:0,hasText:mt.str!=="",hasEOL:mt.hasEOL,fontSize:0};ht._textDivs.push(xt);const vt=tt.Util.transform(ht._transform,mt.transform);let _t=Math.atan2(vt[1],vt[0]);const wt=bt[mt.fontName];wt.vertical&&(_t+=Math.PI/2);const Ct=Math.hypot(vt[2],vt[3]),Nt=Ct*lt(wt.fontFamily,ht._isOffscreenCanvasSupported);let kt,Pt;_t===0?(kt=vt[4],Pt=vt[5]-Nt):(kt=vt[4]+Nt*Math.sin(_t),Pt=vt[5]-Nt*Math.cos(_t));const Dt="calc(var(--scale-factor)*",qt=xt.style;ht._container===ht._rootContainer?(qt.left=`${(100*kt/ht._pageWidth).toFixed(2)}%`,qt.top=`${(100*Pt/ht._pageHeight).toFixed(2)}%`):(qt.left=`${Dt}${kt.toFixed(2)}px)`,qt.top=`${Dt}${Pt.toFixed(2)}px)`),qt.fontSize=`${Dt}${Ct.toFixed(2)}px)`,qt.fontFamily=wt.fontFamily,Et.fontSize=Ct,xt.setAttribute("role","presentation"),xt.textContent=mt.str,xt.dir=mt.dir,ht._fontInspectorEnabled&&(xt.dataset.fontName=mt.fontName),_t!==0&&(Et.angle=_t*(180/Math.PI));let zt=!1;if(mt.str.length>1)zt=!0;else if(mt.str!==" "&&mt.transform[0]!==mt.transform[3]){const jt=Math.abs(mt.transform[0]),Ft=Math.abs(mt.transform[3]);jt!==Ft&&Math.max(jt,Ft)/Math.min(jt,Ft)>1.5&&(zt=!0)}zt&&(Et.canvasWidth=wt.vertical?mt.height:mt.width),ht._textDivProperties.set(xt,Et),ht._isReadableStream&&ht._layoutText(xt)}function dt(ht){const{div:mt,scale:bt,properties:xt,ctx:Et,prevFontSize:vt,prevFontFamily:_t}=ht,{style:wt}=mt;let Ct="";if(xt.canvasWidth!==0&&xt.hasText){const{fontFamily:Nt}=wt,{canvasWidth:kt,fontSize:Pt}=xt;(vt!==Pt||_t!==Nt)&&(Et.font=`${Pt*bt}px ${Nt}`,ht.prevFontSize=Pt,ht.prevFontFamily=Nt);const{width:Dt}=Et.measureText(mt.textContent);Dt>0&&(Ct=`scaleX(${kt*bt/Dt})`)}xt.angle!==0&&(Ct=`rotate(${xt.angle}deg) ${Ct}`),Ct.length>0&&(wt.transform=Ct)}function ct(ht){if(ht._canceled)return;const mt=ht._textDivs,bt=ht._capability;if(mt.length>rt){bt.resolve();return}if(!ht._isReadableStream)for(const Et of mt)ht._layoutText(Et);bt.resolve()}class ft{constructor({textContentSource:mt,container:bt,viewport:xt,textDivs:Et,textDivProperties:vt,textContentItemsStr:_t,isOffscreenCanvasSupported:wt}){var Dt;this._textContentSource=mt,this._isReadableStream=mt instanceof ReadableStream,this._container=this._rootContainer=bt,this._textDivs=Et||[],this._textContentItemsStr=_t||[],this._isOffscreenCanvasSupported=wt,this._fontInspectorEnabled=!!((Dt=globalThis.FontInspector)!=null&&Dt.enabled),this._reader=null,this._textDivProperties=vt||new WeakMap,this._canceled=!1,this._capability=new tt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:xt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:at(0,wt)};const{pageWidth:Ct,pageHeight:Nt,pageX:kt,pageY:Pt}=xt.rawDims;this._transform=[1,0,0,-1,-kt,Pt+Nt],this._pageWidth=Ct,this._pageHeight=Nt,(0,nt.setLayerDimensions)(bt,xt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new tt.AbortException("TextLayer task cancelled."))}_processItems(mt,bt){for(const xt of mt){if(xt.str===void 0){if(xt.type==="beginMarkedContentProps"||xt.type==="beginMarkedContent"){const Et=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),xt.id!==null&&this._container.setAttribute("id",`${xt.id}`),Et.append(this._container)}else xt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(xt.str),ut(this,xt,bt)}}_layoutText(mt){const bt=this._layoutTextParams.properties=this._textDivProperties.get(mt);if(this._layoutTextParams.div=mt,dt(this._layoutTextParams),bt.hasText&&this._container.append(mt),bt.hasEOL){const xt=document.createElement("br");xt.setAttribute("role","presentation"),this._container.append(xt)}}_render(){const mt=new tt.PromiseCapability;let bt=Object.create(null);if(this._isReadableStream){const xt=()=>{this._reader.read().then(({value:Et,done:vt})=>{if(vt){mt.resolve();return}Object.assign(bt,Et.styles),this._processItems(Et.items,bt),xt()},mt.reject)};this._reader=this._textContentSource.getReader(),xt()}else if(this._textContentSource){const{items:xt,styles:Et}=this._textContentSource;this._processItems(xt,Et),mt.resolve()}else throw new Error('No "textContentSource" parameter specified.');mt.promise.then(()=>{bt=null,ct(this)},this._capability.reject)}}_e.TextLayerRenderTask=ft;function pt(ht){!ht.textContentSource&&(ht.textContent||ht.textContentStream)&&((0,nt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ht.textContentSource=ht.textContent||ht.textContentStream);const{container:mt,viewport:bt}=ht,xt=getComputedStyle(mt),Et=xt.getPropertyValue("visibility"),vt=parseFloat(xt.getPropertyValue("--scale-factor"));Et==="visible"&&(!vt||Math.abs(vt-bt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const _t=new ft(ht);return _t._render(),_t}function gt({container:ht,viewport:mt,textDivs:bt,textDivProperties:xt,isOffscreenCanvasSupported:Et,mustRotate:vt=!0,mustRescale:_t=!0}){if(vt&&(0,nt.setLayerDimensions)(ht,{rotation:mt.rotation}),_t){const wt=at(0,Et),Nt={prevFontSize:null,prevFontFamily:null,div:null,scale:mt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt};for(const kt of bt)Nt.properties=xt.get(kt),Nt.div=kt,dt(Nt)}}},($,_e,et)=>{var lt,ut,dt,ct,ft,pt,gt,ht,mt,bt,xt,Ko,ao,qo,Xo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditorLayer=void 0;var tt=et(1),nt=et(4),rt=et(28),it=et(33),st=et(6),ot=et(34);const Ct=class Ct{constructor({uiManager:kt,pageIndex:Pt,div:Dt,accessibilityManager:qt,annotationLayer:zt,viewport:jt,l10n:Ft}){wn(this,xt);wn(this,lt);wn(this,ut,!1);wn(this,dt,null);wn(this,ct,this.pointerup.bind(this));wn(this,ft,this.pointerdown.bind(this));wn(this,pt,new Map);wn(this,gt,!1);wn(this,ht,!1);wn(this,mt,!1);wn(this,bt);const Bt=[rt.FreeTextEditor,it.InkEditor,ot.StampEditor];if(!Ct._initialized){Ct._initialized=!0;for(const It of Bt)It.initialize(Ft)}kt.registerEditorTypes(Bt),Sn(this,bt,kt),this.pageIndex=Pt,this.div=Dt,Sn(this,lt,qt),Sn(this,dt,zt),this.viewport=jt,St(this,bt).addLayer(this)}get isEmpty(){return St(this,pt).size===0}updateToolbar(kt){St(this,bt).updateToolbar(kt)}updateMode(kt=St(this,bt).getMode()){pn(this,xt,Xo).call(this),kt===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),kt!==tt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",kt===tt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",kt===tt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",kt===tt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(kt){if(!kt&&St(this,bt).getMode()!==tt.AnnotationEditorType.INK)return;if(!kt){for(const Dt of St(this,pt).values())if(Dt.isEmpty()){Dt.setInBackground();return}}pn(this,xt,ao).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(kt){St(this,bt).setEditingState(kt)}addCommands(kt){St(this,bt).addCommands(kt)}enable(){this.div.style.pointerEvents="auto";const kt=new Set;for(const Dt of St(this,pt).values())Dt.enableEditing(),Dt.annotationElementId&&kt.add(Dt.annotationElementId);if(!St(this,dt))return;const Pt=St(this,dt).getEditableAnnotations();for(const Dt of Pt){if(Dt.hide(),St(this,bt).isDeletedAnnotationElement(Dt.data.id)||kt.has(Dt.data.id))continue;const qt=this.deserialize(Dt);qt&&(this.addOrRebuild(qt),qt.enableEditing())}}disable(){var Pt;Sn(this,mt,!0),this.div.style.pointerEvents="none";const kt=new Set;for(const Dt of St(this,pt).values()){if(Dt.disableEditing(),!Dt.annotationElementId||Dt.serialize()!==null){kt.add(Dt.annotationElementId);continue}(Pt=this.getEditableAnnotation(Dt.annotationElementId))==null||Pt.show(),Dt.remove()}if(St(this,dt)){const Dt=St(this,dt).getEditableAnnotations();for(const qt of Dt){const{id:zt}=qt.data;kt.has(zt)||St(this,bt).isDeletedAnnotationElement(zt)||qt.show()}}pn(this,xt,Xo).call(this),this.isEmpty&&(this.div.hidden=!0),Sn(this,mt,!1)}getEditableAnnotation(kt){var Pt;return((Pt=St(this,dt))==null?void 0:Pt.getEditableAnnotation(kt))||null}setActiveEditor(kt){St(this,bt).getActive()!==kt&&St(this,bt).setActiveEditor(kt)}enableClick(){this.div.addEventListener("pointerdown",St(this,ft)),this.div.addEventListener("pointerup",St(this,ct))}disableClick(){this.div.removeEventListener("pointerdown",St(this,ft)),this.div.removeEventListener("pointerup",St(this,ct))}attach(kt){St(this,pt).set(kt.id,kt);const{annotationElementId:Pt}=kt;Pt&&St(this,bt).isDeletedAnnotationElement(Pt)&&St(this,bt).removeDeletedAnnotationElement(kt)}detach(kt){var Pt;St(this,pt).delete(kt.id),(Pt=St(this,lt))==null||Pt.removePointerInTextLayer(kt.contentDiv),!St(this,mt)&&kt.annotationElementId&&St(this,bt).addDeletedAnnotationElement(kt)}remove(kt){this.detach(kt),St(this,bt).removeEditor(kt),kt.div.contains(document.activeElement)&&setTimeout(()=>{St(this,bt).focusMainContainer()},0),kt.div.remove(),kt.isAttachedToDOM=!1,St(this,ht)||this.addInkEditorIfNeeded(!1)}changeParent(kt){var Pt;kt.parent!==this&&(kt.annotationElementId&&(St(this,bt).addDeletedAnnotationElement(kt.annotationElementId),nt.AnnotationEditor.deleteAnnotationElement(kt),kt.annotationElementId=null),this.attach(kt),(Pt=kt.parent)==null||Pt.detach(kt),kt.setParent(this),kt.div&&kt.isAttachedToDOM&&(kt.div.remove(),this.div.append(kt.div)))}add(kt){if(this.changeParent(kt),St(this,bt).addEditor(kt),this.attach(kt),!kt.isAttachedToDOM){const Pt=kt.render();this.div.append(Pt),kt.isAttachedToDOM=!0}kt.fixAndSetPosition(),kt.onceAdded(),St(this,bt).addToAnnotationStorage(kt)}moveEditorInDOM(kt){var Dt;if(!kt.isAttachedToDOM)return;const{activeElement:Pt}=document;kt.div.contains(Pt)&&(kt._focusEventsAllowed=!1,setTimeout(()=>{kt.div.contains(document.activeElement)?kt._focusEventsAllowed=!0:(kt.div.addEventListener("focusin",()=>{kt._focusEventsAllowed=!0},{once:!0}),Pt.focus())},0)),kt._structTreeParentId=(Dt=St(this,lt))==null?void 0:Dt.moveElementInDOM(this.div,kt.div,kt.contentDiv,!0)}addOrRebuild(kt){kt.needsToBeRebuilt()?kt.rebuild():this.add(kt)}addUndoableEditor(kt){const Pt=()=>kt._uiManager.rebuild(kt),Dt=()=>{kt.remove()};this.addCommands({cmd:Pt,undo:Dt,mustExec:!1})}getNextId(){return St(this,bt).getId()}pasteEditor(kt,Pt){St(this,bt).updateToolbar(kt),St(this,bt).updateMode(kt);const{offsetX:Dt,offsetY:qt}=pn(this,xt,qo).call(this),zt=this.getNextId(),jt=pn(this,xt,Ko).call(this,{parent:this,id:zt,x:Dt,y:qt,uiManager:St(this,bt),isCentered:!0,...Pt});jt&&this.add(jt)}deserialize(kt){switch(kt.annotationType??kt.annotationEditorType){case tt.AnnotationEditorType.FREETEXT:return rt.FreeTextEditor.deserialize(kt,this,St(this,bt));case tt.AnnotationEditorType.INK:return it.InkEditor.deserialize(kt,this,St(this,bt));case tt.AnnotationEditorType.STAMP:return ot.StampEditor.deserialize(kt,this,St(this,bt))}return null}addNewEditor(){pn(this,xt,ao).call(this,pn(this,xt,qo).call(this),!0)}setSelected(kt){St(this,bt).setSelected(kt)}toggleSelected(kt){St(this,bt).toggleSelected(kt)}isSelected(kt){return St(this,bt).isSelected(kt)}unselect(kt){St(this,bt).unselect(kt)}pointerup(kt){const{isMac:Pt}=tt.FeatureTest.platform;if(!(kt.button!==0||kt.ctrlKey&&Pt)&&kt.target===this.div&&St(this,gt)){if(Sn(this,gt,!1),!St(this,ut)){Sn(this,ut,!0);return}if(St(this,bt).getMode()===tt.AnnotationEditorType.STAMP){St(this,bt).unselectAll();return}pn(this,xt,ao).call(this,kt,!1)}}pointerdown(kt){if(St(this,gt)){Sn(this,gt,!1);return}const{isMac:Pt}=tt.FeatureTest.platform;if(kt.button!==0||kt.ctrlKey&&Pt||kt.target!==this.div)return;Sn(this,gt,!0);const Dt=St(this,bt).getActive();Sn(this,ut,!Dt||Dt.isEmpty())}findNewParent(kt,Pt,Dt){const qt=St(this,bt).findParent(Pt,Dt);return qt===null||qt===this?!1:(qt.changeParent(kt),!0)}destroy(){var kt,Pt;((kt=St(this,bt).getActive())==null?void 0:kt.parent)===this&&(St(this,bt).commitOrRemove(),St(this,bt).setActiveEditor(null));for(const Dt of St(this,pt).values())(Pt=St(this,lt))==null||Pt.removePointerInTextLayer(Dt.contentDiv),Dt.setParent(null),Dt.isAttachedToDOM=!1,Dt.div.remove();this.div=null,St(this,pt).clear(),St(this,bt).removeLayer(this)}render({viewport:kt}){this.viewport=kt,(0,st.setLayerDimensions)(this.div,kt);for(const Pt of St(this,bt).getEditors(this.pageIndex))this.add(Pt);this.updateMode()}update({viewport:kt}){St(this,bt).commitOrRemove(),this.viewport=kt,(0,st.setLayerDimensions)(this.div,{rotation:kt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:kt,pageHeight:Pt}=this.viewport.rawDims;return[kt,Pt]}};lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakMap,mt=new WeakMap,bt=new WeakMap,xt=new WeakSet,Ko=function(kt){switch(St(this,bt).getMode()){case tt.AnnotationEditorType.FREETEXT:return new rt.FreeTextEditor(kt);case tt.AnnotationEditorType.INK:return new it.InkEditor(kt);case tt.AnnotationEditorType.STAMP:return new ot.StampEditor(kt)}return null},ao=function(kt,Pt){const Dt=this.getNextId(),qt=pn(this,xt,Ko).call(this,{parent:this,id:Dt,x:kt.offsetX,y:kt.offsetY,uiManager:St(this,bt),isCentered:Pt});return qt&&this.add(qt),qt},qo=function(){const{x:kt,y:Pt,width:Dt,height:qt}=this.div.getBoundingClientRect(),zt=Math.max(0,kt),jt=Math.max(0,Pt),Ft=Math.min(window.innerWidth,kt+Dt),Bt=Math.min(window.innerHeight,Pt+qt),It=(zt+Ft)/2-kt,At=(jt+Bt)/2-Pt,[Yt,Ot]=this.viewport.rotation%180===0?[It,At]:[At,It];return{offsetX:Yt,offsetY:Ot}},Xo=function(){Sn(this,ht,!0);for(const kt of St(this,pt).values())kt.isEmpty()&&kt.remove();Sn(this,ht,!1)},Gr(Ct,"_initialized",!1);let at=Ct;_e.AnnotationEditorLayer=at},($,_e,et)=>{var ot,at,lt,ut,dt,ct,ft,pt,gt,ht,nu,ru,iu,Hs,Yo,su,Zo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FreeTextEditor=void 0;var tt=et(1),nt=et(5),rt=et(4),it=et(29);const Ct=class Ct extends rt.AnnotationEditor{constructor(Pt){super({...Pt,name:"freeTextEditor"});wn(this,ht);wn(this,ot,this.editorDivBlur.bind(this));wn(this,at,this.editorDivFocus.bind(this));wn(this,lt,this.editorDivInput.bind(this));wn(this,ut,this.editorDivKeydown.bind(this));wn(this,dt);wn(this,ct,"");wn(this,ft,`${this.id}-editor`);wn(this,pt);wn(this,gt,null);Sn(this,dt,Pt.color||Ct._defaultColor||rt.AnnotationEditor._defaultLineColor),Sn(this,pt,Pt.fontSize||Ct._defaultFontSize)}static get _keyboardManager(){const Pt=Ct.prototype,Dt=jt=>jt.isEmpty(),qt=nt.AnnotationEditorUIManager.TRANSLATE_SMALL,zt=nt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new nt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Pt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Pt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Pt._translateEmpty,{args:[-qt,0],checker:Dt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Pt._translateEmpty,{args:[-zt,0],checker:Dt}],[["ArrowRight","mac+ArrowRight"],Pt._translateEmpty,{args:[qt,0],checker:Dt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Pt._translateEmpty,{args:[zt,0],checker:Dt}],[["ArrowUp","mac+ArrowUp"],Pt._translateEmpty,{args:[0,-qt],checker:Dt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Pt._translateEmpty,{args:[0,-zt],checker:Dt}],[["ArrowDown","mac+ArrowDown"],Pt._translateEmpty,{args:[0,qt],checker:Dt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Pt._translateEmpty,{args:[0,zt],checker:Dt}]]))}static initialize(Pt){rt.AnnotationEditor.initialize(Pt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Dt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Dt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Pt,Dt){switch(Pt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:Ct._defaultFontSize=Dt;break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:Ct._defaultColor=Dt;break}}updateParams(Pt,Dt){switch(Pt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:pn(this,ht,nu).call(this,Dt);break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:pn(this,ht,ru).call(this,Dt);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,Ct._defaultFontSize],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,Ct._defaultColor||rt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,St(this,pt)],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,St(this,dt)]]}_translateEmpty(Pt,Dt){this._uiManager.translateSelectedEditors(Pt,Dt,!0)}getInitialTranslation(){const Pt=this.parentScale;return[-Ct._internalPadding*Pt,-(Ct._internalPadding+St(this,pt))*Pt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",St(this,ut)),this.editorDiv.addEventListener("focus",St(this,at)),this.editorDiv.addEventListener("blur",St(this,ot)),this.editorDiv.addEventListener("input",St(this,lt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",St(this,ft)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",St(this,ut)),this.editorDiv.removeEventListener("focus",St(this,at)),this.editorDiv.removeEventListener("blur",St(this,ot)),this.editorDiv.removeEventListener("input",St(this,lt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Pt){this._focusEventsAllowed&&(super.focusin(Pt),Pt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Pt;if(this.width){pn(this,ht,Zo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Pt=this._initialOptions)!=null&&Pt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Pt=St(this,ct),Dt=Sn(this,ct,pn(this,ht,iu).call(this).trimEnd());if(Pt===Dt)return;const qt=zt=>{if(Sn(this,ct,zt),!zt){this.remove();return}pn(this,ht,Yo).call(this),this._uiManager.rebuild(this),pn(this,ht,Hs).call(this)};this.addCommands({cmd:()=>{qt(Dt)},undo:()=>{qt(Pt)},mustExec:!1}),pn(this,ht,Hs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Pt){this.enterInEditMode()}keydown(Pt){Pt.target===this.div&&Pt.key==="Enter"&&(this.enterInEditMode(),Pt.preventDefault())}editorDivKeydown(Pt){Ct._keyboardManager.exec(this,Pt)}editorDivFocus(Pt){this.isEditing=!0}editorDivBlur(Pt){this.isEditing=!1}editorDivInput(Pt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Pt,Dt;this.width&&(Pt=this.x,Dt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",St(this,ft)),this.enableEditing(),rt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(zt=>{var jt;return(jt=this.editorDiv)==null?void 0:jt.setAttribute("aria-label",zt)}),rt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(zt=>{var jt;return(jt=this.editorDiv)==null?void 0:jt.setAttribute("default-content",zt)}),this.editorDiv.contentEditable=!0;const{style:qt}=this.editorDiv;if(qt.fontSize=`calc(${St(this,pt)}px * var(--scale-factor))`,qt.color=St(this,dt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[zt,jt]=this.parentDimensions;if(this.annotationElementId){const{position:Ft}=St(this,gt);let[Bt,It]=this.getInitialTranslation();[Bt,It]=this.pageTranslationToScreen(Bt,It);const[At,Yt]=this.pageDimensions,[Ot,yt]=this.pageTranslation;let Tt,$t;switch(this.rotation){case 0:Tt=Pt+(Ft[0]-Ot)/At,$t=Dt+this.height-(Ft[1]-yt)/Yt;break;case 90:Tt=Pt+(Ft[0]-Ot)/At,$t=Dt-(Ft[1]-yt)/Yt,[Bt,It]=[It,-Bt];break;case 180:Tt=Pt-this.width+(Ft[0]-Ot)/At,$t=Dt-(Ft[1]-yt)/Yt,[Bt,It]=[-Bt,-It];break;case 270:Tt=Pt+(Ft[0]-Ot-this.height*Yt)/At,$t=Dt+(Ft[1]-yt-this.width*At)/Yt,[Bt,It]=[-It,Bt];break}this.setAt(Tt*zt,$t*jt,Bt,It)}else this.setAt(Pt*zt,Dt*jt,this.width*zt,this.height*jt);pn(this,ht,Yo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Pt,Dt,qt){let zt=null;if(Pt instanceof it.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ft,fontColor:Bt},rect:It,rotation:At,id:Yt},textContent:Ot,textPosition:yt,parent:{page:{pageNumber:Tt}}}=Pt;if(!Ot||Ot.length===0)return null;zt=Pt={annotationType:tt.AnnotationEditorType.FREETEXT,color:Array.from(Bt),fontSize:Ft,value:Ot.join(`
`),position:yt,pageIndex:Tt-1,rect:It,rotation:At,id:Yt,deleted:!1}}const jt=super.deserialize(Pt,Dt,qt);return Sn(jt,pt,Pt.fontSize),Sn(jt,dt,tt.Util.makeHexColor(...Pt.color)),Sn(jt,ct,Pt.value),jt.annotationElementId=Pt.id||null,Sn(jt,gt,zt),jt}serialize(Pt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Dt=Ct._internalPadding*this.parentScale,qt=this.getRect(Dt,Dt),zt=rt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:St(this,dt)),jt={annotationType:tt.AnnotationEditorType.FREETEXT,color:zt,fontSize:St(this,pt),value:St(this,ct),pageIndex:this.pageIndex,rect:qt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Pt?jt:this.annotationElementId&&!pn(this,ht,su).call(this,jt)?null:(jt.id=this.annotationElementId,jt)}};ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakSet,nu=function(Pt){const Dt=zt=>{this.editorDiv.style.fontSize=`calc(${zt}px * var(--scale-factor))`,this.translate(0,-(zt-St(this,pt))*this.parentScale),Sn(this,pt,zt),pn(this,ht,Hs).call(this)},qt=St(this,pt);this.addCommands({cmd:()=>{Dt(Pt)},undo:()=>{Dt(qt)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ru=function(Pt){const Dt=St(this,dt);this.addCommands({cmd:()=>{Sn(this,dt,this.editorDiv.style.color=Pt)},undo:()=>{Sn(this,dt,this.editorDiv.style.color=Dt)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iu=function(){const Pt=this.editorDiv.getElementsByTagName("div");if(Pt.length===0)return this.editorDiv.innerText;const Dt=[];for(const qt of Pt)Dt.push(qt.innerText.replace(/\r\n?|\n/,""));return Dt.join(`
`)},Hs=function(){const[Pt,Dt]=this.parentDimensions;let qt;if(this.isAttachedToDOM)qt=this.div.getBoundingClientRect();else{const{currentLayer:zt,div:jt}=this,Ft=jt.style.display;jt.style.display="hidden",zt.div.append(this.div),qt=jt.getBoundingClientRect(),jt.remove(),jt.style.display=Ft}this.rotation%180===this.parentRotation%180?(this.width=qt.width/Pt,this.height=qt.height/Dt):(this.width=qt.height/Pt,this.height=qt.width/Dt),this.fixAndSetPosition()},Yo=function(){if(this.editorDiv.replaceChildren(),!!St(this,ct))for(const Pt of St(this,ct).split(`
`)){const Dt=document.createElement("div");Dt.append(Pt?document.createTextNode(Pt):document.createElement("br")),this.editorDiv.append(Dt)}},su=function(Pt){const{value:Dt,fontSize:qt,color:zt,rect:jt,pageIndex:Ft}=St(this,gt);return Pt.value!==Dt||Pt.fontSize!==qt||Pt.rect.some((Bt,It)=>Math.abs(Bt-jt[It])>=1)||Pt.color.some((Bt,It)=>Bt!==zt[It])||Pt.pageIndex!==Ft},Zo=function(Pt=!1){if(!this.annotationElementId)return;if(pn(this,ht,Hs).call(this),!Pt&&(this.width===0||this.height===0)){setTimeout(()=>pn(this,ht,Zo).call(this,!0),0);return}const Dt=Ct._internalPadding*this.parentScale;St(this,gt).rect=this.getRect(Dt,Dt)},Gr(Ct,"_freeTextDefaultContent",""),Gr(Ct,"_internalPadding",0),Gr(Ct,"_defaultColor",null),Gr(Ct,"_defaultFontSize",10),Gr(Ct,"_type","freetext");let st=Ct;_e.FreeTextEditor=st},($,_e,et)=>{var $t,Ht,Ts,ou,mn,fn,En,kn,Tn,An,sn,dn,Mt,Vt,nn,on,yn,Pn,Nn,cn,Kt,en,au,lo,Jo,Qo,Zn,cr,Pr,In,hn,gn,Kn,na,ur,Zt,Mn,Hn,lu,ga;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampAnnotationElement=_e.InkAnnotationElement=_e.FreeTextAnnotationElement=_e.AnnotationLayer=void 0;var tt=et(1),nt=et(6),rt=et(3),it=et(30),st=et(31),ot=et(32);const at=1e3,lt=9,ut=new WeakSet;function dt(Yn){return{width:Yn[2]-Yn[0],height:Yn[3]-Yn[1]}}class ct{static create(Xt){switch(Xt.data.annotationType){case tt.AnnotationType.LINK:return new pt(Xt);case tt.AnnotationType.TEXT:return new gt(Xt);case tt.AnnotationType.WIDGET:switch(Xt.data.fieldType){case"Tx":return new mt(Xt);case"Btn":return Xt.data.radioButton?new Et(Xt):Xt.data.checkBox?new xt(Xt):new vt(Xt);case"Ch":return new _t(Xt);case"Sig":return new bt(Xt)}return new ht(Xt);case tt.AnnotationType.POPUP:return new wt(Xt);case tt.AnnotationType.FREETEXT:return new Nt(Xt);case tt.AnnotationType.LINE:return new kt(Xt);case tt.AnnotationType.SQUARE:return new Pt(Xt);case tt.AnnotationType.CIRCLE:return new Dt(Xt);case tt.AnnotationType.POLYLINE:return new qt(Xt);case tt.AnnotationType.CARET:return new jt(Xt);case tt.AnnotationType.INK:return new Ft(Xt);case tt.AnnotationType.POLYGON:return new zt(Xt);case tt.AnnotationType.HIGHLIGHT:return new Bt(Xt);case tt.AnnotationType.UNDERLINE:return new It(Xt);case tt.AnnotationType.SQUIGGLY:return new At(Xt);case tt.AnnotationType.STRIKEOUT:return new Yt(Xt);case tt.AnnotationType.STAMP:return new Ot(Xt);case tt.AnnotationType.FILEATTACHMENT:return new yt(Xt);default:return new ft(Xt)}}}const Ut=class Ut{constructor(Xt,{isRenderable:Gt=!1,ignoreBorder:ln=!1,createQuadrilaterals:Cn=!1}={}){wn(this,$t,!1);this.isRenderable=Gt,this.data=Xt.data,this.layer=Xt.layer,this.linkService=Xt.linkService,this.downloadManager=Xt.downloadManager,this.imageResourcesPath=Xt.imageResourcesPath,this.renderForms=Xt.renderForms,this.svgFactory=Xt.svgFactory,this.annotationStorage=Xt.annotationStorage,this.enableScripting=Xt.enableScripting,this.hasJSActions=Xt.hasJSActions,this._fieldObjects=Xt.fieldObjects,this.parent=Xt.parent,Gt&&(this.container=this._createContainer(ln)),Cn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Xt,contentsObj:Gt,richText:ln}){return!!(Xt!=null&&Xt.str||Gt!=null&&Gt.str||ln!=null&&ln.str)}get hasPopupData(){return Ut._hasPopupData(this.data)}_createContainer(Xt){const{data:Gt,parent:{page:ln,viewport:Cn}}=this,Rn=document.createElement("section");Rn.setAttribute("data-annotation-id",Gt.id),this instanceof ht||(Rn.tabIndex=at),Rn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Rn.setAttribute("aria-haspopup","dialog"),Gt.noRotate&&Rn.classList.add("norotate");const{pageWidth:On,pageHeight:Bn,pageX:nr,pageY:Jn}=Cn.rawDims;if(!Gt.rect||this instanceof wt){const{rotation:pr}=Gt;return!Gt.hasOwnCanvas&&pr!==0&&this.setRotation(pr,Rn),Rn}const{width:Gn,height:Er}=dt(Gt.rect),Qn=tt.Util.normalizeRect([Gt.rect[0],ln.view[3]-Gt.rect[1]+ln.view[1],Gt.rect[2],ln.view[3]-Gt.rect[3]+ln.view[1]]);if(!Xt&&Gt.borderStyle.width>0){Rn.style.borderWidth=`${Gt.borderStyle.width}px`;const pr=Gt.borderStyle.horizontalCornerRadius,Sr=Gt.borderStyle.verticalCornerRadius;if(pr>0||Sr>0){const Br=`calc(${pr}px * var(--scale-factor)) / calc(${Sr}px * var(--scale-factor))`;Rn.style.borderRadius=Br}else if(this instanceof Et){const Br=`calc(${Gn}px * var(--scale-factor)) / calc(${Er}px * var(--scale-factor))`;Rn.style.borderRadius=Br}switch(Gt.borderStyle.style){case tt.AnnotationBorderStyleType.SOLID:Rn.style.borderStyle="solid";break;case tt.AnnotationBorderStyleType.DASHED:Rn.style.borderStyle="dashed";break;case tt.AnnotationBorderStyleType.BEVELED:(0,tt.warn)("Unimplemented border style: beveled");break;case tt.AnnotationBorderStyleType.INSET:(0,tt.warn)("Unimplemented border style: inset");break;case tt.AnnotationBorderStyleType.UNDERLINE:Rn.style.borderBottomStyle="solid";break}const Mr=Gt.borderColor||null;Mr?(Sn(this,$t,!0),Rn.style.borderColor=tt.Util.makeHexColor(Mr[0]|0,Mr[1]|0,Mr[2]|0)):Rn.style.borderWidth=0}Rn.style.left=`${100*(Qn[0]-nr)/On}%`,Rn.style.top=`${100*(Qn[1]-Jn)/Bn}%`;const{rotation:sr}=Gt;return Gt.hasOwnCanvas||sr===0?(Rn.style.width=`${100*Gn/On}%`,Rn.style.height=`${100*Er/Bn}%`):this.setRotation(sr,Rn),Rn}setRotation(Xt,Gt=this.container){if(!this.data.rect)return;const{pageWidth:ln,pageHeight:Cn}=this.parent.viewport.rawDims,{width:Rn,height:On}=dt(this.data.rect);let Bn,nr;Xt%180===0?(Bn=100*Rn/ln,nr=100*On/Cn):(Bn=100*On/ln,nr=100*Rn/Cn),Gt.style.width=`${Bn}%`,Gt.style.height=`${nr}%`,Gt.setAttribute("data-main-rotation",(360-Xt)%360)}get _commonActions(){const Xt=(Gt,ln,Cn)=>{const Rn=Cn.detail[Gt],On=Rn[0],Bn=Rn.slice(1);Cn.target.style[ln]=it.ColorConverters[`${On}_HTML`](Bn),this.annotationStorage.setValue(this.data.id,{[ln]:it.ColorConverters[`${On}_rgb`](Bn)})};return(0,tt.shadow)(this,"_commonActions",{display:Gt=>{const{display:ln}=Gt.detail,Cn=ln%2===1;this.container.style.visibility=Cn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Cn,noPrint:ln===1||ln===2})},print:Gt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Gt.detail.print})},hidden:Gt=>{const{hidden:ln}=Gt.detail;this.container.style.visibility=ln?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ln,noView:ln})},focus:Gt=>{setTimeout(()=>Gt.target.focus({preventScroll:!1}),0)},userName:Gt=>{Gt.target.title=Gt.detail.userName},readonly:Gt=>{Gt.target.disabled=Gt.detail.readonly},required:Gt=>{this._setRequired(Gt.target,Gt.detail.required)},bgColor:Gt=>{Xt("bgColor","backgroundColor",Gt)},fillColor:Gt=>{Xt("fillColor","backgroundColor",Gt)},fgColor:Gt=>{Xt("fgColor","color",Gt)},textColor:Gt=>{Xt("textColor","color",Gt)},borderColor:Gt=>{Xt("borderColor","borderColor",Gt)},strokeColor:Gt=>{Xt("strokeColor","borderColor",Gt)},rotation:Gt=>{const ln=Gt.detail.rotation;this.setRotation(ln),this.annotationStorage.setValue(this.data.id,{rotation:ln})}})}_dispatchEventFromSandbox(Xt,Gt){const ln=this._commonActions;for(const Cn of Object.keys(Gt.detail)){const Rn=Xt[Cn]||ln[Cn];Rn==null||Rn(Gt)}}_setDefaultPropertiesFromJS(Xt){if(!this.enableScripting)return;const Gt=this.annotationStorage.getRawValue(this.data.id);if(!Gt)return;const ln=this._commonActions;for(const[Cn,Rn]of Object.entries(Gt)){const On=ln[Cn];if(On){const Bn={detail:{[Cn]:Rn},target:Xt};On(Bn),delete Gt[Cn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Xt}=this.data;if(!Xt)return;const[Gt,ln,Cn,Rn]=this.data.rect;if(Xt.length===1){const[,{x:Sr,y:Mr},{x:Br,y:rs}]=Xt[0];if(Cn===Sr&&Rn===Mr&&Gt===Br&&ln===rs)return}const{style:On}=this.container;let Bn;if(St(this,$t)){const{borderColor:Sr,borderWidth:Mr}=On;On.borderWidth=0,Bn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Sr}" stroke-width="${Mr}">`],this.container.classList.add("hasBorder")}const nr=Cn-Gt,Jn=Rn-ln,{svgFactory:Gn}=this,Er=Gn.createElement("svg");Er.classList.add("quadrilateralsContainer"),Er.setAttribute("width",0),Er.setAttribute("height",0);const Qn=Gn.createElement("defs");Er.append(Qn);const sr=Gn.createElement("clipPath"),pr=`clippath_${this.data.id}`;sr.setAttribute("id",pr),sr.setAttribute("clipPathUnits","objectBoundingBox"),Qn.append(sr);for(const[,{x:Sr,y:Mr},{x:Br,y:rs}]of Xt){const Zr=Gn.createElement("rect"),ps=(Br-Gt)/nr,gs=(Rn-Mr)/Jn,bs=(Sr-Br)/nr,Ks=(Mr-rs)/Jn;Zr.setAttribute("x",ps),Zr.setAttribute("y",gs),Zr.setAttribute("width",bs),Zr.setAttribute("height",Ks),sr.append(Zr),Bn==null||Bn.push(`<rect vector-effect="non-scaling-stroke" x="${ps}" y="${gs}" width="${bs}" height="${Ks}"/>`)}St(this,$t)&&(Bn.push("</g></svg>')"),On.backgroundImage=Bn.join("")),this.container.append(Er),this.container.style.clipPath=`url(#${pr})`}_createPopup(){const{container:Xt,data:Gt}=this;Xt.setAttribute("aria-haspopup","dialog");const ln=new wt({data:{color:Gt.color,titleObj:Gt.titleObj,modificationDate:Gt.modificationDate,contentsObj:Gt.contentsObj,richText:Gt.richText,parentRect:Gt.rect,borderStyle:0,id:`popup_${Gt.id}`,rotation:Gt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ln.render())}render(){(0,tt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Xt,Gt=null){const ln=[];if(this._fieldObjects){const Cn=this._fieldObjects[Xt];if(Cn)for(const{page:Rn,id:On,exportValues:Bn}of Cn){if(Rn===-1||On===Gt)continue;const nr=typeof Bn=="string"?Bn:null,Jn=document.querySelector(`[data-element-id="${On}"]`);if(Jn&&!ut.has(Jn)){(0,tt.warn)(`_getElementsByName - element not allowed: ${On}`);continue}ln.push({id:On,exportValue:nr,domElement:Jn})}return ln}for(const Cn of document.getElementsByName(Xt)){const{exportValue:Rn}=Cn,On=Cn.getAttribute("data-element-id");On!==Gt&&ut.has(Cn)&&ln.push({id:On,exportValue:Rn,domElement:Cn})}return ln}show(){var Xt;this.container&&(this.container.hidden=!1),(Xt=this.popup)==null||Xt.maybeShow()}hide(){var Xt;this.container&&(this.container.hidden=!0),(Xt=this.popup)==null||Xt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Xt=this.getElementsToTriggerPopup();if(Array.isArray(Xt))for(const Gt of Xt)Gt.classList.add("highlightArea");else Xt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Xt,data:{id:Gt}}=this;this.container.addEventListener("dblclick",()=>{var ln;(ln=this.linkService.eventBus)==null||ln.dispatch("switchannotationeditormode",{source:this,mode:Xt,editId:Gt})})}};$t=new WeakMap;let ft=Ut;class pt extends ft{constructor(Gt,ln=null){super(Gt,{isRenderable:!0,ignoreBorder:!!(ln!=null&&ln.ignoreBorder),createQuadrilaterals:!0});wn(this,Ht);this.isTooltipOnly=Gt.data.isTooltipOnly}render(){const{data:Gt,linkService:ln}=this,Cn=document.createElement("a");Cn.setAttribute("data-element-id",Gt.id);let Rn=!1;return Gt.url?(ln.addLinkAttributes(Cn,Gt.url,Gt.newWindow),Rn=!0):Gt.action?(this._bindNamedAction(Cn,Gt.action),Rn=!0):Gt.attachment?(this._bindAttachment(Cn,Gt.attachment),Rn=!0):Gt.setOCGState?(pn(this,Ht,ou).call(this,Cn,Gt.setOCGState),Rn=!0):Gt.dest?(this._bindLink(Cn,Gt.dest),Rn=!0):(Gt.actions&&(Gt.actions.Action||Gt.actions["Mouse Up"]||Gt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Cn,Gt),Rn=!0),Gt.resetForm?(this._bindResetFormAction(Cn,Gt.resetForm),Rn=!0):this.isTooltipOnly&&!Rn&&(this._bindLink(Cn,""),Rn=!0)),this.container.classList.add("linkAnnotation"),Rn&&this.container.append(Cn),this.container}_bindLink(Gt,ln){Gt.href=this.linkService.getDestinationHash(ln),Gt.onclick=()=>(ln&&this.linkService.goToDestination(ln),!1),(ln||ln==="")&&pn(this,Ht,Ts).call(this)}_bindNamedAction(Gt,ln){Gt.href=this.linkService.getAnchorUrl(""),Gt.onclick=()=>(this.linkService.executeNamedAction(ln),!1),pn(this,Ht,Ts).call(this)}_bindAttachment(Gt,ln){Gt.href=this.linkService.getAnchorUrl(""),Gt.onclick=()=>{var Cn;return(Cn=this.downloadManager)==null||Cn.openOrDownloadData(this.container,ln.content,ln.filename),!1},pn(this,Ht,Ts).call(this)}_bindJSAction(Gt,ln){Gt.href=this.linkService.getAnchorUrl("");const Cn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Rn of Object.keys(ln.actions)){const On=Cn.get(Rn);On&&(Gt[On]=()=>{var Bn;return(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln.id,name:Rn}}),!1})}Gt.onclick||(Gt.onclick=()=>!1),pn(this,Ht,Ts).call(this)}_bindResetFormAction(Gt,ln){const Cn=Gt.onclick;if(Cn||(Gt.href=this.linkService.getAnchorUrl("")),pn(this,Ht,Ts).call(this),!this._fieldObjects){(0,tt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Cn||(Gt.onclick=()=>!1);return}Gt.onclick=()=>{var Er;Cn==null||Cn();const{fields:Rn,refs:On,include:Bn}=ln,nr=[];if(Rn.length!==0||On.length!==0){const Qn=new Set(On);for(const sr of Rn){const pr=this._fieldObjects[sr]||[];for(const{id:Sr}of pr)Qn.add(Sr)}for(const sr of Object.values(this._fieldObjects))for(const pr of sr)Qn.has(pr.id)===Bn&&nr.push(pr)}else for(const Qn of Object.values(this._fieldObjects))nr.push(...Qn);const Jn=this.annotationStorage,Gn=[];for(const Qn of nr){const{id:sr}=Qn;switch(Gn.push(sr),Qn.type){case"text":{const Sr=Qn.defaultValue||"";Jn.setValue(sr,{value:Sr});break}case"checkbox":case"radiobutton":{const Sr=Qn.defaultValue===Qn.exportValues;Jn.setValue(sr,{value:Sr});break}case"combobox":case"listbox":{const Sr=Qn.defaultValue||"";Jn.setValue(sr,{value:Sr});break}default:continue}const pr=document.querySelector(`[data-element-id="${sr}"]`);if(pr){if(!ut.has(pr)){(0,tt.warn)(`_bindResetFormAction - element not allowed: ${sr}`);continue}}else continue;pr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Gn,name:"ResetForm"}})),!1}}}Ht=new WeakSet,Ts=function(){this.container.setAttribute("data-internal-link","")},ou=function(Gt,ln){Gt.href=this.linkService.getAnchorUrl(""),Gt.onclick=()=>(this.linkService.executeSetOCGState(ln),!1),pn(this,Ht,Ts).call(this)};class gt extends ft{constructor(Xt){super(Xt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Xt=document.createElement("img");return Xt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Xt.alt="[{{type}} Annotation]",Xt.dataset.l10nId="text_annotation_type",Xt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Xt),this.container}}class ht extends ft{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Xt){var Gt;this.data.hasOwnCanvas&&(((Gt=Xt.previousSibling)==null?void 0:Gt.nodeName)==="CANVAS"&&(Xt.previousSibling.hidden=!0),Xt.hidden=!1)}_getKeyModifier(Xt){const{isWin:Gt,isMac:ln}=tt.FeatureTest.platform;return Gt&&Xt.ctrlKey||ln&&Xt.metaKey}_setEventListener(Xt,Gt,ln,Cn,Rn){ln.includes("mouse")?Xt.addEventListener(ln,On=>{var Bn;(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Cn,value:Rn(On),shift:On.shiftKey,modifier:this._getKeyModifier(On)}})}):Xt.addEventListener(ln,On=>{var Bn;if(ln==="blur"){if(!Gt.focused||!On.relatedTarget)return;Gt.focused=!1}else if(ln==="focus"){if(Gt.focused)return;Gt.focused=!0}Rn&&((Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Cn,value:Rn(On)}}))})}_setEventListeners(Xt,Gt,ln,Cn){var Rn,On,Bn;for(const[nr,Jn]of ln)(Jn==="Action"||(Rn=this.data.actions)!=null&&Rn[Jn])&&((Jn==="Focus"||Jn==="Blur")&&(Gt||(Gt={focused:!1})),this._setEventListener(Xt,Gt,nr,Jn,Cn),Jn==="Focus"&&!((On=this.data.actions)!=null&&On.Blur)?this._setEventListener(Xt,Gt,"blur","Blur",null):Jn==="Blur"&&!((Bn=this.data.actions)!=null&&Bn.Focus)&&this._setEventListener(Xt,Gt,"focus","Focus",null))}_setBackgroundColor(Xt){const Gt=this.data.backgroundColor||null;Xt.style.backgroundColor=Gt===null?"transparent":tt.Util.makeHexColor(Gt[0],Gt[1],Gt[2])}_setTextStyle(Xt){const Gt=["left","center","right"],{fontColor:ln}=this.data.defaultAppearanceData,Cn=this.data.defaultAppearanceData.fontSize||lt,Rn=Xt.style;let On;const Bn=2,nr=Jn=>Math.round(10*Jn)/10;if(this.data.multiLine){const Jn=Math.abs(this.data.rect[3]-this.data.rect[1]-Bn),Gn=Math.round(Jn/(tt.LINE_FACTOR*Cn))||1,Er=Jn/Gn;On=Math.min(Cn,nr(Er/tt.LINE_FACTOR))}else{const Jn=Math.abs(this.data.rect[3]-this.data.rect[1]-Bn);On=Math.min(Cn,nr(Jn/tt.LINE_FACTOR))}Rn.fontSize=`calc(${On}px * var(--scale-factor))`,Rn.color=tt.Util.makeHexColor(ln[0],ln[1],ln[2]),this.data.textAlignment!==null&&(Rn.textAlign=Gt[this.data.textAlignment])}_setRequired(Xt,Gt){Gt?Xt.setAttribute("required",!0):Xt.removeAttribute("required"),Xt.setAttribute("aria-required",Gt)}}class mt extends ht{constructor(Xt){const Gt=Xt.renderForms||!Xt.data.hasAppearance&&!!Xt.data.fieldValue;super(Xt,{isRenderable:Gt})}setPropertyOnSiblings(Xt,Gt,ln,Cn){const Rn=this.annotationStorage;for(const On of this._getElementsByName(Xt.name,Xt.id))On.domElement&&(On.domElement[Gt]=ln),Rn.setValue(On.id,{[Cn]:ln})}render(){var Cn,Rn;const Xt=this.annotationStorage,Gt=this.data.id;this.container.classList.add("textWidgetAnnotation");let ln=null;if(this.renderForms){const On=Xt.getValue(Gt,{value:this.data.fieldValue});let Bn=On.value||"";const nr=Xt.getValue(Gt,{charLimit:this.data.maxLen}).charLimit;nr&&Bn.length>nr&&(Bn=Bn.slice(0,nr));let Jn=On.formattedValue||((Cn=this.data.textContent)==null?void 0:Cn.join(`
`))||null;Jn&&this.data.comb&&(Jn=Jn.replaceAll(/\s+/g,""));const Gn={userValue:Bn,formattedValue:Jn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ln=document.createElement("textarea"),ln.textContent=Jn??Bn,this.data.doNotScroll&&(ln.style.overflowY="hidden")):(ln=document.createElement("input"),ln.type="text",ln.setAttribute("value",Jn??Bn),this.data.doNotScroll&&(ln.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ln.hidden=!0),ut.add(ln),ln.setAttribute("data-element-id",Gt),ln.disabled=this.data.readOnly,ln.name=this.data.fieldName,ln.tabIndex=at,this._setRequired(ln,this.data.required),nr&&(ln.maxLength=nr),ln.addEventListener("input",Qn=>{Xt.setValue(Gt,{value:Qn.target.value}),this.setPropertyOnSiblings(ln,"value",Qn.target.value,"value"),Gn.formattedValue=null}),ln.addEventListener("resetform",Qn=>{const sr=this.data.defaultFieldValue??"";ln.value=Gn.userValue=sr,Gn.formattedValue=null});let Er=Qn=>{const{formattedValue:sr}=Gn;sr!=null&&(Qn.target.value=sr),Qn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ln.addEventListener("focus",sr=>{if(Gn.focused)return;const{target:pr}=sr;Gn.userValue&&(pr.value=Gn.userValue),Gn.lastCommittedValue=pr.value,Gn.commitKey=1,Gn.focused=!0}),ln.addEventListener("updatefromsandbox",sr=>{this.showElementAndHideCanvas(sr.target);const pr={value(Sr){Gn.userValue=Sr.detail.value??"",Xt.setValue(Gt,{value:Gn.userValue.toString()}),Sr.target.value=Gn.userValue},formattedValue(Sr){const{formattedValue:Mr}=Sr.detail;Gn.formattedValue=Mr,Mr!=null&&Sr.target!==document.activeElement&&(Sr.target.value=Mr),Xt.setValue(Gt,{formattedValue:Mr})},selRange(Sr){Sr.target.setSelectionRange(...Sr.detail.selRange)},charLimit:Sr=>{var Zr;const{charLimit:Mr}=Sr.detail,{target:Br}=Sr;if(Mr===0){Br.removeAttribute("maxLength");return}Br.setAttribute("maxLength",Mr);let rs=Gn.userValue;!rs||rs.length<=Mr||(rs=rs.slice(0,Mr),Br.value=Gn.userValue=rs,Xt.setValue(Gt,{value:rs}),(Zr=this.linkService.eventBus)==null||Zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt,name:"Keystroke",value:rs,willCommit:!0,commitKey:1,selStart:Br.selectionStart,selEnd:Br.selectionEnd}}))}};this._dispatchEventFromSandbox(pr,sr)}),ln.addEventListener("keydown",sr=>{var Mr;Gn.commitKey=1;let pr=-1;if(sr.key==="Escape"?pr=0:sr.key==="Enter"&&!this.data.multiLine?pr=2:sr.key==="Tab"&&(Gn.commitKey=3),pr===-1)return;const{value:Sr}=sr.target;Gn.lastCommittedValue!==Sr&&(Gn.lastCommittedValue=Sr,Gn.userValue=Sr,(Mr=this.linkService.eventBus)==null||Mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt,name:"Keystroke",value:Sr,willCommit:!0,commitKey:pr,selStart:sr.target.selectionStart,selEnd:sr.target.selectionEnd}}))});const Qn=Er;Er=null,ln.addEventListener("blur",sr=>{var Sr;if(!Gn.focused||!sr.relatedTarget)return;Gn.focused=!1;const{value:pr}=sr.target;Gn.userValue=pr,Gn.lastCommittedValue!==pr&&((Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt,name:"Keystroke",value:pr,willCommit:!0,commitKey:Gn.commitKey,selStart:sr.target.selectionStart,selEnd:sr.target.selectionEnd}})),Qn(sr)}),(Rn=this.data.actions)!=null&&Rn.Keystroke&&ln.addEventListener("beforeinput",sr=>{var gs;Gn.lastCommittedValue=null;const{data:pr,target:Sr}=sr,{value:Mr,selectionStart:Br,selectionEnd:rs}=Sr;let Zr=Br,ps=rs;switch(sr.inputType){case"deleteWordBackward":{const bs=Mr.substring(0,Br).match(/\w*[^\w]*$/);bs&&(Zr-=bs[0].length);break}case"deleteWordForward":{const bs=Mr.substring(Br).match(/^[^\w]*\w*/);bs&&(ps+=bs[0].length);break}case"deleteContentBackward":Br===rs&&(Zr-=1);break;case"deleteContentForward":Br===rs&&(ps+=1);break}sr.preventDefault(),(gs=this.linkService.eventBus)==null||gs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt,name:"Keystroke",value:Mr,change:pr||"",willCommit:!1,selStart:Zr,selEnd:ps}})}),this._setEventListeners(ln,Gn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],sr=>sr.target.value)}if(Er&&ln.addEventListener("blur",Er),this.data.comb){const sr=(this.data.rect[2]-this.data.rect[0])/nr;ln.classList.add("comb"),ln.style.letterSpacing=`calc(${sr}px * var(--scale-factor) - 1ch)`}}else ln=document.createElement("div"),ln.textContent=this.data.fieldValue,ln.style.verticalAlign="middle",ln.style.display="table-cell";return this._setTextStyle(ln),this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class bt extends ht{constructor(Xt){super(Xt,{isRenderable:!!Xt.data.hasOwnCanvas})}}class xt extends ht{constructor(Xt){super(Xt,{isRenderable:Xt.renderForms})}render(){const Xt=this.annotationStorage,Gt=this.data,ln=Gt.id;let Cn=Xt.getValue(ln,{value:Gt.exportValue===Gt.fieldValue}).value;typeof Cn=="string"&&(Cn=Cn!=="Off",Xt.setValue(ln,{value:Cn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Rn=document.createElement("input");return ut.add(Rn),Rn.setAttribute("data-element-id",ln),Rn.disabled=Gt.readOnly,this._setRequired(Rn,this.data.required),Rn.type="checkbox",Rn.name=Gt.fieldName,Cn&&Rn.setAttribute("checked",!0),Rn.setAttribute("exportValue",Gt.exportValue),Rn.tabIndex=at,Rn.addEventListener("change",On=>{const{name:Bn,checked:nr}=On.target;for(const Jn of this._getElementsByName(Bn,ln)){const Gn=nr&&Jn.exportValue===Gt.exportValue;Jn.domElement&&(Jn.domElement.checked=Gn),Xt.setValue(Jn.id,{value:Gn})}Xt.setValue(ln,{value:nr})}),Rn.addEventListener("resetform",On=>{const Bn=Gt.defaultFieldValue||"Off";On.target.checked=Bn===Gt.exportValue}),this.enableScripting&&this.hasJSActions&&(Rn.addEventListener("updatefromsandbox",On=>{const Bn={value(nr){nr.target.checked=nr.detail.value!=="Off",Xt.setValue(ln,{value:nr.target.checked})}};this._dispatchEventFromSandbox(Bn,On)}),this._setEventListeners(Rn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],On=>On.target.checked)),this._setBackgroundColor(Rn),this._setDefaultPropertiesFromJS(Rn),this.container.append(Rn),this.container}}class Et extends ht{constructor(Xt){super(Xt,{isRenderable:Xt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Xt=this.annotationStorage,Gt=this.data,ln=Gt.id;let Cn=Xt.getValue(ln,{value:Gt.fieldValue===Gt.buttonValue}).value;typeof Cn=="string"&&(Cn=Cn!==Gt.buttonValue,Xt.setValue(ln,{value:Cn}));const Rn=document.createElement("input");if(ut.add(Rn),Rn.setAttribute("data-element-id",ln),Rn.disabled=Gt.readOnly,this._setRequired(Rn,this.data.required),Rn.type="radio",Rn.name=Gt.fieldName,Cn&&Rn.setAttribute("checked",!0),Rn.tabIndex=at,Rn.addEventListener("change",On=>{const{name:Bn,checked:nr}=On.target;for(const Jn of this._getElementsByName(Bn,ln))Xt.setValue(Jn.id,{value:!1});Xt.setValue(ln,{value:nr})}),Rn.addEventListener("resetform",On=>{const Bn=Gt.defaultFieldValue;On.target.checked=Bn!=null&&Bn===Gt.buttonValue}),this.enableScripting&&this.hasJSActions){const On=Gt.buttonValue;Rn.addEventListener("updatefromsandbox",Bn=>{const nr={value:Jn=>{const Gn=On===Jn.detail.value;for(const Er of this._getElementsByName(Jn.target.name)){const Qn=Gn&&Er.id===ln;Er.domElement&&(Er.domElement.checked=Qn),Xt.setValue(Er.id,{value:Qn})}}};this._dispatchEventFromSandbox(nr,Bn)}),this._setEventListeners(Rn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Bn=>Bn.target.checked)}return this._setBackgroundColor(Rn),this._setDefaultPropertiesFromJS(Rn),this.container.append(Rn),this.container}}class vt extends pt{constructor(Xt){super(Xt,{ignoreBorder:Xt.data.hasAppearance})}render(){const Xt=super.render();Xt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Xt.title=this.data.alternativeText);const Gt=Xt.lastChild;return this.enableScripting&&this.hasJSActions&&Gt&&(this._setDefaultPropertiesFromJS(Gt),Gt.addEventListener("updatefromsandbox",ln=>{this._dispatchEventFromSandbox({},ln)})),Xt}}class _t extends ht{constructor(Xt){super(Xt,{isRenderable:Xt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Xt=this.annotationStorage,Gt=this.data.id,ln=Xt.getValue(Gt,{value:this.data.fieldValue}),Cn=document.createElement("select");ut.add(Cn),Cn.setAttribute("data-element-id",Gt),Cn.disabled=this.data.readOnly,this._setRequired(Cn,this.data.required),Cn.name=this.data.fieldName,Cn.tabIndex=at;let Rn=this.data.combo&&this.data.options.length>0;this.data.combo||(Cn.size=this.data.options.length,this.data.multiSelect&&(Cn.multiple=!0)),Cn.addEventListener("resetform",Gn=>{const Er=this.data.defaultFieldValue;for(const Qn of Cn.options)Qn.selected=Qn.value===Er});for(const Gn of this.data.options){const Er=document.createElement("option");Er.textContent=Gn.displayValue,Er.value=Gn.exportValue,ln.value.includes(Gn.exportValue)&&(Er.setAttribute("selected",!0),Rn=!1),Cn.append(Er)}let On=null;if(Rn){const Gn=document.createElement("option");Gn.value=" ",Gn.setAttribute("hidden",!0),Gn.setAttribute("selected",!0),Cn.prepend(Gn),On=()=>{Gn.remove(),Cn.removeEventListener("input",On),On=null},Cn.addEventListener("input",On)}const Bn=Gn=>{const Er=Gn?"value":"textContent",{options:Qn,multiple:sr}=Cn;return sr?Array.prototype.filter.call(Qn,pr=>pr.selected).map(pr=>pr[Er]):Qn.selectedIndex===-1?null:Qn[Qn.selectedIndex][Er]};let nr=Bn(!1);const Jn=Gn=>{const Er=Gn.target.options;return Array.prototype.map.call(Er,Qn=>({displayValue:Qn.textContent,exportValue:Qn.value}))};return this.enableScripting&&this.hasJSActions?(Cn.addEventListener("updatefromsandbox",Gn=>{const Er={value(Qn){On==null||On();const sr=Qn.detail.value,pr=new Set(Array.isArray(sr)?sr:[sr]);for(const Sr of Cn.options)Sr.selected=pr.has(Sr.value);Xt.setValue(Gt,{value:Bn(!0)}),nr=Bn(!1)},multipleSelection(Qn){Cn.multiple=!0},remove(Qn){const sr=Cn.options,pr=Qn.detail.remove;sr[pr].selected=!1,Cn.remove(pr),sr.length>0&&Array.prototype.findIndex.call(sr,Mr=>Mr.selected)===-1&&(sr[0].selected=!0),Xt.setValue(Gt,{value:Bn(!0),items:Jn(Qn)}),nr=Bn(!1)},clear(Qn){for(;Cn.length!==0;)Cn.remove(0);Xt.setValue(Gt,{value:null,items:[]}),nr=Bn(!1)},insert(Qn){const{index:sr,displayValue:pr,exportValue:Sr}=Qn.detail.insert,Mr=Cn.children[sr],Br=document.createElement("option");Br.textContent=pr,Br.value=Sr,Mr?Mr.before(Br):Cn.append(Br),Xt.setValue(Gt,{value:Bn(!0),items:Jn(Qn)}),nr=Bn(!1)},items(Qn){const{items:sr}=Qn.detail;for(;Cn.length!==0;)Cn.remove(0);for(const pr of sr){const{displayValue:Sr,exportValue:Mr}=pr,Br=document.createElement("option");Br.textContent=Sr,Br.value=Mr,Cn.append(Br)}Cn.options.length>0&&(Cn.options[0].selected=!0),Xt.setValue(Gt,{value:Bn(!0),items:Jn(Qn)}),nr=Bn(!1)},indices(Qn){const sr=new Set(Qn.detail.indices);for(const pr of Qn.target.options)pr.selected=sr.has(pr.index);Xt.setValue(Gt,{value:Bn(!0)}),nr=Bn(!1)},editable(Qn){Qn.target.disabled=!Qn.detail.editable}};this._dispatchEventFromSandbox(Er,Gn)}),Cn.addEventListener("input",Gn=>{var Qn;const Er=Bn(!0);Xt.setValue(Gt,{value:Er}),Gn.preventDefault(),(Qn=this.linkService.eventBus)==null||Qn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt,name:"Keystroke",value:nr,changeEx:Er,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Cn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Gn=>Gn.target.value)):Cn.addEventListener("input",function(Gn){Xt.setValue(Gt,{value:Bn(!0)})}),this.data.combo&&this._setTextStyle(Cn),this._setBackgroundColor(Cn),this._setDefaultPropertiesFromJS(Cn),this.container.append(Cn),this.container}}class wt extends ft{constructor(Xt){const{data:Gt,elements:ln}=Xt;super(Xt,{isRenderable:ft._hasPopupData(Gt)}),this.elements=ln}render(){this.container.classList.add("popupAnnotation");const Xt=new Ct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Gt=[];for(const ln of this.elements)ln.popup=Xt,Gt.push(ln.data.id),ln.addHighlightArea();return this.container.setAttribute("aria-controls",Gt.map(ln=>`${tt.AnnotationPrefix}${ln}`).join(",")),this.container}}class Ct{constructor({container:Xt,color:Gt,elements:ln,titleObj:Cn,modificationDate:Rn,contentsObj:On,richText:Bn,parent:nr,rect:Jn,parentRect:Gn,open:Er}){wn(this,en);wn(this,mn,null);wn(this,fn,pn(this,en,au).bind(this));wn(this,En,pn(this,en,Qo).bind(this));wn(this,kn,pn(this,en,Jo).bind(this));wn(this,Tn,pn(this,en,lo).bind(this));wn(this,An,null);wn(this,sn,null);wn(this,dn,null);wn(this,Mt,null);wn(this,Vt,null);wn(this,nn,null);wn(this,on,!1);wn(this,yn,null);wn(this,Pn,null);wn(this,Nn,null);wn(this,cn,null);wn(this,Kt,!1);var sr;Sn(this,sn,Xt),Sn(this,cn,Cn),Sn(this,dn,On),Sn(this,Nn,Bn),Sn(this,Vt,nr),Sn(this,An,Gt),Sn(this,Pn,Jn),Sn(this,nn,Gn),Sn(this,Mt,ln);const Qn=nt.PDFDateString.toDateObject(Rn);Qn&&Sn(this,mn,nr.l10n.get("annotation_date_string",{date:Qn.toLocaleDateString(),time:Qn.toLocaleTimeString()})),this.trigger=ln.flatMap(pr=>pr.getElementsToTriggerPopup());for(const pr of this.trigger)pr.addEventListener("click",St(this,Tn)),pr.addEventListener("mouseenter",St(this,kn)),pr.addEventListener("mouseleave",St(this,En)),pr.classList.add("popupTriggerArea");for(const pr of ln)(sr=pr.container)==null||sr.addEventListener("keydown",St(this,fn));St(this,sn).hidden=!0,Er&&pn(this,en,lo).call(this)}render(){if(St(this,yn))return;const{page:{view:Xt},viewport:{rawDims:{pageWidth:Gt,pageHeight:ln,pageX:Cn,pageY:Rn}}}=St(this,Vt),On=Sn(this,yn,document.createElement("div"));if(On.className="popup",St(this,An)){const Zr=On.style.outlineColor=tt.Util.makeHexColor(...St(this,An));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?On.style.backgroundColor=`color-mix(in srgb, ${Zr} 30%, white)`:On.style.backgroundColor=tt.Util.makeHexColor(...St(this,An).map(gs=>Math.floor(.7*(255-gs)+gs)))}const Bn=document.createElement("span");Bn.className="header";const nr=document.createElement("h1");if(Bn.append(nr),{dir:nr.dir,str:nr.textContent}=St(this,cn),On.append(Bn),St(this,mn)){const Zr=document.createElement("span");Zr.classList.add("popupDate"),St(this,mn).then(ps=>{Zr.textContent=ps}),Bn.append(Zr)}const Jn=St(this,dn),Gn=St(this,Nn);if(Gn!=null&&Gn.str&&(!(Jn!=null&&Jn.str)||Jn.str===Gn.str))ot.XfaLayer.render({xfaHtml:Gn.html,intent:"richText",div:On}),On.lastChild.classList.add("richText","popupContent");else{const Zr=this._formatContents(Jn);On.append(Zr)}let Er=!!St(this,nn),Qn=Er?St(this,nn):St(this,Pn);for(const Zr of St(this,Mt))if(!Qn||tt.Util.intersect(Zr.data.rect,Qn)!==null){Qn=Zr.data.rect,Er=!0;break}const sr=tt.Util.normalizeRect([Qn[0],Xt[3]-Qn[1]+Xt[1],Qn[2],Xt[3]-Qn[3]+Xt[1]]),Sr=Er?Qn[2]-Qn[0]+5:0,Mr=sr[0]+Sr,Br=sr[1],{style:rs}=St(this,sn);rs.left=`${100*(Mr-Cn)/Gt}%`,rs.top=`${100*(Br-Rn)/ln}%`,St(this,sn).append(On)}_formatContents({str:Xt,dir:Gt}){const ln=document.createElement("p");ln.classList.add("popupContent"),ln.dir=Gt;const Cn=Xt.split(/(?:\r\n?|\n)/);for(let Rn=0,On=Cn.length;Rn<On;++Rn){const Bn=Cn[Rn];ln.append(document.createTextNode(Bn)),Rn<On-1&&ln.append(document.createElement("br"))}return ln}forceHide(){Sn(this,Kt,this.isVisible),St(this,Kt)&&(St(this,sn).hidden=!0)}maybeShow(){St(this,Kt)&&(Sn(this,Kt,!1),St(this,sn).hidden=!1)}get isVisible(){return St(this,sn).hidden===!1}}mn=new WeakMap,fn=new WeakMap,En=new WeakMap,kn=new WeakMap,Tn=new WeakMap,An=new WeakMap,sn=new WeakMap,dn=new WeakMap,Mt=new WeakMap,Vt=new WeakMap,nn=new WeakMap,on=new WeakMap,yn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,cn=new WeakMap,Kt=new WeakMap,en=new WeakSet,au=function(Xt){Xt.altKey||Xt.shiftKey||Xt.ctrlKey||Xt.metaKey||(Xt.key==="Enter"||Xt.key==="Escape"&&St(this,on))&&pn(this,en,lo).call(this)},lo=function(){Sn(this,on,!St(this,on)),St(this,on)?(pn(this,en,Jo).call(this),St(this,sn).addEventListener("click",St(this,Tn)),St(this,sn).addEventListener("keydown",St(this,fn))):(pn(this,en,Qo).call(this),St(this,sn).removeEventListener("click",St(this,Tn)),St(this,sn).removeEventListener("keydown",St(this,fn)))},Jo=function(){St(this,yn)||this.render(),this.isVisible?St(this,on)&&St(this,sn).classList.add("focused"):(St(this,sn).hidden=!1,St(this,sn).style.zIndex=parseInt(St(this,sn).style.zIndex)+1e3)},Qo=function(){St(this,sn).classList.remove("focused"),!(St(this,on)||!this.isVisible)&&(St(this,sn).hidden=!0,St(this,sn).style.zIndex=parseInt(St(this,sn).style.zIndex)-1e3)};class Nt extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Xt.data.textContent,this.textPosition=Xt.data.textPosition,this.annotationEditorType=tt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Xt=document.createElement("div");Xt.classList.add("annotationTextContent"),Xt.setAttribute("role","comment");for(const Gt of this.textContent){const ln=document.createElement("span");ln.textContent=Gt,Xt.append(ln)}this.container.append(Xt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_e.FreeTextAnnotationElement=Nt;class kt extends ft{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0});wn(this,Zn,null)}render(){this.container.classList.add("lineAnnotation");const Gt=this.data,{width:ln,height:Cn}=dt(Gt.rect),Rn=this.svgFactory.create(ln,Cn,!0),On=Sn(this,Zn,this.svgFactory.createElement("svg:line"));return On.setAttribute("x1",Gt.rect[2]-Gt.lineCoordinates[0]),On.setAttribute("y1",Gt.rect[3]-Gt.lineCoordinates[1]),On.setAttribute("x2",Gt.rect[2]-Gt.lineCoordinates[2]),On.setAttribute("y2",Gt.rect[3]-Gt.lineCoordinates[3]),On.setAttribute("stroke-width",Gt.borderStyle.width||1),On.setAttribute("stroke","transparent"),On.setAttribute("fill","transparent"),Rn.append(On),this.container.append(Rn),!Gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(this,Zn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zn=new WeakMap;class Pt extends ft{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0});wn(this,cr,null)}render(){this.container.classList.add("squareAnnotation");const Gt=this.data,{width:ln,height:Cn}=dt(Gt.rect),Rn=this.svgFactory.create(ln,Cn,!0),On=Gt.borderStyle.width,Bn=Sn(this,cr,this.svgFactory.createElement("svg:rect"));return Bn.setAttribute("x",On/2),Bn.setAttribute("y",On/2),Bn.setAttribute("width",ln-On),Bn.setAttribute("height",Cn-On),Bn.setAttribute("stroke-width",On||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),Rn.append(Bn),this.container.append(Rn),!Gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(this,cr)}addHighlightArea(){this.container.classList.add("highlightArea")}}cr=new WeakMap;class Dt extends ft{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0});wn(this,Pr,null)}render(){this.container.classList.add("circleAnnotation");const Gt=this.data,{width:ln,height:Cn}=dt(Gt.rect),Rn=this.svgFactory.create(ln,Cn,!0),On=Gt.borderStyle.width,Bn=Sn(this,Pr,this.svgFactory.createElement("svg:ellipse"));return Bn.setAttribute("cx",ln/2),Bn.setAttribute("cy",Cn/2),Bn.setAttribute("rx",ln/2-On/2),Bn.setAttribute("ry",Cn/2-On/2),Bn.setAttribute("stroke-width",On||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),Rn.append(Bn),this.container.append(Rn),!Gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(this,Pr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pr=new WeakMap;class qt extends ft{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0});wn(this,In,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Gt=this.data,{width:ln,height:Cn}=dt(Gt.rect),Rn=this.svgFactory.create(ln,Cn,!0);let On=[];for(const nr of Gt.vertices){const Jn=nr.x-Gt.rect[0],Gn=Gt.rect[3]-nr.y;On.push(Jn+","+Gn)}On=On.join(" ");const Bn=Sn(this,In,this.svgFactory.createElement(this.svgElementName));return Bn.setAttribute("points",On),Bn.setAttribute("stroke-width",Gt.borderStyle.width||1),Bn.setAttribute("stroke","transparent"),Bn.setAttribute("fill","transparent"),Rn.append(Bn),this.container.append(Rn),!Gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return St(this,In)}addHighlightArea(){this.container.classList.add("highlightArea")}}In=new WeakMap;class zt extends qt{constructor(Xt){super(Xt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class jt extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ft extends ft{constructor(Gt){super(Gt,{isRenderable:!0,ignoreBorder:!0});wn(this,hn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Gt=this.data,{width:ln,height:Cn}=dt(Gt.rect),Rn=this.svgFactory.create(ln,Cn,!0);for(const On of Gt.inkLists){let Bn=[];for(const Jn of On){const Gn=Jn.x-Gt.rect[0],Er=Gt.rect[3]-Jn.y;Bn.push(`${Gn},${Er}`)}Bn=Bn.join(" ");const nr=this.svgFactory.createElement(this.svgElementName);St(this,hn).push(nr),nr.setAttribute("points",Bn),nr.setAttribute("stroke-width",Gt.borderStyle.width||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),!Gt.popupRef&&this.hasPopupData&&this._createPopup(),Rn.append(nr)}return this.container.append(Rn),this.container}getElementsToTriggerPopup(){return St(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap,_e.InkAnnotationElement=Ft;class Bt extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class It extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class At extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Yt extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ot extends ft{constructor(Xt){super(Xt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_e.StampAnnotationElement=Ot;class yt extends ft{constructor(Gt){var Rn;super(Gt,{isRenderable:!0});wn(this,Kn);wn(this,gn,null);const{filename:ln,content:Cn}=this.data.file;this.filename=(0,nt.getFilenameFromUrl)(ln,!0),this.content=Cn,(Rn=this.linkService.eventBus)==null||Rn.dispatch("fileattachmentannotation",{source:this,filename:ln,content:Cn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Gt,data:ln}=this;let Cn;ln.hasAppearance||ln.fillAlpha===0?Cn=document.createElement("div"):(Cn=document.createElement("img"),Cn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ln.name)?"paperclip":"pushpin"}.svg`,ln.fillAlpha&&ln.fillAlpha<1&&(Cn.style=`filter: opacity(${Math.round(ln.fillAlpha*100)}%);`)),Cn.addEventListener("dblclick",pn(this,Kn,na).bind(this)),Sn(this,gn,Cn);const{isMac:Rn}=tt.FeatureTest.platform;return Gt.addEventListener("keydown",On=>{On.key==="Enter"&&(Rn?On.metaKey:On.ctrlKey)&&pn(this,Kn,na).call(this)}),!ln.popupRef&&this.hasPopupData?this._createPopup():Cn.classList.add("popupTriggerArea"),Gt.append(Cn),Gt}getElementsToTriggerPopup(){return St(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap,Kn=new WeakSet,na=function(){var Gt;(Gt=this.downloadManager)==null||Gt.openOrDownloadData(this.container,this.content,this.filename)};class Tt{constructor({div:Xt,accessibilityManager:Gt,annotationCanvasMap:ln,l10n:Cn,page:Rn,viewport:On}){wn(this,Hn);wn(this,ur,null);wn(this,Zt,null);wn(this,Mn,new Map);this.div=Xt,Sn(this,ur,Gt),Sn(this,Zt,ln),this.l10n=Cn,this.page=Rn,this.viewport=On,this.zIndex=0,this.l10n||(this.l10n=st.NullL10n)}async render(Xt){const{annotations:Gt}=Xt,ln=this.div;(0,nt.setLayerDimensions)(ln,this.viewport);const Cn=new Map,Rn={data:null,layer:ln,linkService:Xt.linkService,downloadManager:Xt.downloadManager,imageResourcesPath:Xt.imageResourcesPath||"",renderForms:Xt.renderForms!==!1,svgFactory:new nt.DOMSVGFactory,annotationStorage:Xt.annotationStorage||new rt.AnnotationStorage,enableScripting:Xt.enableScripting===!0,hasJSActions:Xt.hasJSActions,fieldObjects:Xt.fieldObjects,parent:this,elements:null};for(const On of Gt){if(On.noHTML)continue;const Bn=On.annotationType===tt.AnnotationType.POPUP;if(Bn){const Gn=Cn.get(On.id);if(!Gn)continue;Rn.elements=Gn}else{const{width:Gn,height:Er}=dt(On.rect);if(Gn<=0||Er<=0)continue}Rn.data=On;const nr=ct.create(Rn);if(!nr.isRenderable)continue;if(!Bn&&On.popupRef){const Gn=Cn.get(On.popupRef);Gn?Gn.push(nr):Cn.set(On.popupRef,[nr])}nr.annotationEditorType>0&&St(this,Mn).set(nr.data.id,nr);const Jn=nr.render();On.hidden&&(Jn.style.visibility="hidden"),pn(this,Hn,lu).call(this,Jn,On.id)}pn(this,Hn,ga).call(this),await this.l10n.translate(ln)}update({viewport:Xt}){const Gt=this.div;this.viewport=Xt,(0,nt.setLayerDimensions)(Gt,{rotation:Xt.rotation}),pn(this,Hn,ga).call(this),Gt.hidden=!1}getEditableAnnotations(){return Array.from(St(this,Mn).values())}getEditableAnnotation(Xt){return St(this,Mn).get(Xt)}}ur=new WeakMap,Zt=new WeakMap,Mn=new WeakMap,Hn=new WeakSet,lu=function(Xt,Gt){var Cn;const ln=Xt.firstChild||Xt;ln.id=`${tt.AnnotationPrefix}${Gt}`,this.div.append(Xt),(Cn=St(this,ur))==null||Cn.moveElementInDOM(this.div,Xt,ln,!1)},ga=function(){if(!St(this,Zt))return;const Xt=this.div;for(const[Gt,ln]of St(this,Zt)){const Cn=Xt.querySelector(`[data-annotation-id="${Gt}"]`);if(!Cn)continue;const{firstChild:Rn}=Cn;Rn?Rn.nodeName==="CANVAS"?Rn.replaceWith(ln):Rn.before(ln):Cn.append(ln)}St(this,Zt).clear()},_e.AnnotationLayer=Tt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorConverters=void 0;function et(rt){return Math.floor(Math.max(0,Math.min(1,rt))*255).toString(16).padStart(2,"0")}function tt(rt){return Math.max(0,Math.min(255,255*rt))}class nt{static CMYK_G([it,st,ot,at]){return["G",1-Math.min(1,.3*it+.59*ot+.11*st+at)]}static G_CMYK([it]){return["CMYK",0,0,0,1-it]}static G_RGB([it]){return["RGB",it,it,it]}static G_rgb([it]){return it=tt(it),[it,it,it]}static G_HTML([it]){const st=et(it);return`#${st}${st}${st}`}static RGB_G([it,st,ot]){return["G",.3*it+.59*st+.11*ot]}static RGB_rgb(it){return it.map(tt)}static RGB_HTML(it){return`#${it.map(et).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([it,st,ot,at]){return["RGB",1-Math.min(1,it+at),1-Math.min(1,ot+at),1-Math.min(1,st+at)]}static CMYK_rgb([it,st,ot,at]){return[tt(1-Math.min(1,it+at)),tt(1-Math.min(1,ot+at)),tt(1-Math.min(1,st+at))]}static CMYK_HTML(it){const st=this.CMYK_RGB(it).slice(1);return this.RGB_HTML(st)}static RGB_CMYK([it,st,ot]){const at=1-it,lt=1-st,ut=1-ot,dt=Math.min(at,lt,ut);return["CMYK",at,lt,ut,dt]}}_e.ColorConverters=nt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NullL10n=void 0,_e.getL10nFallback=tt;const et={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};et.print_progress_percent="{{progress}}%";function tt(it,st){switch(it){case"find_match_count":it=`find_match_count[${st.total===1?"one":"other"}]`;break;case"find_match_count_limit":it=`find_match_count_limit[${st.limit===1?"one":"other"}]`;break}return et[it]||""}function nt(it,st){return st?it.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ot,at)=>at in st?st[at]:"{{"+at+"}}"):it}const rt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(it,st=null,ot=tt(it,st)){return nt(ot,st)},async translate(it){}};_e.NullL10n=rt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaLayer=void 0;var tt=et(25);class nt{static setupStorage(it,st,ot,at,lt){const ut=at.getValue(st,{value:null});switch(ot.name){case"textarea":if(ut.value!==null&&(it.textContent=ut.value),lt==="print")break;it.addEventListener("input",dt=>{at.setValue(st,{value:dt.target.value})});break;case"input":if(ot.attributes.type==="radio"||ot.attributes.type==="checkbox"){if(ut.value===ot.attributes.xfaOn?it.setAttribute("checked",!0):ut.value===ot.attributes.xfaOff&&it.removeAttribute("checked"),lt==="print")break;it.addEventListener("change",dt=>{at.setValue(st,{value:dt.target.checked?dt.target.getAttribute("xfaOn"):dt.target.getAttribute("xfaOff")})})}else{if(ut.value!==null&&it.setAttribute("value",ut.value),lt==="print")break;it.addEventListener("input",dt=>{at.setValue(st,{value:dt.target.value})})}break;case"select":if(ut.value!==null){it.setAttribute("value",ut.value);for(const dt of ot.children)dt.attributes.value===ut.value?dt.attributes.selected=!0:dt.attributes.hasOwnProperty("selected")&&delete dt.attributes.selected}it.addEventListener("input",dt=>{const ct=dt.target.options,ft=ct.selectedIndex===-1?"":ct[ct.selectedIndex].value;at.setValue(st,{value:ft})});break}}static setAttributes({html:it,element:st,storage:ot=null,intent:at,linkService:lt}){const{attributes:ut}=st,dt=it instanceof HTMLAnchorElement;ut.type==="radio"&&(ut.name=`${ut.name}-${at}`);for(const[ct,ft]of Object.entries(ut))if(ft!=null)switch(ct){case"class":ft.length&&it.setAttribute(ct,ft.join(" "));break;case"dataId":break;case"id":it.setAttribute("data-element-id",ft);break;case"style":Object.assign(it.style,ft);break;case"textContent":it.textContent=ft;break;default:(!dt||ct!=="href"&&ct!=="newWindow")&&it.setAttribute(ct,ft)}dt&&lt.addLinkAttributes(it,ut.href,ut.newWindow),ot&&ut.dataId&&this.setupStorage(it,ut.dataId,st,ot)}static render(it){var pt;const st=it.annotationStorage,ot=it.linkService,at=it.xfaHtml,lt=it.intent||"display",ut=document.createElement(at.name);at.attributes&&this.setAttributes({html:ut,element:at,intent:lt,linkService:ot});const dt=[[at,-1,ut]],ct=it.div;if(ct.append(ut),it.viewport){const gt=`matrix(${it.viewport.transform.join(",")})`;ct.style.transform=gt}lt!=="richText"&&ct.setAttribute("class","xfaLayer xfaFont");const ft=[];for(;dt.length>0;){const[gt,ht,mt]=dt.at(-1);if(ht+1===gt.children.length){dt.pop();continue}const bt=gt.children[++dt.at(-1)[1]];if(bt===null)continue;const{name:xt}=bt;if(xt==="#text"){const vt=document.createTextNode(bt.value);ft.push(vt),mt.append(vt);continue}const Et=(pt=bt==null?void 0:bt.attributes)!=null&&pt.xmlns?document.createElementNS(bt.attributes.xmlns,xt):document.createElement(xt);if(mt.append(Et),bt.attributes&&this.setAttributes({html:Et,element:bt,storage:st,intent:lt,linkService:ot}),bt.children&&bt.children.length>0)dt.push([bt,-1,Et]);else if(bt.value){const vt=document.createTextNode(bt.value);tt.XfaText.shouldBuildText(xt)&&ft.push(vt),Et.append(vt)}}for(const gt of ct.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))gt.setAttribute("readOnly",!0);return{textDivs:ft}}static update(it){const st=`matrix(${it.viewport.transform.join(",")})`;it.div.style.transform=st,it.div.hidden=!1}}_e.XfaLayer=nt},($,_e,et)=>{var at,lt,ut,dt,ct,ft,pt,gt,ht,mt,bt,xt,Et,vt,_t,cu,uu,du,hu,ba,fu,xa,pu,mu,gu,bu,yu,Es,$a,co,uo,Os,yl,ho,Ht,vu,El,Eu,xu,xl,fo,Ls;Object.defineProperty(_e,"__esModule",{value:!0}),_e.InkEditor=void 0;var tt=et(1),nt=et(4),rt=et(29),it=et(6),st=et(5);const An=class An extends nt.AnnotationEditor{constructor(Mt){super({...Mt,name:"inkEditor"});wn(this,_t);wn(this,at,0);wn(this,lt,0);wn(this,ut,this.canvasPointermove.bind(this));wn(this,dt,this.canvasPointerleave.bind(this));wn(this,ct,this.canvasPointerup.bind(this));wn(this,ft,this.canvasPointerdown.bind(this));wn(this,pt,new Path2D);wn(this,gt,!1);wn(this,ht,!1);wn(this,mt,!1);wn(this,bt,null);wn(this,xt,0);wn(this,Et,0);wn(this,vt,null);this.color=Mt.color||null,this.thickness=Mt.thickness||null,this.opacity=Mt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Mt){nt.AnnotationEditor.initialize(Mt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Mt,Vt){switch(Mt){case tt.AnnotationEditorParamsType.INK_THICKNESS:An._defaultThickness=Vt;break;case tt.AnnotationEditorParamsType.INK_COLOR:An._defaultColor=Vt;break;case tt.AnnotationEditorParamsType.INK_OPACITY:An._defaultOpacity=Vt/100;break}}updateParams(Mt,Vt){switch(Mt){case tt.AnnotationEditorParamsType.INK_THICKNESS:pn(this,_t,cu).call(this,Vt);break;case tt.AnnotationEditorParamsType.INK_COLOR:pn(this,_t,uu).call(this,Vt);break;case tt.AnnotationEditorParamsType.INK_OPACITY:pn(this,_t,du).call(this,Vt);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,An._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,An._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(An._defaultOpacity*100)]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||An._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,this.color||An._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??An._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(pn(this,_t,co).call(this),pn(this,_t,uo).call(this)),this.isAttachedToDOM||(this.parent.add(this),pn(this,_t,Os).call(this)),pn(this,_t,Ls).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,St(this,bt).disconnect(),Sn(this,bt,null),super.remove())}setParent(Mt){!this.parent&&Mt?this._uiManager.removeShouldRescale(this):this.parent&&Mt===null&&this._uiManager.addShouldRescale(this),super.setParent(Mt)}onScaleChanging(){const[Mt,Vt]=this.parentDimensions,nn=this.width*Mt,on=this.height*Vt;this.setDimensions(nn,on)}enableEditMode(){St(this,gt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",St(this,ft)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",St(this,ft)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){St(this,gt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Sn(this,gt,!0),this.div.classList.add("disabled"),pn(this,_t,Ls).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Mt){this._focusEventsAllowed&&(super.focusin(Mt),this.enableEditMode())}canvasPointerdown(Mt){Mt.button!==0||!this.isInEditMode()||St(this,gt)||(this.setInForeground(),Mt.preventDefault(),Mt.type!=="mouse"&&this.div.focus(),pn(this,_t,fu).call(this,Mt.offsetX,Mt.offsetY))}canvasPointermove(Mt){Mt.preventDefault(),pn(this,_t,xa).call(this,Mt.offsetX,Mt.offsetY)}canvasPointerup(Mt){Mt.preventDefault(),pn(this,_t,$a).call(this,Mt)}canvasPointerleave(Mt){pn(this,_t,$a).call(this,Mt)}get isResizable(){return!this.isEmpty()&&St(this,gt)}render(){if(this.div)return this.div;let Mt,Vt;this.width&&(Mt=this.x,Vt=this.y),super.render(),nt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Nn=>{var cn;return(cn=this.div)==null?void 0:cn.setAttribute("aria-label",Nn)});const[nn,on,yn,Pn]=pn(this,_t,hu).call(this);if(this.setAt(nn,on,0,0),this.setDims(yn,Pn),pn(this,_t,co).call(this),this.width){const[Nn,cn]=this.parentDimensions;this.setAspectRatio(this.width*Nn,this.height*cn),this.setAt(Mt*Nn,Vt*cn,this.width*Nn,this.height*cn),Sn(this,mt,!0),pn(this,_t,Os).call(this),this.setDims(this.width*Nn,this.height*cn),pn(this,_t,Es).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return pn(this,_t,uo).call(this),this.div}setDimensions(Mt,Vt){const nn=Math.round(Mt),on=Math.round(Vt);if(St(this,xt)===nn&&St(this,Et)===on)return;Sn(this,xt,nn),Sn(this,Et,on),this.canvas.style.visibility="hidden";const[yn,Pn]=this.parentDimensions;this.width=Mt/yn,this.height=Vt/Pn,this.fixAndSetPosition(),St(this,gt)&&pn(this,_t,yl).call(this,Mt,Vt),pn(this,_t,Os).call(this),pn(this,_t,Es).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Mt,Vt,nn){var Zn,cr,Pr;if(Mt instanceof rt.InkAnnotationElement)return null;const on=super.deserialize(Mt,Vt,nn);on.thickness=Mt.thickness,on.color=tt.Util.makeHexColor(...Mt.color),on.opacity=Mt.opacity;const[yn,Pn]=on.pageDimensions,Nn=on.width*yn,cn=on.height*Pn,Kt=on.parentScale,en=Mt.thickness/2;Sn(on,gt,!0),Sn(on,xt,Math.round(Nn)),Sn(on,Et,Math.round(cn));const{paths:$n,rect:Ln,rotation:qn}=Mt;for(let{bezier:In}of $n){In=pn(Zn=An,Ht,Eu).call(Zn,In,Ln,qn);const hn=[];on.paths.push(hn);let gn=Kt*(In[0]-en),Kn=Kt*(In[1]-en);for(let ur=2,Zt=In.length;ur<Zt;ur+=6){const Mn=Kt*(In[ur]-en),Hn=Kt*(In[ur+1]-en),tr=Kt*(In[ur+2]-en),ir=Kt*(In[ur+3]-en),Yn=Kt*(In[ur+4]-en),Xt=Kt*(In[ur+5]-en);hn.push([[gn,Kn],[Mn,Hn],[tr,ir],[Yn,Xt]]),gn=Yn,Kn=Xt}const er=pn(this,Ht,vu).call(this,hn);on.bezierPath2D.push(er)}const zn=pn(cr=on,_t,xl).call(cr);return Sn(on,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,zn[2]-zn[0])),Sn(on,at,Math.max(nt.AnnotationEditor.MIN_SIZE,zn[3]-zn[1])),pn(Pr=on,_t,yl).call(Pr,Nn,cn),on}serialize(){if(this.isEmpty())return null;const Mt=this.getRect(0,0),Vt=nt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.AnnotationEditorType.INK,color:Vt,thickness:this.thickness,opacity:this.opacity,paths:pn(this,_t,xu).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Mt),pageIndex:this.pageIndex,rect:Mt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};at=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakMap,mt=new WeakMap,bt=new WeakMap,xt=new WeakMap,Et=new WeakMap,vt=new WeakMap,_t=new WeakSet,cu=function(Mt){const Vt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Mt,pn(this,_t,Ls).call(this)},undo:()=>{this.thickness=Vt,pn(this,_t,Ls).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},uu=function(Mt){const Vt=this.color;this.addCommands({cmd:()=>{this.color=Mt,pn(this,_t,Es).call(this)},undo:()=>{this.color=Vt,pn(this,_t,Es).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},du=function(Mt){Mt/=100;const Vt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Mt,pn(this,_t,Es).call(this)},undo:()=>{this.opacity=Vt,pn(this,_t,Es).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},hu=function(){const{parentRotation:Mt,parentDimensions:[Vt,nn]}=this;switch(Mt){case 90:return[0,nn,nn,Vt];case 180:return[Vt,nn,Vt,nn];case 270:return[Vt,0,nn,Vt];default:return[0,0,Vt,nn]}},ba=function(){const{ctx:Mt,color:Vt,opacity:nn,thickness:on,parentScale:yn,scaleFactor:Pn}=this;Mt.lineWidth=on*yn/Pn,Mt.lineCap="round",Mt.lineJoin="round",Mt.miterLimit=10,Mt.strokeStyle=`${Vt}${(0,st.opacityToHex)(nn)}`},fu=function(Mt,Vt){this.canvas.addEventListener("contextmenu",it.noContextMenu),this.canvas.addEventListener("pointerleave",St(this,dt)),this.canvas.addEventListener("pointermove",St(this,ut)),this.canvas.addEventListener("pointerup",St(this,ct)),this.canvas.removeEventListener("pointerdown",St(this,ft)),this.isEditing=!0,St(this,mt)||(Sn(this,mt,!0),pn(this,_t,Os).call(this),this.thickness||(this.thickness=An._defaultThickness),this.color||(this.color=An._defaultColor||nt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=An._defaultOpacity)),this.currentPath.push([Mt,Vt]),Sn(this,ht,!1),pn(this,_t,ba).call(this),Sn(this,vt,()=>{pn(this,_t,gu).call(this),St(this,vt)&&window.requestAnimationFrame(St(this,vt))}),window.requestAnimationFrame(St(this,vt))},xa=function(Mt,Vt){const[nn,on]=this.currentPath.at(-1);if(this.currentPath.length>1&&Mt===nn&&Vt===on)return;const yn=this.currentPath;let Pn=St(this,pt);if(yn.push([Mt,Vt]),Sn(this,ht,!0),yn.length<=2){Pn.moveTo(...yn[0]),Pn.lineTo(Mt,Vt);return}yn.length===3&&(Sn(this,pt,Pn=new Path2D),Pn.moveTo(...yn[0])),pn(this,_t,bu).call(this,Pn,...yn.at(-3),...yn.at(-2),Mt,Vt)},pu=function(){if(this.currentPath.length===0)return;const Mt=this.currentPath.at(-1);St(this,pt).lineTo(...Mt)},mu=function(Mt,Vt){Sn(this,vt,null),Mt=Math.min(Math.max(Mt,0),this.canvas.width),Vt=Math.min(Math.max(Vt,0),this.canvas.height),pn(this,_t,xa).call(this,Mt,Vt),pn(this,_t,pu).call(this);let nn;if(this.currentPath.length!==1)nn=pn(this,_t,yu).call(this);else{const cn=[Mt,Vt];nn=[[cn,cn.slice(),cn.slice(),cn]]}const on=St(this,pt),yn=this.currentPath;this.currentPath=[],Sn(this,pt,new Path2D);const Pn=()=>{this.allRawPaths.push(yn),this.paths.push(nn),this.bezierPath2D.push(on),this.rebuild()},Nn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(pn(this,_t,co).call(this),pn(this,_t,uo).call(this)),pn(this,_t,Ls).call(this))};this.addCommands({cmd:Pn,undo:Nn,mustExec:!0})},gu=function(){if(!St(this,ht))return;Sn(this,ht,!1);const Mt=Math.ceil(this.thickness*this.parentScale),Vt=this.currentPath.slice(-3),nn=Vt.map(Pn=>Pn[0]),on=Vt.map(Pn=>Pn[1]);Math.min(...nn)-Mt,Math.max(...nn)+Mt,Math.min(...on)-Mt,Math.max(...on)+Mt;const{ctx:yn}=this;yn.save(),yn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Pn of this.bezierPath2D)yn.stroke(Pn);yn.stroke(St(this,pt)),yn.restore()},bu=function(Mt,Vt,nn,on,yn,Pn,Nn){const cn=(Vt+on)/2,Kt=(nn+yn)/2,en=(on+Pn)/2,$n=(yn+Nn)/2;Mt.bezierCurveTo(cn+2*(on-cn)/3,Kt+2*(yn-Kt)/3,en+2*(on-en)/3,$n+2*(yn-$n)/3,en,$n)},yu=function(){const Mt=this.currentPath;if(Mt.length<=2)return[[Mt[0],Mt[0],Mt.at(-1),Mt.at(-1)]];const Vt=[];let nn,[on,yn]=Mt[0];for(nn=1;nn<Mt.length-2;nn++){const[Ln,qn]=Mt[nn],[zn,Zn]=Mt[nn+1],cr=(Ln+zn)/2,Pr=(qn+Zn)/2,In=[on+2*(Ln-on)/3,yn+2*(qn-yn)/3],hn=[cr+2*(Ln-cr)/3,Pr+2*(qn-Pr)/3];Vt.push([[on,yn],In,hn,[cr,Pr]]),[on,yn]=[cr,Pr]}const[Pn,Nn]=Mt[nn],[cn,Kt]=Mt[nn+1],en=[on+2*(Pn-on)/3,yn+2*(Nn-yn)/3],$n=[cn+2*(Pn-cn)/3,Kt+2*(Nn-Kt)/3];return Vt.push([[on,yn],en,$n,[cn,Kt]]),Vt},Es=function(){if(this.isEmpty()){pn(this,_t,ho).call(this);return}pn(this,_t,ba).call(this);const{canvas:Mt,ctx:Vt}=this;Vt.setTransform(1,0,0,1,0,0),Vt.clearRect(0,0,Mt.width,Mt.height),pn(this,_t,ho).call(this);for(const nn of this.bezierPath2D)Vt.stroke(nn)},$a=function(Mt){this.canvas.removeEventListener("pointerleave",St(this,dt)),this.canvas.removeEventListener("pointermove",St(this,ut)),this.canvas.removeEventListener("pointerup",St(this,ct)),this.canvas.addEventListener("pointerdown",St(this,ft)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",it.noContextMenu)},10),pn(this,_t,mu).call(this,Mt.offsetX,Mt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},co=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",nt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Mt=>{var Vt;return(Vt=this.canvas)==null?void 0:Vt.setAttribute("aria-label",Mt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},uo=function(){Sn(this,bt,new ResizeObserver(Mt=>{const Vt=Mt[0].contentRect;Vt.width&&Vt.height&&this.setDimensions(Vt.width,Vt.height)})),St(this,bt).observe(this.div)},Os=function(){if(!St(this,mt))return;const[Mt,Vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Mt),this.canvas.height=Math.ceil(this.height*Vt),pn(this,_t,ho).call(this)},yl=function(Mt,Vt){const nn=pn(this,_t,fo).call(this),on=(Mt-nn)/St(this,lt),yn=(Vt-nn)/St(this,at);this.scaleFactor=Math.min(on,yn)},ho=function(){const Mt=pn(this,_t,fo).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Mt,this.translationY*this.scaleFactor+Mt)},Ht=new WeakSet,vu=function(Mt){const Vt=new Path2D;for(let nn=0,on=Mt.length;nn<on;nn++){const[yn,Pn,Nn,cn]=Mt[nn];nn===0&&Vt.moveTo(...yn),Vt.bezierCurveTo(Pn[0],Pn[1],Nn[0],Nn[1],cn[0],cn[1])}return Vt},El=function(Mt,Vt,nn){const[on,yn,Pn,Nn]=Vt;switch(nn){case 0:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2)Mt[cn]+=on,Mt[cn+1]=Nn-Mt[cn+1];break;case 90:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2){const en=Mt[cn];Mt[cn]=Mt[cn+1]+on,Mt[cn+1]=en+yn}break;case 180:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2)Mt[cn]=Pn-Mt[cn],Mt[cn+1]+=yn;break;case 270:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2){const en=Mt[cn];Mt[cn]=Pn-Mt[cn+1],Mt[cn+1]=Nn-en}break;default:throw new Error("Invalid rotation")}return Mt},Eu=function(Mt,Vt,nn){const[on,yn,Pn,Nn]=Vt;switch(nn){case 0:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2)Mt[cn]-=on,Mt[cn+1]=Nn-Mt[cn+1];break;case 90:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2){const en=Mt[cn];Mt[cn]=Mt[cn+1]-yn,Mt[cn+1]=en-on}break;case 180:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2)Mt[cn]=Pn-Mt[cn],Mt[cn+1]-=yn;break;case 270:for(let cn=0,Kt=Mt.length;cn<Kt;cn+=2){const en=Mt[cn];Mt[cn]=Nn-Mt[cn+1],Mt[cn+1]=Pn-en}break;default:throw new Error("Invalid rotation")}return Mt},xu=function(Mt,Vt,nn,on){var Kt,en;const yn=[],Pn=this.thickness/2,Nn=Mt*Vt+Pn,cn=Mt*nn+Pn;for(const $n of this.paths){const Ln=[],qn=[];for(let zn=0,Zn=$n.length;zn<Zn;zn++){const[cr,Pr,In,hn]=$n[zn],gn=Mt*cr[0]+Nn,Kn=Mt*cr[1]+cn,er=Mt*Pr[0]+Nn,ur=Mt*Pr[1]+cn,Zt=Mt*In[0]+Nn,Mn=Mt*In[1]+cn,Hn=Mt*hn[0]+Nn,tr=Mt*hn[1]+cn;zn===0&&(Ln.push(gn,Kn),qn.push(gn,Kn)),Ln.push(er,ur,Zt,Mn,Hn,tr),qn.push(er,ur),zn===Zn-1&&qn.push(Hn,tr)}yn.push({bezier:pn(Kt=An,Ht,El).call(Kt,Ln,on,this.rotation),points:pn(en=An,Ht,El).call(en,qn,on,this.rotation)})}return yn},xl=function(){let Mt=1/0,Vt=-1/0,nn=1/0,on=-1/0;for(const yn of this.paths)for(const[Pn,Nn,cn,Kt]of yn){const en=tt.Util.bezierBoundingBox(...Pn,...Nn,...cn,...Kt);Mt=Math.min(Mt,en[0]),nn=Math.min(nn,en[1]),Vt=Math.max(Vt,en[2]),on=Math.max(on,en[3])}return[Mt,nn,Vt,on]},fo=function(){return St(this,gt)?Math.ceil(this.thickness*this.parentScale):0},Ls=function(Mt=!1){if(this.isEmpty())return;if(!St(this,gt)){pn(this,_t,Es).call(this);return}const Vt=pn(this,_t,xl).call(this),nn=pn(this,_t,fo).call(this);Sn(this,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,Vt[2]-Vt[0])),Sn(this,at,Math.max(nt.AnnotationEditor.MIN_SIZE,Vt[3]-Vt[1]));const on=Math.ceil(nn+St(this,lt)*this.scaleFactor),yn=Math.ceil(nn+St(this,at)*this.scaleFactor),[Pn,Nn]=this.parentDimensions;this.width=on/Pn,this.height=yn/Nn,this.setAspectRatio(on,yn);const cn=this.translationX,Kt=this.translationY;this.translationX=-Vt[0],this.translationY=-Vt[1],pn(this,_t,Os).call(this),pn(this,_t,Es).call(this),Sn(this,xt,on),Sn(this,Et,yn),this.setDims(on,yn);const en=Mt?nn/this.scaleFactor/2:0;this.translate(cn-this.translationX-en,Kt-this.translationY-en)},wn(An,Ht),Gr(An,"_defaultColor",null),Gr(An,"_defaultOpacity",1),Gr(An,"_defaultThickness",1),Gr(An,"_type","ink");let ot=An;_e.InkEditor=ot},($,_e,et)=>{var ot,at,lt,ut,dt,ct,ft,pt,gt,ht,mt,Ws,Gs,po,_l,_u,wu,wl,mo,Su;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampEditor=void 0;var tt=et(1),nt=et(4),rt=et(6),it=et(29);const Pt=class Pt extends nt.AnnotationEditor{constructor(zt){super({...zt,name:"stampEditor"});wn(this,mt);wn(this,ot,null);wn(this,at,null);wn(this,lt,null);wn(this,ut,null);wn(this,dt,null);wn(this,ct,null);wn(this,ft,null);wn(this,pt,null);wn(this,gt,!1);wn(this,ht,!1);Sn(this,ut,zt.bitmapUrl),Sn(this,dt,zt.bitmapFile)}static initialize(zt){nt.AnnotationEditor.initialize(zt)}static get supportedTypes(){const zt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,tt.shadow)(this,"supportedTypes",zt.map(jt=>`image/${jt}`))}static get supportedTypesStr(){return(0,tt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(zt){return this.supportedTypes.includes(zt)}static paste(zt,jt){jt.pasteEditor(tt.AnnotationEditorType.STAMP,{bitmapFile:zt.getAsFile()})}remove(){var zt,jt;St(this,at)&&(Sn(this,ot,null),this._uiManager.imageManager.deleteId(St(this,at)),(zt=St(this,ct))==null||zt.remove(),Sn(this,ct,null),(jt=St(this,ft))==null||jt.disconnect(),Sn(this,ft,null)),super.remove()}rebuild(){if(!this.parent){St(this,at)&&pn(this,mt,po).call(this);return}super.rebuild(),this.div!==null&&(St(this,at)&&pn(this,mt,po).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(St(this,lt)||St(this,ot)||St(this,ut)||St(this,dt))}get isResizable(){return!0}render(){if(this.div)return this.div;let zt,jt;if(this.width&&(zt=this.x,jt=this.y),super.render(),this.div.hidden=!0,St(this,ot)?pn(this,mt,_l).call(this):pn(this,mt,po).call(this),this.width){const[Ft,Bt]=this.parentDimensions;this.setAt(zt*Ft,jt*Bt,this.width*Ft,this.height*Bt)}return this.div}static deserialize(zt,jt,Ft){if(zt instanceof it.StampAnnotationElement)return null;const Bt=super.deserialize(zt,jt,Ft),{rect:It,bitmapUrl:At,bitmapId:Yt,isSvg:Ot,accessibilityData:yt}=zt;Yt&&Ft.imageManager.isValidId(Yt)?Sn(Bt,at,Yt):Sn(Bt,ut,At),Sn(Bt,gt,Ot);const[Tt,$t]=Bt.pageDimensions;return Bt.width=(It[2]-It[0])/Tt,Bt.height=(It[3]-It[1])/$t,yt&&(Bt.altTextData=yt),Bt}serialize(zt=!1,jt=null){if(this.isEmpty())return null;const Ft={annotationType:tt.AnnotationEditorType.STAMP,bitmapId:St(this,at),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:St(this,gt),structTreeParentId:this._structTreeParentId};if(zt)return Ft.bitmapUrl=pn(this,mt,mo).call(this,!0),Ft.accessibilityData=this.altTextData,Ft;const{decorative:Bt,altText:It}=this.altTextData;if(!Bt&&It&&(Ft.accessibilityData={type:"Figure",alt:It}),jt===null)return Ft;jt.stamps||(jt.stamps=new Map);const At=St(this,gt)?(Ft.rect[2]-Ft.rect[0])*(Ft.rect[3]-Ft.rect[1]):null;if(!jt.stamps.has(St(this,at)))jt.stamps.set(St(this,at),{area:At,serialized:Ft}),Ft.bitmap=pn(this,mt,mo).call(this,!1);else if(St(this,gt)){const Yt=jt.stamps.get(St(this,at));At>Yt.area&&(Yt.area=At,Yt.serialized.bitmap.close(),Yt.serialized.bitmap=pn(this,mt,mo).call(this,!1))}return Ft}};ot=new WeakMap,at=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakMap,mt=new WeakSet,Ws=function(zt,jt=!1){if(!zt){this.remove();return}Sn(this,ot,zt.bitmap),jt||(Sn(this,at,zt.id),Sn(this,gt,zt.isSvg)),pn(this,mt,_l).call(this)},Gs=function(){Sn(this,lt,null),this._uiManager.enableWaiting(!1),St(this,ct)&&this.div.focus()},po=function(){if(St(this,at)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(St(this,at)).then(jt=>pn(this,mt,Ws).call(this,jt,!0)).finally(()=>pn(this,mt,Gs).call(this));return}if(St(this,ut)){const jt=St(this,ut);Sn(this,ut,null),this._uiManager.enableWaiting(!0),Sn(this,lt,this._uiManager.imageManager.getFromUrl(jt).then(Ft=>pn(this,mt,Ws).call(this,Ft)).finally(()=>pn(this,mt,Gs).call(this)));return}if(St(this,dt)){const jt=St(this,dt);Sn(this,dt,null),this._uiManager.enableWaiting(!0),Sn(this,lt,this._uiManager.imageManager.getFromFile(jt).then(Ft=>pn(this,mt,Ws).call(this,Ft)).finally(()=>pn(this,mt,Gs).call(this)));return}const zt=document.createElement("input");zt.type="file",zt.accept=Pt.supportedTypesStr,Sn(this,lt,new Promise(jt=>{zt.addEventListener("change",async()=>{if(!zt.files||zt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ft=await this._uiManager.imageManager.getFromFile(zt.files[0]);pn(this,mt,Ws).call(this,Ft)}jt()}),zt.addEventListener("cancel",()=>{this.remove(),jt()})}).finally(()=>pn(this,mt,Gs).call(this))),zt.click()},_l=function(){const{div:zt}=this;let{width:jt,height:Ft}=St(this,ot);const[Bt,It]=this.pageDimensions,At=.75;if(this.width)jt=this.width*Bt,Ft=this.height*It;else if(jt>At*Bt||Ft>At*It){const Tt=Math.min(At*Bt/jt,At*It/Ft);jt*=Tt,Ft*=Tt}const[Yt,Ot]=this.parentDimensions;this.setDims(jt*Yt/Bt,Ft*Ot/It),this._uiManager.enableWaiting(!1);const yt=Sn(this,ct,document.createElement("canvas"));zt.append(yt),zt.hidden=!1,pn(this,mt,wl).call(this,jt,Ft),pn(this,mt,Su).call(this),St(this,ht)||(this.parent.addUndoableEditor(this),Sn(this,ht,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_u=function(zt,jt){var At;const[Ft,Bt]=this.parentDimensions;this.width=zt/Ft,this.height=jt/Bt,this.setDims(zt,jt),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,St(this,pt)!==null&&clearTimeout(St(this,pt)),Sn(this,pt,setTimeout(()=>{Sn(this,pt,null),pn(this,mt,wl).call(this,zt,jt)},200))},wu=function(zt,jt){const{width:Ft,height:Bt}=St(this,ot);let It=Ft,At=Bt,Yt=St(this,ot);for(;It>2*zt||At>2*jt;){const Ot=It,yt=At;It>2*zt&&(It=It>=16384?Math.floor(It/2)-1:Math.ceil(It/2)),At>2*jt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const Tt=new OffscreenCanvas(It,At);Tt.getContext("2d").drawImage(Yt,0,0,Ot,yt,0,0,It,At),Yt=Tt.transferToImageBitmap()}return Yt},wl=function(zt,jt){zt=Math.ceil(zt),jt=Math.ceil(jt);const Ft=St(this,ct);if(!Ft||Ft.width===zt&&Ft.height===jt)return;Ft.width=zt,Ft.height=jt;const Bt=St(this,gt)?St(this,ot):pn(this,mt,wu).call(this,zt,jt),It=Ft.getContext("2d");It.filter=this._uiManager.hcmFilter,It.drawImage(Bt,0,0,Bt.width,Bt.height,0,0,zt,jt)},mo=function(zt){if(zt){if(St(this,gt)){const Bt=this._uiManager.imageManager.getSvgUrl(St(this,at));if(Bt)return Bt}const jt=document.createElement("canvas");return{width:jt.width,height:jt.height}=St(this,ot),jt.getContext("2d").drawImage(St(this,ot),0,0),jt.toDataURL()}if(St(this,gt)){const[jt,Ft]=this.pageDimensions,Bt=Math.round(this.width*jt*rt.PixelsPerInch.PDF_TO_CSS_UNITS),It=Math.round(this.height*Ft*rt.PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(Bt,It);return At.getContext("2d").drawImage(St(this,ot),0,0,St(this,ot).width,St(this,ot).height,0,0,Bt,It),At.transferToImageBitmap()}return structuredClone(St(this,ot))},Su=function(){Sn(this,ft,new ResizeObserver(zt=>{const jt=zt[0].contentRect;jt.width&&jt.height&&pn(this,mt,_u).call(this,jt.width,jt.height)})),St(this,ft).observe(this.div)},Gr(Pt,"_type","stamp");let st=Pt;_e.StampEditor=st}],__webpack_module_cache__={};function __w_pdfjs_require__($){var _e=__webpack_module_cache__[$];if(_e!==void 0)return _e.exports;var et=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](et,et.exports,__w_pdfjs_require__),et.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AbortException",{enumerable:!0,get:function(){return _e.AbortException}}),Object.defineProperty($,"AnnotationEditorLayer",{enumerable:!0,get:function(){return rt.AnnotationEditorLayer}}),Object.defineProperty($,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _e.AnnotationEditorParamsType}}),Object.defineProperty($,"AnnotationEditorType",{enumerable:!0,get:function(){return _e.AnnotationEditorType}}),Object.defineProperty($,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return it.AnnotationEditorUIManager}}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return st.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return _e.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return _e.CMapCompressionType}}),Object.defineProperty($,"DOMSVGFactory",{enumerable:!0,get:function(){return tt.DOMSVGFactory}}),Object.defineProperty($,"FeatureTest",{enumerable:!0,get:function(){return _e.FeatureTest}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ot.GlobalWorkerOptions}}),Object.defineProperty($,"ImageKind",{enumerable:!0,get:function(){return _e.ImageKind}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return _e.InvalidPDFException}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return _e.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return _e.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return et.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return tt.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return et.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return _e.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return _e.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return tt.PixelsPerInch}}),Object.defineProperty($,"PromiseCapability",{enumerable:!0,get:function(){return _e.PromiseCapability}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return tt.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return et.SVGGraphics}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return _e.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return _e.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return _e.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return at.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return et.build}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _e.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return et.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return tt.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return tt.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return tt.getXfaPageViewport}}),Object.defineProperty($,"isDataScheme",{enumerable:!0,get:function(){return tt.isDataScheme}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return tt.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return tt.loadScript}}),Object.defineProperty($,"noContextMenu",{enumerable:!0,get:function(){return tt.noContextMenu}}),Object.defineProperty($,"normalizeUnicode",{enumerable:!0,get:function(){return _e.normalizeUnicode}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty($,"setLayerDimensions",{enumerable:!0,get:function(){return tt.setLayerDimensions}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return _e.shadow}}),Object.defineProperty($,"updateTextLayer",{enumerable:!0,get:function(){return nt.updateTextLayer}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return et.version}});var _e=__w_pdfjs_require__(1),et=__w_pdfjs_require__(2),tt=__w_pdfjs_require__(6),nt=__w_pdfjs_require__(26),rt=__w_pdfjs_require__(27),it=__w_pdfjs_require__(5),st=__w_pdfjs_require__(29),ot=__w_pdfjs_require__(14),at=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function($){var _e=reactExports,et=pdfExports;function tt(Rt){var Lt=Object.create(null);return Rt&&Object.keys(Rt).forEach(function(Jt){if(Jt!=="default"){var tn=Object.getOwnPropertyDescriptor(Rt,Jt);Object.defineProperty(Lt,Jt,tn.get?tn:{enumerable:!0,get:function(){return Rt[Jt]}})}}),Lt.default=Rt,Object.freeze(Lt)}var nt,rt=tt(_e),it=tt(et);$.AnnotationType=void 0,(nt=$.AnnotationType||($.AnnotationType={}))[nt.Text=1]="Text",nt[nt.Link=2]="Link",nt[nt.FreeText=3]="FreeText",nt[nt.Line=4]="Line",nt[nt.Square=5]="Square",nt[nt.Circle=6]="Circle",nt[nt.Polygon=7]="Polygon",nt[nt.Polyline=8]="Polyline",nt[nt.Highlight=9]="Highlight",nt[nt.Underline=10]="Underline",nt[nt.Squiggly=11]="Squiggly",nt[nt.StrikeOut=12]="StrikeOut",nt[nt.Stamp=13]="Stamp",nt[nt.Caret=14]="Caret",nt[nt.Ink=15]="Ink",nt[nt.Popup=16]="Popup",nt[nt.FileAttachment=17]="FileAttachment";var st=function(Rt,Lt){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Jt,tn){Jt.__proto__=tn}||function(Jt,tn){for(var an in tn)Object.prototype.hasOwnProperty.call(tn,an)&&(Jt[an]=tn[an])},st(Rt,Lt)};function ot(Rt,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Class extends value "+String(Lt)+" is not a constructor or null");function Jt(){this.constructor=Rt}st(Rt,Lt),Rt.prototype=Lt===null?Object.create(Lt):(Jt.prototype=Lt.prototype,new Jt)}var at,lt=function(){return lt=Object.assign||function(Rt){for(var Lt,Jt=1,tn=arguments.length;Jt<tn;Jt++)for(var an in Lt=arguments[Jt])Object.prototype.hasOwnProperty.call(Lt,an)&&(Rt[an]=Lt[an]);return Rt},lt.apply(this,arguments)};$.TextDirection=void 0,(at=$.TextDirection||($.TextDirection={})).RightToLeft="RTL",at.LeftToRight="LTR";var ut,dt=rt.createContext({currentTheme:"light",direction:$.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ct=function(Rt){var Lt=[];return Object.keys(Rt).forEach(function(Jt){Jt&&Rt[Jt]&&Lt.push(Jt)}),Lt.join(" ")},ft=typeof window<"u"?rt.useLayoutEffect:rt.useEffect,pt=function(Rt){var Lt=rt.useRef(null),Jt=Rt.once,tn=Rt.threshold,an=Rt.onVisibilityChanged;return ft(function(){var un=Lt.current;if(un){var _n=new IntersectionObserver(function(bn){bn.forEach(function(rn){var xn=rn.isIntersecting,vn=rn.intersectionRatio;an({isVisible:xn,ratio:vn}),xn&&Jt&&(_n.unobserve(un),_n.disconnect())})},{threshold:tn||0});return _n.observe(un),function(){_n.unobserve(un),_n.disconnect()}}},[]),Lt},gt=function(Rt){var Lt=Rt.children,Jt=Rt.ignoreDirection,tn=Jt!==void 0&&Jt,an=Rt.size,un=an===void 0?24:an,_n=rt.useContext(dt).direction,bn=!tn&&_n===$.TextDirection.RightToLeft,rn="".concat(un||24,"px");return rt.createElement("svg",{"aria-hidden":"true",className:ct({"rpv-core__icon":!0,"rpv-core__icon--rtl":bn}),focusable:"false",height:rn,viewBox:"0 0 24 24",width:rn},Lt)},ht=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},mt=function(Rt){var Lt=Rt.children,Jt=Rt.testId,tn=Rt.onClick,an=rt.useContext(dt).direction===$.TextDirection.RightToLeft,un=Jt?{"data-testid":Jt}:{};return rt.createElement("button",lt({className:ct({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":an}),type:"button",onClick:tn},un),Lt)},bt=function(Rt){var Lt=Rt.size,Jt=Lt===void 0?"4rem":Lt,tn=Rt.testId,an=rt.useState(!1),un=an[0],_n=an[1],bn=tn?{"data-testid":tn}:{},rn=pt({onVisibilityChanged:function(xn){_n(xn.isVisible)}});return rt.createElement("div",lt({},bn,{className:ct({"rpv-core__spinner":!0,"rpv-core__spinner--animating":un}),ref:rn,style:{height:Jt,width:Jt}}))},xt=function(Rt){var Lt=Rt.ariaLabel,Jt=Lt===void 0?"":Lt,tn=Rt.autoFocus,an=tn!==void 0&&tn,un=Rt.placeholder,_n=un===void 0?"":un,bn=Rt.testId,rn=Rt.type,xn=rn===void 0?"text":rn,vn=Rt.value,Fn=vn===void 0?"":vn,jn=Rt.onChange,Dn=Rt.onKeyDown,Xn=Dn===void 0?function(){}:Dn,Wn=rt.useContext(dt).direction,Vn=rt.useRef(),Rr=Wn===$.TextDirection.RightToLeft,fr={ref:Vn,"data-testid":"","aria-label":Jt,className:ct({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Rr}),placeholder:_n,value:Fn,onChange:function(mr){return jn(mr.target.value)},onKeyDown:Xn};return bn&&(fr["data-testid"]=bn),ft(function(){if(an){var mr=Vn.current;if(mr){var xr=window.scrollX,or=window.scrollY;mr.focus(),window.scrollTo(xr,or)}}},[]),xn==="text"?rt.createElement("input",lt({type:"text"},fr)):rt.createElement("input",lt({type:"password"},fr))};(function(Rt){Rt[Rt.ExitFullScreen=0]="ExitFullScreen",Rt[Rt.FullScreenChange=1]="FullScreenChange",Rt[Rt.FullScreenElement=2]="FullScreenElement",Rt[Rt.FullScreenEnabled=3]="FullScreenEnabled",Rt[Rt.RequestFullScreen=4]="RequestFullScreen"})(ut||(ut={}));var Et,vt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},_t={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},wt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Ct=typeof window<"u",Nt=Ct&&(ut.FullScreenEnabled in document&&vt||_t.FullScreenEnabled in document&&_t||wt.FullScreenEnabled in document&&wt)||vt,kt=function(){return Ct&&Nt.FullScreenEnabled in document&&document[Nt.FullScreenEnabled]===!0},Pt=function(Rt){return Ct?Rt[Nt.ExitFullScreen]():Promise.resolve({})},Dt=function(){return Ct?document[Nt.FullScreenElement]:null},qt=function(Rt,Lt){var Jt=rt.useRef(),tn=function(){Jt.current&&clearTimeout(Jt.current)};return rt.useEffect(function(){return function(){return tn()}},[]),rt.useCallback(function(){for(var an=[],un=0;un<arguments.length;un++)an[un]=arguments[un];tn(),Jt.current=setTimeout(function(){Rt.apply(void 0,an)},Lt)},[Rt,Lt])},zt=function(){var Rt=rt.useRef(!1);return rt.useEffect(function(){return Rt.current=!0,function(){Rt.current=!1}},[]),Rt},jt=function(Rt){var Lt=rt.useRef(Rt);return rt.useEffect(function(){Lt.current=Rt},[Rt]),Lt.current};(function(Rt){Rt.NotRenderedYet="NotRenderedYet",Rt.Rendering="Rendering",Rt.Rendered="Rendered"})(Et||(Et={}));var Ft,Bt=-9999,It=function(Rt){var Lt=Rt.doc,Jt=Lt.numPages,tn=Lt.loadingTask.docId,an=rt.useMemo(function(){return Array(Jt).fill(null).map(function(bn,rn){return{pageIndex:rn,renderStatus:Et.NotRenderedYet,visibility:Bt}})},[tn]),un=rt.useRef({currentRenderingPage:-1,startRange:0,endRange:Jt-1,visibilities:an}),_n=function(bn,rn){un.current.visibilities[bn].visibility=rn};return{getHighestPriorityPage:function(){var bn=un.current.visibilities.slice(un.current.startRange,un.current.endRange+1).filter(function(jn){return jn.visibility>Bt});if(!bn.length)return-1;for(var rn=bn[0].pageIndex,xn=bn[bn.length-1].pageIndex,vn=bn.length,Fn=0;Fn<vn;Fn++){if(bn[Fn].renderStatus===Et.Rendering)return-1;if(bn[Fn].renderStatus===Et.NotRenderedYet)return bn[Fn].pageIndex}return xn+1<Jt&&un.current.visibilities[xn+1].renderStatus!==Et.Rendered?xn+1:rn-1>=0&&un.current.visibilities[rn-1].renderStatus!==Et.Rendered?rn-1:-1},isInRange:function(bn){return bn>=un.current.startRange&&bn<=un.current.endRange},markNotRendered:function(){for(var bn=0;bn<Jt;bn++)un.current.visibilities[bn].renderStatus=Et.NotRenderedYet},markRendered:function(bn){un.current.visibilities[bn].renderStatus=Et.Rendered},markRendering:function(bn){un.current.currentRenderingPage!==-1&&un.current.currentRenderingPage!==bn&&un.current.visibilities[un.current.currentRenderingPage].renderStatus===Et.Rendering&&(un.current.visibilities[un.current.currentRenderingPage].renderStatus=Et.NotRenderedYet),un.current.visibilities[bn].renderStatus=Et.Rendering,un.current.currentRenderingPage=bn},setOutOfRange:function(bn){_n(bn,Bt)},setRange:function(bn,rn){un.current.startRange=bn,un.current.endRange=rn;for(var xn=0;xn<Jt;xn++)(xn<bn||xn>rn)&&(un.current.visibilities[xn].visibility=Bt,un.current.visibilities[xn].renderStatus=Et.NotRenderedYet)},setVisibility:_n}},At={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Yt=rt.createContext({l10n:At,setL10n:function(){}}),Ot=0,yt=function(){return Ot++},Tt=function(Rt,Lt,Jt){var tn=function(an){var un=Lt.current;if(un){var _n=an.target;if(_n instanceof Element&&_n.shadowRoot){var bn=an.composedPath();bn.length>0&&!un.contains(bn[0])&&Jt()}else un.contains(_n)||Jt()}};rt.useEffect(function(){if(Rt){var an={capture:!0};return document.addEventListener("click",tn,an),function(){document.removeEventListener("click",tn,an)}}},[])},$t=function(Rt){var Lt=function(Jt){Jt.key==="Escape"&&Rt()};rt.useEffect(function(){return document.addEventListener("keyup",Lt),function(){document.removeEventListener("keyup",Lt)}},[])},Ut=function(Rt){var Lt=Rt.ariaControlsSuffix,Jt=Rt.children,tn=Rt.closeOnClickOutside,an=Rt.closeOnEscape,un=Rt.onToggle,_n=rt.useRef(),bn=rt.useContext(dt).direction===$.TextDirection.RightToLeft;return rt.useEffect(function(){var rn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=rn}},[]),$t(function(){_n.current&&an&&un()}),Tt(tn,_n,un),ft(function(){var rn=_n.current;if(rn){var xn=.75*document.body.clientHeight;rn.getBoundingClientRect().height>=xn&&(rn.style.overflow="auto",rn.style.maxHeight="".concat(xn,"px"))}},[]),rt.createElement("div",{"aria-modal":"true",className:ct({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":bn}),id:"rpv-core__modal-body-".concat(Lt),ref:_n,role:"dialog",tabIndex:-1},Jt)},Ht=function(Rt){var Lt=Rt.children;return rt.createElement("div",{className:"rpv-core__modal-overlay"},Lt)};$.ToggleStatus=void 0,(Ft=$.ToggleStatus||($.ToggleStatus={})).Close="Close",Ft.Open="Open",Ft.Toggle="Toggle";var Wt,Qt=function(Rt){var Lt=rt.useState(Rt),Jt=Lt[0],tn=Lt[1];return{opened:Jt,toggle:function(an){switch(an){case $.ToggleStatus.Close:tn(!1);break;case $.ToggleStatus.Open:tn(!0);break;case $.ToggleStatus.Toggle:default:tn(function(un){return!un})}}}},mn=function(Rt){var Lt=Rt.content,Jt=Rt.isOpened,tn=Jt!==void 0&&Jt,an=Rt.target,un=Qt(tn),_n=un.opened,bn=un.toggle;return rt.createElement(rt.Fragment,null,an&&an(bn,_n),_n&&Lt(bn))};$.Position=void 0,(Wt=$.Position||($.Position={})).TopLeft="TOP_LEFT",Wt.TopCenter="TOP_CENTER",Wt.TopRight="TOP_RIGHT",Wt.RightTop="RIGHT_TOP",Wt.RightCenter="RIGHT_CENTER",Wt.RightBottom="RIGHT_BOTTOM",Wt.BottomLeft="BOTTOM_LEFT",Wt.BottomCenter="BOTTOM_CENTER",Wt.BottomRight="BOTTOM_RIGHT",Wt.LeftTop="LEFT_TOP",Wt.LeftCenter="LEFT_CENTER",Wt.LeftBottom="LEFT_BOTTOM";var fn,En,kn,Tn,An,sn,dn,Mt,Vt=function(Rt,Lt,Jt,tn,an){ft(function(){var un=Lt.current,_n=Rt.current,bn=Jt.current;if(_n&&un&&bn){var rn=bn.getBoundingClientRect(),xn=function(jn,Dn,Xn,Wn){var Vn=Dn.getBoundingClientRect(),Rr=jn.getBoundingClientRect(),fr=Rr.height,mr=Rr.width,xr=0,or=0;switch(Xn){case $.Position.TopLeft:xr=Vn.top-fr,or=Vn.left;break;case $.Position.TopCenter:xr=Vn.top-fr,or=Vn.left+Vn.width/2-mr/2;break;case $.Position.TopRight:xr=Vn.top-fr,or=Vn.left+Vn.width-mr;break;case $.Position.RightTop:xr=Vn.top,or=Vn.left+Vn.width;break;case $.Position.RightCenter:xr=Vn.top+Vn.height/2-fr/2,or=Vn.left+Vn.width;break;case $.Position.RightBottom:xr=Vn.top+Vn.height-fr,or=Vn.left+Vn.width;break;case $.Position.BottomLeft:xr=Vn.top+Vn.height,or=Vn.left;break;case $.Position.BottomCenter:xr=Vn.top+Vn.height,or=Vn.left+Vn.width/2-mr/2;break;case $.Position.BottomRight:xr=Vn.top+Vn.height,or=Vn.left+Vn.width-mr;break;case $.Position.LeftTop:xr=Vn.top,or=Vn.left-mr;break;case $.Position.LeftCenter:xr=Vn.top+Vn.height/2-fr/2,or=Vn.left-mr;break;case $.Position.LeftBottom:xr=Vn.top+Vn.height-fr,or=Vn.left-mr}return{left:or+(Wn.left||0),top:xr+(Wn.top||0)}}(_n,un,tn,an),vn=xn.top,Fn=xn.left;_n.style.top="".concat(vn-rn.top,"px"),_n.style.left="".concat(Fn-rn.left,"px")}},[])},nn=function(Rt){var Lt,Jt=Rt.customClassName,tn=Rt.position;return rt.createElement("div",{className:ct((Lt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":tn===$.Position.TopLeft,"rpv-core__arrow--tc":tn===$.Position.TopCenter,"rpv-core__arrow--tr":tn===$.Position.TopRight,"rpv-core__arrow--rt":tn===$.Position.RightTop,"rpv-core__arrow--rc":tn===$.Position.RightCenter,"rpv-core__arrow--rb":tn===$.Position.RightBottom,"rpv-core__arrow--bl":tn===$.Position.BottomLeft,"rpv-core__arrow--bc":tn===$.Position.BottomCenter,"rpv-core__arrow--br":tn===$.Position.BottomRight,"rpv-core__arrow--lt":tn===$.Position.LeftTop,"rpv-core__arrow--lc":tn===$.Position.LeftCenter,"rpv-core__arrow--lb":tn===$.Position.LeftBottom},Lt["".concat(Jt)]=Jt!=="",Lt))})},on=function(Rt){var Lt=Rt.ariaControlsSuffix,Jt=Rt.children,tn=Rt.closeOnClickOutside,an=Rt.offset,un=Rt.position,_n=Rt.targetRef,bn=Rt.onClose,rn=rt.useRef(),xn=rt.useRef(),vn=rt.useRef(),Fn=rt.useContext(dt).direction===$.TextDirection.RightToLeft;Tt(tn,rn,bn),Vt(rn,_n,vn,un,an),ft(function(){var Dn=xn.current;if(Dn){var Xn=.75*document.body.clientHeight;Dn.getBoundingClientRect().height>=Xn&&(Dn.style.overflow="auto",Dn.style.maxHeight="".concat(Xn,"px"))}},[]);var jn="rpv-core__popover-body-inner-".concat(Lt);return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:vn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{"aria-describedby":jn,className:ct({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Fn}),id:"rpv-core__popover-body-".concat(Lt),ref:rn,role:"dialog",tabIndex:-1},rt.createElement(nn,{customClassName:"rpv-core__popover-body-arrow",position:un}),rt.createElement("div",{id:jn,ref:xn},Jt)))},yn=function(Rt){var Lt=Rt.closeOnEscape,Jt=Rt.onClose,tn=rt.useRef();return $t(function(){tn.current&&Lt&&Jt()}),rt.createElement("div",{className:"rpv-core__popover-overlay",ref:tn})},Pn=function(Rt){var Lt=Rt.ariaControlsSuffix,Jt=Rt.children,tn=Rt.contentRef,an=Rt.offset,un=Rt.position,_n=Rt.targetRef,bn=rt.useRef(),rn=rt.useContext(dt).direction===$.TextDirection.RightToLeft;return Vt(tn,_n,bn,un,an),rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:bn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{className:ct({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":rn}),id:"rpv-core__tooltip-body-".concat(Lt),ref:tn,role:"tooltip"},rt.createElement(nn,{customClassName:"rpv-core__tooltip-body-arrow",position:un}),rt.createElement("div",{className:"rpv-core__tooltip-body-content"},Jt)))};$.FullScreenMode=void 0,(fn=$.FullScreenMode||($.FullScreenMode={})).Normal="Normal",fn.Entering="Entering",fn.Entered="Entered",fn.EnteredCompletely="EnteredCompletely",fn.Exitting="Exitting",fn.Exited="Exited",$.LayerRenderStatus=void 0,(En=$.LayerRenderStatus||($.LayerRenderStatus={}))[En.PreRender=0]="PreRender",En[En.DidRender=1]="DidRender",$.PageMode=void 0,(kn=$.PageMode||($.PageMode={})).Attachments="UseAttachments",kn.Bookmarks="UseOutlines",kn.ContentGroup="UseOC",kn.Default="UserNone",kn.FullScreen="FullScreen",kn.Thumbnails="UseThumbs",$.PasswordStatus=void 0,(Tn=$.PasswordStatus||($.PasswordStatus={})).RequiredPassword="RequiredPassword",Tn.WrongPassword="WrongPassword",$.RotateDirection=void 0,(An=$.RotateDirection||($.RotateDirection={})).Backward="Backward",An.Forward="Forward",$.ScrollMode=void 0,(sn=$.ScrollMode||($.ScrollMode={})).Page="Page",sn.Horizontal="Horizontal",sn.Vertical="Vertical",sn.Wrapped="Wrapped",$.SpecialZoomLevel=void 0,(dn=$.SpecialZoomLevel||($.SpecialZoomLevel={})).ActualSize="ActualSize",dn.PageFit="PageFit",dn.PageWidth="PageWidth",$.ViewMode=void 0,(Mt=$.ViewMode||($.ViewMode={})).DualPage="DualPage",Mt.DualPageWithCover="DualPageWithCover",Mt.SinglePage="SinglePage";var Nn,cn=function(Rt,Lt){return Rt.reduce(function(Jt,tn,an){return an%Lt?Jt[Jt.length-1].push(tn):Jt.push([tn]),Jt},[])},Kt=function(Rt,Lt){switch(Lt[1].name){case"XYZ":return{bottomOffset:function(Jt,tn){return Lt[3]===null?tn:Lt[3]},leftOffset:function(Jt,tn){return Lt[2]===null?0:Lt[2]},pageIndex:Rt,scaleTo:Lt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Rt,scaleTo:$.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Lt[2],leftOffset:0,pageIndex:Rt,scaleTo:$.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Rt,scaleTo:1}}},en=new Map,$n=new Map,Ln=function(Rt,Lt){return"".concat(Rt.loadingTask.docId,"___").concat(Lt.num,"R").concat(Lt.gen===0?"":Lt.gen)},qn=function(Rt,Lt,Jt){en.set(Ln(Rt,Lt),Jt)},zn=function(Rt,Lt){if(!Rt)return Promise.reject("The document is not loaded yet");var Jt="".concat(Rt.loadingTask.docId,"___").concat(Lt),tn=$n.get(Jt);return tn?Promise.resolve(tn):new Promise(function(an,un){Rt.getPage(Lt+1).then(function(_n){$n.set(Jt,_n),_n.ref&&qn(Rt,_n.ref,Lt),an(_n)})})},Zn=function(Rt,Lt){return new Promise(function(Jt){new Promise(function(tn){typeof Lt=="string"?Rt.getDestination(Lt).then(function(an){tn(an)}):tn(Lt)}).then(function(tn){if(typeof tn[0]=="object"&&tn[0]!==null){var an=tn[0],un=function(bn,rn){var xn=Ln(bn,rn);return en.has(xn)?en.get(xn):null}(Rt,an);un===null?Rt.getPageIndex(an).then(function(bn){qn(Rt,an,bn),Zn(Rt,Lt).then(function(rn){return Jt(rn)})}):Jt(Kt(un,tn))}else{var _n=Kt(tn[0],tn);Jt(_n)}})})};(function(Rt){Rt[Rt.Solid=1]="Solid",Rt[Rt.Dashed=2]="Dashed",Rt[Rt.Beveled=3]="Beveled",Rt[Rt.Inset=4]="Inset",Rt[Rt.Underline=5]="Underline"})(Nn||(Nn={}));var cr,Pr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),In=function(Rt,Lt,Jt,tn){var an=parseInt(Rt,10);return an>=Lt&&an<=Jt?an:tn},hn=function(Rt){return Rt.contentsObj?Rt.contentsObj.str:Rt.contents||""},gn=function(Rt){return Rt.titleObj?Rt.titleObj.str:Rt.title||""},Kn=function(Rt){var Lt=Rt.annotation,Jt=rt.useContext(dt).direction,tn=gn(Lt),an=hn(Lt),un=Jt===$.TextDirection.RightToLeft,_n=rt.useRef(),bn="";if(Lt.modificationDate){var rn=function(xn){var vn=Pr.exec(xn);if(!vn)return null;var Fn=parseInt(vn[1],10),jn=In(vn[2],1,12,1)-1,Dn=In(vn[3],1,31,1),Xn=In(vn[4],0,23,0),Wn=In(vn[5],0,59,0),Vn=In(vn[6],0,59,0),Rr=vn[7]||"Z",fr=In(vn[8],0,23,0),mr=In(vn[9],0,59,0);switch(Rr){case"-":Xn+=fr,Wn+=mr;break;case"+":Xn-=fr,Wn-=mr}return new Date(Date.UTC(Fn,jn,Dn,Xn,Wn,Vn))}(Lt.modificationDate);bn=rn?"".concat(rn.toLocaleDateString(),", ").concat(rn.toLocaleTimeString()):""}return rt.useLayoutEffect(function(){if(_n.current){var xn=document.querySelector('[data-annotation-id="'.concat(Lt.id,'"]'));if(xn){var vn=xn;return vn.style.zIndex+=1,function(){vn.style.zIndex="".concat(parseInt(vn.style.zIndex,10)-1)}}}},[]),rt.createElement("div",{ref:_n,className:ct({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":un}),style:{top:Lt.annotationType===$.AnnotationType.Popup?"":"100%"}},tn&&rt.createElement(rt.Fragment,null,rt.createElement("div",{className:ct({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!un,"rpv-core__annotation-popup-title--rtl":un})},tn),rt.createElement("div",{className:"rpv-core__annotation-popup-date"},bn)),an&&rt.createElement("div",{className:"rpv-core__annotation-popup-content"},an.split(`
`).map(function(xn,vn){return rt.createElement(rt.Fragment,{key:vn},xn,rt.createElement("br",null))})))};(function(Rt){Rt.Click="Click",Rt.Hover="Hover"})(cr||(cr={}));var er,ur=function(Rt){var Lt,Jt=Rt.annotation,tn=Rt.children,an=Rt.ignoreBorder,un=Rt.hasPopup,_n=Rt.isRenderable,bn=Rt.page,rn=Rt.viewport,xn=Jt.rect,vn=function(){var yr=Qt(!1),Lr=yr.opened,Or=yr.toggle,Dr=rt.useState(cr.Hover),jr=Dr[0],Ur=Dr[1];return{opened:Lr,closeOnHover:function(){jr===cr.Hover&&Or($.ToggleStatus.Close)},openOnHover:function(){jr===cr.Hover&&Or($.ToggleStatus.Open)},toggleOnClick:function(){switch(jr){case cr.Click:Lr&&Ur(cr.Hover),Or($.ToggleStatus.Toggle);break;case cr.Hover:Ur(cr.Click),Or($.ToggleStatus.Open)}}}}(),Fn=vn.closeOnHover,jn=vn.opened,Dn=vn.openOnHover,Xn=vn.toggleOnClick,Wn=(Lt=[xn[0],bn.view[3]+bn.view[1]-xn[1],xn[2],bn.view[3]+bn.view[1]-xn[3]],[Math.min(Lt[0],Lt[2]),Math.min(Lt[1],Lt[3]),Math.max(Lt[0],Lt[2]),Math.max(Lt[1],Lt[3])]),Vn=xn[2]-xn[0],Rr=xn[3]-xn[1],fr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!an&&Jt.borderStyle.width>0){switch(Jt.borderStyle.style){case Nn.Dashed:fr.borderStyle="dashed";break;case Nn.Solid:fr.borderStyle="solid";break;case Nn.Underline:fr=Object.assign({borderBottomStyle:"solid"},fr);case Nn.Beveled:case Nn.Inset:}var mr=Jt.borderStyle.width;fr.borderWidth="".concat(mr,"px"),Jt.borderStyle.style!==Nn.Underline&&(Vn-=2*mr,Rr-=2*mr);var xr=Jt.borderStyle,or=xr.horizontalCornerRadius,_r=xr.verticalCornerRadius;(or>0||_r>0)&&(fr.borderRadius="".concat(or,"px / ").concat(_r,"px")),Jt.color?fr.borderColor="rgb(".concat(0|Jt.color[0],", ").concat(0|Jt.color[1],", ").concat(0|Jt.color[2],")"):fr.borderWidth="0"}return rt.createElement(rt.Fragment,null,_n&&tn({popup:{opened:jn,closeOnHover:Fn,openOnHover:Dn,toggleOnClick:Xn},slot:{attrs:{style:Object.assign({height:"".concat(Rr,"px"),left:"".concat(Wn[0],"px"),top:"".concat(Wn[1],"px"),transform:"matrix(".concat(rn.transform.join(","),")"),transformOrigin:"-".concat(Wn[0],"px -").concat(Wn[1],"px"),width:"".concat(Vn,"px")},fr)},children:rt.createElement(rt.Fragment,null,un&&jn&&rt.createElement(Kn,{annotation:Jt}))}}))},Zt=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n);return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},Mn=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n),rn=Lt.rect,xn=rn[2]-rn[0],vn=rn[3]-rn[1],Fn=Lt.borderStyle.width;return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(jn){return rt.createElement("div",lt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Lt.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(xn," ").concat(vn),width:"".concat(xn,"px")},rt.createElement("circle",{cy:vn/2,fill:"none",rx:xn/2-Fn/2,ry:vn/2-Fn/2,stroke:"transparent",strokeWidth:Fn||1})),jn.slot.children)})},Hn=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=gn(Lt),un=hn(Lt),_n=!(Lt.hasPopup!==!1||!an&&!un),bn=function(){var rn,xn,vn,Fn,jn=Lt.file;jn&&(rn=jn.filename,xn=jn.content,vn=typeof xn=="string"?"":URL.createObjectURL(new Blob([xn],{type:""})),(Fn=document.createElement("a")).style.display="none",Fn.href=vn||rn,Fn.setAttribute("download",function(Dn){var Xn=Dn.split("/").pop();return Xn?Xn.split("#")[0].split("?")[0]:Dn}(rn)),document.body.appendChild(Fn),Fn.click(),document.body.removeChild(Fn),vn&&URL.revokeObjectURL(vn))};return rt.createElement(ur,{annotation:Lt,hasPopup:_n,ignoreBorder:!0,isRenderable:!0,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onDoubleClick:bn,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},tr=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n);return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},ir=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=gn(Lt),un=hn(Lt),_n=!(!an&&!un),bn=!Lt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Lt.parentType)!==-1;return ft(function(){if(Lt.parentId){var rn=document.querySelector('[data-annotation-id="'.concat(Lt.parentId,'"]')),xn=document.querySelector('[data-annotation-id="'.concat(Lt.id,'"]'));if(rn&&xn){var vn=parseFloat(rn.style.left),Fn=parseFloat(rn.style.top)+parseFloat(rn.style.height);xn.style.left="".concat(vn,"px"),xn.style.top="".concat(Fn,"px"),xn.style.transformOrigin="-".concat(vn,"px -").concat(Fn,"px")}}},[]),rt.createElement(ur,{annotation:Lt,hasPopup:bn,ignoreBorder:!1,isRenderable:_n,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Lt.id}),rt.createElement(Kn,{annotation:Lt}))})},Yn=function(Rt){var Lt=Rt.annotation,Jt=Rt.childAnnotation,tn=Rt.page,an=Rt.viewport,un=Lt.hasPopup===!1,_n=gn(Lt),bn=hn(Lt),rn=!!(Lt.hasPopup||_n||bn);if(Lt.quadPoints&&Lt.quadPoints.length>0){var xn=Lt.quadPoints.map(function(vn){return Object.assign({},Lt,{rect:[vn[2].x,vn[2].y,vn[1].x,vn[1].y],quadPoints:[]})});return rt.createElement(rt.Fragment,null,xn.map(function(vn,Fn){return rt.createElement(Yn,{key:Fn,annotation:vn,childAnnotation:Jt,page:tn,viewport:an})}))}return rt.createElement(ur,{annotation:Lt,hasPopup:un,ignoreBorder:!0,isRenderable:rn,page:tn,viewport:an},function(vn){return rt.createElement(rt.Fragment,null,rt.createElement("div",lt({},vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Lt.id,onClick:vn.popup.toggleOnClick,onMouseEnter:vn.popup.openOnHover,onMouseLeave:vn.popup.closeOnHover}),vn.slot.children),Jt&&Jt.annotationType===$.AnnotationType.Popup&&vn.popup.opened&&rt.createElement(ir,{annotation:Jt,page:tn,viewport:an}))})},Xt=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n),rn=Lt.rect,xn=rn[2]-rn[0],vn=rn[3]-rn[1],Fn=Lt.borderStyle.width;return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(jn){return rt.createElement("div",lt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Lt.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),Lt.inkLists&&Lt.inkLists.length&&rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(xn," ").concat(vn),width:"".concat(xn,"px")},Lt.inkLists.map(function(Dn,Xn){return rt.createElement("polyline",{key:Xn,fill:"none",stroke:"transparent",strokeWidth:Fn||1,points:Dn.map(function(Wn){return"".concat(Wn.x-rn[0],",").concat(rn[3]-Wn.y)}).join(" ")})})),jn.slot.children)})},Gt=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n),rn=Lt.rect,xn=rn[2]-rn[0],vn=rn[3]-rn[1],Fn=Lt.borderStyle.width;return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(jn){return rt.createElement("div",lt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Lt.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(xn," ").concat(vn),width:"".concat(xn,"px")},rt.createElement("line",{stroke:"transparent",strokeWidth:Fn||1,x1:rn[2]-Lt.lineCoordinates[0],x2:rn[2]-Lt.lineCoordinates[2],y1:rn[3]-Lt.lineCoordinates[1],y2:rn[3]-Lt.lineCoordinates[3]})),jn.slot.children)})},ln=/^([^\w]*)(javascript|data|vbscript)/im,Cn=/&#(\w+)(^\w|;)?/g,Rn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,On=/^([^:]+):/gm,Bn=function(Rt,Lt){var Jt,tn=(Jt=Rt||"",Jt.replace(Cn,function(bn,rn){return String.fromCharCode(rn)})).replace(Rn,"").trim();if(!tn)return Lt;var an=tn[0];if(an==="."||an==="/")return tn;var un=tn.match(On);if(!un)return tn;var _n=un[0];return ln.test(_n)?Lt:tn},nr=function(Rt){var Lt,Jt=Rt.annotation,tn=Rt.annotationContainerRef,an=Rt.doc,un=Rt.outlines,_n=Rt.page,bn=Rt.pageIndex,rn=Rt.scale,xn=Rt.viewport,vn=Rt.onExecuteNamedAction,Fn=Rt.onJumpFromLinkAnnotation,jn=Rt.onJumpToDest,Dn=rt.useRef(),Xn=un&&un.length&&Jt.dest&&typeof Jt.dest=="string"?(Lt=un.find(function(fr){return fr.dest===Jt.dest}))===null||Lt===void 0?void 0:Lt.title:"",Wn=!!(Jt.url||Jt.dest||Jt.action||Jt.unsafeUrl),Vn={};if(Jt.url||Jt.unsafeUrl){var Rr=Bn(Jt.url||Jt.unsafeUrl,"");Rr?Vn={"data-target":"external",href:Rr,rel:"noopener noreferrer nofollow",target:Jt.newWindow?"_blank":"",title:Rr}:Wn=!1}else Vn={href:"","data-annotation-link":Jt.id,onClick:function(fr){fr.preventDefault(),Jt.action?vn(Jt.action):Zn(an,Jt.dest).then(function(mr){var xr=Dn.current,or=tn.current;if(xr&&or){var _r=xr.getBoundingClientRect();or.style.setProperty("height","100%"),or.style.setProperty("width","100%");var yr=or.getBoundingClientRect();or.style.removeProperty("height"),or.style.removeProperty("width");var Lr=(_r.left-yr.left)/rn,Or=(yr.bottom-_r.bottom+_r.height)/rn;Fn({bottomOffset:Or,label:Xn,leftOffset:Lr,pageIndex:bn})}jn(mr)})}};return Xn&&(Vn=Object.assign({},Vn,{title:Xn,"aria-label":Xn})),rt.createElement(ur,{annotation:Jt,hasPopup:!1,ignoreBorder:!1,isRenderable:Wn,page:_n,viewport:xn},function(fr){return rt.createElement("div",lt({},fr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Jt.id,"data-testid":"core__annotation--link-".concat(Jt.id)}),rt.createElement("a",lt({ref:Dn},Vn)))})},Jn=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n),rn=Lt.rect,xn=rn[2]-rn[0],vn=rn[3]-rn[1],Fn=Lt.borderStyle.width;return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(jn){return rt.createElement("div",lt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Lt.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),Lt.vertices&&Lt.vertices.length&&rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(xn," ").concat(vn),width:"".concat(xn,"px")},rt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Fn||1,points:Lt.vertices.map(function(Dn){return"".concat(Dn.x-rn[0],",").concat(rn[3]-Dn.y)}).join(" ")})),jn.slot.children)})},Gn=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n),rn=Lt.rect,xn=rn[2]-rn[0],vn=rn[3]-rn[1],Fn=Lt.borderStyle.width;return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(jn){return rt.createElement("div",lt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Lt.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),Lt.vertices&&Lt.vertices.length&&rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(xn," ").concat(vn),width:"".concat(xn,"px")},rt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Fn||1,points:Lt.vertices.map(function(Dn){return"".concat(Dn.x-rn[0],",").concat(rn[3]-Dn.y)}).join(" ")})),jn.slot.children)})},Er=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n),rn=Lt.rect,xn=rn[2]-rn[0],vn=rn[3]-rn[1],Fn=Lt.borderStyle.width;return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(jn){return rt.createElement("div",lt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Lt.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(vn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(xn," ").concat(vn),width:"".concat(xn,"px")},rt.createElement("rect",{height:vn-Fn,fill:"none",stroke:"transparent",strokeWidth:Fn||1,x:Fn/2,y:Fn/2,width:xn-Fn})),jn.slot.children)})},Qn=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n);return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},sr=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n);return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},pr=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n);return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},Sr=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),rt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),rt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),rt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Mr=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),rt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),rt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),rt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),rt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),rt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),rt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),rt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),rt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),rt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Br=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),rt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},rs=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),rt.createElement("path",{d:"M6 4.5L6 0.5"}),rt.createElement("path",{d:"M18 4.5L18 0.5"}),rt.createElement("path",{d:"M10 4.5L10 0.5"}),rt.createElement("path",{d:"M14 4.5L14 0.5"}))},Zr=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),rt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),rt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ps=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},gs=function(Rt){var Lt=Rt.annotation,Jt=Rt.childAnnotation,tn=Rt.page,an=Rt.viewport,un=Lt.hasPopup===!1,_n=gn(Lt),bn=hn(Lt),rn=!!(Lt.hasPopup||_n||bn),xn=Lt.name?Lt.name.toLowerCase():"";return rt.createElement(ur,{annotation:Lt,hasPopup:un,ignoreBorder:!1,isRenderable:rn,page:tn,viewport:an},function(vn){return rt.createElement(rt.Fragment,null,rt.createElement("div",lt({},vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Lt.id,onClick:vn.popup.toggleOnClick,onMouseEnter:vn.popup.openOnHover,onMouseLeave:vn.popup.closeOnHover}),xn&&rt.createElement("div",{className:"rpv-core__annotation-text-icon"},xn==="check"&&rt.createElement(ht,null),xn==="comment"&&rt.createElement(Sr,null),xn==="help"&&rt.createElement(Mr,null),xn==="insert"&&rt.createElement(ps,null),xn==="key"&&rt.createElement(Br,null),xn==="note"&&rt.createElement(rs,null),(xn==="newparagraph"||xn==="paragraph")&&rt.createElement(Zr,null)),vn.slot.children),Jt&&Jt.annotationType===$.AnnotationType.Popup&&vn.popup.opened&&rt.createElement(ir,{annotation:Jt,page:tn,viewport:an}))})},bs=function(Rt){var Lt=Rt.annotation,Jt=Rt.page,tn=Rt.viewport,an=Lt.hasPopup===!1,un=gn(Lt),_n=hn(Lt),bn=!!(Lt.hasPopup||un||_n);return rt.createElement(ur,{annotation:Lt,hasPopup:an,ignoreBorder:!0,isRenderable:bn,page:Jt,viewport:tn},function(rn){return rt.createElement("div",lt({},rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Lt.id,onClick:rn.popup.toggleOnClick,onMouseEnter:rn.popup.openOnHover,onMouseLeave:rn.popup.closeOnHover}),rn.slot.children)})},Ks=function(Rt){var Lt=Rt.annotations,Jt=Rt.doc,tn=Rt.outlines,an=Rt.page,un=Rt.pageIndex,_n=Rt.plugins,bn=Rt.rotation,rn=Rt.scale,xn=Rt.onExecuteNamedAction,vn=Rt.onJumpFromLinkAnnotation,Fn=Rt.onJumpToDest,jn=rt.useRef(),Dn=an.getViewport({rotation:bn,scale:rn}).clone({dontFlip:!0}),Xn=Lt.filter(function(Wn){return!Wn.parentId});return ft(function(){var Wn=jn.current;Wn&&_n.forEach(function(Vn){Vn.onAnnotationLayerRender&&Vn.onAnnotationLayerRender({annotations:Xn,container:Wn,pageIndex:un,rotation:bn,scale:rn})})},[]),rt.createElement("div",{ref:jn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(un)},Xn.map(function(Wn){var Vn=Lt.find(function(Rr){return Rr.parentId===Wn.id});switch(Wn.annotationType){case $.AnnotationType.Caret:return rt.createElement(Zt,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Circle:return rt.createElement(Mn,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.FileAttachment:return rt.createElement(Hn,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.FreeText:return rt.createElement(tr,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Highlight:return rt.createElement(Yn,{key:Wn.id,annotation:Wn,childAnnotation:Vn,page:an,viewport:Dn});case $.AnnotationType.Ink:return rt.createElement(Xt,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Line:return rt.createElement(Gt,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Link:return rt.createElement(nr,{key:Wn.id,annotation:Wn,annotationContainerRef:jn,doc:Jt,outlines:tn,page:an,pageIndex:un,scale:rn,viewport:Dn,onExecuteNamedAction:xn,onJumpFromLinkAnnotation:vn,onJumpToDest:Fn});case $.AnnotationType.Polygon:return rt.createElement(Jn,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Polyline:return rt.createElement(Gn,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Popup:return rt.createElement(ir,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Square:return rt.createElement(Er,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Squiggly:return rt.createElement(Qn,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Stamp:return rt.createElement(sr,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.StrikeOut:return rt.createElement(pr,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});case $.AnnotationType.Text:return rt.createElement(gs,{key:Wn.id,annotation:Wn,childAnnotation:Vn,page:an,viewport:Dn});case $.AnnotationType.Underline:return rt.createElement(bs,{key:Wn.id,annotation:Wn,page:an,viewport:Dn});default:return rt.createElement(rt.Fragment,{key:Wn.id})}}))},ku=function(Rt){var Lt=Rt.page,Jt=Rt.renderAnnotations,tn=zt(),an=rt.useState({loading:!0,annotations:[]}),un=an[0],_n=an[1];return rt.useEffect(function(){Lt.getAnnotations({intent:"display"}).then(function(bn){tn.current&&_n({loading:!1,annotations:bn})})},[]),un.loading?rt.createElement(rt.Fragment,null):Jt(un.annotations)},Cu=function(Rt){var Lt=Rt.doc,Jt=Rt.outlines,tn=Rt.page,an=Rt.pageIndex,un=Rt.plugins,_n=Rt.rotation,bn=Rt.scale,rn=Rt.onExecuteNamedAction,xn=Rt.onJumpFromLinkAnnotation,vn=Rt.onJumpToDest;return rt.createElement(ku,{page:tn,renderAnnotations:function(Fn){return rt.createElement(Ks,{annotations:Fn,doc:Lt,outlines:Jt,page:tn,pageIndex:an,plugins:un,rotation:_n,scale:bn,onExecuteNamedAction:rn,onJumpFromLinkAnnotation:xn,onJumpToDest:vn})}})},qs=function(Rt,Lt){var Jt=Rt%Lt;return Jt===0?Rt:Math.floor(Rt-Jt)},Au=function(Rt){var Lt=Rt.canvasLayerRef,Jt=Rt.height,tn=Rt.page,an=Rt.pageIndex,un=Rt.plugins,_n=Rt.rotation,bn=Rt.scale,rn=Rt.width,xn=Rt.onRenderCanvasCompleted,vn=rt.useRef();return ft(function(){var Fn=vn.current;Fn&&Fn.cancel();var jn=Lt.current;jn.removeAttribute("data-testid"),un.forEach(function(yr){yr.onCanvasLayerRender&&yr.onCanvasLayerRender({ele:jn,pageIndex:an,rotation:_n,scale:bn,status:$.LayerRenderStatus.PreRender})});var Dn=tn.getViewport({rotation:_n,scale:bn}),Xn=window.devicePixelRatio||1,Wn=Math.sqrt(16777216/(Dn.width*Dn.height)),Vn=Xn>Wn;Vn?jn.style.transform="scale(1, 1)":jn.style.removeProperty("transform");var Rr=Math.min(Wn,Xn),fr=function(yr,Lr){var Or,Dr;if(Math.floor(yr)===yr)return[yr,1];var jr=1/yr;if(jr>Lr)return[1,Lr];if(Math.floor(jr)===jr)return[1,jr];for(var Ur=yr>1?jr:yr,ts=0,Xr=1,ns=1,Jr=1;;){var _i=ts+ns,es=Xr+Jr;if(es>Lr)break;Ur<=_i/es?(ns=(Or=[_i,es])[0],Jr=Or[1]):(ts=(Dr=[_i,es])[0],Xr=Dr[1])}return Ur<(ts/Xr+ns/Jr)/2?Ur===yr?[ts,Xr]:[Xr,ts]:Ur===yr?[ns,Jr]:[Jr,ns]}(Rr,8),mr=fr[0],xr=fr[1];jn.width=qs(Dn.width*Rr,mr),jn.height=qs(Dn.height*Rr,mr),jn.style.width="".concat(qs(Dn.width,xr),"px"),jn.style.height="".concat(qs(Dn.height,xr),"px"),jn.hidden=!0;var or=jn.getContext("2d",{alpha:!1}),_r=Vn||Xn!==1?[Rr,0,0,Rr,0,0]:null;return vn.current=tn.render({canvasContext:or,transform:_r,viewport:Dn}),vn.current.promise.then(function(){jn.hidden=!1,jn.setAttribute("data-testid","core__canvas-layer-".concat(an)),un.forEach(function(yr){yr.onCanvasLayerRender&&yr.onCanvasLayerRender({ele:jn,pageIndex:an,rotation:_n,scale:bn,status:$.LayerRenderStatus.DidRender})}),xn()},function(){xn()}),function(){jn&&(jn.width=0,jn.height=0)}},[]),rt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Jt,"px"),width:"".concat(rn,"px")}},rt.createElement("canvas",{ref:Lt}))},Tu=function(Rt){var Lt=Rt.height,Jt=Rt.page,tn=Rt.rotation,an=Rt.scale,un=Rt.width,_n=rt.useRef();return ft(function(){var bn=_n.current,rn=Jt.getViewport({rotation:tn,scale:an});Jt.getOperatorList().then(function(xn){(function(){var vn=_n.current;vn&&(vn.innerHTML="")})(),new it.SVGGraphics(Jt.commonObjs,Jt.objs).getSVG(xn,rn).then(function(vn){vn.style.height="".concat(Lt,"px"),vn.style.width="".concat(un,"px"),bn.appendChild(vn)})})},[]),rt.createElement("div",{className:"rpv-core__svg-layer",ref:_n})},Ru=function(Rt){var Lt=Rt.containerRef,Jt=Rt.page,tn=Rt.pageIndex,an=Rt.plugins,un=Rt.rotation,_n=Rt.scale,bn=Rt.onRenderTextCompleted,rn=rt.useRef(),xn=function(){var vn=Lt.current;vn&&([].slice.call(vn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Fn){return vn.removeChild(Fn)}),[].slice.call(vn.querySelectorAll('br[role="presentation"]')).forEach(function(Fn){return vn.removeChild(Fn)}))};return ft(function(){var vn=rn.current;vn&&vn.cancel();var Fn=Lt.current;if(Fn){Fn.removeAttribute("data-testid");var jn=Jt.getViewport({rotation:un,scale:_n});return an.forEach(function(Dn){Dn.onTextLayerRender&&Dn.onTextLayerRender({ele:Fn,pageIndex:tn,scale:_n,status:$.LayerRenderStatus.PreRender})}),Jt.getTextContent().then(function(Dn){xn(),rn.current=it.renderTextLayer({container:Fn,textContent:Dn,textContentSource:Dn,viewport:jn}),rn.current.promise.then(function(){Fn.setAttribute("data-testid","core__text-layer-".concat(tn)),[].slice.call(Fn.children).forEach(function(Xn){Xn.classList.contains("rpv-core__text-layer-text--not")||Xn.classList.add("rpv-core__text-layer-text")}),an.forEach(function(Xn){Xn.onTextLayerRender&&Xn.onTextLayerRender({ele:Fn,pageIndex:tn,scale:_n,status:$.LayerRenderStatus.DidRender})}),bn()},function(){Fn.removeAttribute("data-testid"),bn()})}),function(){var Dn;xn(),(Dn=rn.current)===null||Dn===void 0||Dn.cancel()}}},[]),rt.createElement("div",{className:"rpv-core__text-layer",ref:Lt})},Pu=function(Rt){var Lt=Rt.doc,Jt=Rt.measureRef,tn=Rt.outlines,an=Rt.pageIndex,un=Rt.pageRotation,_n=Rt.pageSize,bn=Rt.plugins,rn=Rt.renderPage,xn=Rt.renderQueueKey,vn=Rt.rotation,Fn=Rt.scale,jn=Rt.shouldRender,Dn=Rt.viewMode,Xn=Rt.onExecuteNamedAction,Wn=Rt.onJumpFromLinkAnnotation,Vn=Rt.onJumpToDest,Rr=Rt.onRenderCompleted,fr=Rt.onRotatePage,mr=zt(),xr=rt.useState(null),or=xr[0],_r=xr[1],yr=rt.useState(!1),Lr=yr[0],Or=yr[1],Dr=rt.useState(!1),jr=Dr[0],Ur=Dr[1],ts=rt.useRef(),Xr=rt.useRef(),ns=Math.abs(vn+un)%180==0,Jr=_n.pageWidth*Fn,_i=_n.pageHeight*Fn,es=ns?Jr:_i,Qr=ns?_i:Jr,cs=(_n.rotation+vn+un)%360,ys=rt.useRef(0),ms=rn||function(os){return rt.createElement(rt.Fragment,null,os.canvasLayer.children,os.textLayer.children,os.annotationLayer.children)};return rt.useEffect(function(){_r(null),Or(!1),Ur(!1)},[un,vn,Fn]),rt.useEffect(function(){jn&&mr.current&&!or&&zn(Lt,an).then(function(os){mr.current&&(ys.current=xn,_r(os))})},[jn,or]),rt.useEffect(function(){Lr&&jr&&(xn!==ys.current?(_r(null),Or(!1),Ur(!1)):Rr(an))},[Lr,jr]),rt.createElement("div",{className:ct({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Dn===$.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Dn===$.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Dn===$.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(an),ref:Jt,style:{height:"".concat(Qr,"px"),width:"".concat(es,"px")}},or?rt.createElement(rt.Fragment,null,ms({annotationLayer:{attrs:{},children:rt.createElement(Cu,{doc:Lt,outlines:tn,page:or,pageIndex:an,plugins:bn,rotation:cs,scale:Fn,onExecuteNamedAction:Xn,onJumpFromLinkAnnotation:Wn,onJumpToDest:Vn})},canvasLayer:{attrs:{},children:rt.createElement(Au,{canvasLayerRef:ts,height:Qr,page:or,pageIndex:an,plugins:bn,rotation:cs,scale:Fn,width:es,onRenderCanvasCompleted:function(){mr.current&&Or(!0)}})},canvasLayerRendered:Lr,doc:Lt,height:Qr,pageIndex:an,rotation:cs,scale:Fn,svgLayer:{attrs:{},children:rt.createElement(Tu,{height:Qr,page:or,rotation:cs,scale:Fn,width:es})},textLayer:{attrs:{},children:rt.createElement(Ru,{containerRef:Xr,page:or,pageIndex:an,plugins:bn,rotation:cs,scale:Fn,onRenderTextCompleted:function(){mr.current&&Ur(!0)}})},textLayerRendered:jr,width:es,markRendered:Rr,onRotatePage:function(os){return fr(an,os)}}),bn.map(function(os,us){return os.renderPageLayer?rt.createElement(rt.Fragment,{key:us},os.renderPageLayer({canvasLayerRef:ts,canvasLayerRendered:Lr,doc:Lt,height:Qr,pageIndex:an,rotation:cs,scale:Fn,textLayerRef:Xr,textLayerRendered:jr,width:es})):rt.createElement(rt.Fragment,{key:us})})):rt.createElement(bt,{testId:"core__page-layer-loading-".concat(an)}))},Nu=function(Rt,Lt){var Jt=Lt.rect;return Rt.height!==Jt.height||Rt.width!==Jt.width?Jt:Rt};(function(Rt){Rt.Horizontal="Horizontal",Rt.Vertical="Vertical",Rt.Both="Both"})(er||(er={}));var Mu=function(Rt){return 1-Math.pow(1-Rt,4)},Xs=1e-4,Sl={left:0,top:0},Cl={capture:!1,passive:!0},Iu=function(Rt){var Lt=Rt.elementRef,Jt=Rt.enableSmoothScroll,tn=Rt.isRtl,an=Rt.scrollDirection,un=Rt.onSmoothScroll,_n=rt.useState(Sl),bn=_n[0],rn=_n[1],xn=rt.useState(Lt.current),vn=xn[0],Fn=xn[1],jn=tn?-1:1,Dn=rt.useRef(an);Dn.current=an;var Xn=rt.useRef(Sl),Wn=rt.useRef(!0),Vn=rt.useCallback(function(){Wn.current=!0,Jt&&rn(Xn.current),un(!1)},[]),Rr=rt.useCallback(function(){if(vn){switch(Dn.current){case er.Horizontal:Xn.current={left:jn*vn.scrollLeft,top:0};break;case er.Both:Xn.current={left:jn*vn.scrollLeft,top:vn.scrollTop};break;case er.Vertical:default:Xn.current={left:0,top:vn.scrollTop}}Jt&&!Wn.current||rn(Xn.current)}},[vn]);ft(function(){Fn(Lt.current)}),ft(function(){if(vn)return vn.addEventListener("scroll",Rr,Cl),function(){vn.removeEventListener("scroll",Rr,Cl)}},[vn]);var fr=rt.useCallback(function(mr,xr){var or=Lt.current;if(!or)return Promise.resolve();var _r={left:0,top:0};switch(Dn.current){case er.Horizontal:_r.left=jn*mr.left;break;case er.Both:_r.left=jn*mr.left,_r.top=mr.top;break;case er.Vertical:default:_r.top=mr.top}return xr?(Wn.current=!1,un(!0),new Promise(function(yr,Lr){(function(Or,Dr,jr,Ur,ts,Xr){ts===void 0&&(ts=function(us){return us}),Xr===void 0&&(Xr=function(){});var ns=0,Jr=0,_i=!1;switch(Dr){case er.Horizontal:Jr=Or.scrollLeft,ns=0;case er.Both:Jr=Or.scrollLeft,ns=Or.scrollTop;break;case er.Vertical:default:Jr=0,ns=Or.scrollTop}var es=function(){_i||(_i=!0,Or.scrollLeft=jr.left,Or.scrollTop=jr.top,Xr())};if(Math.abs(ns-jr.top)<=Xs&&Dr===er.Vertical)es();else if(Math.abs(Jr-jr.left)<=Xs&&Dr===er.Horizontal)es();else{var Qr,cs=-1,ys=Jr-jr.left,ms=ns-jr.top,os=function(us){cs===-1&&(cs=us);var vs=us-cs,vr=Math.min(vs/Ur,1),gr=ts(vr),ar={left:Jr-ys*gr,top:ns-ms*gr};switch(Dr){case er.Horizontal:Or.scrollLeft=ar.left;break;case er.Both:Or.scrollLeft=ar.left,Or.scrollTop=ar.top;break;case er.Vertical:default:Or.scrollTop=ar.top}Math.abs(ar.top-jr.top)<=Xs&&Math.abs(ar.left-jr.left)<=Xs&&!_i&&(window.cancelAnimationFrame(Qr),es()),vs<Ur?Qr=window.requestAnimationFrame(os):window.cancelAnimationFrame(Qr)};Qr=window.requestAnimationFrame(os)}})(or,Dn.current,_r,400,Mu,function(){Vn(),yr()})})):new Promise(function(yr,Lr){switch(Dn.current){case er.Horizontal:or.scrollLeft=_r.left;break;case er.Both:or.scrollLeft=_r.left,or.scrollTop=_r.top;break;case er.Vertical:default:or.scrollTop=_r.top}yr()})},[Lt]);return{scrollOffset:bn,scrollTo:fr}},Ds=function(Rt,Lt,Jt){return Math.max(Rt,Math.min(Jt,Lt))},$u=function(Rt,Lt){if(Lt!==$.ViewMode.DualPageWithCover)return 0;if(!function(an){var un=an.length;if(un===1)return!1;for(var _n=1;_n<un;_n++)if(an[_n].height!==an[0].height||an[_n].width!==an[0].width)return!0;return!1}(Rt))return 2*Rt[0].width;var Jt=cn(Rt.slice(1),2).map(function(an){return an.length===2?an[0].width+an[1].width:an[0].width}),tn=[Rt[0].width].concat(Jt);return Math.max.apply(Math,tn)},Ou={left:0,top:0},Lu={left:0,top:0},bo={left:0,top:0},Du={left:0,top:0},ju={height:0,width:0},Al={left:0,top:0},Tl="data-virtual-index",Fu=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Bu=function(Rt){var Lt=Rt.enableSmoothScroll,Jt=Rt.isRtl,tn=Rt.numberOfItems,an=Rt.parentRef,un=Rt.setRenderRange,_n=Rt.sizes,bn=Rt.scrollMode,rn=Rt.viewMode,xn=rt.useState(!1),vn=xn[0],Fn=xn[1],jn=rt.useCallback(function(vr){return Fn(vr)},[]),Dn=rt.useRef(bn);Dn.current=bn;var Xn=rt.useRef(rn);Xn.current=rn;var Wn=bn===$.ScrollMode.Wrapped||rn===$.ViewMode.DualPageWithCover||rn===$.ViewMode.DualPage?er.Both:bn===$.ScrollMode.Horizontal?er.Horizontal:er.Vertical,Vn=Iu({elementRef:an,enableSmoothScroll:Lt,isRtl:Jt,scrollDirection:Wn,onSmoothScroll:jn}),Rr=Vn.scrollOffset,fr=Vn.scrollTo,mr=function(vr){var gr=vr.elementRef,ar=rt.useState(gr.current),dr=ar[0],lr=ar[1],wr=rt.useRef(!1),kr=rt.useReducer(Nu,{height:0,width:0}),hr=kr[0],rr=kr[1];return ft(function(){gr.current!==dr&&lr(gr.current)}),ft(function(){if(dr&&!wr.current){wr.current=!0;var Ar=dr.getBoundingClientRect(),Nr=Ar.height,Kr=Ar.width;rr({rect:{height:Nr,width:Kr}})}},[dr]),rt.useEffect(function(){if(dr){var Ar=new ResizeObserver(function(Nr,Kr){Nr.forEach(function(Hr){if(Hr.target===dr){var as=Hr.contentRect,ds=as.height,Tr=as.width;rr({rect:{height:ds,width:Tr}})}})});return Ar.observe(dr),function(){Ar.unobserve(dr)}}},[dr]),hr}({elementRef:an}),xr=rt.useRef({scrollOffset:Al,measurements:[]});xr.current.scrollOffset=Rr;var or=rt.useMemo(function(){return Array(tn).fill(-1)},[]),_r=rt.useState(or),yr=_r[0],Lr=_r[1],Or=rt.useMemo(function(){var vr=new IntersectionObserver(function(gr){gr.forEach(function(ar){var dr=ar.isIntersecting?ar.intersectionRatio:-1,lr=ar.target.getAttribute(Tl);if(lr){var wr=parseInt(lr,10);0<=wr&&wr<tn&&Lr(function(kr){return kr[wr]=dr,function(hr,rr,Ar){for(var Nr,Kr=0,Hr=rr.length;Kr<Hr;Kr++)!Nr&&Kr in rr||(Nr||(Nr=Array.prototype.slice.call(rr,0,Kr)),Nr[Kr]=rr[Kr]);return hr.concat(Nr||Array.prototype.slice.call(rr))}([],kr)})}})},{threshold:Fu});return vr},[]),Dr=rt.useMemo(function(){return bn===$.ScrollMode.Page&&rn===$.ViewMode.SinglePage?function(vr,gr,ar){for(var dr=[],lr=0;lr<vr;lr++){var wr={height:Math.max(gr.height,ar[lr].height),width:Math.max(gr.width,ar[lr].width)},kr=lr===0?Du:dr[lr-1].end,hr={left:kr.left+wr.width,top:kr.top+wr.height};dr[lr]={index:lr,start:kr,size:wr,end:hr,visibility:-1}}return dr}(tn,mr,_n):rn===$.ViewMode.DualPageWithCover?function(vr,gr,ar,dr){for(var lr=[],wr=0,kr=0,hr=bo,rr=0;rr<vr;rr++){var Ar=rr===0?{height:dr===$.ScrollMode.Page?Math.max(gr.height,ar[rr].height):ar[rr].height,width:dr===$.ScrollMode.Page?Math.max(gr.width,ar[rr].width):ar[rr].width}:{height:dr===$.ScrollMode.Page?Math.max(gr.height,ar[rr].height):ar[rr].height,width:Math.max(gr.width/2,ar[rr].width)};dr===$.ScrollMode.Page?hr=rr===0?bo:{left:rr%2==0?Ar.width:0,top:Math.floor((rr-1)/2)*Ar.height+lr[0].end.top}:rr===0?(hr=bo,wr=ar[0].height,kr=0):rr%2==1?(hr={left:0,top:wr+=kr},kr=rr===vr-1?ar[rr].height:Math.max(ar[rr].height,ar[rr+1].height)):hr={left:lr[rr-1].end.left,top:wr};var Nr={left:hr.left+Ar.width,top:hr.top+Ar.height};lr[rr]={index:rr,start:hr,size:Ar,end:Nr,visibility:-1}}return lr}(tn,mr,_n,bn):rn===$.ViewMode.DualPage?function(vr,gr,ar,dr){for(var lr=[],wr=0,kr=0,hr=Lu,rr=0;rr<vr;rr++){var Ar={height:dr===$.ScrollMode.Page?Math.max(gr.height,ar[rr].height):ar[rr].height,width:Math.max(gr.width/2,ar[rr].width)};dr===$.ScrollMode.Page?hr={left:rr%2==0?0:Ar.width,top:Math.floor(rr/2)*Ar.height}:rr%2==0?(hr={left:0,top:wr+=kr},kr=rr===vr-1?ar[rr].height:Math.max(ar[rr].height,ar[rr+1].height)):hr={left:lr[rr-1].end.left,top:wr};var Nr={left:hr.left+Ar.width,top:hr.top+Ar.height};lr[rr]={index:rr,start:hr,size:Ar,end:Nr,visibility:-1}}return lr}(tn,mr,_n,bn):function(vr,gr,ar,dr){for(var lr=[],wr=0,kr={left:0,top:0},hr=0,rr=Ou,Ar=0;Ar<vr;Ar++){var Nr=ar[Ar];if(Ar===0)wr=Nr.width,kr={left:0,top:0},hr=Nr.height;else switch(dr){case $.ScrollMode.Wrapped:(wr+=Nr.width)<gr.width?(rr={left:lr[Ar-1].end.left,top:kr.top},hr=Math.max(hr,Nr.height)):(wr=Nr.width,kr={left:(rr={left:kr.left,top:kr.top+hr}).left,top:rr.top},hr=Nr.height);break;case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:rr=lr[Ar-1].end}var Kr={left:rr.left+Nr.width,top:rr.top+Nr.height};lr[Ar]={index:Ar,start:rr,size:Nr,end:Kr,visibility:-1}}return lr}(tn,mr,_n,bn)},[bn,_n,rn,mr]),jr=Dr[tn-1]?{height:Dr[tn-1].end.top,width:Dr[tn-1].end.left}:ju;xr.current.measurements=Dr;var Ur=rt.useMemo(function(){var vr=function(Ar,Nr,Kr,Hr){var as=0;switch(Ar){case er.Horizontal:as=Hr.left;break;case er.Vertical:default:as=Hr.top}var ds=Nr.length-1,Tr=function(Vr,xs,Ps,Zs){for(;Vr<=xs;){var Cs=(Vr+xs)/2|0,js=Zs(Cs);if(js<Ps)Vr=Cs+1;else{if(!(js>Ps))return Cs;xs=Cs-1}}return Vr>0?Vr-1:0}(0,ds,as,function(Vr){switch(Ar){case er.Horizontal:return Nr[Vr].start.left;case er.Both:case er.Vertical:default:return Nr[Vr].start.top}});if(Ar===er.Both)for(var ls=Nr[Tr].start.top;Tr-1>=0&&Nr[Tr-1].start.top===ls&&Nr[Tr-1].start.left>=Hr.left;)Tr--;for(var qr=Tr;qr<=ds;){var Yr={top:Nr[qr].start.top-Hr.top,left:Nr[qr].start.left-Hr.left},is={height:Kr.height-Yr.top,width:Kr.width-Yr.left};if(Ar===er.Horizontal&&is.width<0||Ar===er.Vertical&&is.height<0||Ar===er.Both&&(is.width<0||is.height<0))break;qr++}return{start:Tr,end:qr}}(Wn,Dr,mr,Rr),gr=vr.start,ar=vr.end,dr=yr.slice(Ds(0,tn,gr),Ds(0,tn,ar)),lr=gr+dr.reduce(function(Ar,Nr,Kr,Hr){return Nr>Hr[Ar]?Kr:Ar},0),wr=lr=Ds(0,tn-1,lr),kr=un({endPage:ar,numPages:tn,startPage:gr}),hr=kr.startPage,rr=kr.endPage;switch(hr=Math.max(hr,0),rr=Math.min(rr,tn-1),rn){case $.ViewMode.DualPageWithCover:lr>0&&(wr=lr%2==1?lr:lr-1),hr=hr===0?0:hr%2==1?hr:hr-1,tn-(rr=rr%2==1?rr-1:rr)<=2&&(rr=tn-1);break;case $.ViewMode.DualPage:wr=lr%2==0?lr:lr-1,hr=hr%2==0?hr:hr-1,rr=rr%2==1?rr:rr-1;break;case $.ViewMode.SinglePage:default:wr=lr}return{startPage:hr,endPage:rr,maxVisbilityIndex:wr}},[Dr,mr,Rr,rn,yr]),ts=Ur.startPage,Xr=Ur.endPage,ns=Ur.maxVisbilityIndex,Jr=rt.useMemo(function(){for(var vr=[],gr=function(dr){var lr=Dr[dr],wr=lt(lt({},lr),{visibility:yr[dr]!==void 0?yr[dr]:-1,measureRef:function(kr){kr&&(kr.setAttribute(Tl,"".concat(dr)),Or.observe(kr))}});vr.push(wr)},ar=ts;ar<=Xr;ar++)gr(ar);return vr},[ts,Xr,yr,Dr]),_i=rt.useCallback(function(vr,gr){var ar=xr.current.measurements[Ds(0,tn-1,vr)],dr=Dn.current===$.ScrollMode.Page?Al:gr;return ar?fr({left:dr.left+ar.start.left,top:dr.top+ar.start.top},Lt):Promise.resolve()},[fr,Lt]),es=rt.useCallback(function(vr,gr){var ar=xr.current.measurements,dr=ar[vr].start,lr=ar.find(function(kr){return kr.start.top-dr.top>1e-12});if(!lr)return Promise.resolve();var wr=lr.index;switch(Xn.current){case $.ViewMode.DualPage:wr=wr%2==0?wr:wr+1;break;case $.ViewMode.DualPageWithCover:wr=wr%2==1?wr:wr+1}return _i(wr,gr)},[]),Qr=rt.useCallback(function(vr,gr){for(var ar=xr.current.measurements,dr=ar[vr].start,lr=vr,wr=!1,kr=tn-1;kr>=0;kr--)if(dr.top-ar[kr].start.top>1e-12){wr=!0,lr=ar[kr].index;break}if(!wr)return Promise.resolve();switch(Xn.current){case $.ViewMode.DualPage:lr=lr%2==0?lr:lr-1;break;case $.ViewMode.DualPageWithCover:lr=lr%2==0?lr-1:lr}return lr===vr&&(lr=vr-1),_i(lr,gr)},[]),cs=rt.useCallback(function(vr,gr){if(Xn.current===$.ViewMode.DualPageWithCover||Xn.current===$.ViewMode.DualPage)return es(vr,gr);switch(Dn.current){case $.ScrollMode.Wrapped:return es(vr,gr);case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:return _i(vr+1,gr)}},[]),ys=rt.useCallback(function(vr,gr){if(Xn.current===$.ViewMode.DualPageWithCover||Xn.current===$.ViewMode.DualPage)return Qr(vr,gr);switch(Dn.current){case $.ScrollMode.Wrapped:return Qr(vr,gr);case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:return _i(vr-1,gr)}},[]),ms=rt.useCallback(function(){return function(vr,gr){switch(gr){case $.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(vr.width,"px")};case $.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(vr.height,"px"),width:"100%"}}}(jr,Dn.current)},[jr]),os=rt.useCallback(function(vr){return function(gr,ar,dr){return dr!==$.ScrollMode.Page?{}:{height:"".concat(ar.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(gr.start.top,"px)")}}(vr,mr,Dn.current)},[mr]),us=rt.useCallback(function(vr){return function(gr,ar,dr,lr,wr){var kr,hr,rr,Ar,Nr,Kr,Hr,as=ar?"right":"left",ds=ar?-1:1,Tr=dr.length,ls=gr.start.left*ds,qr=gr.size,Yr=qr.height,is=qr.width;if(lr===$.ViewMode.DualPageWithCover){var Vr=wr===$.ScrollMode.Page?0:gr.start.top;return gr.index===0||Tr%2==0&&gr.index===Tr-1?((kr={height:"".concat(Yr,"px"),minWidth:"".concat($u(dr,lr),"px"),width:"100%"})[as]=0,kr.position="absolute",kr.top=0,kr.transform="translate(".concat(ls,"px, ").concat(Vr,"px)"),kr):((hr={height:"".concat(Yr,"px"),width:"".concat(is,"px")})[as]=0,hr.position="absolute",hr.top=0,hr.transform="translate(".concat(ls,"px, ").concat(Vr,"px)"),hr)}if(lr===$.ViewMode.DualPage)return(rr={height:"".concat(Yr,"px"),width:"".concat(is,"px")})[as]=0,rr.position="absolute",rr.top=0,rr.transform="translate(".concat(ls,"px, ").concat(wr===$.ScrollMode.Page?0:gr.start.top,"px)"),rr;switch(wr){case $.ScrollMode.Horizontal:return(Ar={height:"100%",width:"".concat(is,"px")})[as]=0,Ar.position="absolute",Ar.top=0,Ar.transform="translateX(".concat(ls,"px)"),Ar;case $.ScrollMode.Page:return(Nr={height:"".concat(Yr,"px"),width:"".concat(is,"px")})[as]=0,Nr.position="absolute",Nr.top=0,Nr;case $.ScrollMode.Wrapped:return(Kr={height:"".concat(Yr,"px"),width:"".concat(is,"px")})[as]=0,Kr.position="absolute",Kr.top=0,Kr.transform="translate(".concat(ls,"px, ").concat(gr.start.top,"px)"),Kr;case $.ScrollMode.Vertical:default:return(Hr={height:"".concat(Yr,"px"),width:"100%"})[as]=0,Hr.position="absolute",Hr.top=0,Hr.transform="translateY(".concat(gr.start.top,"px)"),Hr}}(vr,Jt,_n,Xn.current,Dn.current)},[Jt,_n]),vs=rt.useCallback(function(vr,gr){var ar=xr.current,dr=ar.measurements,lr=ar.scrollOffset,wr=dr[Ds(0,tn-1,gr)];if(wr){var kr=Dn.current===$.ScrollMode.Page?{left:wr.start.left,top:wr.start.top}:{left:lr.left*vr,top:lr.top*vr};return fr(kr,!1)}return Promise.resolve()},[]);return rt.useEffect(function(){return function(){Or.disconnect()}},[]),{boundingClientRect:mr,isSmoothScrolling:vn,startPage:ts,endPage:Xr,maxVisbilityIndex:ns,virtualItems:Jr,getContainerStyles:ms,getItemContainerStyles:os,getItemStyles:us,scrollToItem:_i,scrollToNextItem:cs,scrollToPreviousItem:ys,zoom:vs}},yo=function(Rt,Lt,Jt,tn,an,un){var _n=Jt;switch(!0){case(an===$.ViewMode.DualPageWithCover&&un>=3):case(an===$.ViewMode.DualPage&&un>=3):_n=2*Jt;break;default:_n=Jt}switch(tn){case $.SpecialZoomLevel.ActualSize:return 1;case $.SpecialZoomLevel.PageFit:return Math.min((Rt.clientWidth-17)/_n,(Rt.clientHeight-16)/Lt);case $.SpecialZoomLevel.PageWidth:return(Rt.clientWidth-17)/_n}},Uu=function(Rt){var Lt,Jt,tn=Rt.getCurrentPage,an=(Lt=50,Jt=rt.useRef([]),rt.useEffect(function(){return function(){Jt.current=[]}},[]),{push:function(xn){var vn=Jt.current;vn.length+1>Lt&&vn.shift(),vn.push(xn),Jt.current=vn},map:function(xn){return Jt.current.map(function(vn){return xn(vn)})},pop:function(){var xn=Jt.current;if(xn.length===0)return null;var vn=xn.pop();return Jt.current=xn,vn}}),un=function(xn){var vn=rt.useRef([]);return rt.useEffect(function(){return function(){vn.current=[]}},[]),{dequeue:function(){var Fn=vn.current;if(Fn.length===0)return null;var jn=Fn.shift();return vn.current=Fn,jn||null},enqueue:function(Fn){var jn=vn.current;jn.length+1>xn&&jn.pop(),vn.current=[Fn].concat(jn)},map:function(Fn){return vn.current.map(function(jn){return Fn(jn)})}}}(50),_n=function(){var xn=un.dequeue();return xn&&an.push(xn),xn&&xn.pageIndex===tn()?_n():xn},bn=function(){var xn=an.pop();return xn&&un.enqueue(xn),xn&&xn.pageIndex===tn()?bn():xn},rn=rt.useCallback(function(xn){an.push(xn)},[]);return{getNextDestination:_n,getPreviousDestination:bn,markVisitedDestination:rn}},Rl=function(Rt){var Lt=[];return Rt.map(function(Jt){Lt=Lt.concat(Jt).concat(function(tn){var an=[];return tn.items&&tn.items.length>0&&(an=an.concat(Rl(tn.items))),an}(Jt))}),Lt},Pl={capture:!1,passive:!0},zu={height:0,width:0},vo={height:0,width:0},Vu=function(Rt){var Lt=Rt.getCurrentPage,Jt=Rt.getCurrentScrollMode,tn=Rt.jumpToPage,an=Rt.targetRef,un=rt.useState($.FullScreenMode.Normal),_n=un[0],bn=un[1],rn=function(){var yr=rt.useState(zu),Lr=yr[0],Or=yr[1],Dr=qt(function(){Or({height:window.innerHeight,width:window.innerWidth})},100);return ft(function(){return window.addEventListener("resize",Dr,Pl),function(){window.removeEventListener("resize",Dr,Pl)}},[]),Lr}(),xn=rt.useState(vo),vn=xn[0],Fn=xn[1],jn=rt.useRef(vo),Dn=rt.useRef(Lt()),Xn=rt.useRef(vo),Wn=rt.useState(an.current),Vn=Wn[0],Rr=Wn[1],fr=rt.useRef();ft(function(){an.current!==Vn&&Rr(an.current)},[]),ft(function(){if(Vn){var yr=new ResizeObserver(function(Lr){Lr.forEach(function(Or){var Dr=Or.target.getBoundingClientRect(),jr=Dr.height,Ur=Dr.width;Fn({height:jr,width:Ur})})});return yr.observe(Vn),function(){yr.unobserve(Vn),yr.disconnect()}}},[Vn]);var mr=rt.useCallback(function(yr){var Lr=Dt();return Lr&&Lr!==yr?(bn($.FullScreenMode.Normal),Pt(Lr)):Promise.resolve()},[]),xr=rt.useCallback(function(yr){yr&&kt()&&(Rr(yr),mr(yr).then(function(){fr.current=yr,bn($.FullScreenMode.Entering),function(Lr){Ct&&Lr[Nt.RequestFullScreen]()}(yr)}))},[]),or=rt.useCallback(function(){Dt()&&(bn($.FullScreenMode.Exitting),Pt(document))},[]),_r=rt.useCallback(function(){Vn&&Dt()!==Vn&&bn($.FullScreenMode.Exitting)},[Vn]);return rt.useEffect(function(){switch(_n){case $.FullScreenMode.Entering:fr.current&&(fr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Dn.current=Lt(),jn.current={height:window.innerHeight,width:window.innerWidth};break;case $.FullScreenMode.Entered:Jt()===$.ScrollMode.Page?tn(Dn.current).then(function(){bn($.FullScreenMode.EnteredCompletely)}):bn($.FullScreenMode.EnteredCompletely);break;case $.FullScreenMode.Exitting:fr.current&&(fr.current.style.backgroundColor="",fr.current=null),Dn.current=Lt();break;case $.FullScreenMode.Exited:bn($.FullScreenMode.Normal),Jt()===$.ScrollMode.Page&&tn(Dn.current)}},[_n]),rt.useEffect(function(){if(_n!==$.FullScreenMode.Normal)return _n===$.FullScreenMode.Entering&&rn.height===vn.height&&rn.width===vn.width&&rn.height>0&&rn.width>0&&(Xn.current.height===0||rn.height==Xn.current.height)?(Xn.current={height:window.innerHeight,width:window.innerWidth},void bn($.FullScreenMode.Entered)):void(_n===$.FullScreenMode.Exitting&&jn.current.height===rn.height&&jn.current.width===rn.width&&rn.height>0&&rn.width>0&&bn($.FullScreenMode.Exited))},[_n,rn,vn]),rt.useEffect(function(){var yr;return yr=_r,Ct&&document.addEventListener(Nt.FullScreenChange,yr),function(){(function(Lr){Ct&&document.removeEventListener(Nt.FullScreenChange,Lr)})(_r)}},[Vn]),{enterFullScreenMode:xr,exitFullScreenMode:or,fullScreenMode:_n}},Hu={buildPageStyles:function(){return{}},transformSize:function(Rt){return Rt.size}},Rs={left:0,top:0},Wu=function(Rt){var Lt=Rt.currentFile,Jt=Rt.defaultScale,tn=Rt.doc,an=Rt.enableSmoothScroll,un=Rt.initialPage,_n=Rt.initialRotation,bn=Rt.initialScale,rn=Rt.pageLayout,xn=Rt.pageSizes,vn=Rt.plugins,Fn=Rt.renderPage,jn=Rt.scrollMode,Dn=Rt.setRenderRange,Xn=Rt.viewMode,Wn=Rt.viewerState,Vn=Rt.onDocumentLoad,Rr=Rt.onOpenFile,fr=Rt.onPageChange,mr=Rt.onRotate,xr=Rt.onRotatePage,or=Rt.onZoom,_r=tn.numPages,yr=tn.loadingTask.docId,Lr=rt.useContext(Yt).l10n,Or=rt.useContext(dt),Dr=Or.direction===$.TextDirection.RightToLeft,jr=rt.useRef(),Ur=rt.useRef(),ts=rt.useState(un),Xr=ts[0],ns=ts[1],Jr=rt.useRef(null),_i=Uu({getCurrentPage:function(){return Tr.current.pageIndex}}),es=rt.useState(_n),Qr=es[0],cs=es[1],ys=jt(Qr),ms=rt.useState(!1),os=ms[0],us=ms[1],vs=rt.useState(new Map),vr=vs[0],gr=vs[1],ar=rt.useState(jn),dr=ar[0],lr=ar[1],wr=jt(dr),kr=rt.useState(Xn),hr=kr[0],rr=kr[1],Ar=jt(hr),Nr=function(Un){var Cr=zt(),Ir=rt.useState([]),zr=Ir[0],Fr=Ir[1];return rt.useEffect(function(){Un.getOutline().then(function($r){if(Cr.current&&$r!==null){var ss=Rl($r);Fr(ss)}})},[]),zr}(tn),Kr=rt.useState(bn),Hr=Kr[0],as=Kr[1],ds=jt(Hr),Tr=rt.useRef(Wn),ls=rt.useRef(typeof Jt=="string"?Jt:null),qr=rt.useRef(-1),Yr=rt.useRef(-1),is=rt.useRef(un),Vr=Vu({getCurrentPage:function(){return Tr.current.pageIndex},getCurrentScrollMode:function(){return Tr.current.scrollMode},jumpToPage:function(Un){return ws(Un)},targetRef:Ur}),xs=rt.useState(-1),Ps=xs[0],Zs=xs[1],Cs=rt.useState(0),js=Cs[0],Zu=Cs[1],hs=It({doc:tn});rt.useEffect(function(){return function(){en.clear(),$n.clear()}},[yr]);var $l=rt.useMemo(function(){return Object.assign({},Hu,rn)},[]),Ju=rt.useMemo(function(){return Array(_r).fill(0).map(function(Un,Cr){var Ir=[xn[Cr].pageHeight,xn[Cr].pageWidth],zr=Math.abs(Qr)%180==0?{height:Ir[0],width:Ir[1]}:{height:Ir[1],width:Ir[0]},Fr={height:zr.height*Hr,width:zr.width*Hr};return $l.transformSize({numPages:_r,pageIndex:Cr,size:Fr})})},[Qr,Hr]),Wr=Bu({enableSmoothScroll:an,isRtl:Dr,numberOfItems:_r,parentRef:Ur,scrollMode:dr,setRenderRange:Dn,sizes:Ju,viewMode:hr}),Qu=qt(function(){!ls.current||Tr.current.fullScreenMode!==$.FullScreenMode.Normal||un>0&&is.current===un||As(ls.current)},200);(function(Un){var Cr=Un.targetRef,Ir=Un.onResize;ft(function(){var zr=new ResizeObserver(function($r){$r.forEach(function(ss){Ir(ss.target)})}),Fr=Cr.current;if(Fr)return zr.observe(Fr),function(){zr.unobserve(Fr)}},[])})({targetRef:Ur,onResize:Qu});var _s=function(Un){var Cr=Un;vn.forEach(function(Ir){Ir.onViewerStateChange&&(Cr=Ir.onViewerStateChange(Cr))}),Tr.current=Cr},_d=function(){return Ur.current},_h=function(){return Tr.current},_f=rt.useCallback(function(Un){_i.markVisitedDestination(Un)},[]),_o=rt.useCallback(function(Un){var Cr=Un.pageIndex,Ir=Un.bottomOffset,zr=Un.leftOffset,Fr=Un.scaleTo,$r=Ur.current,ss=Tr.current;return $r&&ss?new Promise(function(Ss,To){zn(tn,Cr).then(function(Js){var ks=Js.getViewport({scale:1}),Qs=0,Vl=(typeof Ir=="function"?Ir(ks.width,ks.height):Ir)||0,eo=(typeof zr=="function"?zr(ks.width,ks.height):zr)||0,Ns=ss.scale;switch(Fr){case $.SpecialZoomLevel.PageFit:Qs=0,eo=0,As($.SpecialZoomLevel.PageFit);break;case $.SpecialZoomLevel.PageWidth:Ns=yo($r,xn[Cr].pageHeight,xn[Cr].pageWidth,$.SpecialZoomLevel.PageWidth,Xn,_r),Qs=(ks.height-Vl)*Ns,eo*=Ns,As(Ns);break;default:Qs=(ks.height-Vl)*Ns,eo*=Ns}switch(ss.scrollMode){case $.ScrollMode.Horizontal:Wr.scrollToItem(Cr,{left:eo,top:0}).then(function(){Ss()});break;case $.ScrollMode.Vertical:default:Wr.scrollToItem(Cr,{left:0,top:Qs}).then(function(){Ss()})}})}):Promise.resolve()},[]),Ol=rt.useCallback(function(Un){return _i.markVisitedDestination(Un),_o(Un)},[]),ep=rt.useCallback(function(){var Un=_i.getNextDestination();return Un?_o(Un):Promise.resolve()},[]),tp=rt.useCallback(function(){var Un=_i.getPreviousDestination();return Un?_o(Un):Promise.resolve()},[]),np=rt.useCallback(function(){return Wr.scrollToNextItem(Tr.current.pageIndex,Rs)},[]),ws=rt.useCallback(function(Un){return 0<=Un&&Un<_r?Wr.scrollToItem(Un,Rs):Promise.resolve()},[]),rp=rt.useCallback(function(){return Wr.scrollToPreviousItem(Tr.current.pageIndex,Rs)},[]),Ll=rt.useCallback(function(Un){var Cr,Ir;(Cr=Un.name,Ir=Cr.split(/\./).pop(),Ir?Ir.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(zr){var Fr=new FileReader;Fr.readAsArrayBuffer(Un),Fr.onload=function(){var $r=new Uint8Array(Fr.result);zr($r)}}).then(function(zr){Rr(Un.name,zr)})},[Rr]),Dl=rt.useCallback(function(Un){var Cr=Un===$.RotateDirection.Backward?-90:90,Ir=Tr.current.rotation,zr=Ir===360||Ir===-360?Cr:Ir+Cr;hs.markNotRendered(),cs(zr),_s(lt(lt({},Tr.current),{rotation:zr})),mr({direction:Un,doc:tn,rotation:zr})},[]),wo=rt.useCallback(function(Un,Cr){var Ir=Cr===$.RotateDirection.Backward?-90:90,zr=Tr.current.pagesRotation,Fr=(zr.has(Un)?zr.get(Un):_n)+Ir,$r=zr.set(Un,Fr);gr($r),us(function(ss){return!ss}),_s(lt(lt({},Tr.current),{pagesRotation:$r,rotatedPage:Un})),xr({direction:Cr,doc:tn,pageIndex:Un,rotation:Fr}),hs.markRendering(Un),Zs(Un)},[]),Fl=rt.useCallback(function(Un){_s(lt(lt({},Tr.current),{scrollMode:Un})),lr(Un)},[]),Bl=rt.useCallback(function(Un){_s(lt(lt({},Tr.current),{viewMode:Un})),rr(Un)},[]),As=rt.useCallback(function(Un){var Cr=Ur.current,Ir=Tr.current.pageIndex;if(!(Ir<0||Ir>=_r)){var zr=xn[Ir].pageHeight,Fr=xn[Ir].pageWidth,$r=Cr?typeof Un=="string"?yo(Cr,zr,Fr,Un,Tr.current.viewMode,_r):Un:1;ls.current=typeof Un=="string"?Un:null,$r!==Tr.current.scale&&(Zu(function(ss){return ss+1}),hs.markNotRendered(),as($r),or({doc:tn,scale:$r}),_s(lt(lt({},Tr.current),{scale:$r})))}},[]),ip=rt.useCallback(function(Un){Vr.enterFullScreenMode(Un)},[]),sp=rt.useCallback(function(){Vr.exitFullScreenMode()},[]);rt.useEffect(function(){_s(lt(lt({},Tr.current),{fullScreenMode:Vr.fullScreenMode}))},[Vr.fullScreenMode]),rt.useEffect(function(){var Un={enterFullScreenMode:ip,exitFullScreenMode:sp,getPagesContainer:_d,getViewerState:_h,jumpToDestination:Ol,jumpToNextDestination:ep,jumpToPreviousDestination:tp,jumpToNextPage:np,jumpToPreviousPage:rp,jumpToPage:ws,openFile:Ll,rotate:Dl,rotatePage:wo,setViewerState:_s,switchScrollMode:Fl,switchViewMode:Bl,zoom:As};return vn.forEach(function(Cr){Cr.install&&Cr.install(Un)}),function(){vn.forEach(function(Cr){Cr.uninstall&&Cr.uninstall(Un)})}},[yr]),rt.useEffect(function(){Vn({doc:tn,file:Lt}),vn.forEach(function(Un){Un.onDocumentLoad&&Un.onDocumentLoad({doc:tn,file:Lt})})},[yr]);var So,ko,Co,Ul=Wr.boundingClientRect;So=function(){un&&ws(un)},ko=Ul.height>0&&Ul.width>0,Co=rt.useRef(!1),ft(function(){ko&&!Co.current&&(Co.current=!0,So())},[So,ko]),ft(function(){var Un=Tr.current.pageIndex;Un>-1&&wr!==dr&&Wr.scrollToItem(Un,Rs).then(function(){Vr.fullScreenMode===$.FullScreenMode.EnteredCompletely&&(an||hs.markNotRendered(),qr.current=-1)})},[dr]),ft(function(){var Un=Tr.current.pageIndex;Un>-1&&ys!==Qr&&Wr.scrollToItem(Un,Rs)},[Qr]),ft(function(){ds!=0&&ds!=Tr.current.scale&&Wr.zoom(Tr.current.scale/ds,Tr.current.pageIndex).then(function(){Vr.fullScreenMode===$.FullScreenMode.EnteredCompletely&&(Yr.current=-1)})},[Hr]),ft(function(){if(Ar!==Tr.current.viewMode){var Un=Wr.startPage,Cr=Wr.endPage,Ir=Wr.virtualItems;hs.markNotRendered(),hs.setRange(Un,Cr);for(var zr=function($r){var ss=Ir.find(function(Ss){return Ss.index===$r});ss&&hs.setVisibility($r,ss.visibility)},Fr=Un;Fr<=Cr;Fr++)zr(Fr);Ao()}},[hr]),ft(function(){var Un=Tr.current.pageIndex;Un>-1&&Ar!==hr&&Wr.scrollToItem(Un,Rs)},[hr]),ft(function(){var Un=Tr.current.pageIndex;Un>0&&Un===un&&is.current===un&&ls.current&&(is.current=-1,As(ls.current))},[Xr]),rt.useEffect(function(){Wr.isSmoothScrolling||Jr.current!==null&&Jr.current===Xr||(Jr.current=Xr,fr({currentPage:Xr,doc:tn}))},[Xr,Wr.isSmoothScrolling]),rt.useEffect(function(){Vr.fullScreenMode===$.FullScreenMode.Entering&&Tr.current.scrollMode===$.ScrollMode.Page&&(qr.current=Tr.current.pageIndex),Vr.fullScreenMode===$.FullScreenMode.EnteredCompletely&&Tr.current.scrollMode===$.ScrollMode.Page&&an&&(qr.current=-1),Vr.fullScreenMode===$.FullScreenMode.EnteredCompletely&&ls.current&&(Yr.current=Tr.current.pageIndex,As(ls.current))},[Vr.fullScreenMode]),rt.useEffect(function(){if(Vr.fullScreenMode!==$.FullScreenMode.Entering&&Vr.fullScreenMode!==$.FullScreenMode.Exitting&&!Wr.isSmoothScrolling){var Un=Wr.startPage,Cr=Wr.endPage,Ir=Wr.maxVisbilityIndex,zr=Wr.virtualItems,Fr=Ir,$r=Vr.fullScreenMode===$.FullScreenMode.Entered||Vr.fullScreenMode===$.FullScreenMode.EnteredCompletely;if(!($r&&Fr!==qr.current&&qr.current>-1||$r&&Fr!==Yr.current&&Yr.current>-1)){ns(Fr),_s(lt(lt({},Tr.current),{pageIndex:Fr})),hs.setRange(Un,Cr);for(var ss=function(To){var Js=zr.find(function(ks){return ks.index===To});Js&&hs.setVisibility(To,Js.visibility)},Ss=Un;Ss<=Cr;Ss++)ss(Ss);Ao()}}},[Wr.startPage,Wr.endPage,Wr.isSmoothScrolling,Wr.maxVisbilityIndex,Vr.fullScreenMode,os,Qr,Hr]);var op=rt.useCallback(function(Un){hs.markRendered(Un),Ao()},[js]),Ao=function(){var Un=hs.getHighestPriorityPage();Un>-1&&hs.isInRange(Un)&&(hs.markRendering(Un),Zs(Un))},ap=function(Un){var Cr=Xr-1,Ir=Xr+1;switch(Un){case"FirstPage":ws(0);break;case"LastPage":ws(_r-1);break;case"NextPage":Ir<_r&&ws(Ir);break;case"PrevPage":Cr>=0&&ws(Cr)}},lp=rt.useCallback(function(){var Un=Wr.virtualItems,Cr=[];switch(hr){case $.ViewMode.DualPage:Cr=cn(Un,2);break;case $.ViewMode.DualPageWithCover:Un.length&&(Cr=Un[0].index===0?[[Un[0]]].concat(cn(Un.slice(1),2)):cn(Un,2));break;case $.ViewMode.SinglePage:default:Cr=cn(Un,1)}var Ir=Lr&&Lr.core?Lr.core.pageLabel:"Page {{pageIndex}}",zr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:jr,style:{height:"100%"}},children:rt.createElement(rt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ct({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":dr===$.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Dr,"rpv-core__inner-pages--single":dr===$.ScrollMode.Page,"rpv-core__inner-pages--vertical":dr===$.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":dr===$.ScrollMode.Wrapped}),ref:Ur,style:{height:"100%",position:"relative"}},children:rt.createElement("div",{"data-testid":"core__inner-current-page-".concat(Xr),style:Object.assign({"--scale-factor":Hr},Wr.getContainerStyles())},Cr.map(function(Fr){return rt.createElement("div",{className:ct({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":dr===$.ScrollMode.Page}),style:Wr.getItemContainerStyles(Fr[0]),key:"".concat(Fr[0].index,"-").concat(hr)},Fr.map(function($r){var ss=hr===$.ViewMode.DualPageWithCover&&($r.index===0||_r%2==0&&$r.index===_r-1);return rt.createElement("div",{"aria-label":Ir.replace("{{pageIndex}}","".concat($r.index+1)),className:ct({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":hr===$.ViewMode.DualPage&&$r.index%2==0,"rpv-core__inner-page--dual-odd":hr===$.ViewMode.DualPage&&$r.index%2==1,"rpv-core__inner-page--dual-cover":ss,"rpv-core__inner-page--dual-cover-even":hr===$.ViewMode.DualPageWithCover&&!ss&&$r.index%2==0,"rpv-core__inner-page--dual-cover-odd":hr===$.ViewMode.DualPageWithCover&&!ss&&$r.index%2==1,"rpv-core__inner-page--single":hr===$.ViewMode.SinglePage&&dr===$.ScrollMode.Page}),role:"region",key:"".concat($r.index,"-").concat(hr),style:Object.assign({},Wr.getItemStyles($r),$l.buildPageStyles({numPages:_r,pageIndex:$r.index,scrollMode:dr,viewMode:hr}))},rt.createElement(Pu,{doc:tn,measureRef:$r.measureRef,outlines:Nr,pageIndex:$r.index,pageRotation:vr.has($r.index)?vr.get($r.index):0,pageSize:xn[$r.index],plugins:vn,renderPage:Fn,renderQueueKey:js,rotation:Qr,scale:Hr,shouldRender:Ps===$r.index,viewMode:hr,onExecuteNamedAction:ap,onJumpFromLinkAnnotation:_f,onJumpToDest:Ol,onRenderCompleted:op,onRotatePage:wo}))}))}))}};return vn.forEach(function(Fr){Fr.renderViewer&&(zr=Fr.renderViewer({containerRef:jr,doc:tn,pagesContainerRef:Ur,pagesRotation:vr,pageSizes:xn,rotation:Qr,slot:zr,themeContext:Or,jumpToPage:ws,openFile:Ll,rotate:Dl,rotatePage:wo,switchScrollMode:Fl,switchViewMode:Bl,zoom:As}))}),zr},[vn,Wr]),zl=rt.useCallback(function(Un){return rt.createElement("div",lt({},Un.attrs,{style:Un.attrs&&Un.attrs.style?Un.attrs.style:{}}),Un.children,Un.subSlot&&zl(Un.subSlot))},[]);return zl(lp())},Nl=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Gu=function(Rt){var Lt=Rt.defaultScale,Jt=Rt.doc,tn=Rt.render,an=Rt.scrollMode,un=Rt.viewMode,_n=rt.useRef(),bn=rt.useState({pageSizes:[],scale:0}),rn=bn[0],xn=bn[1];return rt.useLayoutEffect(function(){var vn=Array(Jt.numPages).fill(0).map(function(Fn,jn){return new Promise(function(Dn,Xn){zn(Jt,jn).then(function(Wn){var Vn=Wn.getViewport({scale:1});Dn({pageHeight:Vn.height,pageWidth:Vn.width,rotation:Vn.rotation})})})});Promise.all(vn).then(function(Fn){var jn=_n.current;if(jn&&Fn.length!==0){var Dn=Fn[0].pageWidth,Xn=Fn[0].pageHeight,Wn=jn.parentElement,Vn=(Wn.clientWidth-45)/Dn,Rr=(Wn.clientHeight-45)/Xn,fr=Vn;switch(an){case $.ScrollMode.Horizontal:fr=Math.min(Vn,Rr);break;case $.ScrollMode.Vertical:default:fr=Vn}var mr,xr,or=Lt?typeof Lt=="string"?yo(Wn,Xn,Dn,Lt,un,Jt.numPages):Lt:(mr=fr,(xr=Nl.findIndex(function(_r){return _r>=mr}))===-1||xr===0?mr:Nl[xr-1]);xn({pageSizes:Fn,scale:or})}})},[Jt.loadingTask.docId]),rn.pageSizes.length===0||rn.scale===0?rt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:_n},rt.createElement(bt,null)):tn(rn.pageSizes,rn.scale)},Ys=function(){},Eo=function(Rt){function Lt(Jt,tn){var an=Rt.call(this)||this;return an.verifyPassword=Jt,an.passwordStatus=tn,an}return ot(Lt,Rt),Lt}(Ys),Ku=function(Rt){var Lt=Rt.passwordStatus,Jt=Rt.renderProtectedView,tn=Rt.verifyPassword,an=Rt.onDocumentAskPassword,un=rt.useContext(Yt).l10n,_n=rt.useState(""),bn=_n[0],rn=_n[1],xn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,vn=function(){return tn(bn)};return rt.useEffect(function(){an&&an({verifyPassword:tn})},[]),Jt?Jt({passwordStatus:Lt,verifyPassword:tn}):rt.createElement("div",{className:"rpv-core__asking-password-wrapper"},rt.createElement("div",{className:ct({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":xn})},rt.createElement("div",{className:"rpv-core__asking-password-message"},Lt===$.PasswordStatus.RequiredPassword&&un.core.askingPassword.requirePasswordToOpen,Lt===$.PasswordStatus.WrongPassword&&un.core.wrongPassword.tryAgain),rt.createElement("div",{className:"rpv-core__asking-password-body"},rt.createElement("div",{className:ct({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!xn,"rpv-core__asking-password-input--rtl":xn})},rt.createElement(xt,{testId:"core__asking-password-input",type:"password",value:bn,onChange:rn,onKeyDown:function(Fn){Fn.key==="Enter"&&vn()}})),rt.createElement(mt,{onClick:vn},un.core.askingPassword.submit))))},Ml=function(Rt){function Lt(Jt){var tn=Rt.call(this)||this;return tn.doc=Jt,tn}return ot(Lt,Rt),Lt}(Ys),Il=function(Rt){function Lt(Jt){var tn=Rt.call(this)||this;return tn.error=Jt,tn}return ot(Lt,Rt),Lt}(Ys),xo=function(Rt){function Lt(Jt){var tn=Rt.call(this)||this;return tn.percentages=Jt,tn}return ot(Lt,Rt),Lt}(Ys),qu=function(Rt){var Lt=Rt.characterMap,Jt=Rt.file,tn=Rt.httpHeaders,an=Rt.render,un=Rt.renderError,_n=Rt.renderLoader,bn=Rt.renderProtectedView,rn=Rt.transformGetDocumentParams,xn=Rt.withCredentials,vn=Rt.onDocumentAskPassword,Fn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,jn=rt.useState(new xo(0)),Dn=jn[0],Xn=jn[1],Wn=rt.useRef(""),Vn=zt();return rt.useEffect(function(){Wn.current="",Xn(new xo(0));var Rr=new it.PDFWorker({name:"PDFWorker_".concat(Date.now())}),fr=Object.assign({httpHeaders:tn,withCredentials:xn,worker:Rr},typeof Jt=="string"?{url:Jt}:{data:Jt},Lt?{cMapUrl:Lt.url,cMapPacked:Lt.isCompressed}:{}),mr=rn?rn(fr):fr,xr=it.getDocument(mr);return xr.onPassword=function(or,_r){switch(_r){case it.PasswordResponses.NEED_PASSWORD:Vn.current&&Xn(new Eo(or,$.PasswordStatus.RequiredPassword));break;case it.PasswordResponses.INCORRECT_PASSWORD:Vn.current&&Xn(new Eo(or,$.PasswordStatus.WrongPassword))}},xr.onProgress=function(or){var _r=or.total>0?Math.min(100,100*or.loaded/or.total):100;Vn.current&&Wn.current===""&&Xn(new xo(_r))},xr.promise.then(function(or){Wn.current=or.loadingTask.docId,Vn.current&&Xn(new Ml(or))},function(or){return Vn.current&&!Rr.destroyed&&Xn(new Il({message:or.message||"Cannot load document",name:or.name}))}),function(){xr.destroy(),Rr.destroy()}},[Jt]),Dn instanceof Eo?rt.createElement(Ku,{passwordStatus:Dn.passwordStatus,renderProtectedView:bn,verifyPassword:Dn.verifyPassword,onDocumentAskPassword:vn}):Dn instanceof Ml?an(Dn.doc):Dn instanceof Il?un?un(Dn.error):rt.createElement("div",{className:ct({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Fn})},rt.createElement("div",{className:"rpv-core__doc-error-text"},Dn.error.message)):rt.createElement("div",{"data-testid":"core__doc-loading",className:ct({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Fn})},_n?_n(Dn.percentages):rt.createElement(bt,null))},Xu=function(Rt,Lt){var Jt=rt.useMemo(function(){return Rt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Rt},[]),tn=rt.useState(Jt),an=tn[0],un=tn[1],_n=jt(an);return rt.useEffect(function(){if(Rt==="auto"){var bn=window.matchMedia("(prefers-color-scheme: dark)"),rn=function(xn){un(xn.matches?"dark":"light")};return bn.addEventListener("change",rn),function(){return bn.removeEventListener("change",rn)}}},[]),rt.useEffect(function(){an!==_n&&Lt&&Lt(an)},[an]),rt.useEffect(function(){Rt!==an&&un(Rt)},[Rt]),{currentTheme:an,setCurrentTheme:un}},Yu=function(Rt){return{startPage:Rt.startPage-3,endPage:Rt.endPage+3}};$.Button=function(Rt){var Lt=Rt.children,Jt=Rt.testId,tn=Rt.onClick,an=rt.useContext(dt).direction===$.TextDirection.RightToLeft,un=Jt?{"data-testid":Jt}:{};return rt.createElement("button",lt({className:ct({"rpv-core__button":!0,"rpv-core__button--rtl":an}),type:"button",onClick:tn},un),Lt)},$.Icon=gt,$.LazyRender=function(Rt){var Lt=Rt.attrs,Jt=Rt.children,tn=Rt.testId,an=rt.useState(!1),un=an[0],_n=an[1],bn=tn?lt(lt({},Lt),{"data-testid":tn}):Lt,rn=pt({once:!0,onVisibilityChanged:function(xn){xn.isVisible&&_n(!0)}});return rt.createElement("div",lt({ref:rn},bn),un&&Jt)},$.LocalizationContext=Yt,$.Menu=function(Rt){var Lt=Rt.children,Jt=rt.useRef(),tn=rt.useRef([]),an=rt.useContext(dt).direction===$.TextDirection.RightToLeft,un=function(bn){if(Jt.current)switch(bn.key){case"Tab":bn.preventDefault();break;case"ArrowDown":bn.preventDefault(),_n(function(rn,xn){return xn+1});break;case"ArrowUp":bn.preventDefault(),_n(function(rn,xn){return xn-1});break;case"End":bn.preventDefault(),_n(function(rn,xn){return rn.length-1});break;case"Home":bn.preventDefault(),_n(function(rn,xn){return 0})}},_n=function(bn){if(Jt.current){var rn=tn.current,xn=rn.findIndex(function(Fn){return Fn.getAttribute("tabindex")==="0"}),vn=Math.min(rn.length-1,Math.max(0,bn(rn,xn)));xn>=0&&xn<=rn.length-1&&rn[xn].setAttribute("tabindex","-1"),rn[vn].setAttribute("tabindex","0"),rn[vn].focus()}};return ft(function(){var bn=Jt.current;if(bn){var rn=function(xn){var vn=[];return xn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Fn){if(Fn instanceof HTMLElement){var jn=Fn.parentElement;(jn===xn||window.getComputedStyle(jn).display!=="none")&&vn.push(Fn)}}),vn}(bn);tn.current=rn}},[]),ft(function(){return document.addEventListener("keydown",un),function(){document.removeEventListener("keydown",un)}},[]),rt.createElement("div",{ref:Jt,"aria-orientation":"vertical",className:ct({"rpv-core__menu":!0,"rpv-core__menu--rtl":an}),role:"menu",tabIndex:0},Lt)},$.MenuDivider=function(){return rt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},$.MenuItem=function(Rt){var Lt=Rt.checked,Jt=Lt!==void 0&&Lt,tn=Rt.children,an=Rt.icon,un=an===void 0?null:an,_n=Rt.isDisabled,bn=_n!==void 0&&_n,rn=Rt.testId,xn=Rt.onClick,vn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,Fn=rn?{"data-testid":rn}:{};return rt.createElement("button",lt({className:ct({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":bn,"rpv-core__menu-item--ltr":!vn,"rpv-core__menu-item--rtl":vn}),role:"menuitem",tabIndex:-1,type:"button",onClick:xn},Fn),rt.createElement("div",{className:ct({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!vn,"rpv-core__menu-item-icon--rtl":vn})},un),rt.createElement("div",{className:ct({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!vn,"rpv-core__menu-item-label--rtl":vn})},tn),rt.createElement("div",{className:ct({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!vn,"rpv-core__menu-item-check--rtl":vn})},Jt&&rt.createElement(ht,null)))},$.MinimalButton=function(Rt){var Lt=Rt.ariaLabel,Jt=Lt===void 0?"":Lt,tn=Rt.ariaKeyShortcuts,an=tn===void 0?"":tn,un=Rt.children,_n=Rt.isDisabled,bn=_n!==void 0&&_n,rn=Rt.isSelected,xn=rn!==void 0&&rn,vn=Rt.testId,Fn=Rt.onClick,jn=rt.useContext(dt).direction===$.TextDirection.RightToLeft,Dn=vn?{"data-testid":vn}:{};return rt.createElement("button",lt({"aria-label":Jt},an&&{"aria-keyshortcuts":an},bn&&{"aria-disabled":!0},{className:ct({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":bn,"rpv-core__minimal-button--rtl":jn,"rpv-core__minimal-button--selected":xn}),type:"button",onClick:Fn},Dn),un)},$.Modal=function(Rt){var Lt=Rt.ariaControlsSuffix,Jt=Rt.closeOnClickOutside,tn=Rt.closeOnEscape,an=Rt.content,un=Rt.isOpened,_n=un!==void 0&&un,bn=Rt.target,rn=Lt||"".concat(yt());return rt.createElement(mn,{target:bn?function(xn,vn){return rt.createElement("div",{"aria-expanded":vn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(rn)},bn(xn,vn))}:null,content:function(xn){return rt.createElement(Ht,null,rt.createElement(Ut,{ariaControlsSuffix:rn,closeOnClickOutside:Jt,closeOnEscape:tn,onToggle:xn},an(xn)))},isOpened:_n})},$.Popover=function(Rt){var Lt=Rt.ariaHasPopup,Jt=Lt===void 0?"dialog":Lt,tn=Rt.ariaControlsSuffix,an=Rt.closeOnClickOutside,un=Rt.closeOnEscape,_n=Rt.content,bn=Rt.lockScroll,rn=bn===void 0||bn,xn=Rt.offset,vn=Rt.position,Fn=Rt.target,jn=Qt(!1),Dn=jn.opened,Xn=jn.toggle,Wn=rt.useRef(),Vn=rt.useMemo(function(){return tn||"".concat(yt())},[]);return rt.createElement("div",{ref:Wn,"aria-expanded":Dn?"true":"false","aria-haspopup":Jt,"aria-controls":"rpv-core__popver-body-".concat(Vn)},Fn(Xn,Dn),Dn&&rt.createElement(rt.Fragment,null,rn&&rt.createElement(yn,{closeOnEscape:un,onClose:Xn}),rt.createElement(on,{ariaControlsSuffix:Vn,closeOnClickOutside:an,offset:xn,position:vn,targetRef:Wn,onClose:Xn},_n(Xn))))},$.PrimaryButton=mt,$.ProgressBar=function(Rt){var Lt=Rt.progress,Jt=rt.useContext(dt).direction===$.TextDirection.RightToLeft;return rt.createElement("div",{className:ct({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Jt})},rt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Lt,"%")}},Lt,"%"))},$.Separator=function(){return rt.createElement("div",{className:"rpv-core__separator"})},$.Spinner=bt,$.Splitter=function(Rt){var Lt=Rt.constrain,Jt=rt.useContext(dt).direction===$.TextDirection.RightToLeft,tn=rt.useRef(),an=rt.useRef(),un=rt.useRef(),_n=rt.useRef(0),bn=rt.useRef(0),rn=rt.useRef(0),xn=rt.useRef(0),vn={capture:!0},Fn=function(Dn){var Xn=tn.current,Wn=an.current,Vn=un.current;if(Xn&&Wn&&Vn){var Rr=xn.current,fr=Dn.clientX-_n.current,mr=rn.current+(Jt?-fr:fr),xr=Xn.parentElement.getBoundingClientRect().width,or=100*mr/xr;if(Xn.classList.add("rpv-core__splitter--resizing"),Lt){var _r=xr-mr-Rr;if(!Lt({firstHalfPercentage:or,firstHalfSize:mr,secondHalfPercentage:100*_r/xr,secondHalfSize:_r}))return}Wn.style.width="".concat(or,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Wn.classList.add("rpv-core__splitter-sibling--resizing"),Vn.classList.add("rpv-core__splitter-sibling--resizing")}},jn=function(Dn){var Xn=tn.current,Wn=an.current,Vn=un.current;Xn&&Wn&&Vn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Xn.classList.remove("rpv-core__splitter--resizing"),Wn.classList.remove("rpv-core__splitter-sibling--resizing"),Vn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Fn,vn),document.removeEventListener("mouseup",jn,vn))};return rt.useEffect(function(){var Dn=tn.current;Dn&&(xn.current=Dn.getBoundingClientRect().width,an.current=Dn.previousElementSibling,un.current=Dn.nextElementSibling)},[]),rt.createElement("div",{ref:tn,className:"rpv-core__splitter",onMouseDown:function(Dn){var Xn=an.current;Xn&&(_n.current=Dn.clientX,bn.current=Dn.clientY,rn.current=Xn.getBoundingClientRect().width,document.addEventListener("mousemove",Fn,vn),document.addEventListener("mouseup",jn,vn))}})},$.TextBox=xt,$.ThemeContext=dt,$.Tooltip=function(Rt){var Lt=Rt.ariaControlsSuffix,Jt=Rt.content,tn=Rt.offset,an=Rt.position,un=Rt.target,_n=Qt(!1),bn=_n.opened,rn=_n.toggle,xn=rt.useRef(),vn=rt.useRef(),Fn=rt.useMemo(function(){return Lt||"".concat(yt())},[]);$t(function(){xn.current&&document.activeElement&&xn.current.contains(document.activeElement)&&Dn()});var jn=function(){rn($.ToggleStatus.Open)},Dn=function(){rn($.ToggleStatus.Close)};return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:xn,"aria-describedby":"rpv-core__tooltip-body-".concat(Fn),onBlur:function(Xn){Xn.relatedTarget instanceof HTMLElement&&Xn.currentTarget.parentElement&&Xn.currentTarget.parentElement.contains(Xn.relatedTarget)?vn.current&&(vn.current.style.display="none"):Dn()},onFocus:jn,onMouseEnter:jn,onMouseLeave:Dn},un),bn&&rt.createElement(Pn,{ariaControlsSuffix:Fn,contentRef:vn,offset:tn,position:an,targetRef:xn},Jt()))},$.Viewer=function(Rt){var Lt=Rt.characterMap,Jt=Rt.defaultScale,tn=Rt.enableSmoothScroll,an=tn===void 0||tn,un=Rt.fileUrl,_n=Rt.httpHeaders,bn=_n===void 0?{}:_n,rn=Rt.initialPage,xn=rn===void 0?0:rn,vn=Rt.pageLayout,Fn=Rt.initialRotation,jn=Fn===void 0?0:Fn,Dn=Rt.localization,Xn=Rt.plugins,Wn=Xn===void 0?[]:Xn,Vn=Rt.renderError,Rr=Rt.renderLoader,fr=Rt.renderPage,mr=Rt.renderProtectedView,xr=Rt.scrollMode,or=xr===void 0?$.ScrollMode.Vertical:xr,_r=Rt.setRenderRange,yr=_r===void 0?Yu:_r,Lr=Rt.transformGetDocumentParams,Or=Rt.theme,Dr=Or===void 0?{direction:$.TextDirection.LeftToRight,theme:"light"}:Or,jr=Rt.viewMode,Ur=jr===void 0?$.ViewMode.SinglePage:jr,ts=Rt.withCredentials,Xr=ts!==void 0&&ts,ns=Rt.onDocumentAskPassword,Jr=Rt.onDocumentLoad,_i=Jr===void 0?function(){}:Jr,es=Rt.onPageChange,Qr=es===void 0?function(){}:es,cs=Rt.onRotate,ys=cs===void 0?function(){}:cs,ms=Rt.onRotatePage,os=ms===void 0?function(){}:ms,us=Rt.onSwitchTheme,vs=us===void 0?function(){}:us,vr=Rt.onZoom,gr=vr===void 0?function(){}:vr,ar=rt.useState({data:un,name:typeof un=="string"?un:"",shouldLoad:!1}),dr=ar[0],lr=ar[1],wr=function(qr,Yr){lr({data:Yr,name:qr,shouldLoad:!0})},kr=rt.useState(!1),hr=kr[0],rr=kr[1],Ar=jt(dr);rt.useEffect(function(){var qr,Yr,is,Vr;qr=Ar.data,Vr=typeof(Yr=un),(is=typeof qr)=="string"&&Vr==="string"&&qr===Yr||is==="object"&&Vr==="object"&&qr.length===Yr.length&&qr.every(function(xs,Ps){return xs===Yr[Ps]})||lr({data:un,name:typeof un=="string"?un:"",shouldLoad:hr})},[un,hr]);var Nr=pt({onVisibilityChanged:function(qr){rr(qr.isVisible),qr.isVisible&&lr(function(Yr){return Object.assign({},Yr,{shouldLoad:!0})})}}),Kr=typeof Dr=="string"?{direction:$.TextDirection.LeftToRight,theme:Dr}:Dr,Hr=rt.useState(Dn||At),as=Hr[0],ds=Hr[1],Tr={l10n:as,setL10n:ds},ls=Object.assign({},{direction:Kr.direction},Xu(Kr.theme||"light",vs));return rt.useEffect(function(){Dn&&ds(Dn)},[Dn]),rt.createElement(Yt.Provider,{value:Tr},rt.createElement(dt.Provider,{value:ls},rt.createElement("div",{ref:Nr,className:"rpv-core__viewer rpv-core__viewer--".concat(ls.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},dr.shouldLoad&&rt.createElement(qu,{characterMap:Lt,file:dr.data,httpHeaders:bn,render:function(qr){return rt.createElement(Gu,{defaultScale:Jt,doc:qr,render:function(Yr,is){return rt.createElement(Wu,{currentFile:{data:dr.data,name:dr.name},defaultScale:Jt,doc:qr,enableSmoothScroll:an,initialPage:xn,initialRotation:jn,initialScale:is,pageLayout:vn,pageSizes:Yr,plugins:Wn,renderPage:fr,scrollMode:or,setRenderRange:yr,viewMode:Ur,viewerState:{file:dr,fullScreenMode:$.FullScreenMode.Normal,pageIndex:-1,pageHeight:Yr[0].pageHeight,pageWidth:Yr[0].pageWidth,pagesRotation:new Map,rotation:jn,scale:is,scrollMode:or,viewMode:Ur},onDocumentLoad:_i,onOpenFile:wr,onPageChange:Qr,onRotate:ys,onRotatePage:os,onZoom:gr})},scrollMode:or,viewMode:Ur})},renderError:Vn,renderLoader:Rr,renderProtectedView:mr,transformGetDocumentParams:Lr,withCredentials:Xr,onDocumentAskPassword:ns}))))},$.Worker=function(Rt){var Lt=Rt.children,Jt=Rt.workerUrl;return it.GlobalWorkerOptions.workerSrc=Jt,rt.createElement(rt.Fragment,null,Lt)},$.chunk=cn,$.classNames=ct,$.createStore=function(Rt){var Lt=Rt||{},Jt={},tn=function(un,_n){var bn;Lt=lt(lt({},Lt),((bn={})[un]=_n,bn)),(Jt[un]||[]).forEach(function(rn){return rn(Lt[un])})},an=function(un){return Lt[un]};return{subscribe:function(un,_n){Jt[un]=(Jt[un]||[]).concat(_n)},unsubscribe:function(un,_n){Jt[un]=(Jt[un]||[]).filter(function(bn){return bn!==_n})},update:function(un,_n){tn(un,_n)},updateCurrentValue:function(un,_n){var bn=an(un);bn!==void 0&&tn(un,_n(bn))},get:function(un){return an(un)}}},$.getDestination=Zn,$.getPage=zn,$.isFullScreenEnabled=kt,$.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},$.useDebounceCallback=qt,$.useIntersectionObserver=pt,$.useIsMounted=zt,$.useIsomorphicLayoutEffect=ft,$.usePrevious=jt,$.useRenderQueue=It})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$e=t$e(reactExports),a$e=function($){var _e=$.files,et=n$e.useRef(),tt=n$e.useContext(e$e.LocalizationContext).l10n,nt=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,rt=n$e.useRef([]),it=tt&&tt.attachment?tt.attachment.clickToDownload:"Click to download",st=function(ot){var at=et.current,lt=[].slice.call(at.getElementsByClassName("rpv-attachment__item"));if(lt.length!==0){lt.forEach(function(ct){return ct.setAttribute("tabindex","-1")});var ut=document.activeElement,dt=lt[Math.min(lt.length-1,Math.max(0,ot(lt,ut)))];dt.setAttribute("tabindex","0"),dt.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var ot=et.current;if(ot){var at=[].slice.call(ot.getElementsByClassName("rpv-attachment__item"));if(rt.current=at,at.length>0){var lt=at[0];lt.focus(),lt.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":nt}),ref:et,tabIndex:-1,onKeyDown:function(ot){switch(ot.key){case"ArrowDown":ot.preventDefault(),st(function(at,lt){return at.indexOf(lt)+1});break;case"ArrowUp":ot.preventDefault(),st(function(at,lt){return at.indexOf(lt)-1});break;case"End":ot.preventDefault(),st(function(at,lt){return at.length-1});break;case"Home":ot.preventDefault(),st(function(at,lt){return 0})}}},_e.map(function(ot){return n$e.createElement("button",{className:"rpv-attachment__item",key:ot.fileName,tabIndex:-1,title:it,type:"button",onClick:function(){return at=ot.fileName,lt=ot.data,ut=typeof lt=="string"?"":URL.createObjectURL(new Blob([lt],{type:""})),(dt=document.createElement("a")).style.display="none",dt.href=ut||at,dt.setAttribute("download",function(ct){var ft=ct.split("/").pop();return ft?ft.split("#")[0].split("?")[0]:ct}(at)),document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),void(ut&&URL.revokeObjectURL(ut));var at,lt,ut,dt}},ot.fileName)}))},r$f=function($){var _e=$.doc,et=n$e.useContext(e$e.LocalizationContext).l10n,tt=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,nt=et&&et.attachment?et.attachment.noAttachment:"There is no attachment",rt=n$e.useState({files:[],isLoaded:!1}),it=rt[0],st=rt[1];return n$e.useEffect(function(){_e.getAttachments().then(function(ot){var at=ot?Object.keys(ot).map(function(lt){return{data:ot[lt].content,fileName:ot[lt].filename}}):[];st({files:at,isLoaded:!0})})},[_e]),it.isLoaded?it.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":tt})},nt):n$e.createElement(a$e,{files:it.files}):n$e.createElement(e$e.Spinner,null)},c$f=function($){var _e=$.store,et=n$e.useState(_e.get("doc")),tt=et[0],nt=et[1],rt=function(it){nt(it)};return n$e.useEffect(function(){return _e.subscribe("doc",rt),function(){_e.unsubscribe("doc",rt)}},[]),tt?n$e.createElement(r$f,{doc:tt}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var $=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function(_e){$.update("doc",_e.doc)},Attachments:function(){return n$e.createElement(c$f,{store:$})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$e,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$e=function($){var _e=$.bookmark,et=$.depth,tt=$.doc,nt=$.index,rt=$.isBookmarkExpanded,it=$.numberOfSiblings,st=$.pathFromRoot,ot=$.renderBookmarkItem,at=$.store,lt=st?"".concat(st,".").concat(nt):"".concat(nt),ut=o$d.useMemo(function(){return function(Ct){var Nt=Ct.count,kt=Ct.items;if(Nt>=0)return!1;var Pt=kt.length;if(Pt===0)return!1;for(var Dt=kt.concat([]);Dt.length>0;){var qt=Dt.shift(),zt=qt.items;qt.count&&zt&&qt.count>0&&zt.length>0&&(Pt+=zt.length,Dt=Dt.concat(zt))}return Math.abs(Nt)===Pt}(_e)},[_e]),dt=at.get("bookmarkExpandedMap"),ct=rt?rt({bookmark:_e,doc:tt,depth:et,index:nt}):dt.has(lt)?dt.get(lt):!ut,ft=o$d.useState(ct),pt=ft[0],gt=ft[1],ht=_e.items&&_e.items.length>0,mt=function(){var Ct=!pt;at.updateCurrentValue("bookmarkExpandedMap",function(Nt){return Nt.set(lt,Ct)}),gt(Ct)},bt=function(){var Ct=_e.dest,Nt=at.get("jumpToDestination");e$d.getDestination(tt,Ct).then(function(kt){Nt&&Nt(n$d({label:_e.title},kt))})},xt=function(){ht&&_e.dest&&bt()},Et=function(){!ht&&_e.dest&&bt()},vt=function(Ct,Nt){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*et,"rem")},onClick:Ct},Nt)},_t=function(Ct,Nt){return ht?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(et,"-").concat(nt),onClick:mt},pt?Ct:Nt):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},wt=function(Ct){return _e.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:_e.url,rel:"noopener noreferrer nofollow",target:_e.newWindow?"_blank":""},_e.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":_e.title,onClick:Ct},_e.title)};return o$d.createElement("li",{"aria-expanded":pt?"true":"false","aria-label":_e.title,"aria-level":et+1,"aria-posinset":nt+1,"aria-setsize":it,role:"treeitem",tabIndex:-1},ot?ot({bookmark:_e,depth:et,hasSubItems:ht,index:nt,isExpanded:pt,path:lt,defaultRenderItem:vt,defaultRenderTitle:wt,defaultRenderToggle:_t,onClickItem:Et,onClickTitle:xt,onToggleSubItems:mt}):vt(Et,o$d.createElement(o$d.Fragment,null,_t(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),wt(xt))),ht&&pt&&o$d.createElement(m$9,{bookmarks:_e.items,depth:et+1,doc:tt,isBookmarkExpanded:rt,isRoot:!1,pathFromRoot:lt,renderBookmarkItem:ot,store:at}))},m$9=function($){var _e=$.bookmarks,et=$.depth,tt=et===void 0?0:et,nt=$.doc,rt=$.isBookmarkExpanded,it=$.isRoot,st=$.pathFromRoot,ot=$.renderBookmarkItem,at=$.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:it?"tree":"group",tabIndex:-1},_e.map(function(lt,ut){return o$d.createElement(c$e,{bookmark:lt,depth:tt,doc:nt,index:ut,isBookmarkExpanded:rt,key:ut,numberOfSiblings:_e.length,pathFromRoot:st,renderBookmarkItem:ot,store:at})}))};(function($){$[$.Collapse=0]="Collapse",$[$.Expand=1]="Expand"})(r$e||(r$e={}));var l$d=function($){var _e=$.bookmarks,et=$.doc,tt=$.isBookmarkExpanded,nt=$.renderBookmarkItem,rt=$.store,it=o$d.useRef(),st=function(ut){var dt=it.current;if(dt&&ut.target instanceof HTMLElement&&dt.contains(ut.target))switch(ut.key){case"ArrowDown":ut.preventDefault(),at(function(ct,ft){return ct.indexOf(ft)+1});break;case"ArrowLeft":ut.preventDefault(),lt(r$e.Collapse);break;case"ArrowRight":ut.preventDefault(),lt(r$e.Expand);break;case"ArrowUp":ut.preventDefault,at(function(ct,ft){return ct.indexOf(ft)-1});break;case"End":ut.preventDefault(),at(function(ct,ft){return ct.length-1});break;case" ":case"Enter":case"Space":ut.preventDefault(),ot();break;case"Home":ut.preventDefault(),at(function(ct,ft){return 0})}},ot=function(){var ut=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");ut&&ut.click()},at=function(ut){var dt=it.current,ct=[].slice.call(dt.getElementsByClassName("rpv-bookmark__item"));if(ct.length!==0){var ft=document.activeElement,pt=ct[Math.min(ct.length-1,Math.max(0,ut(ct,ft)))];ft.setAttribute("tabindex","-1"),pt.setAttribute("tabindex","0"),pt.focus()}},lt=function(ut){var dt=it.current;if([].slice.call(dt.getElementsByClassName("rpv-bookmark__item")).length!==0){var ct=document.activeElement.closest(".rpv-bookmark__item"),ft=ut===r$e.Collapse?"true":"false";if(ct&&ct.parentElement.getAttribute("aria-expanded")===ft){var pt=ct.querySelector(".rpv-bookmark__toggle");pt&&pt.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",st),function(){document.removeEventListener("keydown",st)}},[]),o$d.useEffect(function(){var ut=it.current;if(ut){var dt=[].slice.call(ut.getElementsByClassName("rpv-bookmark__item"));dt.length>0&&(dt[0].focus(),dt[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:it},o$d.createElement(m$9,{bookmarks:_e,depth:0,doc:et,isBookmarkExpanded:tt,isRoot:!0,pathFromRoot:"",renderBookmarkItem:nt,store:rt}))},s$9=function($){var _e=$.doc,et=$.isBookmarkExpanded,tt=$.renderBookmarkItem,nt=$.store,rt=o$d.useContext(e$d.LocalizationContext).l10n,it=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,st=o$d.useState({isLoaded:!1,items:[]}),ot=st[0],at=st[1];return o$d.useEffect(function(){at({isLoaded:!1,items:[]}),_e.getOutline().then(function(lt){at({isLoaded:!0,items:lt||[]})})},[_e]),ot.isLoaded?ot.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":it})},rt&&rt.bookmark?rt.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":it})},o$d.createElement(l$d,{bookmarks:ot.items,doc:_e,isBookmarkExpanded:et,renderBookmarkItem:tt,store:nt})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function($){var _e=$.isBookmarkExpanded,et=$.renderBookmarkItem,tt=$.store,nt=o$d.useState(tt.get("doc")),rt=nt[0],it=nt[1],st=function(ot){it(ot)};return o$d.useEffect(function(){return tt.subscribe("doc",st),function(){tt.unsubscribe("doc",st)}},[]),rt?o$d.createElement(s$9,{doc:rt,isBookmarkExpanded:_e,renderBookmarkItem:et,store:tt}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var $=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(_e){$.update("jumpToDestination",_e.jumpToDestination)},onDocumentLoad:function(_e){$.update("doc",_e.doc)},Bookmarks:function(_e){return o$d.createElement(u$d,{isBookmarkExpanded:_e==null?void 0:_e.isBookmarkExpanded,renderBookmarkItem:_e==null?void 0:_e.renderBookmarkItem,store:$})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function($){var _e=libExports$h;function et(pt){var gt=Object.create(null);return pt&&Object.keys(pt).forEach(function(ht){if(ht!=="default"){var mt=Object.getOwnPropertyDescriptor(pt,ht);Object.defineProperty(gt,ht,mt.get?mt:{enumerable:!0,get:function(){return pt[ht]}})}}),gt.default=pt,Object.freeze(gt)}var tt,nt=et(reactExports);$.ThumbnailDirection=void 0,(tt=$.ThumbnailDirection||($.ThumbnailDirection={})).Horizontal="Horizontal",tt.Vertical="Vertical";var rt=function(){return rt=Object.assign||function(pt){for(var gt,ht=1,mt=arguments.length;ht<mt;ht++)for(var bt in gt=arguments[ht])Object.prototype.hasOwnProperty.call(gt,bt)&&(pt[bt]=gt[bt]);return pt},rt.apply(this,arguments)},it=function(pt){var gt=pt.doc,ht=pt.getPageIndex,mt=pt.renderSpinner,bt=pt.store,xt=pt.width,Et=gt.numPages,vt=ht?ht({numPages:Et}):0,_t=Math.max(0,Math.min(vt,Et-1)),wt=bt.get("pagesRotation")||new Map,Ct=wt.has(_t)?wt.get(_t):0,Nt=nt.useState(""),kt=Nt[0],Pt=Nt[1],Dt=_e.useIsMounted(),qt=nt.useRef(),zt=nt.useState(bt.get("rotation")||0),jt=zt[0],Ft=zt[1],Bt=nt.useState(Ct),It=Bt[0],At=Bt[1],Yt=nt.useState(!1),Ot=Yt[0],yt=Yt[1],Tt=function(Ht){var Wt=Ht.has(_t)?Ht.get(_t):0;At(Wt)},$t=function(Ht){Ft(Ht)},Ut=_e.useIntersectionObserver({onVisibilityChanged:function(Ht){yt(Ht.isVisible)}});return nt.useEffect(function(){if(Ot){var Ht=Ut.current;Ht&&(Pt(""),_e.getPage(gt,_t).then(function(Wt){var Qt=Wt.getViewport({scale:1}),mn=(Qt.rotation+jt+It)%360,fn=Math.abs(jt+It)%180==0,En=fn?Qt.width:Qt.height,kn=fn?Qt.height:Qt.width,Tn=document.createElement("canvas"),An=Tn.getContext("2d",{alpha:!1}),sn=Ht.clientWidth,dn=Ht.clientHeight,Mt=xt?xt/En:Math.min(sn/En,dn/kn),Vt=Mt*En,nn=Mt*kn;Tn.height=nn,Tn.width=Vt,Tn.style.opacity="0";var on=Wt.getViewport({rotation:mn,scale:Mt});qt.current=Wt.render({canvasContext:An,viewport:on}),qt.current.promise.then(function(){Dt.current&&Pt(Tn.toDataURL()),Tn.width=0,Tn.height=0},function(){})}))}},[It,Ot]),nt.useEffect(function(){return bt.subscribe("pagesRotation",Tt),bt.subscribe("rotation",$t),function(){bt.unsubscribe("pagesRotation",Tt),bt.unsubscribe("rotation",$t)}},[]),nt.useEffect(function(){return function(){var Ht;(Ht=qt.current)===null||Ht===void 0||Ht.cancel()}},[]),nt.createElement("div",{ref:Ut,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},kt?nt.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:kt}):nt.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},mt?mt():nt.createElement(_e.Spinner,null)))},st=function(pt){var gt=pt.getPageIndex,ht=pt.renderSpinner,mt=pt.store,bt=pt.width,xt=nt.useState(mt.get("doc")),Et=xt[0],vt=xt[1],_t=function(wt){vt(wt)};return nt.useEffect(function(){return mt.subscribe("doc",_t),function(){mt.unsubscribe("doc",_t)}},[]),nt.createElement("div",{className:"rpv-thumbnail__cover"},Et?nt.createElement(it,{doc:Et,getPageIndex:gt,renderSpinner:ht,store:mt,width:bt}):nt.createElement("div",{className:"rpv-thumbnail__cover-loader"},ht?ht():nt.createElement(_e.Spinner,null)))},ot=function(){return nt.createElement(_e.Spinner,null)},at=nt.createContext({renderSpinner:ot}),lt=function(pt){var gt=pt.children,ht=pt.doc,mt=_e.useIsMounted(),bt=nt.useState({loading:!0,labels:[]}),xt=bt[0],Et=bt[1];return nt.useEffect(function(){ht.getPageLabels().then(function(vt){mt.current&&Et({loading:!1,labels:vt||[]})})},[ht.loadingTask.docId]),xt.loading?nt.createElement(nt.Fragment,null):gt(xt.labels)},ut=function(pt){var gt=pt.page,ht=pt.pageHeight,mt=pt.pageIndex,bt=pt.pageWidth,xt=pt.rotation,Et=pt.thumbnailHeight,vt=pt.thumbnailWidth,_t=pt.onRenderCompleted,wt=nt.useContext(_e.LocalizationContext).l10n,Ct=nt.useRef(),Nt=nt.useState(""),kt=Nt[0],Pt=Nt[1],Dt=wt&&wt.thumbnail?wt.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return nt.useEffect(function(){var qt=Ct.current;qt&&qt.cancel();var zt=document.createElement("canvas"),jt=zt.getContext("2d",{alpha:!1}),Ft=vt,Bt=Ft/(bt/ht),It=Ft/bt;zt.height=Bt,zt.width=Ft,zt.style.height="".concat(Bt,"px"),zt.style.width="".concat(Ft,"px");var At=gt.getViewport({rotation:xt,scale:It});return Ct.current=gt.render({canvasContext:jt,viewport:At}),Ct.current.promise.then(function(){Pt(zt.toDataURL()),_t(mt)},function(){_t(mt)}),function(){var Yt;(Yt=Ct.current)===null||Yt===void 0||Yt.cancel()}},[xt]),kt?nt.createElement("img",{"aria-label":Dt.replace("{{pageIndex}}","".concat(mt+1)),src:kt,height:"".concat(Et,"px"),width:"".concat(vt,"px")}):nt.useContext(at).renderSpinner()},dt=function(pt){var gt=pt.doc,ht=pt.pageHeight,mt=pt.pageIndex,bt=pt.pageRotation,xt=pt.pageWidth,Et=pt.rotation,vt=pt.shouldRender,_t=pt.thumbnailWidth,wt=pt.onRenderCompleted,Ct=pt.onVisibilityChanged,Nt=_e.useIsMounted(),kt=nt.useState({height:ht,page:null,viewportRotation:0,width:xt}),Pt=kt[0],Dt=kt[1],qt=Pt.page,zt=Pt.height,jt=Pt.width,Ft=jt/zt,Bt=Math.abs(Et+bt)%180==0,It=Bt?_t:_t/Ft,At=Bt?_t/Ft:_t;nt.useEffect(function(){vt&&_e.getPage(gt,mt).then(function(yt){var Tt=yt.getViewport({scale:1});Nt.current&&Dt({height:Tt.height,page:yt,viewportRotation:Tt.rotation,width:Tt.width})})},[vt]);var Yt=(Pt.viewportRotation+Et+bt)%360,Ot=_e.useIntersectionObserver({onVisibilityChanged:function(yt){Ct(mt,yt)}});return nt.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(mt),ref:Ot,style:{height:"".concat(At,"px"),width:"".concat(It,"px")}},qt?nt.createElement(ut,{page:qt,pageHeight:Bt?zt:jt,pageIndex:mt,pageWidth:Bt?jt:zt,rotation:Yt,thumbnailHeight:At,thumbnailWidth:It,onRenderCompleted:wt}):nt.useContext(at).renderSpinner())},ct=function(pt){var gt=pt.currentPage,ht=pt.doc,mt=pt.labels,bt=pt.pagesRotation,xt=pt.pageHeight,Et=pt.pageWidth,vt=pt.renderCurrentPageLabel,_t=pt.renderThumbnailItem,wt=pt.rotatedPage,Ct=pt.rotation,Nt=pt.thumbnailDirection,kt=pt.thumbnailWidth,Pt=pt.viewMode,Dt=pt.onJumpToPage,qt=pt.onRotatePage,zt=ht.numPages,jt=ht.loadingTask.docId,Ft=nt.useRef(null),Bt=nt.useRef([]),It=nt.useState(gt),At=It[0],Yt=It[1],Ot=nt.useContext(_e.ThemeContext).direction===_e.TextDirection.RightToLeft,yt=nt.useState(-1),Tt=yt[0],$t=yt[1],Ut=_e.useIsMounted(),Ht=_e.usePrevious(Pt),Wt=nt.useRef(!1),Qt=_e.useRenderQueue({doc:ht}),mn=nt.useMemo(function(){return Array(zt).fill(0).map(function(Mt,Vt){return Vt})},[jt]),fn=nt.useMemo(function(){switch(Pt){case _e.ViewMode.DualPage:return _e.chunk(mn,2);case _e.ViewMode.DualPageWithCover:return[[mn[0]]].concat(_e.chunk(mn.slice(1),2));case _e.ViewMode.SinglePage:default:return _e.chunk(mn,1)}},[jt,Pt]),En=function(){if(Ft.current){var Mt=Bt.current,Vt=At+1;Vt<Mt.length&&(At>=0&&Mt[At].setAttribute("tabindex","-1"),Yt(Vt))}},kn=function(){if(Ft.current){var Mt=Bt.current,Vt=At-1;Vt>=0&&(At>=0&&Mt[At].setAttribute("tabindex","-1"),Yt(Vt))}},Tn=function(){At>=0&&At<zt&&Dt(At)};_e.useIsomorphicLayoutEffect(function(){var Mt=Ft.current;Mt&&(Bt.current=Array.from(Mt.querySelectorAll(".rpv-thumbnail__item")))},[Pt]),nt.useEffect(function(){var Mt=Bt.current;if(!(Mt.length===0||At<0||At>Mt.length)){var Vt=Mt[At];Vt.setAttribute("tabindex","0"),Vt.focus()}},[At]),_e.useIsomorphicLayoutEffect(function(){var Mt=Ft.current,Vt=Bt.current;if(!(!Mt||Vt.length===0||gt<0||gt>Vt.length)){var nn=Vt[gt].closest(".rpv-thumbnail__items");nn&&(Nt===$.ThumbnailDirection.Vertical?function(on,yn){var Pn=on.getBoundingClientRect().top-yn.getBoundingClientRect().top,Nn=on.clientHeight,cn=yn.clientHeight;Pn<0?yn.scrollTop+=Pn:Pn+Nn<=cn||(yn.scrollTop+=Pn+Nn-cn)}(nn,Mt):function(on,yn){var Pn=on.getBoundingClientRect().left-yn.getBoundingClientRect().left,Nn=on.clientWidth,cn=yn.clientWidth;Pn<0?yn.scrollLeft+=Pn:Pn+Nn<=cn||(yn.scrollLeft+=Pn+Nn-cn)}(nn,Mt))}},[gt,Nt]);var An=nt.useCallback(function(Mt){Ut.current&&(Qt.markRendered(Mt),Wt.current=!1,dn())},[jt]),sn=nt.useCallback(function(Mt,Vt){Vt.isVisible?Qt.setVisibility(Mt,Vt.ratio):Qt.setOutOfRange(Mt),dn()},[jt]),dn=nt.useCallback(function(){if(!Wt.current){var Mt=Qt.getHighestPriorityPage();Mt>-1&&(Qt.markRendering(Mt),Wt.current=!0,$t(Mt))}},[jt]);return nt.useEffect(function(){wt>=0&&(Qt.markRendering(wt),Wt.current=!0,$t(wt))},[jt,wt]),_e.useIsomorphicLayoutEffect(function(){Ht!==Pt&&(Qt.markNotRendered(),dn())},[Pt]),nt.createElement("div",{ref:Ft,"data-testid":"thumbnail__list",className:_e.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Nt===$.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":Ot,"rpv-thumbnail__list--vertical":Nt===$.ThumbnailDirection.Vertical}),onKeyDown:function(Mt){switch(Mt.key){case"ArrowDown":En();break;case"ArrowUp":kn();break;case"Enter":Tn()}}},fn.map(function(Mt,Vt){var nn=!1;switch(Pt){case _e.ViewMode.DualPage:nn=gt===2*Vt||gt===2*Vt+1;break;case _e.ViewMode.DualPageWithCover:nn=gt===0&&Vt===0||Vt>0&&gt===2*Vt-1||Vt>0&&gt===2*Vt;break;case _e.ViewMode.SinglePage:default:nn=gt===Vt}return nt.createElement("div",{className:_e.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Pt===_e.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Pt===_e.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Pt===_e.ViewMode.SinglePage,"rpv-thumbnail__items--selected":nn}),key:"".concat(Vt,"___").concat(Pt)},Mt.map(function(on){return function(yn){var Pn=Pt===_e.ViewMode.DualPageWithCover&&(yn===0||zt%2==0&&yn===zt-1),Nn="".concat(ht.loadingTask.docId,"___").concat(yn),cn=mt.length===zt?mt[yn]:"".concat(yn+1),Kt=vt?vt({currentPage:gt,pageIndex:yn,numPages:zt,pageLabel:cn}):cn,en=bt.has(yn)?bt.get(yn):0,$n=nt.createElement(dt,{doc:ht,pageHeight:xt,pageIndex:yn,pageRotation:en,pageWidth:Et,rotation:Ct,shouldRender:Tt===yn,thumbnailWidth:kt,onRenderCompleted:An,onVisibilityChanged:sn});return _t?_t({currentPage:gt,key:Nn,numPages:zt,pageIndex:yn,renderPageLabel:nt.createElement(nt.Fragment,null,Kt),renderPageThumbnail:$n,onJumpToPage:function(){return Dt(yn)},onRotatePage:function(Ln){return qt(yn,Ln)}}):nt.createElement("div",{key:Nn},nt.createElement("div",{className:_e.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Pt===_e.ViewMode.DualPage&&yn%2==0,"rpv-thumbnail__item--dual-odd":Pt===_e.ViewMode.DualPage&&yn%2==1,"rpv-thumbnail__item--dual-cover":Pn,"rpv-thumbnail__item--dual-cover-even":Pt===_e.ViewMode.DualPageWithCover&&!Pn&&yn%2==0,"rpv-thumbnail__item--dual-cover-odd":Pt===_e.ViewMode.DualPageWithCover&&!Pn&&yn%2==1,"rpv-thumbnail__item--single":Pt===_e.ViewMode.SinglePage,"rpv-thumbnail__item--selected":gt===yn}),role:"button",tabIndex:gt===yn?0:-1,onClick:function(){return Dt(yn)}},$n),nt.createElement("div",{"data-testid":"thumbnail__label-".concat(yn),className:"rpv-thumbnail__label"},Kt))}(on)}))}))},ft=function(pt){var gt=pt.renderCurrentPageLabel,ht=pt.renderThumbnailItem,mt=pt.store,bt=pt.thumbnailDirection,xt=pt.thumbnailWidth,Et=nt.useState(mt.get("doc")),vt=Et[0],_t=Et[1],wt=nt.useState(mt.get("currentPage")||0),Ct=wt[0],Nt=wt[1],kt=nt.useState(mt.get("pageHeight")||0),Pt=kt[0],Dt=kt[1],qt=nt.useState(mt.get("pageWidth")||0),zt=qt[0],jt=qt[1],Ft=nt.useState(mt.get("rotation")||0),Bt=Ft[0],It=Ft[1],At=nt.useState(mt.get("pagesRotation")||new Map),Yt=At[0],Ot=At[1],yt=nt.useState(mt.get("rotatedPage")||-1),Tt=yt[0],$t=yt[1],Ut=nt.useState(mt.get("viewMode")),Ht=Ut[0],Wt=Ut[1],Qt=function(Vt){Nt(Vt)},mn=function(Vt){_t(Vt)},fn=function(Vt){Dt(Vt)},En=function(Vt){jt(Vt)},kn=function(Vt){It(Vt)},Tn=function(Vt){Ot(Vt)},An=function(Vt){$t(Vt)},sn=function(Vt){Wt(Vt)},dn=function(Vt){var nn=mt.get("jumpToPage");nn&&nn(Vt)},Mt=function(Vt,nn){mt.get("rotatePage")(Vt,nn)};return nt.useEffect(function(){return mt.subscribe("doc",mn),mt.subscribe("pageHeight",fn),mt.subscribe("pageWidth",En),mt.subscribe("rotatedPage",An),mt.subscribe("rotation",kn),mt.subscribe("pagesRotation",Tn),mt.subscribe("viewMode",sn),function(){mt.unsubscribe("doc",mn),mt.unsubscribe("pageHeight",fn),mt.unsubscribe("pageWidth",En),mt.unsubscribe("rotatedPage",An),mt.unsubscribe("rotation",kn),mt.unsubscribe("pagesRotation",Tn),mt.unsubscribe("viewMode",sn)}},[]),_e.useIsomorphicLayoutEffect(function(){return mt.subscribe("currentPage",Qt),function(){mt.unsubscribe("currentPage",Qt)}},[]),vt?nt.createElement(_e.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},nt.createElement(lt,{doc:vt},function(Vt){return nt.createElement(ct,{currentPage:Ct,doc:vt,labels:Vt,pagesRotation:Yt,pageHeight:Pt,pageWidth:zt,renderCurrentPageLabel:gt,renderThumbnailItem:ht,rotatedPage:Tt,rotation:Bt,thumbnailDirection:bt,thumbnailWidth:xt,viewMode:Ht,onJumpToPage:dn,onRotatePage:Mt})})):nt.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},nt.useContext(at).renderSpinner())};$.thumbnailPlugin=function(pt){var gt=nt.useMemo(function(){return _e.createStore({rotatePage:function(){},viewMode:_e.ViewMode.SinglePage})},[]),ht=nt.useState(""),mt=ht[0],bt=ht[1];return{install:function(xt){gt.update("jumpToPage",xt.jumpToPage),gt.update("rotatePage",xt.rotatePage)},onDocumentLoad:function(xt){bt(xt.doc.loadingTask.docId),gt.update("doc",xt.doc)},onViewerStateChange:function(xt){return gt.update("currentPage",xt.pageIndex),gt.update("pagesRotation",xt.pagesRotation),gt.update("pageHeight",xt.pageHeight),gt.update("pageWidth",xt.pageWidth),gt.update("rotation",xt.rotation),gt.update("rotatedPage",xt.rotatedPage),gt.update("viewMode",xt.viewMode),xt},Cover:function(xt){return nt.createElement(st,rt({},xt,{renderSpinner:pt==null?void 0:pt.renderSpinner,store:gt}))},Thumbnails:nt.useCallback(function(xt){return nt.createElement(at.Provider,{value:{renderSpinner:(pt==null?void 0:pt.renderSpinner)||ot}},nt.createElement(ft,{renderCurrentPageLabel:pt==null?void 0:pt.renderCurrentPageLabel,renderThumbnailItem:xt==null?void 0:xt.renderThumbnailItem,store:gt,thumbnailDirection:(xt==null?void 0:xt.thumbnailDirection)||$.ThumbnailDirection.Vertical,thumbnailWidth:(pt==null?void 0:pt.thumbnailWidth)||100}))},[mt])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function($){var _e=libExports$h;function et(ft){var pt=Object.create(null);return ft&&Object.keys(ft).forEach(function(gt){if(gt!=="default"){var ht=Object.getOwnPropertyDescriptor(ft,gt);Object.defineProperty(pt,gt,ht.get?ht:{enumerable:!0,get:function(){return ft[gt]}})}}),pt.default=ft,Object.freeze(pt)}var tt,nt=et(reactExports),rt=function(){return nt.createElement(_e.Icon,{size:16},nt.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},it=function(){return it=Object.assign||function(ft){for(var pt,gt=1,ht=arguments.length;gt<ht;gt++)for(var mt in pt=arguments[gt])Object.prototype.hasOwnProperty.call(pt,mt)&&(ft[mt]=pt[mt]);return ft},it.apply(this,arguments)};$.SelectionMode=void 0,(tt=$.SelectionMode||($.SelectionMode={})).Hand="Hand",tt.Text="Text";var st=function(){return nt.createElement(_e.Icon,{size:16},nt.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},ot=function(ft){var pt=ft.children,gt=ft.mode,ht=ft.onClick,mt=nt.useContext(_e.LocalizationContext).l10n,bt="",xt=nt.createElement(st,null);switch(gt){case $.SelectionMode.Hand:bt=mt&&mt.selectionMode?mt.selectionMode.handTool:"Hand tool",xt=nt.createElement(rt,null);break;case $.SelectionMode.Text:default:bt=mt&&mt.selectionMode?mt.selectionMode.textSelectionTool:"Text selection tool",xt=nt.createElement(st,null)}return pt({icon:xt,label:bt,onClick:ht})},at={left:0,top:8},lt=function(ft){var pt=ft.isSelected,gt=ft.mode,ht=ft.onClick,mt="";switch(gt){case $.SelectionMode.Hand:mt="selection-mode__hand-button";break;case $.SelectionMode.Text:default:mt="selection-mode__text-button"}return nt.createElement(ot,{mode:gt,onClick:ht},function(bt){return nt.createElement(_e.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:_e.Position.BottomCenter,target:nt.createElement(_e.MinimalButton,{ariaLabel:bt.label,isSelected:pt,testId:mt,onClick:bt.onClick},bt.icon),content:function(){return bt.label},offset:at})})},ut=function(ft){var pt=ft.children,gt=ft.mode,ht=ft.store,mt=gt===ht.get("selectionMode");return(pt||function(bt){return nt.createElement(lt,{isSelected:mt,mode:bt.mode,onClick:bt.onClick})})({isSelected:mt,mode:gt,onClick:function(){return ht.update("selectionMode",gt)}})},dt=function(ft){var pt=ft.isSelected,gt=ft.mode,ht=ft.onClick,mt="";switch(gt){case $.SelectionMode.Hand:mt="selection-mode__hand-menu";break;case $.SelectionMode.Text:default:mt="selection-mode__text-menu"}return nt.createElement(ot,{mode:gt,onClick:ht},function(bt){return nt.createElement(_e.MenuItem,{checked:pt,icon:bt.icon,testId:mt,onClick:bt.onClick},bt.label)})},ct=function(ft){var pt=ft.store,gt=nt.useRef(null),ht=nt.useState($.SelectionMode.Text),mt=ht[0],bt=ht[1],xt=nt.useRef({top:0,left:0,x:0,y:0}),Et=function(Nt){var kt=gt.current;kt&&(kt.scrollTop=xt.current.top-(Nt.clientY-xt.current.y),kt.scrollLeft=xt.current.left-(Nt.clientX-xt.current.x))},vt=function(){var Nt=gt.current;Nt&&(Nt.classList.add("rpv-selection-mode__grab"),Nt.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",Et),document.removeEventListener("mouseup",vt))},_t=function(Nt){var kt=gt.current;kt&&mt!==$.SelectionMode.Text&&(kt.classList.remove("rpv-selection-mode__grab"),kt.classList.add("rpv-selection-mode__grabbing"),Nt.preventDefault(),Nt.stopPropagation(),xt.current={left:kt.scrollLeft,top:kt.scrollTop,x:Nt.clientX,y:Nt.clientY},document.addEventListener("mousemove",Et),document.addEventListener("mouseup",vt))},wt=function(Nt){gt.current=Nt()},Ct=function(Nt){bt(Nt)};return nt.useEffect(function(){var Nt=gt.current;if(Nt)return mt===$.SelectionMode.Hand?Nt.classList.add("rpv-selection-mode__grab"):Nt.classList.remove("rpv-selection-mode__grab"),Nt.addEventListener("mousedown",_t),function(){Nt.removeEventListener("mousedown",_t)}},[mt]),nt.useEffect(function(){return pt.subscribe("getPagesContainer",wt),pt.subscribe("selectionMode",Ct),function(){pt.unsubscribe("getPagesContainer",wt),pt.unsubscribe("selectionMode",Ct)}},[]),nt.createElement(nt.Fragment,null)};$.HandToolIcon=rt,$.TextSelectionIcon=st,$.selectionModePlugin=function(ft){var pt=nt.useMemo(function(){return _e.createStore()},[]),gt=function(ht){return nt.createElement(ut,it({},ht,{store:pt}))};return{install:function(ht){pt.update("selectionMode",ft&&ft.selectionMode?ft.selectionMode:$.SelectionMode.Text),pt.update("getPagesContainer",ht.getPagesContainer)},renderViewer:function(ht){var mt=ht.slot;return mt.subSlot&&mt.subSlot.children&&(mt.subSlot.children=nt.createElement(nt.Fragment,null,nt.createElement(ct,{store:pt}),mt.subSlot.children)),mt},SwitchSelectionMode:gt,SwitchSelectionModeButton:function(ht){return nt.createElement(gt,{mode:ht.mode},function(mt){return nt.createElement(lt,{isSelected:mt.isSelected,mode:mt.mode,onClick:function(){mt.onClick()}})})},SwitchSelectionModeMenuItem:function(ht){return nt.createElement(gt,{mode:ht.mode},function(mt){return nt.createElement(dt,{isSelected:mt.isSelected,mode:mt.mode,onClick:function(){mt.onClick(),ht.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$c=t$c(reactExports),r$d=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$d=function(){return c$d=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$d.apply(this,arguments)},u$c={left:0,top:8},o$c=function($){var _e=$.enableShortcuts,et=$.onClick,tt=n$c.useContext(e$c.LocalizationContext).l10n,nt=tt&&tt.fullScreen?tt.fullScreen.enterFullScreen:"Full screen",rt=_e?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:et},n$c.createElement(l$c,null)),content:function(){return nt},offset:u$c})},i$c={left:0,top:8},a$c=function($){var _e=$.onClick,et=n$c.useContext(e$c.LocalizationContext).l10n,tt=et&&et.fullScreen?et.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:tt,testId:"full-screen__exit-button-with-tooltip",onClick:_e},n$c.createElement(r$d,null)),content:function(){return tt},offset:i$c})},f$9=function($,_e){var et=n$c.useState(_e.get("fullScreenMode")),tt=et[0],nt=et[1],rt=n$c.useCallback(function(it){nt(it)},[]);return n$c.useEffect(function(){return _e.subscribe("fullScreenMode",rt),function(){_e.unsubscribe("fullScreenMode",rt)}},[]),{enterFullScreen:function(){var it=_e.get("getPagesContainer");if(it){var st=$(it());_e.get("enterFullScreenMode")(st)}},exitFullScreen:function(){_e.get("exitFullScreenMode")()},isFullScreen:tt===e$c.FullScreenMode.Entering||tt===e$c.FullScreenMode.EnteredCompletely}},s$8=function($){var _e=$.children,et=$.enableShortcuts,tt=$.getFullScreenTarget,nt=$.store,rt=f$9(tt,nt),it=rt.enterFullScreen,st=rt.exitFullScreen,ot=rt.isFullScreen;return(_e||function(at){return ot?n$c.createElement(a$c,{onClick:at.onClick}):n$c.createElement(o$c,{enableShortcuts:et,onClick:at.onClick})})({onClick:ot?st:it})},S$4=function($){var _e=$.onClick,et=n$c.useContext(e$c.LocalizationContext).l10n,tt=et&&et.fullScreen?et.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:_e},tt)},d$9=function($){var _e=$.onClick,et=n$c.useContext(e$c.LocalizationContext).l10n,tt=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,nt=et&&et.fullScreen?et.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!tt,"rpv-full-screen__exit-button--rtl":tt})},n$c.createElement(e$c.MinimalButton,{ariaLabel:nt,testId:"full-screen__exit-button",onClick:_e},n$c.createElement(r$d,null)))},m$8=function($){var _e=$.children,et=$.getFullScreenTarget,tt=$.store,nt=f$9(et,tt),rt=nt.enterFullScreen,it=nt.exitFullScreen,st=nt.isFullScreen;return st&&(_e||function(ot){return n$c.createElement(d$9,{onClick:ot.onClick})})({onClick:st?it:rt})},E$5=function($){var _e=$.store,et=$.onEnterFullScreen,tt=$.onExitFullScreen,nt=n$c.useState(_e.get("fullScreenMode")),rt=nt[0],it=nt[1],st=n$c.useCallback(function(ot){it(ot)},[]);return n$c.useEffect(function(){switch(rt){case e$c.FullScreenMode.EnteredCompletely:et(_e.get("zoom"));break;case e$c.FullScreenMode.Exited:tt(_e.get("zoom"))}},[rt]),n$c.useEffect(function(){return _e.subscribe("fullScreenMode",st),function(){_e.unsubscribe("fullScreenMode",st)}},[]),(rt===e$c.FullScreenMode.Entering||rt===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function($){var _e=$.containerRef,et=$.getFullScreenTarget,tt=$.store,nt=f$9(et,tt).enterFullScreen,rt=function(it){if(!it.shiftKey&&!it.altKey&&(e$c.isMac()?it.metaKey&&it.ctrlKey&&it.key==="f":it.key==="F11")){var st=_e.current;st&&document.activeElement&&st.contains(document.activeElement)&&(it.preventDefault(),nt())}};return n$c.useEffect(function(){if(_e.current)return document.addEventListener("keydown",rt),function(){document.removeEventListener("keydown",rt)}},[_e.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$d,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function($){var _e=($==null?void 0:$.getFullScreenTarget)||function(it){return it},et=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},$)},[]),tt=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),nt=function(it){return n$c.createElement(s$8,c$d({},it,{enableShortcuts:et.enableShortcuts,getFullScreenTarget:_e,store:tt}))},rt=function(){return n$c.createElement(m$8,{getFullScreenTarget:_e,store:tt},$==null?void 0:$.renderExitFullScreenButton)};return{install:function(it){tt.update("enterFullScreenMode",it.enterFullScreenMode),tt.update("exitFullScreenMode",it.exitFullScreenMode),tt.update("getPagesContainer",it.getPagesContainer),tt.update("zoom",it.zoom)},onViewerStateChange:function(it){return tt.update("fullScreenMode",it.fullScreenMode),it},renderViewer:function(it){var st=it.slot;return st.subSlot&&(st.subSlot.children=n$c.createElement(n$c.Fragment,null,et.enableShortcuts&&n$c.createElement(F,{containerRef:it.containerRef,getFullScreenTarget:_e,store:tt}),n$c.createElement(E$5,{store:tt,onEnterFullScreen:et.onEnterFullScreen,onExitFullScreen:et.onExitFullScreen}),n$c.createElement(rt,null),st.subSlot.children)),st},EnterFullScreen:nt,EnterFullScreenButton:function(){return n$c.createElement(nt,null,function(it){return n$c.createElement(o$c,c$d({enableShortcuts:et.enableShortcuts},it))})},EnterFullScreenMenuItem:function(it){return n$c.createElement(nt,null,function(st){return n$c.createElement(S$4,{onClick:function(){st.onClick(),it.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$c=function(){return r$c=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},r$c.apply(this,arguments)},i$b={left:0,top:8},a$b=function($){var _e=$.onClick,et=n$b.useContext(e$b.LocalizationContext).l10n,tt=et&&et.download?et.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:tt,testId:"get-file__download-button",onClick:_e},n$b.createElement(o$b,null)),content:function(){return tt},offset:i$b})},c$c=function($,_e){var et=document.createElement("a");et.style.display="none",et.href=$,et.setAttribute("download",_e),document.body.appendChild(et),et.click(),document.body.removeChild(et)},l$b=function($,_e,et){var tt=URL.createObjectURL(new Blob([$],{type:et}));c$c(tt,_e),tt&&URL.revokeObjectURL(tt)},u$b=function($,_e){$.getData().then(function(et){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(et,_e,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$c("data:application/pdf;base64,".concat(function(tt){return btoa(Array(tt.length).fill("").map(function(nt,rt){return String.fromCharCode(tt[rt])}).join(""))}(et)),_e):l$b(et,_e,"application/pdf")})},f$8=function($){var _e=$.children,et=$.fileNameGenerator,tt=$.store,nt=n$b.useState(tt.get("file")),rt=nt[0],it=nt[1],st=n$b.useState(tt.get("doc")),ot=st[0],at=st[1],lt=function(dt){at(dt)},ut=function(dt){it(dt)};return n$b.useEffect(function(){return tt.subscribe("doc",lt),tt.subscribe("file",ut),function(){tt.subscribe("doc",lt),tt.unsubscribe("file",ut)}},[]),(_e||function(dt){return n$b.createElement(a$b,{onClick:dt.onClick})})({onClick:function(){ot&&rt&&u$b(ot,et(rt))}})},d$8=function($){var _e=$.onClick,et=n$b.useContext(e$b.LocalizationContext).l10n,tt=et&&et.download?et.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:_e},tt)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function($){var _e=n$b.useMemo(function(){return e$b.createStore({})},[]),et=function(nt){return nt.name?(rt=nt.name,(it=rt.split("/").pop())?it.split("#")[0].split("?")[0]:rt):"document.pdf";var rt,it},tt=function(nt){return n$b.createElement(f$8,r$c({},nt,{fileNameGenerator:$&&$.fileNameGenerator||et,store:_e}))};return{onDocumentLoad:function(nt){_e.update("doc",nt.doc),_e.update("file",nt.file)},Download:tt,DownloadButton:function(){return n$b.createElement(tt,null,function(nt){return n$b.createElement(a$b,r$c({},nt))})},DownloadMenuItem:function(nt){return n$b.createElement(tt,null,function(rt){return n$b.createElement(d$8,{onClick:function(){rt.onClick(),nt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$a=t$a(reactExports),r$b=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$a.apply(this,arguments)},i$a=function($){var _e=n$a.useRef(),et=function(){var nt=_e.current;nt&&(nt.click(),$.get("triggerOpenFile")&&$.update("triggerOpenFile",!1))},tt=function(nt){nt&&et()};return n$a.useEffect(function(){return $.subscribe("triggerOpenFile",tt),function(){$.unsubscribe("triggerOpenFile",tt)}},[]),{inputRef:_e,openFile:et}},c$b={left:0,top:8},u$a=function($){var _e=$.enableShortcuts,et=$.store,tt=$.onClick,nt=n$a.useContext(e$a.LocalizationContext).l10n,rt=nt&&nt.open?nt.open.openFile:"Open file",it=i$a(et),st=it.inputRef,ot=it.openFile,at=_e?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:st,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:tt}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:at,ariaLabel:rt,testId:"open__button",onClick:ot},n$a.createElement(r$b,null))),content:function(){return rt},offset:c$b})},a$a=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store;return(_e||function(nt){return n$a.createElement(u$a,{enableShortcuts:et,store:tt,onClick:nt.onClick})})({onClick:function(nt){var rt=nt.target.files;if(rt&&rt.length){var it=tt.get("openFile");it&&it(rt[0])}}})},l$a=function($){var _e=$.store,et=$.onClick,tt=n$a.useContext(e$a.LocalizationContext).l10n,nt=tt&&tt.open?tt.open.openFile:"Open file",rt=i$a(_e),it=rt.inputRef,st=rt.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$b,null),testId:"open__menu",onClick:st},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:it,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:et}),nt))},p$8=function($){var _e=$.containerRef,et=$.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&nt.key==="o"&&(e$a.isMac()?nt.metaKey:nt.ctrlKey)){var rt=_e.current;rt&&document.activeElement&&rt.contains(document.activeElement)&&(nt.preventDefault(),et.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if(_e.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[_e.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$b,open_min.openPlugin=function($){var _e=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},$)},[]),et=n$a.useMemo(function(){return e$a.createStore({})},[]),tt=function(nt){return n$a.createElement(a$a,o$a({enableShortcuts:_e.enableShortcuts},nt,{store:et}))};return{install:function(nt){et.update("openFile",nt.openFile)},renderViewer:function(nt){var rt=nt.slot,it={children:n$a.createElement(n$a.Fragment,null,_e.enableShortcuts&&n$a.createElement(p$8,{containerRef:nt.containerRef,store:et}),rt.children)};return o$a(o$a({},rt),it)},Open:tt,OpenButton:function(){return n$a.createElement(tt,null)},OpenMenuItem:function(){return n$a.createElement(tt,null,function(nt){return n$a.createElement(l$a,{store:et,onClick:nt.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$a=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$9.apply(this,arguments)},i$9=function($){var _e=n$9.useState($.get("currentPage")||0),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return e$9.useIsomorphicLayoutEffect(function(){return $.subscribe("currentPage",nt),function(){$.unsubscribe("currentPage",nt)}},[]),{currentPage:et}},u$9=function($){var _e=n$9.useState($.get("numberOfPages")||0),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return n$9.useEffect(function(){return $.subscribe("numberOfPages",nt),function(){$.unsubscribe("numberOfPages",nt)}},[]),{numberOfPages:et}},c$a=function($){var _e=$.store,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=n$9.useState("1"),nt=tt[0],rt=tt[1],it=i$9(_e).currentPage,st=u$9(_e).numberOfPages;n$9.useEffect(function(){return rt("".concat(it+1))},[it]);var ot=function(lt){var ut=_e.get("jumpToPage");ut&&ut(lt)},at=et&&et.pageNavigation?et.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:at,testId:"page-navigation__current-page-input",type:"text",value:nt,onChange:rt,onKeyDown:function(lt){switch(lt.key){case"ArrowUp":(ct=it-1)>=0&&(rt("".concat(ct+1)),ot(ct));break;case"ArrowDown":(dt=it+1)<st&&(rt("".concat(dt+1)),ot(dt));break;case"Enter":ut=parseInt(nt,10),nt===""||ut<1||ut>st?rt("".concat(it+1)):ot(ut-1)}var ut,dt,ct}}))},l$9=function($){var _e=$.children,et=$.doc,tt=e$9.useIsMounted(),nt=n$9.useState({loading:!0,labels:[]}),rt=nt[0],it=nt[1];return n$9.useEffect(function(){et.getPageLabels().then(function(st){tt.current&&it({loading:!1,labels:st||[]})})},[et.loadingTask.docId]),rt.loading?n$9.createElement(n$9.Fragment,null):_e(rt.labels)},s$7=function($){var _e=$.children,et=$.store,tt=function(st){var ot=n$9.useState(st.get("doc")),at=ot[0],lt=ot[1],ut=function(dt){lt(dt)};return n$9.useEffect(function(){return st.subscribe("doc",ut),function(){st.unsubscribe("doc",ut)}},[]),at}(et),nt=i$9(et).currentPage,rt=u$9(et).numberOfPages,it=_e||function(st){return n$9.createElement(n$9.Fragment,null,st.currentPage+1)};return tt?n$9.createElement(l$9,{doc:tt},function(st){var ot=st.length===rt&&rt>0?st[nt]:"";return it({currentPage:nt,numberOfPages:rt,pageLabel:ot})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__first-button",onClick:et},n$9.createElement(g$5,null)),content:function(){return nt},offset:f$7})},p$7=function($){var _e=$.children,et=$.store;return(_e||function(tt){return n$9.createElement(m$7,{isDisabled:tt.isDisabled,onClick:tt.onClick})})({isDisabled:i$9(et).currentPage===0,onClick:function(){var tt=et.get("jumpToPage");tt&&tt(0)}})},v$5=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:_e,testId:"page-navigation__first-menu",onClick:et},nt)},d$7={left:0,top:8},P$2=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__last-button",onClick:et},n$9.createElement(a$9,null)),content:function(){return nt},offset:d$7})},b$4=function($){var _e=$.children,et=$.store,tt=i$9(et).currentPage,nt=u$9(et).numberOfPages;return(_e||function(rt){return n$9.createElement(P$2,{isDisabled:rt.isDisabled,onClick:rt.onClick})})({isDisabled:tt+1>=nt,onClick:function(){var rt=et.get("jumpToPage");rt&&rt(nt-1)}})},E$4=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:_e,testId:"page-navigation__last-menu",onClick:et},nt)},C$3={left:0,top:8},D=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__next-button",onClick:et},n$9.createElement(r$a,null)),content:function(){return nt},offset:C$3})},k$3=function($){var _e=$.children,et=$.store;return(_e||function(tt){return n$9.createElement(D,{onClick:tt.onClick,isDisabled:tt.isDisabled})})({isDisabled:i$9(et).currentPage+1>=u$9(et).numberOfPages,onClick:function(){var tt=et.get("jumpToNextPage");tt&&tt()}})},T=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$a,null),isDisabled:_e,testId:"page-navigation__next-menu",onClick:et},nt)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__previous-button",onClick:et},n$9.createElement(x$1,null)),content:function(){return nt},offset:L})},j=function($){var _e=$.store;return($.children||function(et){return n$9.createElement(N,{isDisabled:et.isDisabled,onClick:et.onClick})})({isDisabled:i$9(_e).currentPage<=0,onClick:function(){var et=_e.get("jumpToPreviousPage");et&&et()}})},I$2=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:_e,testId:"page-navigation__previous-menu",onClick:et},nt)},h$5=function($){var _e=$.children,et=$.store,tt=u$9(et).numberOfPages;return _e?_e({numberOfPages:tt}):n$9.createElement(n$9.Fragment,null,tt)},y$1=function($){var _e=$.containerRef,et=$.numPages,tt=$.store,nt=i$9(tt).currentPage,rt=n$9.useRef(nt);rt.current=nt;var it=n$9.useRef(!1),st=function(){it.current=!0},ot=function(){it.current=!1},at=function(lt){var ut=_e.current,dt=it.current||document.activeElement&&ut.contains(document.activeElement);if(ut&&dt){var ct,ft,pt=lt.altKey&&lt.key==="ArrowDown"||!lt.shiftKey&&!lt.altKey&&lt.key==="PageDown",gt=lt.altKey&&lt.key==="ArrowUp"||!lt.shiftKey&&!lt.altKey&&lt.key==="PageUp";if(pt)return lt.preventDefault(),ct=tt.get("jumpToPage"),ft=rt.current+1,void(ct&&ft<et&&ct(ft));if(gt)return lt.preventDefault(),void function(){var ht=tt.get("jumpToPage"),mt=rt.current-1;ht&&mt>=0&&ht(mt)}();if(e$9.isMac()?lt.metaKey&&!lt.ctrlKey:lt.altKey)switch(lt.key){case"ArrowLeft":lt.preventDefault(),function(){var ht=tt.get("jumpToPreviousDestination");ht&&ht()}();break;case"ArrowRight":lt.preventDefault(),function(){var ht=tt.get("jumpToNextDestination");ht&&ht()}()}}};return n$9.useEffect(function(){var lt=_e.current;if(lt)return document.addEventListener("keydown",at),lt.addEventListener("mouseenter",st),lt.addEventListener("mouseleave",ot),function(){document.removeEventListener("keydown",at),lt.removeEventListener("mouseenter",st),lt.removeEventListener("mouseleave",ot)}},[_e.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$a,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function($){var _e=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},$)},[]),et=n$9.useMemo(function(){return e$9.createStore()},[]),tt=function(st){return n$9.createElement(p$7,o$9({},st,{store:et}))},nt=function(st){return n$9.createElement(b$4,o$9({},st,{store:et}))},rt=function(st){return n$9.createElement(k$3,o$9({},st,{store:et}))},it=function(st){return n$9.createElement(j,o$9({},st,{store:et}))};return{install:function(st){et.update("jumpToDestination",st.jumpToDestination),et.update("jumpToNextDestination",st.jumpToNextDestination),et.update("jumpToNextPage",st.jumpToNextPage),et.update("jumpToPage",st.jumpToPage),et.update("jumpToPreviousDestination",st.jumpToPreviousDestination),et.update("jumpToPreviousPage",st.jumpToPreviousPage)},renderViewer:function(st){var ot=st.slot;if(!_e.enableShortcuts)return ot;var at={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:st.containerRef,numPages:st.doc.numPages,store:et}),ot.children)};return o$9(o$9({},ot),at)},onDocumentLoad:function(st){et.update("doc",st.doc),et.update("numberOfPages",st.doc.numPages)},onViewerStateChange:function(st){return et.update("currentPage",st.pageIndex),st},jumpToNextPage:function(){var st=et.get("jumpToNextPage");st&&st()},jumpToPage:function(st){var ot=et.get("jumpToPage");ot&&ot(st)},jumpToPreviousPage:function(){var st=et.get("jumpToPreviousPage");st&&st()},CurrentPageInput:function(){return n$9.createElement(c$a,{store:et})},CurrentPageLabel:function(st){return n$9.createElement(s$7,o$9({},st,{store:et}))},GoToFirstPage:tt,GoToFirstPageButton:function(){return n$9.createElement(tt,null,function(st){return n$9.createElement(m$7,o$9({},st))})},GoToFirstPageMenuItem:function(st){return n$9.createElement(tt,null,function(ot){return n$9.createElement(v$5,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},GoToLastPage:nt,GoToLastPageButton:function(){return n$9.createElement(nt,null,function(st){return n$9.createElement(P$2,o$9({},st))})},GoToLastPageMenuItem:function(st){return n$9.createElement(nt,null,function(ot){return n$9.createElement(E$4,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},GoToNextPage:rt,GoToNextPageButton:function(){return n$9.createElement(rt,null,function(st){return n$9.createElement(D,o$9({},st))})},GoToNextPageMenuItem:function(st){return n$9.createElement(rt,null,function(ot){return n$9.createElement(T,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},GoToPreviousPage:it,GoToPreviousPageButton:function(){return n$9.createElement(it,null,function(st){return n$9.createElement(N,o$9({},st))})},GoToPreviousPageMenuItem:function(st){return n$9.createElement(it,null,function(ot){return n$9.createElement(I$2,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},NumberOfPages:function(st){return n$9.createElement(h$5,o$9({},st,{store:et}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$9($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var o$8,a$8=r$9(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$9=function(){return c$9=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$9.apply(this,arguments)},u$8={left:0,top:8},s$6=function($){var _e=$.enableShortcuts,et=$.onClick,tt=a$8.useContext(e$8.LocalizationContext).l10n,nt=tt&&tt.print?tt.print.print:"Print",rt=_e?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"print__button",onClick:et},a$8.createElement(i$8,null)),content:function(){return nt},offset:u$8})};(function($){$.CheckingPermission="CheckingPermission",$.Inactive="Inactive",$.Preparing="Preparing",$.Cancelled="Cancelled",$.Ready="Ready"})(o$8||(o$8={}));var l$8=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store;return(_e||s$6)({enableShortcuts:et,onClick:function(){tt.update("printStatus",o$8.CheckingPermission)}})},p$6=function($){var _e=$.doc,et=$.store,tt=a$8.useContext(e$8.LocalizationContext).l10n,nt=a$8.useState(!0),rt=nt[0],it=nt[1];return a$8.useEffect(function(){_e.getPermissions().then(function(st){st===null||st.includes(4)||st.includes(2048)?et.update("printStatus",o$8.Preparing):it(!1)})},[]),rt?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(st){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},tt&&tt.print?tt.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){st(),et.update("printStatus",o$8.Cancelled)}},tt&&tt.print?tt.print.close:"Close")))},isOpened:!0})},m$6=function($){var _e=$.numLoadedPages,et=$.numPages,tt=$.onCancel,nt=a$8.useContext(e$8.LocalizationContext).l10n,rt=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,it=Math.floor(100*_e/et);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":rt})},a$8.createElement("div",{className:"rpv-print__progress-message"},nt&&nt.print?nt.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:it})),a$8.createElement(e$8.Button,{onClick:tt},nt&&nt.print?nt.print.cancel:"Cancel")))},d$6=function($){var _e=$.canvas,et=$.page,tt=$.pageHeight,nt=$.pageIndex,rt=$.pageWidth,it=$.rotation,st=$.onLoad,ot=e$8.useIsMounted(),at=a$8.useRef(),lt=a$8.useState(""),ut=lt[0],dt=lt[1],ct=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var ft=at.current;ft&&ft.cancel();var pt=150/72;_e.height=Math.floor(tt*pt),_e.width=Math.floor(rt*pt);var gt=_e.getContext("2d");gt.save(),gt.fillStyle="rgb(255, 255, 255)",gt.fillRect(0,0,_e.width,_e.height),gt.restore();var ht=et.getViewport({rotation:it,scale:1});at.current=et.render({canvasContext:gt,intent:"print",transform:[pt,0,0,pt,0,0],viewport:ht}),at.current.promise.then(function(){"toBlob"in _e&&"createObjectURL"in URL?_e.toBlob(function(mt){ot.current&&dt(URL.createObjectURL(mt)),ct&&st()}):(ot.current&&dt(_e.toDataURL()),ct&&st())},function(){})},[]),ut&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(nt),src:ut,onLoad:function(){ct||st()}}))},f$6=function($){var _e=$.canvas,et=$.doc,tt=$.pageIndex,nt=$.pageRotation,rt=$.pageSize,it=$.rotation,st=$.shouldRender,ot=$.onLoad,at=e$8.useIsMounted(),lt=a$8.useState(null),ut=lt[0],dt=lt[1],ct=Math.abs(it+nt)%180==0;a$8.useEffect(function(){st&&e$8.getPage(et,tt).then(function(pt){at.current&&dt(pt)})},[st]);var ft=(rt.rotation+it+nt)%360;return ut&&a$8.createElement(d$6,{canvas:_e,page:ut,pageHeight:ct?rt.pageHeight:rt.pageWidth,pageIndex:tt,pageWidth:ct?rt.pageWidth:rt.pageHeight,rotation:ft,onLoad:ot})},g$4=function($){var _e=$.doc,et=$.numLoadedPages,tt=$.pagesRotation,nt=$.pageSizes,rt=$.printPages,it=$.printStatus,st=$.rotation,ot=$.onCancel,at=$.onLoad,lt=a$8.useMemo(function(){return document.createElement("canvas")},[]),ut=a$8.useMemo(function(){var ft=document.querySelector(".rpv-print__zone");if(ft)return ft;var pt=document.createElement("div");return pt.classList.add("rpv-print__zone"),pt.setAttribute("data-testid","print__zone"),document.body.appendChild(pt),pt},[]);a$8.useEffect(function(){it===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var ft=function(){if(it===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var pt=document.querySelectorAll(".rpv-print__zone");pt&&pt.forEach(function(gt){gt.parentElement.removeChild(gt)}),lt.height=0,lt.width=0,document.removeEventListener("mousemove",ft),ot()}};return document.addEventListener("mousemove",ft),function(){return document.removeEventListener("mousemove",ft)}},[it]);var dt=nt[0].pageHeight,ct=nt[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,rt.map(function(ft,pt){return a$8.createElement(f$6,{key:ft,canvas:lt,doc:_e,pageIndex:ft,pageRotation:tt.has(ft)?tt.get(ft):0,pageSize:nt[ft],rotation:st,shouldRender:pt===et,onLoad:at})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ct,"pt ").concat(dt,"pt }")}})),ut)},v$4=function($){var _e=$.doc,et=$.pagesRotation,tt=$.pageSizes,nt=$.renderProgressBar,rt=$.rotation,it=$.setPages,st=$.store,ot=a$8.useState(o$8.Inactive),at=ot[0],lt=ot[1],ut=a$8.useState(0),dt=ut[0],ct=ut[1],ft=a$8.useMemo(function(){var mt=_e.numPages;return it(_e).filter(function(bt){return bt>=0&&bt<mt})},[_e,it]),pt=ft.length,gt=function(){ct(0),lt(o$8.Inactive)},ht=function(mt){return lt(mt)};return a$8.useEffect(function(){return st.subscribe("printStatus",ht),function(){st.unsubscribe("printStatus",ht)}},[]),a$8.createElement(a$8.Fragment,null,at===o$8.CheckingPermission&&a$8.createElement(p$6,{doc:_e,store:st}),at===o$8.Preparing&&(nt?nt(dt,pt,gt):a$8.createElement(m$6,{numLoadedPages:dt,numPages:pt,onCancel:gt})),(at===o$8.Preparing||at===o$8.Ready)&&dt<=pt&&a$8.createElement(g$4,{doc:_e,numLoadedPages:dt,pagesRotation:et,pageSizes:tt,printPages:ft,printStatus:at,rotation:rt,onCancel:gt,onLoad:function(){var mt=dt+1;mt<=pt&&(ct(mt),mt===pt&&lt(o$8.Ready))}}))},h$4=function($){var _e=$.onClick,et=a$8.useContext(e$8.LocalizationContext).l10n,tt=et&&et.print?et.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:_e},tt)},E$3=function($){var _e=$.containerRef,et=$.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&nt.key==="p"&&(e$8.isMac()?nt.metaKey:nt.ctrlKey)){var rt=_e.current;rt&&document.activeElement&&rt.contains(document.activeElement)&&(nt.preventDefault(),et.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if(_e.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[_e.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function($){return Array($.numPages).fill(0).map(function(_e,et){return et})},print_min.getCustomPagesNumbers=function($){return function(_e){var et,tt=[];return $.replace(/\s+/g,"").split(",").forEach(function(nt){var rt,it,st=nt.split("-").map(function(ot){return parseInt(ot,10)}).filter(function(ot){return Number.isInteger(ot)});st.length===1?tt.push(st[0]-1):st.length===2&&tt.push.apply(tt,(rt=st[0]-1,it=st[1]-1,Array(it-rt+1).fill(0).map(function(ot,at){return rt+at})))}),(et=tt,et.filter(function(nt){return et.indexOf(nt)===et.lastIndexOf(nt)})).filter(function(nt){return nt>=0&&nt<_e.numPages})}},print_min.getEvenPagesNumbers=function($){return Array($.numPages).fill(0).map(function(_e,et){return et}).filter(function(_e){return(_e+1)%2==0})},print_min.getOddPagesNumbers=function($){return Array($.numPages).fill(0).map(function(_e,et){return et}).filter(function(_e){return(_e+1)%2==1})},print_min.printPlugin=function($){var _e=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(nt){return Array(nt.numPages).fill(0).map(function(rt,it){return it})}},$)},[]),et=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),tt=function(nt){return a$8.createElement(l$8,c$9({enableShortcuts:_e.enableShortcuts},nt,{store:et}))};return{print:function(){et.update("printStatus",o$8.CheckingPermission)},renderViewer:function(nt){var rt=nt.slot,it={children:a$8.createElement(a$8.Fragment,null,_e.enableShortcuts&&a$8.createElement(E$3,{containerRef:nt.containerRef,store:et}),a$8.createElement(v$4,{doc:nt.doc,pagesRotation:nt.pagesRotation,pageSizes:nt.pageSizes,renderProgressBar:$==null?void 0:$.renderProgressBar,rotation:nt.rotation,setPages:_e.setPages,store:et}),rt.children)};return c$9(c$9({},rt),it)},Print:tt,PrintButton:function(){return a$8.createElement(tt,null,function(nt){return a$8.createElement(s$6,c$9({},nt))})},PrintMenuItem:function(nt){return a$8.createElement(tt,null,function(rt){return a$8.createElement(h$4,{onClick:function(){rt.onClick(),nt.onClick()}})})},setPages:function(nt){_e.setPages=nt}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$8=t$7(reactExports),n$7=function(){return r$8.createElement(e$7.Icon,{size:16},r$8.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$7.apply(this,arguments)},a$7=function($){var _e=$.doc,et=$.render,tt=r$8.useState(),nt=tt[0],rt=tt[1];return r$8.useEffect(function(){_e.getMetadata().then(function(it){return Promise.resolve(it)}).then(function(it){return _e.getDownloadInfo().then(function(st){return Promise.resolve({fileName:it.contentDispositionFilename||"",info:it.info,length:st.length})})}).then(function(it){rt(it)})},[]),nt?et(nt):r$8.createElement("div",{className:"rpv-properties__loader"},r$8.createElement(e$7.Spinner,null))},i$7=function($){var _e=$.label,et=$.value,tt=r$8.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$8.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":tt})},r$8.createElement("dt",{className:"rpv-properties__item-label"},_e,":"),r$8.createElement("dd",{className:"rpv-properties__item-value"},et||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$8=function($,_e,et,tt){var nt=parseInt($,10);return nt>=_e&&nt<=et?nt:tt},p$5=function($){var _e=$.doc,et=$.fileName,tt=$.onToggle,nt=r$8.useContext(e$7.LocalizationContext).l10n,rt=function(it){var st=function(ot){var at=l$7.exec(ot);if(!at)return null;var lt=parseInt(at[1],10),ut=c$8(at[2],1,12,1)-1,dt=c$8(at[3],1,31,1),ct=c$8(at[4],0,23,0),ft=c$8(at[5],0,59,0),pt=c$8(at[6],0,59,0),gt=at[7]||"Z",ht=c$8(at[8],0,23,0),mt=c$8(at[9],0,59,0);switch(gt){case"-":ct+=ht,ft+=mt;break;case"+":ct-=ht,ft-=mt}return new Date(Date.UTC(lt,ut,dt,ct,ft,pt))}(it);return st?"".concat(st.toLocaleDateString(),", ").concat(st.toLocaleTimeString()):""};return r$8.createElement("div",{className:"rpv-properties__modal"},r$8.createElement(a$7,{doc:_e,render:function(it){return r$8.createElement(r$8.Fragment,null,r$8.createElement("div",{className:"rpv-properties__modal-section"},r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.fileName:"File name",value:it.fileName||(at=et,lt=at.split("/").pop(),lt?lt.split("#")[0].split("?")[0]:at)}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.fileSize:"File size",value:(st=it.length,ot=Math.floor(Math.log(st)/Math.log(1024)),"".concat((st/Math.pow(1024,ot)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][ot]))})),r$8.createElement(e$7.Separator,null),r$8.createElement("div",{className:"rpv-properties__modal-section"},r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.title:"Title",value:it.info.Title}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.author:"Author",value:it.info.Author}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.subject:"Subject",value:it.info.Subject}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.keywords:"Keywords",value:it.info.Keywords}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.creator:"Creator",value:it.info.Creator}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.creationDate:"Creation date",value:rt(it.info.CreationDate)}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.modificationDate:"Modification date",value:rt(it.info.ModDate)})),r$8.createElement(e$7.Separator,null),r$8.createElement("div",{className:"rpv-properties__modal-section"},r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.pdfProducer:"PDF producer",value:it.info.Producer}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.pdfVersion:"PDF version",value:it.info.PDFFormatVersion}),r$8.createElement(i$7,{label:nt&&nt.properties?nt.properties.pageCount:"Page count",value:"".concat(_e.numPages)})));var st,ot,at,lt}}),r$8.createElement("div",{className:"rpv-properties__modal-footer"},r$8.createElement(e$7.Button,{onClick:tt},nt&&nt.properties?nt.properties.close:"Close")))},s$5={left:0,top:8},u$7=function($){var _e=$.onClick,et=r$8.useContext(e$7.LocalizationContext).l10n,tt=et&&et.properties?et.properties.showProperties:"Show properties";return r$8.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$8.createElement(e$7.MinimalButton,{ariaLabel:tt,testId:"properties__button",onClick:_e},r$8.createElement(n$7,null)),content:function(){return tt},offset:s$5})},m$5=function($){var _e=$.children,et=$.store,tt=function(it){var st=r$8.useState(it.get("doc")),ot=st[0],at=st[1],lt=function(ut){at(ut)};return r$8.useEffect(function(){return it.subscribe("doc",lt),function(){it.unsubscribe("doc",lt)}},[]),{currentDoc:ot}}(et).currentDoc,nt=et.get("fileName")||"",rt=_e||function(it){return r$8.createElement(u$7,o$7({},it))};return tt?r$8.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(it){return rt({onClick:it})},content:function(it){return r$8.createElement(p$5,{doc:tt,fileName:nt,onToggle:it})},closeOnClickOutside:!0,closeOnEscape:!0}):r$8.createElement(r$8.Fragment,null)},f$5=function($){var _e=$.onClick,et=r$8.useContext(e$7.LocalizationContext).l10n,tt=et&&et.properties?et.properties.showProperties:"Show properties";return r$8.createElement(e$7.MenuItem,{icon:r$8.createElement(n$7,null),testId:"properties__menu",onClick:_e},tt)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var $=r$8.useMemo(function(){return e$7.createStore({fileName:""})},[]),_e=function(et){return r$8.createElement(m$5,o$7({},et,{store:$}))};return{onDocumentLoad:function(et){$.update("doc",et.doc)},onViewerStateChange:function(et){return $.update("fileName",et.file.name),et},ShowProperties:_e,ShowPropertiesButton:function(){return r$8.createElement(m$5,{store:$})},ShowPropertiesMenuItem:function(et){return r$8.createElement(_e,null,function(tt){return r$8.createElement(f$5,o$7({},tt))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$7=e$6(reactExports),n$6=function(){return r$7.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$7.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$7.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$7.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$7=function(){return c$7=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$7.apply(this,arguments)},a$6={left:0,top:8},i$6=function($){var _e=$.direction,et=$.onClick,tt=r$7.useContext(t$6.LocalizationContext).l10n,nt=tt&&tt.rotate?tt.rotate.rotateBackward:"Rotate counterclockwise",rt=tt&&tt.rotate?tt.rotate.rotateForward:"Rotate clockwise",it=_e===t$6.RotateDirection.Backward?nt:rt,st=_e===t$6.RotateDirection.Backward?r$7.createElement(n$6,null):r$7.createElement(o$6,null);return r$7.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$7.createElement(t$6.MinimalButton,{ariaLabel:it,testId:_e===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:et},st),content:function(){return it},offset:a$6})},u$6=function($){var _e=$.children,et=$.direction,tt=$.store;return(_e||function(nt){return r$7.createElement(i$6,{direction:nt.direction,onClick:nt.onClick})})({direction:et,onClick:function(){var nt=tt.get("rotate");nt&&nt(et)}})},l$6=function($){var _e=$.direction,et=$.onClick,tt=r$7.useContext(t$6.LocalizationContext).l10n,nt=tt&&tt.rotate?tt.rotate.rotateBackward:"Rotate counterclockwise",rt=tt&&tt.rotate?tt.rotate.rotateForward:"Rotate clockwise",it=_e===t$6.RotateDirection.Backward?nt:rt,st=_e===t$6.RotateDirection.Backward?r$7.createElement(n$6,null):r$7.createElement(o$6,null);return r$7.createElement(t$6.MenuItem,{icon:st,testId:_e===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:et},it)},d$5=function($){var _e=$.children,et=$.store;return _e({onRotatePage:function(tt,nt){var rt=et.get("rotatePage");rt&&rt(tt,nt)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var $=r$7.useMemo(function(){return t$6.createStore()},[]),_e=function(et){return r$7.createElement(u$6,c$7({},et,{store:$}))};return{install:function(et){$.update("rotate",et.rotate),$.update("rotatePage",et.rotatePage)},Rotate:_e,RotateBackwardButton:function(){return r$7.createElement(_e,{direction:t$6.RotateDirection.Backward},function(et){return r$7.createElement(i$6,c$7({},et))})},RotateBackwardMenuItem:function(et){return r$7.createElement(_e,{direction:t$6.RotateDirection.Backward},function(tt){return r$7.createElement(l$6,{direction:tt.direction,onClick:function(){tt.onClick(),et.onClick()}})})},RotateForwardButton:function(){return r$7.createElement(_e,{direction:t$6.RotateDirection.Forward},function(et){return r$7.createElement(i$6,c$7({},et))})},RotateForwardMenuItem:function(et){return r$7.createElement(_e,{direction:t$6.RotateDirection.Forward},function(tt){return r$7.createElement(l$6,{direction:tt.direction,onClick:function(){tt.onClick(),et.onClick()}})})},RotatePage:function(et){return r$7.createElement(d$5,c$7({},et,{store:$}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$6=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$6=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},i$5.apply(this,arguments)},a$5=function($,_e){$.get("switchScrollMode")(_e);var et=$.get("viewMode");_e!==e$5.ScrollMode.Horizontal&&_e!==e$5.ScrollMode.Wrapped||et===e$5.ViewMode.SinglePage||$.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function($){var _e=$.children,et=$.mode,tt=$.onClick,nt=t$5.useContext(e$5.LocalizationContext).l10n,rt="",it=t$5.createElement(d$4,null);switch(et){case e$5.ScrollMode.Horizontal:rt=nt&&nt.scrollMode?nt.scrollMode.horizontalScrolling:"Horizontal scrolling",it=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:rt=nt&&nt.scrollMode?nt.scrollMode.pageScrolling:"Page scrolling",it=t$5.createElement(r$6,null);break;case e$5.ScrollMode.Wrapped:rt=nt&&nt.scrollMode?nt.scrollMode.wrappedScrolling:"Wrapped scrolling",it=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:rt=nt&&nt.scrollMode?nt.scrollMode.verticalScrolling:"Vertical scrolling",it=t$5.createElement(d$4,null)}return _e({icon:it,label:rt,onClick:tt})},m$4={left:0,top:8},M$2=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ScrollMode.Horizontal:rt="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:rt="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:rt="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:rt="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:it.label,isDisabled:_e,isSelected:et,testId:rt,onClick:it.onClick},it.icon),content:function(){return it.label},offset:m$4})})},f$4=function($){var _e=t$5.useState($.get("scrollMode")||e$5.ScrollMode.Vertical),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return t$5.useEffect(function(){return $.subscribe("scrollMode",nt),function(){$.unsubscribe("scrollMode",nt)}},[]),{scrollMode:et}},w$1=function($){var _e=t$5.useState($.get("viewMode")||e$5.ViewMode.SinglePage),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return t$5.useEffect(function(){return $.subscribe("viewMode",nt),function(){$.unsubscribe("viewMode",nt)}},[]),{viewMode:et}},S$3=function($){var _e=$.children,et=$.mode,tt=$.store,nt=w$1(tt).viewMode,rt=f$4(tt).scrollMode===et,it=(et===e$5.ScrollMode.Horizontal||et===e$5.ScrollMode.Wrapped)&&nt!==e$5.ViewMode.SinglePage;return(_e||function(st){return t$5.createElement(M$2,{isDisabled:it,isSelected:rt,mode:st.mode,onClick:st.onClick})})({isDisabled:it,isSelected:rt,mode:et,onClick:function(){a$5(tt,et)}})},g$3=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ScrollMode.Horizontal:rt="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:rt="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:rt="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:rt="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.MenuItem,{checked:et,icon:it.icon,isDisabled:_e,testId:rt,onClick:it.onClick},it.label)})},h$3=function($,_e){$.get("switchViewMode")(_e);var et=$.get("scrollMode");et!==e$5.ScrollMode.Horizontal&&et!==e$5.ScrollMode.Wrapped||_e===e$5.ViewMode.SinglePage||$.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function($){var _e=$.children,et=$.mode,tt=$.onClick,nt=t$5.useContext(e$5.LocalizationContext).l10n,rt="",it=t$5.createElement(r$6,null);switch(et){case e$5.ViewMode.DualPage:rt=nt&&nt.scrollMode?nt.scrollMode.dualPage:"Dual page",it=t$5.createElement(c$6,null);break;case e$5.ViewMode.DualPageWithCover:rt=nt&&nt.scrollMode?nt.scrollMode.dualPageCover:"Dual page with cover",it=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:rt=nt&&nt.scrollMode?nt.scrollMode.singlePage:"Single page",it=t$5.createElement(r$6,null)}return _e({icon:it,label:rt,onClick:tt})},p$4={left:0,top:8},v$3=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ViewMode.DualPage:rt="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:rt="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:rt="view-mode__single-button"}return t$5.createElement(b$3,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:it.label,isDisabled:_e,isSelected:et,testId:rt,onClick:it.onClick},it.icon),content:function(){return it.label},offset:p$4})})},k$2=function($){var _e=$.children,et=$.mode,tt=$.store,nt=w$1(tt).viewMode,rt=f$4(tt).scrollMode,it=nt===et,st=(rt===e$5.ScrollMode.Horizontal||rt===e$5.ScrollMode.Wrapped)&&et!==e$5.ViewMode.SinglePage;return(_e||function(ot){return t$5.createElement(v$3,{isDisabled:st,isSelected:it,mode:ot.mode,onClick:ot.onClick})})({isDisabled:st,isSelected:it,mode:et,onClick:function(){h$3(tt,et)}})},C$2=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ViewMode.DualPage:rt="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:rt="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:rt="view-mode__single-menu"}return t$5.createElement(b$3,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.MenuItem,{checked:et,icon:it.icon,isDisabled:_e,testId:rt,onClick:it.onClick},it.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$6,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$6,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var $=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),_e=function(tt){return t$5.createElement(S$3,i$5({},tt,{store:$}))},et=function(tt){return t$5.createElement(k$2,i$5({},tt,{store:$}))};return{install:function(tt){$.update("switchScrollMode",tt.switchScrollMode),$.update("switchViewMode",tt.switchViewMode)},onViewerStateChange:function(tt){return $.update("scrollMode",tt.scrollMode),$.update("viewMode",tt.viewMode),tt},switchScrollMode:function(tt){a$5($,tt)},switchViewMode:function(tt){h$3($,tt)},SwitchScrollMode:_e,SwitchScrollModeButton:function(tt){return t$5.createElement(_e,{mode:tt.mode},function(nt){return t$5.createElement(M$2,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick()}})})},SwitchScrollModeMenuItem:function(tt){return t$5.createElement(_e,{mode:tt.mode},function(nt){return t$5.createElement(g$3,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick(),tt.onClick()}})})},SwitchViewMode:et,SwitchViewModeButton:function(tt){return t$5.createElement(et,{mode:tt.mode},function(nt){return t$5.createElement(v$3,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick()}})})},SwitchViewModeMenuItem:function(tt){return t$5.createElement(et,{mode:tt.mode},function(nt){return t$5.createElement(C$2,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick(),tt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$5=t$4(reactExports),n$4=function(){return r$5.createElement(e$4.Icon,{size:16},r$5.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$5.createElement(e$4.Icon,{size:16},r$5.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$5.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$5.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$5=function(){return c$5=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$5.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function($){return{left:"".concat($.left,"%"),top:"".concat($.top,"%"),height:"".concat($.height,"%"),width:"".concat($.width,"%")}},s$3=function($){var _e=$.index,et=$.area,tt=$.onHighlightKeyword,nt=r$5.useRef();return e$4.useIsomorphicLayoutEffect(function(){var rt=nt.current;tt&&rt&&tt({highlightEle:rt,keyword:et.keyword})},[]),r$5.createElement("div",{className:"rpv-search__highlight","data-index":_e,ref:nt,style:i$4(et),title:et.keywordStr.trim()})},l$4=function($){var _e=$.parentNode;_e&&_e.removeChild($)},h$2=function($){var _e=$.parentNode;if(_e){var et=document.createRange();et.selectNodeContents($),function(tt,nt){l$4(tt);var rt=nt.parentNode;rt&&rt.insertBefore(tt,nt),l$4(nt)}(et.extractContents(),$),_e.normalize()}},d$3=function($,_e){return $.top<_e.top?-1:$.top>_e.top?1:$.left<_e.left?-1:$.left>_e.left?1:0},f$3=function($){var _e=$.numPages,et=$.pageIndex,tt=$.renderHighlights,nt=$.store,rt=$.onHighlightKeyword,it=r$5.useRef(),st=r$5.useCallback(function(qt){return r$5.createElement(r$5.Fragment,null,qt.highlightAreas.map(function(zt,jt){return r$5.createElement(s$3,{index:jt,key:jt,area:zt,onHighlightKeyword:rt})}))},[]),ot=tt||st,at=r$5.useState(nt.get("matchPosition")),lt=at[0],ut=at[1],dt=r$5.useState(nt.get("keyword")||[u$4]),ct=dt[0],ft=dt[1],pt=r$5.useState({pageIndex:et,scale:1,status:e$4.LayerRenderStatus.PreRender}),gt=pt[0],ht=pt[1],mt=r$5.useRef(null),bt=r$5.useRef([]),xt=r$5.useState([]),Et=xt[0],vt=xt[1],_t=function(){return!0},wt=r$5.useCallback(function(){return nt.get("targetPageFilter")||_t},[nt.get("targetPageFilter")]),Ct=function(qt){var zt=bt.current;if(zt.length===0)return[];var jt=[],Ft=[].slice.call(qt.querySelectorAll(".rpv-core__text-layer-text")),Bt=zt.map(function(It){return It.char}).join("");return ct.forEach(function(It){var At=It.keyword;if(At.trim()){for(var Yt,Ot=It.regExp.flags.indexOf("g")===-1?new RegExp(It.regExp,"".concat(It.regExp.flags,"g")):It.regExp,yt=[];(Yt=Ot.exec(Bt))!==null;)yt.push({keyword:Ot,startIndex:Yt.index,endIndex:Ot.lastIndex});yt.map(function(Tt){return{keyword:Tt.keyword,indexes:zt.slice(Tt.startIndex,Tt.endIndex)}}).forEach(function(Tt){var $t=Tt.indexes.reduce(function(Ut,Ht){return Ut[Ht.spanIndex]=(Ut[Ht.spanIndex]||[]).concat([Ht]),Ut},{});Object.values($t).forEach(function(Ut){if(Ut.length!==1||Ut[0].char.trim()!==""){var Ht=It.wholeWords?Ut.slice(1,-1):Ut,Wt=function(Qt,mn,fn,En,kn){var Tn=document.createRange(),An=En.firstChild;if(!An||An.nodeType!==Node.TEXT_NODE)return null;var sn=An.textContent.length,dn=kn[0].charIndexInSpan,Mt=kn.length===1?dn:kn[kn.length-1].charIndexInSpan;if(dn>sn||Mt+1>sn)return null;Tn.setStart(An,dn),Tn.setEnd(An,Mt+1);var Vt=document.createElement("span");Tn.surroundContents(Vt);var nn=Vt.getBoundingClientRect(),on=fn.getBoundingClientRect(),yn=on.height,Pn=on.width,Nn=100*(nn.left-on.left)/Pn,cn=100*(nn.top-on.top)/yn,Kt=100*nn.height/yn,en=100*nn.width/Pn;return h$2(Vt),{keyword:mn,keywordStr:Qt,numPages:_e,pageIndex:et,left:Nn,top:cn,height:Kt,width:en,pageHeight:yn,pageWidth:Pn}}(At,Tt.keyword,qt,Ft[Ht[0].spanIndex],Ht);Wt&&jt.push(Wt)}})})}}),jt.sort(d$3)},Nt=function(qt){qt&&qt.length>0&&ft(qt)},kt=function(qt){return ut(qt)},Pt=function(qt){if(qt.has(et)){var zt=qt.get(et);zt&&ht({ele:zt.ele,pageIndex:et,scale:zt.scale,status:zt.status})}},Dt=function(){return ct.length===0||ct.length===1&&ct[0].keyword.trim()===""};return r$5.useEffect(function(){if(!Dt()&&gt.status===e$4.LayerRenderStatus.DidRender&&!bt.current.length){var qt=gt.ele,zt=[].slice.call(qt.querySelectorAll(".rpv-core__text-layer-text")).map(function(jt){return jt.textContent}).reduce(function(jt,Ft,Bt){return jt.concat(Ft.split("").map(function(It,At){return{char:It,charIndexInSpan:At,spanIndex:Bt}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);bt.current=zt}},[ct,gt.status]),r$5.useEffect(function(){if(!Dt()&&gt.ele&&gt.status===e$4.LayerRenderStatus.DidRender&&wt()({pageIndex:et,numPages:_e})){var qt=gt.ele,zt=Ct(qt);vt(zt)}},[ct,lt,gt.status,bt.current]),r$5.useEffect(function(){Dt()&&gt.ele&&gt.status===e$4.LayerRenderStatus.DidRender&&vt([])},[ct,gt.status]),r$5.useEffect(function(){if(Et.length!==0){var qt=it.current;if(lt.pageIndex===et&&qt&&gt.status===e$4.LayerRenderStatus.DidRender){var zt=qt.querySelector('.rpv-search__highlight[data-index="'.concat(lt.matchIndex,'"]'));if(zt){var jt=function(At,Yt){for(var Ot=At.offsetTop,yt=At.offsetLeft,Tt=At.parentElement;Tt&&Tt!==Yt;)Ot+=Tt.offsetTop,yt+=Tt.offsetLeft,Tt=Tt.parentElement;return{left:yt,top:Ot}}(zt,qt),Ft=jt.left,Bt=jt.top,It=nt.get("jumpToDestination");It&&(It({pageIndex:et,bottomOffset:(qt.getBoundingClientRect().height-Bt)/gt.scale,leftOffset:Ft/gt.scale,scaleTo:gt.scale}),mt.current&&mt.current.classList.remove("rpv-search__highlight--current"),mt.current=zt,zt.classList.add("rpv-search__highlight--current"))}}}},[Et,lt]),r$5.useEffect(function(){return nt.subscribe("keyword",Nt),nt.subscribe("matchPosition",kt),nt.subscribe("renderStatus",Pt),function(){nt.unsubscribe("keyword",Nt),nt.unsubscribe("matchPosition",kt),nt.unsubscribe("renderStatus",Pt)}},[]),r$5.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(et),ref:it},ot({getCssProperties:i$4,highlightAreas:Et}))},p$3=function($){var _e,et=$.wholeWords?" ".concat($.keyword," "):$.keyword,tt=$.matchCase?"g":"gi";return{keyword:$.keyword,regExp:new RegExp((_e=et,_e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),tt),wholeWords:$.wholeWords||!1}},g$2=function($,_e,et){return $ instanceof RegExp?{keyword:$.source,regExp:$,wholeWords:et||!1}:typeof $=="string"?$===""?u$4:p$3({keyword:$,matchCase:_e||!1,wholeWords:et||!1}):(_e!==void 0&&($.matchCase=_e),et!==void 0&&($.wholeWords=et),p$3($))},m$3=function($){var _e,et=$.get("initialKeyword"),tt=r$5.useMemo(function(){if(et&&et.length===1){var kt=g$2(et[0]);return{matchCase:kt.regExp.flags.indexOf("i")===-1,wholeWords:kt.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),nt=function(kt){var Pt=r$5.useRef(kt.get("doc")),Dt=function(qt){Pt.current=qt};return r$5.useEffect(function(){return kt.subscribe("doc",Dt),function(){kt.unsubscribe("doc",Dt)}},[]),Pt}($),rt=r$5.useState(et),it=rt[0],st=rt[1],ot=r$5.useState([]),at=ot[0],lt=ot[1],ut=r$5.useState(0),dt=ut[0],ct=ut[1],ft=r$5.useState(tt.matchCase),pt=ft[0],gt=ft[1],ht=r$5.useRef([]),mt=r$5.useState(tt.wholeWords),bt=mt[0],xt=mt[1],Et=function(){return!0},vt=r$5.useCallback(function(){return $.get("targetPageFilter")||Et},[$.get("targetPageFilter")]),_t=function(kt){var Pt=at.length;if(it.length===0||Pt===0)return null;var Dt=kt===Pt+1?1:Math.max(1,Math.min(Pt,kt));return ct(Dt),Ct(at[Dt-1])},wt=function(kt){return st(kt===""?[]:[kt])},Ct=function(kt){var Pt=$.get("jumpToPage");return Pt&&Pt(kt.pageIndex),$.update("matchPosition",{matchIndex:kt.matchIndex,pageIndex:kt.pageIndex}),kt},Nt=function(kt,Pt,Dt){var qt=nt.current;if(!qt)return Promise.resolve([]);var zt=qt.numPages,jt=kt.map(function(Ft){return g$2(Ft,Pt,Dt)});return $.update("keyword",jt),ct(0),lt([]),new Promise(function(Ft,Bt){var It=ht.current.length===0?function(){var At=nt.current;if(!At)return Promise.resolve([]);var Yt=Array(At.numPages).fill(0).map(function(Ot,yt){return e$4.getPage(At,yt).then(function(Tt){return Tt.getTextContent()}).then(function(Tt){var $t=Tt.items.map(function(Ut){return Ut.str||""}).join("");return Promise.resolve({pageContent:$t,pageIndex:yt})})});return Promise.all(Yt).then(function(Ot){return Ot.sort(function(yt,Tt){return yt.pageIndex-Tt.pageIndex}),Promise.resolve(Ot.map(function(yt){return yt.pageContent}))})}().then(function(At){return ht.current=At,Promise.resolve(At)}):Promise.resolve(ht.current);It.then(function(At){var Yt=[];At.forEach(function(Ot,yt){vt()({pageIndex:yt,numPages:zt})&&jt.forEach(function(Tt){for(var $t,Ut=0;($t=Tt.regExp.exec(Ot))!==null;)Yt.push({keyword:Tt.regExp,matchIndex:Ut,pageIndex:yt,pageText:Ot,startIndex:$t.index,endIndex:Tt.regExp.lastIndex}),Ut++})}),lt(Yt),Yt.length>0&&(ct(1),Ct(Yt[0])),Ft(Yt)})})};return r$5.useEffect(function(){ht.current=[]},[nt.current]),{clearKeyword:function(){$.update("keyword",[u$4]),wt(""),ct(0),lt([]),gt(!1),xt(!1)},changeMatchCase:function(kt){gt(kt),it.length>0&&Nt(it,kt,bt)},changeWholeWords:function(kt){xt(kt),it.length>0&&Nt(it,pt,kt)},currentMatch:dt,jumpToMatch:_t,jumpToNextMatch:function(){return _t(dt+1)},jumpToPreviousMatch:function(){return _t(dt-1)},keywords:it,matchCase:pt,numberOfMatches:at.length,wholeWords:bt,search:function(){return Nt(it,pt,bt)},searchFor:Nt,setKeywords:st,keyword:it.length===0?"":(_e=it[0],_e instanceof RegExp?_e.source:typeof _e=="string"?_e:_e.keyword),setKeyword:wt,setTargetPages:function(kt){$.update("targetPageFilter",kt)}}},v$2=function($){var _e=$.children,et=$.store,tt=m$3(et),nt=r$5.useState(!1),rt=nt[0],it=nt[1],st=function(ot){return it(!0)};return r$5.useEffect(function(){return et.subscribe("doc",st),function(){et.unsubscribe("doc",st)}},[]),_e(c$5(c$5({},tt),{isDocumentLoaded:rt}))},x=function($){var _e=$.containerRef,et=$.store,tt=r$5.useRef(!1),nt=function(){tt.current=!0},rt=function(){tt.current=!1},it=function(st){var ot=_e.current;ot&&(st.shiftKey||st.altKey||st.key!=="f"||(e$4.isMac()?st.metaKey&&!st.ctrlKey:st.ctrlKey)&&(tt.current||document.activeElement&&ot.contains(document.activeElement))&&(st.preventDefault(),et.update("areShortcutsPressed",!0)))};return r$5.useEffect(function(){var st=_e.current;if(st)return document.addEventListener("keydown",it),st.addEventListener("mouseenter",nt),st.addEventListener("mouseleave",rt),function(){document.removeEventListener("keydown",it),st.removeEventListener("mouseenter",nt),st.removeEventListener("mouseleave",rt)}},[_e.current]),r$5.createElement(r$5.Fragment,null)},y={left:0,top:8},E$2=function($){var _e=$.store,et=$.onToggle,tt=r$5.useContext(e$4.LocalizationContext).l10n,nt=r$5.useContext(e$4.ThemeContext).direction,rt=r$5.useState(!1),it=rt[0],st=rt[1],ot=r$5.useState(!1),at=ot[0],lt=ot[1],ut=nt===e$4.TextDirection.RightToLeft,dt=m$3(_e),ct=dt.clearKeyword,ft=dt.changeMatchCase,pt=dt.changeWholeWords,gt=dt.currentMatch,ht=dt.jumpToNextMatch,mt=dt.jumpToPreviousMatch,bt=dt.keyword,xt=dt.matchCase,Et=dt.numberOfMatches,vt=dt.wholeWords,_t=dt.search,wt=dt.setKeyword,Ct=function(qt){st(!0),_t().then(function(zt){st(!1),lt(!0),qt&&qt()})};r$5.useEffect(function(){var qt=_e.get("initialKeyword");qt&&qt.length===1&&bt&&Ct(function(){_e.update("initialKeyword",[])})},[]);var Nt=tt&&tt.search?tt.search.enterToSearch:"Enter to search",kt=tt&&tt.search?tt.search.previousMatch:"Previous match",Pt=tt&&tt.search?tt.search.nextMatch:"Next match",Dt=tt&&tt.search?tt.search.close:"Close";return r$5.createElement("div",{className:"rpv-search__popover"},r$5.createElement("div",{className:"rpv-search__popover-input-counter"},r$5.createElement(e$4.TextBox,{ariaLabel:Nt,autoFocus:!0,placeholder:Nt,type:"text",value:bt,onChange:function(qt){lt(!1),wt(qt)},onKeyDown:function(qt){qt.key==="Enter"&&bt&&(at?ht():Ct())}}),r$5.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!ut,"rpv-search__popover-counter--rtl":ut})},it&&r$5.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!it&&r$5.createElement("span",{"data-testid":"search__popover-num-matches"},gt,"/",Et))),r$5.createElement("label",{className:"rpv-search__popover-label"},r$5.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:xt,type:"checkbox",onChange:function(qt){lt(!1),ft(qt.target.checked)}})," ",tt&&tt.search?tt.search.matchCase:"Match case"),r$5.createElement("label",{className:"rpv-search__popover-label"},r$5.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:vt,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(qt){lt(!1),pt(qt.target.checked)}})," ",tt&&tt.search?tt.search.wholeWords:"Whole words"),r$5.createElement("div",{className:"rpv-search__popover-footer"},r$5.createElement("div",{className:"rpv-search__popover-footer-item"},r$5.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:ut?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$5.createElement(e$4.MinimalButton,{ariaLabel:kt,isDisabled:gt<=1,onClick:mt},r$5.createElement(o$4,null)),content:function(){return kt},offset:y})),r$5.createElement("div",{className:"rpv-search__popover-footer-item"},r$5.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$5.createElement(e$4.MinimalButton,{ariaLabel:Pt,isDisabled:gt>Et-1,onClick:ht},r$5.createElement(n$4,null)),content:function(){return Pt},offset:y})),r$5.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!ut,"rpv-search__popover-footer-button--rtl":ut})},r$5.createElement(e$4.Button,{onClick:function(){et(),ct()}},Dt))))},w=function($){var _e=$.children,et=$.onClick,tt=r$5.useContext(e$4.LocalizationContext).l10n,nt=tt&&tt.search?tt.search.search:"Search";return _e({icon:r$5.createElement(a$4,null),label:nt,onClick:et})},b$2={left:0,top:8},k$1=function($){var _e=$.enableShortcuts,et=$.store,tt=$.onClick,nt=_e?e$4.isMac()?"Meta+F":"Ctrl+F":"",rt=function(it){it&&tt()};return r$5.useEffect(function(){return et.subscribe("areShortcutsPressed",rt),function(){et.unsubscribe("areShortcutsPressed",rt)}},[]),r$5.createElement(w,{onClick:tt},function(it){return r$5.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$5.createElement(e$4.MinimalButton,{ariaKeyShortcuts:nt,ariaLabel:it.label,testId:"search__popover-button",onClick:tt},it.icon),content:function(){return it.label},offset:b$2})})},S$2={left:0,top:8},C$1=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store,nt=r$5.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,rt=_e||function(it){return r$5.createElement(k$1,c$5({enableShortcuts:et,store:tt},it))};return r$5.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:nt,target:function(it){return rt({onClick:it})},content:function(it){return r$5.createElement(E$2,{store:tt,onToggle:it})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function($){return Array.isArray($)?$.map(function(_e){return g$2(_e)}):[g$2($)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function($){var _e=r$5.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},$)},[]),et=r$5.useMemo(function(){return e$4.createStore({initialKeyword:$&&$.keyword?Array.isArray($.keyword)?$.keyword:[$.keyword]:[],keyword:$&&$.keyword?P$1($.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),tt=m$3(et),nt=tt.clearKeyword,rt=tt.jumpToMatch,it=tt.jumpToNextMatch,st=tt.jumpToPreviousMatch,ot=tt.searchFor,at=tt.setKeywords,lt=tt.setTargetPages,ut=function(dt){return r$5.createElement(C$1,c$5({enableShortcuts:_e.enableShortcuts},dt,{store:et}))};return{install:function(dt){var ct=$&&$.keyword?Array.isArray($.keyword)?$.keyword:[$.keyword]:[],ft=$&&$.keyword?P$1($.keyword):[u$4];et.update("initialKeyword",ct),et.update("jumpToDestination",dt.jumpToDestination),et.update("jumpToPage",dt.jumpToPage),et.update("keyword",ft)},renderPageLayer:function(dt){return r$5.createElement(f$3,{key:dt.pageIndex,numPages:dt.doc.numPages,pageIndex:dt.pageIndex,renderHighlights:$==null?void 0:$.renderHighlights,store:et,onHighlightKeyword:_e.onHighlightKeyword})},renderViewer:function(dt){var ct=dt.slot;return ct.subSlot&&(ct.subSlot.children=r$5.createElement(r$5.Fragment,null,_e.enableShortcuts&&r$5.createElement(x,{containerRef:dt.containerRef,store:et}),ct.subSlot.children)),ct},uninstall:function(dt){var ct=et.get("renderStatus");ct&&ct.clear()},onDocumentLoad:function(dt){et.update("doc",dt.doc)},onTextLayerRender:function(dt){var ct=et.get("renderStatus");ct&&(ct=ct.set(dt.pageIndex,dt),et.update("renderStatus",ct))},Search:function(dt){return r$5.createElement(v$2,c$5({},dt,{store:et}))},ShowSearchPopover:ut,ShowSearchPopoverButton:function(){return r$5.createElement(ut,null,function(dt){return r$5.createElement(k$1,c$5({enableShortcuts:_e.enableShortcuts,store:et},dt))})},clearHighlights:function(){nt()},highlight:function(dt){var ct=Array.isArray(dt)?dt:[dt];return at(ct),ot(ct)},jumpToMatch:rt,jumpToNextMatch:it,jumpToPreviousMatch:st,setTargetPages:lt}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$3=t$3(reactExports),r$4=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$4=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function($){var _e=$.onClick,et=n$3.useContext(e$3.ThemeContext),tt=n$3.useContext(e$3.LocalizationContext).l10n,nt=et.currentTheme==="dark",rt=tt&&tt.theme?nt?tt.theme.switchLightTheme:tt.theme.switchDarkTheme:nt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:rt,testId:"theme__switch-button",onClick:_e},nt?n$3.createElement(c$4,null):n$3.createElement(r$4,null)),content:function(){return rt},offset:a$3})},l$3=function($){var _e=$.children,et=n$3.useContext(e$3.ThemeContext);return(_e||function(tt){return n$3.createElement(i$3,{onClick:tt.onClick})})({onClick:function(){return et.setCurrentTheme(et.currentTheme==="dark"?"light":"dark")}})},u$3=function($){var _e=$.onClick,et=n$3.useContext(e$3.ThemeContext),tt=n$3.useContext(e$3.LocalizationContext).l10n,nt=et.currentTheme==="dark",rt=tt&&tt.theme?nt?tt.theme.switchLightTheme:tt.theme.switchDarkTheme:nt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:nt?n$3.createElement(c$4,null):n$3.createElement(r$4,null),testId:"theme__switch-menu",onClick:_e},rt)};theme_min.DarkIcon=r$4,theme_min.LightIcon=c$4,theme_min.themePlugin=function(){var $=function(_e){return n$3.createElement(l$3,o$3({},_e))};return{SwitchTheme:$,SwitchThemeButton:function(){return n$3.createElement($,null,function(_e){return n$3.createElement(i$3,o$3({},_e))})},SwitchThemeMenuItem:function(_e){return n$3.createElement($,null,function(et){return n$3.createElement(u$3,{onClick:function(){et.onClick(),_e.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$3=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$3=function(){return c$3=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$3.apply(this,arguments)},a$2=function($){var _e=n$2.useState($.get("scale")||0),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return n$2.useEffect(function(){return $.subscribe("scale",nt),function(){$.unsubscribe("scale",nt)}},[]),{scale:et}},u$2=function($){var _e=$.children,et=$.store;return(_e||function(tt){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*tt.scale),"%"))})({scale:a$2(et).scale})},l$2={passive:!1},i$2=null,s$2=function($){var _e=$.pagesContainerRef,et=$.store,tt=e$2.useDebounceCallback(function(rt){var it=et.get("zoom");it&&it(rt)},40),nt=function(rt){if(rt.ctrlKey){rt.preventDefault();var it=rt.target.getBoundingClientRect(),st=1-rt.deltaY/100,ot=rt.clientX-it.left,at=rt.clientY-it.top,lt=et.get("scale"),ut=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(ot,at).scale(st).translate(-ot,-at).scale(lt);tt(ut.a)}};return e$2.useIsomorphicLayoutEffect(function(){var rt=_e.current;if(rt)return rt.addEventListener("wheel",nt,l$2),function(){rt.removeEventListener("wheel",nt)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function($){return m$2.find(function(_e){return _e>$})||$},v$1=function($){var _e=m$2.findIndex(function(et){return et>=$});return _e===-1||_e===0?$:m$2[_e-1]},p$2=function($){var _e=$.containerRef,et=$.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&(e$2.isMac()?nt.metaKey:nt.ctrlKey)){var rt=_e.current;if(rt&&document.activeElement&&rt.contains(document.activeElement)){var it=et.get("zoom");if(it){var st=et.get("scale")||1,ot=1;switch(nt.key){case"-":ot=v$1(st);break;case"=":ot=f$2(st);break;case"0":ot=1;break;default:ot=st}ot!==st&&(nt.preventDefault(),it(ot))}}}};return n$2.useEffect(function(){if(_e.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[_e.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function($){var _e=$.levels,et=_e===void 0?z:_e,tt=$.scale,nt=$.onZoom,rt=n$2.useContext(e$2.LocalizationContext).l10n,it=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,st=rt&&rt.zoom?rt.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(ot){return n$2.createElement(e$2.MinimalButton,{ariaLabel:st,testId:"zoom__popover-target",onClick:function(){ot()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!it,"rpv-zoom__popover-target-scale--rtl":it})},Math.round(100*tt),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(ot){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(at){var lt=at;return n$2.createElement(e$2.MenuItem,{key:lt,onClick:function(){ot(),nt(lt)}},function(ut){switch(ut){case e$2.SpecialZoomLevel.ActualSize:return rt&&rt.zoom?rt.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return rt&&rt.zoom?rt.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return rt&&rt.zoom?rt.zoom.pageWidth:"Page width"}}(lt))}),n$2.createElement(e$2.MenuDivider,null),et.map(function(at){return n$2.createElement(e$2.MenuItem,{key:at,onClick:function(){ot(),nt(at)}},"".concat(Math.round(100*at),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function($){var _e=$.children,et=$.levels,tt=$.store;return(_e||function(nt){return n$2.createElement(d$2,{levels:et,scale:nt.scale,onZoom:nt.onZoom})})({scale:a$2(tt).scale,onZoom:function(nt){var rt=tt.get("zoom");rt&&rt(nt)}})},C={left:0,top:8},h$1=function($){var _e=$.enableShortcuts,et=$.onClick,tt=n$2.useContext(e$2.LocalizationContext).l10n,nt=tt&&tt.zoom?tt.zoom.zoomIn:"Zoom in",rt=_e?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"zoom__in-button",onClick:et},n$2.createElement(o$2,null)),content:function(){return nt},offset:C})},b$1=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store,nt=a$2(tt).scale;return(_e||h$1)({enableShortcuts:et,onClick:function(){var rt=tt.get("zoom");rt&&rt(f$2(nt))}})},k=function($){var _e=$.onClick,et=n$2.useContext(e$2.LocalizationContext).l10n,tt=et&&et.zoom?et.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:_e},tt)},S$1={left:0,top:8},M$1=function($){var _e=$.enableShortcuts,et=$.onClick,tt=n$2.useContext(e$2.LocalizationContext).l10n,nt=tt&&tt.zoom?tt.zoom.zoomOut:"Zoom out",rt=_e?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"zoom__out-button",onClick:et},n$2.createElement(r$3,null)),content:function(){return nt},offset:S$1})},I$1=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store,nt=a$2(tt).scale;return(_e||M$1)({enableShortcuts:et,onClick:function(){var rt=tt.get("zoom");rt&&rt(v$1(nt))}})},Z=function($){var _e=$.onClick,et=n$2.useContext(e$2.LocalizationContext).l10n,tt=et&&et.zoom?et.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$3,null),testId:"zoom__out-menu",onClick:_e},tt)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$3,zoom_min.zoomPlugin=function($){var _e=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},$)},[]),et=n$2.useMemo(function(){return e$2.createStore({})},[]),tt=function(it){return n$2.createElement(b$1,c$3({enableShortcuts:_e.enableShortcuts},it,{store:et}))},nt=function(it){return n$2.createElement(I$1,c$3({enableShortcuts:_e.enableShortcuts},it,{store:et}))},rt=function(it){return n$2.createElement(g$1,c$3({},it,{store:et}))};return{renderViewer:function(it){var st=it.slot;if(!_e.enableShortcuts)return st;var ot={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$2,{containerRef:it.containerRef,store:et}),n$2.createElement(s$2,{pagesContainerRef:it.pagesContainerRef,store:et}),st.children)};return c$3(c$3({},st),ot)},install:function(it){et.update("zoom",it.zoom)},onViewerStateChange:function(it){return et.update("scale",it.scale),it},zoomTo:function(it){var st=et.get("zoom");st&&st(it)},CurrentScale:function(it){return n$2.createElement(u$2,c$3({},it,{store:et}))},ZoomIn:tt,ZoomInButton:function(){return n$2.createElement(tt,null,function(it){return n$2.createElement(h$1,c$3({},it))})},ZoomInMenuItem:function(it){return n$2.createElement(tt,null,function(st){return n$2.createElement(k,{onClick:function(){st.onClick(),it.onClick()}})})},ZoomOut:nt,ZoomOutButton:function(){return n$2.createElement(nt,null,function(it){return n$2.createElement(M$1,c$3({},it))})},ZoomOutMenuItem:function(it){return n$2.createElement(nt,null,function(st){return n$2.createElement(Z,{onClick:function(){st.onClick(),it.onClick()}})})},Zoom:rt,ZoomPopover:function(it){return n$2.createElement(rt,null,function(st){return n$2.createElement(d$2,c$3({levels:it==null?void 0:it.levels},st))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$2=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$2=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p$1=libExports$2;function v($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var _=v(r$2),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function($){var _e=$.toolbarSlot,et=_.useContext(e$1.LocalizationContext).l10n,tt=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,nt=_e.DownloadMenuItem,rt=_e.EnterFullScreenMenuItem,it=_e.GoToFirstPageMenuItem,st=_e.GoToLastPageMenuItem,ot=_e.GoToNextPageMenuItem,at=_e.GoToPreviousPageMenuItem,lt=_e.OpenMenuItem,ut=_e.PrintMenuItem,dt=_e.RotateBackwardMenuItem,ct=_e.RotateForwardMenuItem,ft=_e.ShowPropertiesMenuItem,pt=_e.SwitchScrollModeMenuItem,gt=_e.SwitchSelectionModeMenuItem,ht=_e.SwitchViewModeMenuItem,mt=_e.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:tt,target:function(bt,xt){var Et=et&&et.toolbar?et.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:tt,target:_.createElement(e$1.MinimalButton,{ariaLabel:Et,isSelected:xt,testId:"toolbar__more-actions-popover-target",onClick:bt},_.createElement(E,null)),content:function(){return Et},offset:g})},content:function(bt){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(mt,{onClick:bt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(rt,{onClick:bt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(lt,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ut,{onClick:bt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(nt,{onClick:bt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(it,{onClick:bt}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(at,{onClick:bt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ot,{onClick:bt})),_.createElement(st,{onClick:bt}),_.createElement(e$1.MenuDivider,null),_.createElement(ct,{onClick:bt}),_.createElement(dt,{onClick:bt}),_.createElement(e$1.MenuDivider,null),_.createElement(gt,{mode:t$1.SelectionMode.Text,onClick:bt}),_.createElement(gt,{mode:t$1.SelectionMode.Hand,onClick:bt}),_.createElement(e$1.MenuDivider,null),_.createElement(pt,{mode:e$1.ScrollMode.Page,onClick:bt}),_.createElement(pt,{mode:e$1.ScrollMode.Vertical,onClick:bt}),_.createElement(pt,{mode:e$1.ScrollMode.Horizontal,onClick:bt}),_.createElement(pt,{mode:e$1.ScrollMode.Wrapped,onClick:bt}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ht,{mode:e$1.ViewMode.SinglePage,onClick:bt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ht,{mode:e$1.ViewMode.DualPage,onClick:bt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ht,{mode:e$1.ViewMode.DualPageWithCover,onClick:bt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(ft,{onClick:bt}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},M.apply(this,arguments)},h=function($){return function(_e){var et=_.useMemo(function(){return $(_e)},[]),tt=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,nt=et.CurrentPageInput,rt=et.Download,it=et.EnterFullScreen,st=et.GoToNextPage,ot=et.GoToPreviousPage,at=et.NumberOfPages,lt=et.Open,ut=et.Print,dt=et.ShowSearchPopover,ct=et.SwitchTheme,ft=et.Zoom,pt=et.ZoomIn,gt=et.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":tt}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(dt,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ot,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(nt,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(at,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(st,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(gt,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ft,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pt,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ct,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(it,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(lt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(rt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ut,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:et}))))}},f$1=function($){var _e=$.NumberOfPages;return Object.assign({},$,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement(_e,null))}})},S=function($){return h(f$1)($)},I=function($){var _e=$.children,et=$.slot;return(_e||S)(et)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function($){var _e=n$1.fullScreenPlugin($?$.fullScreenPlugin:{}),et=o$1.getFilePlugin($?$.getFilePlugin:{}),tt=a$1.openPlugin($?$.openPlugin:{}),nt=l$1.pageNavigationPlugin($?$.pageNavigationPlugin:{}),rt=i$1.printPlugin($?$.printPlugin:{}),it=c$2.propertiesPlugin(),st=m$1.rotatePlugin(),ot=u$1.scrollModePlugin(),at=s$1.searchPlugin($?$.searchPlugin:{}),lt=t$1.selectionModePlugin($?$.selectionModePlugin:{}),ut=d$1.themePlugin(),dt=p$1.zoomPlugin($?$.zoomPlugin:{}),ct=[_e,et,tt,nt,rt,it,st,ot,at,lt,ut,dt],ft=_.useCallback(function(pt){var gt=_e.EnterFullScreen,ht=_e.EnterFullScreenMenuItem,mt=et.Download,bt=et.DownloadMenuItem,xt=tt.Open,Et=tt.OpenMenuItem,vt=nt.CurrentPageInput,_t=nt.CurrentPageLabel,wt=nt.GoToFirstPage,Ct=nt.GoToFirstPageMenuItem,Nt=nt.GoToLastPage,kt=nt.GoToLastPageMenuItem,Pt=nt.GoToNextPage,Dt=nt.GoToNextPageMenuItem,qt=nt.GoToPreviousPage,zt=nt.GoToPreviousPageMenuItem,jt=nt.NumberOfPages,Ft=rt.Print,Bt=rt.PrintMenuItem,It=it.ShowProperties,At=it.ShowPropertiesMenuItem,Yt=st.Rotate,Ot=st.RotateBackwardMenuItem,yt=st.RotateForwardMenuItem,Tt=ot.SwitchScrollMode,$t=ot.SwitchScrollModeMenuItem,Ut=ot.SwitchViewMode,Ht=ot.SwitchViewModeMenuItem,Wt=at.Search,Qt=at.ShowSearchPopover,mn=lt.SwitchSelectionMode,fn=lt.SwitchSelectionModeMenuItem,En=ut.SwitchTheme,kn=ut.SwitchThemeMenuItem,Tn=dt.CurrentScale,An=dt.Zoom,sn=dt.ZoomIn,dn=dt.ZoomInMenuItem,Mt=dt.ZoomOut,Vt=dt.ZoomOutMenuItem;return _.createElement(I,M({},pt,{slot:{CurrentPageInput:vt,CurrentPageLabel:_t,CurrentScale:Tn,Download:mt,DownloadMenuItem:bt,EnterFullScreen:gt,EnterFullScreenMenuItem:ht,GoToFirstPage:wt,GoToFirstPageMenuItem:Ct,GoToLastPage:Nt,GoToLastPageMenuItem:kt,GoToNextPage:Pt,GoToNextPageMenuItem:Dt,GoToPreviousPage:qt,GoToPreviousPageMenuItem:zt,NumberOfPages:jt,Open:xt,OpenMenuItem:Et,Print:Ft,PrintMenuItem:Bt,Rotate:Yt,RotateBackwardMenuItem:Ot,RotateForwardMenuItem:yt,Search:Wt,ShowProperties:It,ShowPropertiesMenuItem:At,ShowSearchPopover:Qt,SwitchScrollMode:Tt,SwitchScrollModeMenuItem:$t,SwitchSelectionMode:mn,SwitchSelectionModeMenuItem:fn,SwitchViewMode:Ut,SwitchViewModeMenuItem:Ht,SwitchTheme:En,SwitchThemeMenuItem:kn,Zoom:An,ZoomIn:sn,ZoomInMenuItem:dn,ZoomOut:Mt,ZoomOutMenuItem:Vt}}))},[]);return{fullScreenPluginInstance:_e,getFilePluginInstance:et,openPluginInstance:tt,pageNavigationPluginInstance:nt,printPluginInstance:rt,propertiesPluginInstance:it,rotatePluginInstance:st,scrollModePluginInstance:ot,searchPluginInstance:at,selectionModePluginInstance:lt,themePluginInstance:ut,zoomPluginInstance:dt,install:function(pt){ct.forEach(function(gt){gt.install&&gt.install(pt)})},renderPageLayer:function(pt){return _.createElement(_.Fragment,null,ct.map(function(gt,ht){return gt.renderPageLayer?_.createElement(_.Fragment,{key:ht},gt.renderPageLayer(pt)):_.createElement(_.Fragment,{key:ht})}))},renderViewer:function(pt){var gt=pt.slot;return ct.forEach(function(ht){ht.renderViewer&&(gt=ht.renderViewer(M(M({},pt),{slot:gt})))}),gt},uninstall:function(pt){ct.forEach(function(gt){gt.uninstall&&gt.uninstall(pt)})},onDocumentLoad:function(pt){ct.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad(pt)})},onAnnotationLayerRender:function(pt){ct.forEach(function(gt){gt.onAnnotationLayerRender&&gt.onAnnotationLayerRender(pt)})},onTextLayerRender:function(pt){ct.forEach(function(gt){gt.onTextLayerRender&&gt.onTextLayerRender(pt)})},onViewerStateChange:function(pt){var gt=pt;return ct.forEach(function(ht){ht.onViewerStateChange&&(gt=ht.onViewerStateChange(gt))}),gt},renderDefaultToolbar:h,Toolbar:ft}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r$1=libExports$e,o=libExports$1;function l($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var u=l(t),c$1=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function($){var _e=$.attachmentTabContent,et=$.bookmarkTabContent,tt=$.store,nt=$.thumbnailTabContent,rt=$.tabs,it=u.useRef(),st=u.useContext(e.LocalizationContext).l10n,ot=u.useState(tt.get("isCurrentTabOpened")||!1),at=ot[0],lt=ot[1],ut=u.useState(Math.max(tt.get("currentTab")||0,0)),dt=ut[0],ct=ut[1],ft=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,pt=[{content:nt,icon:u.createElement(d,null),title:st&&st.defaultLayout?st.defaultLayout.thumbnail:"Thumbnail"},{content:et,icon:u.createElement(c$1,null),title:st&&st.defaultLayout?st.defaultLayout.bookmark:"Bookmark"},{content:_e,icon:u.createElement(s,null),title:st&&st.defaultLayout?st.defaultLayout.attachment:"Attachment"}],gt=rt?rt(pt):pt,ht=function(bt){bt>=0&&bt<=gt.length-1&&(tt.update("isCurrentTabOpened",!0),ct(bt))},mt=function(bt){lt(bt)};return u.useEffect(function(){return tt.subscribe("currentTab",ht),tt.subscribe("isCurrentTabOpened",mt),function(){tt.unsubscribe("currentTab",ht),tt.unsubscribe("isCurrentTabOpened",mt)}},[]),gt.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":at,"rpv-default-layout__sidebar--ltr":!ft,"rpv-default-layout__sidebar--rtl":ft}),ref:it},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},gt.map(function(bt,xt){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":dt===xt,key:xt,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(xt),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(xt),position:ft?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:bt.title,isSelected:dt===xt,onClick:function(){return function(Et){if(dt===Et){tt.update("isCurrentTabOpened",!tt.get("isCurrentTabOpened"));var vt=it.current;vt&&vt.style.width&&vt.style.removeProperty("width")}else tt.update("currentTab",Et)}(xt)}},bt.icon),content:function(){return bt.title},offset:ft?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(dt),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":at,"rpv-default-layout__sidebar-content--ltr":!ft,"rpv-default-layout__sidebar-content--rtl":ft}),role:"tabpanel",tabIndex:-1},gt[dt].content))),at&&u.createElement(e.Splitter,{constrain:function(bt){return bt.firstHalfPercentage>=20&&bt.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c$1,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function($){var _e=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),et=n.attachmentPlugin(),tt=a.bookmarkPlugin(),nt=r$1.thumbnailPlugin($?$.thumbnailPlugin:{}),rt=o.toolbarPlugin($?$.toolbarPlugin:{}),it=et.Attachments,st=tt.Bookmarks,ot=nt.Thumbnails,at=rt.Toolbar,lt=$?$.sidebarTabs:function(dt){return dt},ut=[et,tt,nt,rt];return{attachmentPluginInstance:et,bookmarkPluginInstance:tt,thumbnailPluginInstance:nt,toolbarPluginInstance:rt,activateTab:function(dt){_e.update("currentTab",dt)},toggleTab:function(dt){var ct=_e.get("currentTab");_e.update("isCurrentTabOpened",!_e.get("isCurrentTabOpened")),ct!==dt&&_e.update("currentTab",dt)},install:function(dt){ut.forEach(function(ct){ct.install&&ct.install(dt)})},renderPageLayer:function(dt){return u.createElement(u.Fragment,null,ut.map(function(ct,ft){return ct.renderPageLayer?u.createElement(u.Fragment,{key:ft},ct.renderPageLayer(dt)):u.createElement(u.Fragment,{key:ft},u.createElement(u.Fragment,null))}))},renderViewer:function(dt){var ct=dt.slot;ut.forEach(function(pt){pt.renderViewer&&(ct=pt.renderViewer(i(i({},dt),{slot:ct})))});var ft=ct.subSlot&&ct.subSlot.attrs?{className:ct.subSlot.attrs.className,"data-testid":ct.subSlot.attrs["data-testid"],ref:ct.subSlot.attrs.ref,style:ct.subSlot.attrs.style}:{};return ct.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":dt.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(it,null),bookmarkTabContent:u.createElement(st,null),store:_e,thumbnailTabContent:u.createElement(ot,null),tabs:lt}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},$&&$.renderToolbar?$.renderToolbar(at):u.createElement(at,null)),u.createElement("div",i({},ft),ct.subSlot.children))),ct.children),ct.subSlot.attrs={},ct.subSlot.children=u.createElement(u.Fragment,null),ct},uninstall:function(dt){ut.forEach(function(ct){ct.uninstall&&ct.uninstall(dt)})},onDocumentLoad:function(dt){ut.forEach(function(ct){ct.onDocumentLoad&&ct.onDocumentLoad(dt)}),$&&$.setInitialTab&&$.setInitialTab(dt.doc).then(function(ct){_e.update("currentTab",ct),_e.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(dt){ut.forEach(function(ct){ct.onAnnotationLayerRender&&ct.onAnnotationLayerRender(dt)})},onTextLayerRender:function(dt){ut.forEach(function(ct){ct.onTextLayerRender&&ct.onTextLayerRender(dt)})},onViewerStateChange:function(dt){var ct=dt;return ut.forEach(function(ft){ft.onViewerStateChange&&(ct=ft.onViewerStateChange(ct))}),ct}}},defaultLayout_min.setInitialTabFromPageMode=function($){return new Promise(function(_e,et){$.getPageMode().then(function(tt){if(tt)switch(tt){case e.PageMode.Attachments:_e(2);break;case e.PageMode.Bookmarks:_e(1);break;case e.PageMode.Thumbnails:_e(0);break;default:_e(-1)}else _e(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;function ok$1(){}function unreachable(){}function stringify$1($,_e){const et={};return($[$.length-1]===""?[...$,""]:$).join((et.padRight?" ":"")+","+(et.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$4={};function name($,_e){return(emptyOptions$4.jsx?nameReJsx:nameRe).test($)}const re=/[ \t\n\f\r]/g;function whitespace($){return typeof $=="object"?$.type==="text"?empty$1($.value):!1:empty$1($)}function empty$1($){return $.replace(re,"")===""}class Schema{constructor(_e,et,tt){this.normal=et,this.property=_e,tt&&(this.space=tt)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge($,_e){const et={},tt={};for(const nt of $)Object.assign(et,nt.property),Object.assign(tt,nt.normal);return new Schema(et,tt,_e)}function normalize$1($){return $.toLowerCase()}class Info{constructor(_e,et){this.attribute=et,this.property=_e}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(_e,et,tt,nt){let rt=-1;if(super(_e,et),mark(this,"space",nt),typeof tt=="number")for(;++rt<checks.length;){const it=checks[rt];mark(this,checks[rt],(tt&types[it])===types[it])}}}DefinedInfo.prototype.defined=!0;function mark($,_e,et){et&&($[_e]=et)}function create($){const _e={},et={};for(const[tt,nt]of Object.entries($.properties)){const rt=new DefinedInfo(tt,$.transform($.attributes||{},tt),nt,$.space);$.mustUseProperty&&$.mustUseProperty.includes(tt)&&(rt.mustUseProperty=!0),_e[tt]=rt,et[normalize$1(tt)]=tt,et[normalize$1(rt.attribute)]=tt}return new Schema(_e,et,$.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform($,_e){return _e==="role"?_e:"aria-"+_e.slice(4).toLowerCase()}});function caseSensitiveTransform($,_e){return _e in $?$[_e]:_e}function caseInsensitiveTransform($,_e){return caseSensitiveTransform($,_e.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform($,_e){return"xlink:"+_e.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml$1=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform($,_e){return"xml:"+_e.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find($,_e){const et=normalize$1(_e);let tt=_e,nt=Info;if(et in $.normal)return $.property[$.normal[et]];if(et.length>4&&et.slice(0,4)==="data"&&valid.test(_e)){if(_e.charAt(4)==="-"){const rt=_e.slice(5).replace(dash,camelcase);tt="data"+rt.charAt(0).toUpperCase()+rt.slice(1)}else{const rt=_e.slice(4);if(!dash.test(rt)){let it=rt.replace(cap$1,kebab);it.charAt(0)!=="-"&&(it="-"+it),_e="data"+it}}nt=DefinedInfo}return new nt(tt,_e)}function kebab($){return"-"+$.toLowerCase()}function camelcase($){return $.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml$1],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml$1],"svg");function stringify($){return $.join(" ").trim()}var cjs$2={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration";function index$1($,_e){if(typeof $!="string")throw new TypeError("First argument must be a string");if(!$)return[];_e=_e||{};var et=1,tt=1;function nt(ft){var pt=ft.match(NEWLINE_REGEX);pt&&(et+=pt.length);var gt=ft.lastIndexOf(NEWLINE);tt=~gt?ft.length-gt:tt+ft.length}function rt(){var ft={line:et,column:tt};return function(pt){return pt.position=new it(ft),at(),pt}}function it(ft){this.start=ft,this.end={line:et,column:tt},this.source=_e.source}it.prototype.content=$;function st(ft){var pt=new Error(_e.source+":"+et+":"+tt+": "+ft);if(pt.reason=ft,pt.filename=_e.source,pt.line=et,pt.column=tt,pt.source=$,!_e.silent)throw pt}function ot(ft){var pt=ft.exec($);if(pt){var gt=pt[0];return nt(gt),$=$.slice(gt.length),pt}}function at(){ot(WHITESPACE_REGEX)}function lt(ft){var pt;for(ft=ft||[];pt=ut();)pt!==!1&&ft.push(pt);return ft}function ut(){var ft=rt();if(!(FORWARD_SLASH!=$.charAt(0)||ASTERISK!=$.charAt(1))){for(var pt=2;EMPTY_STRING!=$.charAt(pt)&&(ASTERISK!=$.charAt(pt)||FORWARD_SLASH!=$.charAt(pt+1));)++pt;if(pt+=2,EMPTY_STRING===$.charAt(pt-1))return st("End of comment missing");var gt=$.slice(2,pt-2);return tt+=2,nt(gt),$=$.slice(pt),tt+=2,ft({type:TYPE_COMMENT,comment:gt})}}function dt(){var ft=rt(),pt=ot(PROPERTY_REGEX);if(pt){if(ut(),!ot(COLON_REGEX))return st("property missing ':'");var gt=ot(VALUE_REGEX),ht=ft({type:TYPE_DECLARATION,property:trim(pt[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:gt?trim(gt[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return ot(SEMICOLON_REGEX),ht}}function ct(){var ft=[];lt(ft);for(var pt;pt=dt();)pt!==!1&&(ft.push(pt),lt(ft));return ft}return at(),ct()}function trim($){return $?$.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var cjs$1=index$1,__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.default=StyleToObject;const inline_style_parser_1=__importDefault$1(cjs$1);function StyleToObject($,_e){let et=null;if(!$||typeof $!="string")return et;const tt=(0,inline_style_parser_1.default)($),nt=typeof _e=="function";return tt.forEach(rt=>{if(rt.type!=="declaration")return;const{property:it,value:st}=rt;nt?_e(it,st,rt):st&&(et=et||{},et[it]=st)}),et}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function($){return!$||NO_HYPHEN_REGEX.test($)||CUSTOM_PROPERTY_REGEX.test($)},capitalize=function($,_e){return _e.toUpperCase()},trimHyphen=function($,_e){return"".concat(_e,"-")},camelCase=function($,_e){return _e===void 0&&(_e={}),skipCamelCase($)?$:($=$.toLowerCase(),_e.reactCompat?$=$.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):$=$.replace(VENDOR_PREFIX_REGEX,trimHyphen),$.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function($){return $&&$.__esModule?$:{default:$}},style_to_object_1=__importDefault(cjs$2),utilities_1=utilities;function StyleToJS($,_e){var et={};return!$||typeof $!="string"||(0,style_to_object_1.default)($,function(tt,nt){tt&&nt&&(et[(0,utilities_1.camelCase)(tt,_e)]=nt)}),et}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2($){return _e;function _e(et){const tt=et&&et.position&&et.position[$]||{};if(typeof tt.line=="number"&&tt.line>0&&typeof tt.column=="number"&&tt.column>0)return{line:tt.line,column:tt.column,offset:typeof tt.offset=="number"&&tt.offset>-1?tt.offset:void 0}}}function position$1($){const _e=pointStart($),et=pointEnd($);if(_e&&et)return{start:_e,end:et}}function stringifyPosition($){return!$||typeof $!="object"?"":"position"in $||"type"in $?position($.position):"start"in $||"end"in $?position($):"line"in $||"column"in $?point$1($):""}function point$1($){return index($&&$.line)+":"+index($&&$.column)}function position($){return point$1($&&$.start)+"-"+point$1($&&$.end)}function index($){return $&&typeof $=="number"?$:1}class VFileMessage extends Error{constructor(_e,et,tt){super(),typeof et=="string"&&(tt=et,et=void 0);let nt="",rt={},it=!1;if(et&&("line"in et&&"column"in et?rt={place:et}:"start"in et&&"end"in et?rt={place:et}:"type"in et?rt={ancestors:[et],place:et.position}:rt={...et}),typeof _e=="string"?nt=_e:!rt.cause&&_e&&(it=!0,nt=_e.message,rt.cause=_e),!rt.ruleId&&!rt.source&&typeof tt=="string"){const ot=tt.indexOf(":");ot===-1?rt.ruleId=tt:(rt.source=tt.slice(0,ot),rt.ruleId=tt.slice(ot+1))}if(!rt.place&&rt.ancestors&&rt.ancestors){const ot=rt.ancestors[rt.ancestors.length-1];ot&&(rt.place=ot.position)}const st=rt.place&&"start"in rt.place?rt.place.start:rt.place;this.ancestors=rt.ancestors||void 0,this.cause=rt.cause||void 0,this.column=st?st.column:void 0,this.fatal=void 0,this.file="",this.message=nt,this.line=st?st.line:void 0,this.name=stringifyPosition(rt.place)||"1:1",this.place=rt.place||void 0,this.reason=this.message,this.ruleId=rt.ruleId||void 0,this.source=rt.source||void 0,this.stack=it&&rt.cause&&typeof rt.cause.stack=="string"?rt.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime($,_e){if(!_e||_e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const et=_e.filePath||void 0;let tt;if(_e.development){if(typeof _e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");tt=developmentCreate(et,_e.jsxDEV)}else{if(typeof _e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof _e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");tt=productionCreate(et,_e.jsx,_e.jsxs)}const nt={Fragment:_e.Fragment,ancestors:[],components:_e.components||{},create:tt,elementAttributeNameCase:_e.elementAttributeNameCase||"react",evaluater:_e.createEvaluater?_e.createEvaluater():void 0,filePath:et,ignoreInvalidStyle:_e.ignoreInvalidStyle||!1,passKeys:_e.passKeys!==!1,passNode:_e.passNode||!1,schema:_e.space==="svg"?svg:html$1,stylePropertyNameCase:_e.stylePropertyNameCase||"dom",tableCellAlignToStyle:_e.tableCellAlignToStyle!==!1},rt=one$1(nt,$,void 0);return rt&&typeof rt!="string"?rt:nt.create($,nt.Fragment,{children:rt||void 0},void 0)}function one$1($,_e,et){if(_e.type==="element")return element$2($,_e,et);if(_e.type==="mdxFlowExpression"||_e.type==="mdxTextExpression")return mdxExpression($,_e);if(_e.type==="mdxJsxFlowElement"||_e.type==="mdxJsxTextElement")return mdxJsxElement($,_e,et);if(_e.type==="mdxjsEsm")return mdxEsm($,_e);if(_e.type==="root")return root$1($,_e,et);if(_e.type==="text")return text$3($,_e)}function element$2($,_e,et){const tt=$.schema;let nt=tt;_e.tagName.toLowerCase()==="svg"&&tt.space==="html"&&(nt=svg,$.schema=nt),$.ancestors.push(_e);const rt=findComponentFromName($,_e.tagName,!1),it=createElementProps($,_e);let st=createChildren($,_e);return tableElements.has(_e.tagName)&&(st=st.filter(function(ot){return typeof ot=="string"?!whitespace(ot):!0})),addNode($,it,rt,_e),addChildren(it,st),$.ancestors.pop(),$.schema=tt,$.create(_e,rt,it,et)}function mdxExpression($,_e){if(_e.data&&_e.data.estree&&$.evaluater){const tt=_e.data.estree.body[0];return tt.type,$.evaluater.evaluateExpression(tt.expression)}crashEstree($,_e.position)}function mdxEsm($,_e){if(_e.data&&_e.data.estree&&$.evaluater)return $.evaluater.evaluateProgram(_e.data.estree);crashEstree($,_e.position)}function mdxJsxElement($,_e,et){const tt=$.schema;let nt=tt;_e.name==="svg"&&tt.space==="html"&&(nt=svg,$.schema=nt),$.ancestors.push(_e);const rt=_e.name===null?$.Fragment:findComponentFromName($,_e.name,!0),it=createJsxElementProps($,_e),st=createChildren($,_e);return addNode($,it,rt,_e),addChildren(it,st),$.ancestors.pop(),$.schema=tt,$.create(_e,rt,it,et)}function root$1($,_e,et){const tt={};return addChildren(tt,createChildren($,_e)),$.create(_e,$.Fragment,tt,et)}function text$3($,_e){return _e.value}function addNode($,_e,et,tt){typeof et!="string"&&et!==$.Fragment&&$.passNode&&(_e.node=tt)}function addChildren($,_e){if(_e.length>0){const et=_e.length>1?_e:_e[0];et&&($.children=et)}}function productionCreate($,_e,et){return tt;function tt(nt,rt,it,st){const at=Array.isArray(it.children)?et:_e;return st?at(rt,it,st):at(rt,it)}}function developmentCreate($,_e){return et;function et(tt,nt,rt,it){const st=Array.isArray(rt.children),ot=pointStart(tt);return _e(nt,rt,it,st,{columnNumber:ot?ot.column-1:void 0,fileName:$,lineNumber:ot?ot.line:void 0},void 0)}}function createElementProps($,_e){const et={};let tt,nt;for(nt in _e.properties)if(nt!=="children"&&own$3.call(_e.properties,nt)){const rt=createProperty($,nt,_e.properties[nt]);if(rt){const[it,st]=rt;$.tableCellAlignToStyle&&it==="align"&&typeof st=="string"&&tableCellElement.has(_e.tagName)?tt=st:et[it]=st}}if(tt){const rt=et.style||(et.style={});rt[$.stylePropertyNameCase==="css"?"text-align":"textAlign"]=tt}return et}function createJsxElementProps($,_e){const et={};for(const tt of _e.attributes)if(tt.type==="mdxJsxExpressionAttribute")if(tt.data&&tt.data.estree&&$.evaluater){const rt=tt.data.estree.body[0];rt.type;const it=rt.expression;it.type;const st=it.properties[0];st.type,Object.assign(et,$.evaluater.evaluateExpression(st.argument))}else crashEstree($,_e.position);else{const nt=tt.name;let rt;if(tt.value&&typeof tt.value=="object")if(tt.value.data&&tt.value.data.estree&&$.evaluater){const st=tt.value.data.estree.body[0];st.type,rt=$.evaluater.evaluateExpression(st.expression)}else crashEstree($,_e.position);else rt=tt.value===null?!0:tt.value;et[nt]=rt}return et}function createChildren($,_e){const et=[];let tt=-1;const nt=$.passKeys?new Map:emptyMap;for(;++tt<_e.children.length;){const rt=_e.children[tt];let it;if($.passKeys){const ot=rt.type==="element"?rt.tagName:rt.type==="mdxJsxFlowElement"||rt.type==="mdxJsxTextElement"?rt.name:void 0;if(ot){const at=nt.get(ot)||0;it=ot+"-"+at,nt.set(ot,at+1)}}const st=one$1($,rt,it);st!==void 0&&et.push(st)}return et}function createProperty($,_e,et){const tt=find($.schema,_e);if(!(et==null||typeof et=="number"&&Number.isNaN(et))){if(Array.isArray(et)&&(et=tt.commaSeparated?stringify$1(et):stringify(et)),tt.property==="style"){let nt=typeof et=="object"?et:parseStyle($,String(et));return $.stylePropertyNameCase==="css"&&(nt=transformStylesToCssCasing(nt)),["style",nt]}return[$.elementAttributeNameCase==="react"&&tt.space?hastToReact[tt.property]||tt.property:tt.attribute,et]}}function parseStyle($,_e){try{return styleToJs(_e,{reactCompat:!0})}catch(et){if($.ignoreInvalidStyle)return{};const tt=et,nt=new VFileMessage("Cannot parse `style` attribute",{ancestors:$.ancestors,cause:tt,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw nt.file=$.filePath||void 0,nt.url=docs+"#cannot-parse-style-attribute",nt}}function findComponentFromName($,_e,et){let tt;if(!et)tt={type:"Literal",value:_e};else if(_e.includes(".")){const nt=_e.split(".");let rt=-1,it;for(;++rt<nt.length;){const st=name(nt[rt])?{type:"Identifier",name:nt[rt]}:{type:"Literal",value:nt[rt]};it=it?{type:"MemberExpression",object:it,property:st,computed:!!(rt&&st.type==="Literal"),optional:!1}:st}tt=it}else tt=name(_e)&&!/^[a-z]/.test(_e)?{type:"Identifier",name:_e}:{type:"Literal",value:_e};if(tt.type==="Literal"){const nt=tt.value;return own$3.call($.components,nt)?$.components[nt]:nt}if($.evaluater)return $.evaluater.evaluateExpression(tt);crashEstree($)}function crashEstree($,_e){const et=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:$.ancestors,place:_e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw et.file=$.filePath||void 0,et.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",et}function transformStylesToCssCasing($){const _e={};let et;for(et in $)own$3.call($,et)&&(_e[transformStyleToCssCasing(et)]=$[et]);return _e}function transformStyleToCssCasing($){let _e=$.replace(cap,toDash);return _e.slice(0,3)==="ms-"&&(_e="-"+_e),_e}function toDash($){return"-"+$.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$3={};function toString$1($,_e){const et=emptyOptions$3,tt=typeof et.includeImageAlt=="boolean"?et.includeImageAlt:!0,nt=typeof et.includeHtml=="boolean"?et.includeHtml:!0;return one($,tt,nt)}function one($,_e,et){if(node($)){if("value"in $)return $.type==="html"&&!et?"":$.value;if(_e&&"alt"in $&&$.alt)return $.alt;if("children"in $)return all($.children,_e,et)}return Array.isArray($)?all($,_e,et):""}function all($,_e,et){const tt=[];let nt=-1;for(;++nt<$.length;)tt[nt]=one($[nt],_e,et);return tt.join("")}function node($){return!!($&&typeof $=="object")}const element$1=document.createElement("i");function decodeNamedCharacterReference($){const _e="&"+$+";";element$1.innerHTML=_e;const et=element$1.textContent;return et.charCodeAt(et.length-1)===59&&$!=="semi"||et===_e?!1:et}function splice($,_e,et,tt){const nt=$.length;let rt=0,it;if(_e<0?_e=-_e>nt?0:nt+_e:_e=_e>nt?nt:_e,et=et>0?et:0,tt.length<1e4)it=Array.from(tt),it.unshift(_e,et),$.splice(...it);else for(et&&$.splice(_e,et);rt<tt.length;)it=tt.slice(rt,rt+1e4),it.unshift(_e,0),$.splice(...it),rt+=1e4,_e+=1e4}function push($,_e){return $.length>0?(splice($,$.length,0,_e),$):_e}const hasOwnProperty={}.hasOwnProperty;function combineExtensions($){const _e={};let et=-1;for(;++et<$.length;)syntaxExtension(_e,$[et]);return _e}function syntaxExtension($,_e){let et;for(et in _e){const nt=(hasOwnProperty.call($,et)?$[et]:void 0)||($[et]={}),rt=_e[et];let it;if(rt)for(it in rt){hasOwnProperty.call(nt,it)||(nt[it]=[]);const st=rt[it];constructs(nt[it],Array.isArray(st)?st:st?[st]:[])}}}function constructs($,_e){let et=-1;const tt=[];for(;++et<_e.length;)(_e[et].add==="after"?$:tt).push(_e[et]);splice($,0,0,tt)}function decodeNumericCharacterReference($,_e){const et=Number.parseInt($,_e);return et<9||et===11||et>13&&et<32||et>126&&et<160||et>55295&&et<57344||et>64975&&et<65008||(et&65535)===65535||(et&65535)===65534||et>1114111?"":String.fromCodePoint(et)}function normalizeIdentifier($){return $.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl($){return $!==null&&($<32||$===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding($){return $!==null&&$<-2}function markdownLineEndingOrSpace($){return $!==null&&($<0||$===32)}function markdownSpace($){return $===-2||$===-1||$===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck($){return _e;function _e(et){return et!==null&&et>-1&&$.test(String.fromCharCode(et))}}function normalizeUri($){const _e=[];let et=-1,tt=0,nt=0;for(;++et<$.length;){const rt=$.charCodeAt(et);let it="";if(rt===37&&asciiAlphanumeric($.charCodeAt(et+1))&&asciiAlphanumeric($.charCodeAt(et+2)))nt=2;else if(rt<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(rt))||(it=String.fromCharCode(rt));else if(rt>55295&&rt<57344){const st=$.charCodeAt(et+1);rt<56320&&st>56319&&st<57344?(it=String.fromCharCode(rt,st),nt=1):it=""}else it=String.fromCharCode(rt);it&&(_e.push($.slice(tt,et),encodeURIComponent(it)),tt=et+nt+1,it=""),nt&&(et+=nt,nt=0)}return _e.join("")+$.slice(tt)}function factorySpace($,_e,et,tt){const nt=tt?tt-1:Number.POSITIVE_INFINITY;let rt=0;return it;function it(ot){return markdownSpace(ot)?($.enter(et),st(ot)):_e(ot)}function st(ot){return markdownSpace(ot)&&rt++<nt?($.consume(ot),st):($.exit(et),_e(ot))}}const content$1={tokenize:initializeContent};function initializeContent($){const _e=$.attempt(this.parser.constructs.contentInitial,tt,nt);let et;return _e;function tt(st){if(st===null){$.consume(st);return}return $.enter("lineEnding"),$.consume(st),$.exit("lineEnding"),factorySpace($,_e,"linePrefix")}function nt(st){return $.enter("paragraph"),rt(st)}function rt(st){const ot=$.enter("chunkText",{contentType:"text",previous:et});return et&&(et.next=ot),et=ot,it(st)}function it(st){if(st===null){$.exit("chunkText"),$.exit("paragraph"),$.consume(st);return}return markdownLineEnding(st)?($.consume(st),$.exit("chunkText"),rt):($.consume(st),it)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument($){const _e=this,et=[];let tt=0,nt,rt,it;return st;function st(bt){if(tt<et.length){const xt=et[tt];return _e.containerState=xt[1],$.attempt(xt[0].continuation,ot,at)(bt)}return at(bt)}function ot(bt){if(tt++,_e.containerState._closeFlow){_e.containerState._closeFlow=void 0,nt&&mt();const xt=_e.events.length;let Et=xt,vt;for(;Et--;)if(_e.events[Et][0]==="exit"&&_e.events[Et][1].type==="chunkFlow"){vt=_e.events[Et][1].end;break}ht(tt);let _t=xt;for(;_t<_e.events.length;)_e.events[_t][1].end={...vt},_t++;return splice(_e.events,Et+1,0,_e.events.slice(xt)),_e.events.length=_t,at(bt)}return st(bt)}function at(bt){if(tt===et.length){if(!nt)return dt(bt);if(nt.currentConstruct&&nt.currentConstruct.concrete)return ft(bt);_e.interrupt=!!(nt.currentConstruct&&!nt._gfmTableDynamicInterruptHack)}return _e.containerState={},$.check(containerConstruct,lt,ut)(bt)}function lt(bt){return nt&&mt(),ht(tt),dt(bt)}function ut(bt){return _e.parser.lazy[_e.now().line]=tt!==et.length,it=_e.now().offset,ft(bt)}function dt(bt){return _e.containerState={},$.attempt(containerConstruct,ct,ft)(bt)}function ct(bt){return tt++,et.push([_e.currentConstruct,_e.containerState]),dt(bt)}function ft(bt){if(bt===null){nt&&mt(),ht(0),$.consume(bt);return}return nt=nt||_e.parser.flow(_e.now()),$.enter("chunkFlow",{_tokenizer:nt,contentType:"flow",previous:rt}),pt(bt)}function pt(bt){if(bt===null){gt($.exit("chunkFlow"),!0),ht(0),$.consume(bt);return}return markdownLineEnding(bt)?($.consume(bt),gt($.exit("chunkFlow")),tt=0,_e.interrupt=void 0,st):($.consume(bt),pt)}function gt(bt,xt){const Et=_e.sliceStream(bt);if(xt&&Et.push(null),bt.previous=rt,rt&&(rt.next=bt),rt=bt,nt.defineSkip(bt.start),nt.write(Et),_e.parser.lazy[bt.start.line]){let vt=nt.events.length;for(;vt--;)if(nt.events[vt][1].start.offset<it&&(!nt.events[vt][1].end||nt.events[vt][1].end.offset>it))return;const _t=_e.events.length;let wt=_t,Ct,Nt;for(;wt--;)if(_e.events[wt][0]==="exit"&&_e.events[wt][1].type==="chunkFlow"){if(Ct){Nt=_e.events[wt][1].end;break}Ct=!0}for(ht(tt),vt=_t;vt<_e.events.length;)_e.events[vt][1].end={...Nt},vt++;splice(_e.events,wt+1,0,_e.events.slice(_t)),_e.events.length=vt}}function ht(bt){let xt=et.length;for(;xt-- >bt;){const Et=et[xt];_e.containerState=Et[1],Et[0].exit.call(_e,$)}et.length=bt}function mt(){nt.write([null]),rt=void 0,nt=void 0,_e.containerState._closeFlow=void 0}}function tokenizeContainer($,_e,et){return factorySpace($,$.attempt(this.parser.constructs.document,_e,et),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter($){if($===null||markdownLineEndingOrSpace($)||unicodeWhitespace($))return 1;if(unicodePunctuation($))return 2}function resolveAll($,_e,et){const tt=[];let nt=-1;for(;++nt<$.length;){const rt=$[nt].resolveAll;rt&&!tt.includes(rt)&&(_e=rt(_e,et),tt.push(rt))}return _e}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention($,_e){let et=-1,tt,nt,rt,it,st,ot,at,lt;for(;++et<$.length;)if($[et][0]==="enter"&&$[et][1].type==="attentionSequence"&&$[et][1]._close){for(tt=et;tt--;)if($[tt][0]==="exit"&&$[tt][1].type==="attentionSequence"&&$[tt][1]._open&&_e.sliceSerialize($[tt][1]).charCodeAt(0)===_e.sliceSerialize($[et][1]).charCodeAt(0)){if(($[tt][1]._close||$[et][1]._open)&&($[et][1].end.offset-$[et][1].start.offset)%3&&!(($[tt][1].end.offset-$[tt][1].start.offset+$[et][1].end.offset-$[et][1].start.offset)%3))continue;ot=$[tt][1].end.offset-$[tt][1].start.offset>1&&$[et][1].end.offset-$[et][1].start.offset>1?2:1;const ut={...$[tt][1].end},dt={...$[et][1].start};movePoint(ut,-ot),movePoint(dt,ot),it={type:ot>1?"strongSequence":"emphasisSequence",start:ut,end:{...$[tt][1].end}},st={type:ot>1?"strongSequence":"emphasisSequence",start:{...$[et][1].start},end:dt},rt={type:ot>1?"strongText":"emphasisText",start:{...$[tt][1].end},end:{...$[et][1].start}},nt={type:ot>1?"strong":"emphasis",start:{...it.start},end:{...st.end}},$[tt][1].end={...it.start},$[et][1].start={...st.end},at=[],$[tt][1].end.offset-$[tt][1].start.offset&&(at=push(at,[["enter",$[tt][1],_e],["exit",$[tt][1],_e]])),at=push(at,[["enter",nt,_e],["enter",it,_e],["exit",it,_e],["enter",rt,_e]]),at=push(at,resolveAll(_e.parser.constructs.insideSpan.null,$.slice(tt+1,et),_e)),at=push(at,[["exit",rt,_e],["enter",st,_e],["exit",st,_e],["exit",nt,_e]]),$[et][1].end.offset-$[et][1].start.offset?(lt=2,at=push(at,[["enter",$[et][1],_e],["exit",$[et][1],_e]])):lt=0,splice($,tt-1,et-tt+3,at),et=tt+at.length-lt-2;break}}for(et=-1;++et<$.length;)$[et][1].type==="attentionSequence"&&($[et][1].type="data");return $}function tokenizeAttention($,_e){const et=this.parser.constructs.attentionMarkers.null,tt=this.previous,nt=classifyCharacter(tt);let rt;return it;function it(ot){return rt=ot,$.enter("attentionSequence"),st(ot)}function st(ot){if(ot===rt)return $.consume(ot),st;const at=$.exit("attentionSequence"),lt=classifyCharacter(ot),ut=!lt||lt===2&&nt||et.includes(ot),dt=!nt||nt===2&&lt||et.includes(tt);return at._open=!!(rt===42?ut:ut&&(nt||!dt)),at._close=!!(rt===42?dt:dt&&(lt||!ut)),_e(ot)}}function movePoint($,_e){$.column+=_e,$.offset+=_e,$._bufferIndex+=_e}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink($,_e,et){let tt=0;return nt;function nt(ct){return $.enter("autolink"),$.enter("autolinkMarker"),$.consume(ct),$.exit("autolinkMarker"),$.enter("autolinkProtocol"),rt}function rt(ct){return asciiAlpha(ct)?($.consume(ct),it):ct===64?et(ct):at(ct)}function it(ct){return ct===43||ct===45||ct===46||asciiAlphanumeric(ct)?(tt=1,st(ct)):at(ct)}function st(ct){return ct===58?($.consume(ct),tt=0,ot):(ct===43||ct===45||ct===46||asciiAlphanumeric(ct))&&tt++<32?($.consume(ct),st):(tt=0,at(ct))}function ot(ct){return ct===62?($.exit("autolinkProtocol"),$.enter("autolinkMarker"),$.consume(ct),$.exit("autolinkMarker"),$.exit("autolink"),_e):ct===null||ct===32||ct===60||asciiControl(ct)?et(ct):($.consume(ct),ot)}function at(ct){return ct===64?($.consume(ct),lt):asciiAtext(ct)?($.consume(ct),at):et(ct)}function lt(ct){return asciiAlphanumeric(ct)?ut(ct):et(ct)}function ut(ct){return ct===46?($.consume(ct),tt=0,lt):ct===62?($.exit("autolinkProtocol").type="autolinkEmail",$.enter("autolinkMarker"),$.consume(ct),$.exit("autolinkMarker"),$.exit("autolink"),_e):dt(ct)}function dt(ct){if((ct===45||asciiAlphanumeric(ct))&&tt++<63){const ft=ct===45?dt:ut;return $.consume(ct),ft}return et(ct)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine($,_e,et){return tt;function tt(rt){return markdownSpace(rt)?factorySpace($,nt,"linePrefix")(rt):nt(rt)}function nt(rt){return rt===null||markdownLineEnding(rt)?_e(rt):et(rt)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart($,_e,et){const tt=this;return nt;function nt(it){if(it===62){const st=tt.containerState;return st.open||($.enter("blockQuote",{_container:!0}),st.open=!0),$.enter("blockQuotePrefix"),$.enter("blockQuoteMarker"),$.consume(it),$.exit("blockQuoteMarker"),rt}return et(it)}function rt(it){return markdownSpace(it)?($.enter("blockQuotePrefixWhitespace"),$.consume(it),$.exit("blockQuotePrefixWhitespace"),$.exit("blockQuotePrefix"),_e):($.exit("blockQuotePrefix"),_e(it))}}function tokenizeBlockQuoteContinuation($,_e,et){const tt=this;return nt;function nt(it){return markdownSpace(it)?factorySpace($,rt,"linePrefix",tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(it):rt(it)}function rt(it){return $.attempt(blockQuote,_e,et)(it)}}function exit($){$.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape($,_e,et){return tt;function tt(rt){return $.enter("characterEscape"),$.enter("escapeMarker"),$.consume(rt),$.exit("escapeMarker"),nt}function nt(rt){return asciiPunctuation(rt)?($.enter("characterEscapeValue"),$.consume(rt),$.exit("characterEscapeValue"),$.exit("characterEscape"),_e):et(rt)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference($,_e,et){const tt=this;let nt=0,rt,it;return st;function st(ut){return $.enter("characterReference"),$.enter("characterReferenceMarker"),$.consume(ut),$.exit("characterReferenceMarker"),ot}function ot(ut){return ut===35?($.enter("characterReferenceMarkerNumeric"),$.consume(ut),$.exit("characterReferenceMarkerNumeric"),at):($.enter("characterReferenceValue"),rt=31,it=asciiAlphanumeric,lt(ut))}function at(ut){return ut===88||ut===120?($.enter("characterReferenceMarkerHexadecimal"),$.consume(ut),$.exit("characterReferenceMarkerHexadecimal"),$.enter("characterReferenceValue"),rt=6,it=asciiHexDigit,lt):($.enter("characterReferenceValue"),rt=7,it=asciiDigit,lt(ut))}function lt(ut){if(ut===59&&nt){const dt=$.exit("characterReferenceValue");return it===asciiAlphanumeric&&!decodeNamedCharacterReference(tt.sliceSerialize(dt))?et(ut):($.enter("characterReferenceMarker"),$.consume(ut),$.exit("characterReferenceMarker"),$.exit("characterReference"),_e)}return it(ut)&&nt++<rt?($.consume(ut),lt):et(ut)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced($,_e,et){const tt=this,nt={partial:!0,tokenize:Et};let rt=0,it=0,st;return ot;function ot(vt){return at(vt)}function at(vt){const _t=tt.events[tt.events.length-1];return rt=_t&&_t[1].type==="linePrefix"?_t[2].sliceSerialize(_t[1],!0).length:0,st=vt,$.enter("codeFenced"),$.enter("codeFencedFence"),$.enter("codeFencedFenceSequence"),lt(vt)}function lt(vt){return vt===st?(it++,$.consume(vt),lt):it<3?et(vt):($.exit("codeFencedFenceSequence"),markdownSpace(vt)?factorySpace($,ut,"whitespace")(vt):ut(vt))}function ut(vt){return vt===null||markdownLineEnding(vt)?($.exit("codeFencedFence"),tt.interrupt?_e(vt):$.check(nonLazyContinuation,pt,xt)(vt)):($.enter("codeFencedFenceInfo"),$.enter("chunkString",{contentType:"string"}),dt(vt))}function dt(vt){return vt===null||markdownLineEnding(vt)?($.exit("chunkString"),$.exit("codeFencedFenceInfo"),ut(vt)):markdownSpace(vt)?($.exit("chunkString"),$.exit("codeFencedFenceInfo"),factorySpace($,ct,"whitespace")(vt)):vt===96&&vt===st?et(vt):($.consume(vt),dt)}function ct(vt){return vt===null||markdownLineEnding(vt)?ut(vt):($.enter("codeFencedFenceMeta"),$.enter("chunkString",{contentType:"string"}),ft(vt))}function ft(vt){return vt===null||markdownLineEnding(vt)?($.exit("chunkString"),$.exit("codeFencedFenceMeta"),ut(vt)):vt===96&&vt===st?et(vt):($.consume(vt),ft)}function pt(vt){return $.attempt(nt,xt,gt)(vt)}function gt(vt){return $.enter("lineEnding"),$.consume(vt),$.exit("lineEnding"),ht}function ht(vt){return rt>0&&markdownSpace(vt)?factorySpace($,mt,"linePrefix",rt+1)(vt):mt(vt)}function mt(vt){return vt===null||markdownLineEnding(vt)?$.check(nonLazyContinuation,pt,xt)(vt):($.enter("codeFlowValue"),bt(vt))}function bt(vt){return vt===null||markdownLineEnding(vt)?($.exit("codeFlowValue"),mt(vt)):($.consume(vt),bt)}function xt(vt){return $.exit("codeFenced"),_e(vt)}function Et(vt,_t,wt){let Ct=0;return Nt;function Nt(zt){return vt.enter("lineEnding"),vt.consume(zt),vt.exit("lineEnding"),kt}function kt(zt){return vt.enter("codeFencedFence"),markdownSpace(zt)?factorySpace(vt,Pt,"linePrefix",tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(zt):Pt(zt)}function Pt(zt){return zt===st?(vt.enter("codeFencedFenceSequence"),Dt(zt)):wt(zt)}function Dt(zt){return zt===st?(Ct++,vt.consume(zt),Dt):Ct>=it?(vt.exit("codeFencedFenceSequence"),markdownSpace(zt)?factorySpace(vt,qt,"whitespace")(zt):qt(zt)):wt(zt)}function qt(zt){return zt===null||markdownLineEnding(zt)?(vt.exit("codeFencedFence"),_t(zt)):wt(zt)}}}function tokenizeNonLazyContinuation($,_e,et){const tt=this;return nt;function nt(it){return it===null?et(it):($.enter("lineEnding"),$.consume(it),$.exit("lineEnding"),rt)}function rt(it){return tt.parser.lazy[tt.now().line]?et(it):_e(it)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented($,_e,et){const tt=this;return nt;function nt(at){return $.enter("codeIndented"),factorySpace($,rt,"linePrefix",5)(at)}function rt(at){const lt=tt.events[tt.events.length-1];return lt&&lt[1].type==="linePrefix"&&lt[2].sliceSerialize(lt[1],!0).length>=4?it(at):et(at)}function it(at){return at===null?ot(at):markdownLineEnding(at)?$.attempt(furtherStart,it,ot)(at):($.enter("codeFlowValue"),st(at))}function st(at){return at===null||markdownLineEnding(at)?($.exit("codeFlowValue"),it(at)):($.consume(at),st)}function ot(at){return $.exit("codeIndented"),_e(at)}}function tokenizeFurtherStart($,_e,et){const tt=this;return nt;function nt(it){return tt.parser.lazy[tt.now().line]?et(it):markdownLineEnding(it)?($.enter("lineEnding"),$.consume(it),$.exit("lineEnding"),nt):factorySpace($,rt,"linePrefix",5)(it)}function rt(it){const st=tt.events[tt.events.length-1];return st&&st[1].type==="linePrefix"&&st[2].sliceSerialize(st[1],!0).length>=4?_e(it):markdownLineEnding(it)?nt(it):et(it)}}const codeText={name:"codeText",previous,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText($){let _e=$.length-4,et=3,tt,nt;if(($[et][1].type==="lineEnding"||$[et][1].type==="space")&&($[_e][1].type==="lineEnding"||$[_e][1].type==="space")){for(tt=et;++tt<_e;)if($[tt][1].type==="codeTextData"){$[et][1].type="codeTextPadding",$[_e][1].type="codeTextPadding",et+=2,_e-=2;break}}for(tt=et-1,_e++;++tt<=_e;)nt===void 0?tt!==_e&&$[tt][1].type!=="lineEnding"&&(nt=tt):(tt===_e||$[tt][1].type==="lineEnding")&&($[nt][1].type="codeTextData",tt!==nt+2&&($[nt][1].end=$[tt-1][1].end,$.splice(nt+2,tt-nt-2),_e-=tt-nt-2,tt=nt+2),nt=void 0);return $}function previous($){return $!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText($,_e,et){let tt=0,nt,rt;return it;function it(ut){return $.enter("codeText"),$.enter("codeTextSequence"),st(ut)}function st(ut){return ut===96?($.consume(ut),tt++,st):($.exit("codeTextSequence"),ot(ut))}function ot(ut){return ut===null?et(ut):ut===32?($.enter("space"),$.consume(ut),$.exit("space"),ot):ut===96?(rt=$.enter("codeTextSequence"),nt=0,lt(ut)):markdownLineEnding(ut)?($.enter("lineEnding"),$.consume(ut),$.exit("lineEnding"),ot):($.enter("codeTextData"),at(ut))}function at(ut){return ut===null||ut===32||ut===96||markdownLineEnding(ut)?($.exit("codeTextData"),ot(ut)):($.consume(ut),at)}function lt(ut){return ut===96?($.consume(ut),nt++,lt):nt===tt?($.exit("codeTextSequence"),$.exit("codeText"),_e(ut)):(rt.type="codeTextData",at(ut))}}class SpliceBuffer{constructor(_e){this.left=_e?[..._e]:[],this.right=[]}get(_e){if(_e<0||_e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+_e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return _e<this.left.length?this.left[_e]:this.right[this.right.length-_e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(_e,et){const tt=et??Number.POSITIVE_INFINITY;return tt<this.left.length?this.left.slice(_e,tt):_e>this.left.length?this.right.slice(this.right.length-tt+this.left.length,this.right.length-_e+this.left.length).reverse():this.left.slice(_e).concat(this.right.slice(this.right.length-tt+this.left.length).reverse())}splice(_e,et,tt){const nt=et||0;this.setCursor(Math.trunc(_e));const rt=this.right.splice(this.right.length-nt,Number.POSITIVE_INFINITY);return tt&&chunkedPush(this.left,tt),rt.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(_e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(_e)}pushMany(_e){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,_e)}unshift(_e){this.setCursor(0),this.right.push(_e)}unshiftMany(_e){this.setCursor(0),chunkedPush(this.right,_e.reverse())}setCursor(_e){if(!(_e===this.left.length||_e>this.left.length&&this.right.length===0||_e<0&&this.left.length===0))if(_e<this.left.length){const et=this.left.splice(_e,Number.POSITIVE_INFINITY);chunkedPush(this.right,et.reverse())}else{const et=this.right.splice(this.left.length+this.right.length-_e,Number.POSITIVE_INFINITY);chunkedPush(this.left,et.reverse())}}}function chunkedPush($,_e){let et=0;if(_e.length<1e4)$.push(..._e);else for(;et<_e.length;)$.push(..._e.slice(et,et+1e4)),et+=1e4}function subtokenize($){const _e={};let et=-1,tt,nt,rt,it,st,ot,at;const lt=new SpliceBuffer($);for(;++et<lt.length;){for(;et in _e;)et=_e[et];if(tt=lt.get(et),et&&tt[1].type==="chunkFlow"&&lt.get(et-1)[1].type==="listItemPrefix"&&(ot=tt[1]._tokenizer.events,rt=0,rt<ot.length&&ot[rt][1].type==="lineEndingBlank"&&(rt+=2),rt<ot.length&&ot[rt][1].type==="content"))for(;++rt<ot.length&&ot[rt][1].type!=="content";)ot[rt][1].type==="chunkText"&&(ot[rt][1]._isInFirstContentOfListItem=!0,rt++);if(tt[0]==="enter")tt[1].contentType&&(Object.assign(_e,subcontent(lt,et)),et=_e[et],at=!0);else if(tt[1]._container){for(rt=et,nt=void 0;rt--;)if(it=lt.get(rt),it[1].type==="lineEnding"||it[1].type==="lineEndingBlank")it[0]==="enter"&&(nt&&(lt.get(nt)[1].type="lineEndingBlank"),it[1].type="lineEnding",nt=rt);else if(!(it[1].type==="linePrefix"||it[1].type==="listItemIndent"))break;nt&&(tt[1].end={...lt.get(nt)[1].start},st=lt.slice(nt,et),st.unshift(tt),lt.splice(nt,et-nt+1,st))}}return splice($,0,Number.POSITIVE_INFINITY,lt.slice(0)),!at}function subcontent($,_e){const et=$.get(_e)[1],tt=$.get(_e)[2];let nt=_e-1;const rt=[];let it=et._tokenizer;it||(it=tt.parser[et.contentType](et.start),et._contentTypeTextTrailing&&(it._contentTypeTextTrailing=!0));const st=it.events,ot=[],at={};let lt,ut,dt=-1,ct=et,ft=0,pt=0;const gt=[pt];for(;ct;){for(;$.get(++nt)[1]!==ct;);rt.push(nt),ct._tokenizer||(lt=tt.sliceStream(ct),ct.next||lt.push(null),ut&&it.defineSkip(ct.start),ct._isInFirstContentOfListItem&&(it._gfmTasklistFirstContentOfListItem=!0),it.write(lt),ct._isInFirstContentOfListItem&&(it._gfmTasklistFirstContentOfListItem=void 0)),ut=ct,ct=ct.next}for(ct=et;++dt<st.length;)st[dt][0]==="exit"&&st[dt-1][0]==="enter"&&st[dt][1].type===st[dt-1][1].type&&st[dt][1].start.line!==st[dt][1].end.line&&(pt=dt+1,gt.push(pt),ct._tokenizer=void 0,ct.previous=void 0,ct=ct.next);for(it.events=[],ct?(ct._tokenizer=void 0,ct.previous=void 0):gt.pop(),dt=gt.length;dt--;){const ht=st.slice(gt[dt],gt[dt+1]),mt=rt.pop();ot.push([mt,mt+ht.length-1]),$.splice(mt,2,ht)}for(ot.reverse(),dt=-1;++dt<ot.length;)at[ft+ot[dt][0]]=ft+ot[dt][1],ft+=ot[dt][1]-ot[dt][0]-1;return at}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent($){return subtokenize($),$}function tokenizeContent($,_e){let et;return tt;function tt(st){return $.enter("content"),et=$.enter("chunkContent",{contentType:"content"}),nt(st)}function nt(st){return st===null?rt(st):markdownLineEnding(st)?$.check(continuationConstruct,it,rt)(st):($.consume(st),nt)}function rt(st){return $.exit("chunkContent"),$.exit("content"),_e(st)}function it(st){return $.consume(st),$.exit("chunkContent"),et.next=$.enter("chunkContent",{contentType:"content",previous:et}),et=et.next,nt}}function tokenizeContinuation($,_e,et){const tt=this;return nt;function nt(it){return $.exit("chunkContent"),$.enter("lineEnding"),$.consume(it),$.exit("lineEnding"),factorySpace($,rt,"linePrefix")}function rt(it){if(it===null||markdownLineEnding(it))return et(it);const st=tt.events[tt.events.length-1];return!tt.parser.constructs.disable.null.includes("codeIndented")&&st&&st[1].type==="linePrefix"&&st[2].sliceSerialize(st[1],!0).length>=4?_e(it):$.interrupt(tt.parser.constructs.flow,et,_e)(it)}}function factoryDestination($,_e,et,tt,nt,rt,it,st,ot){const at=ot||Number.POSITIVE_INFINITY;let lt=0;return ut;function ut(ht){return ht===60?($.enter(tt),$.enter(nt),$.enter(rt),$.consume(ht),$.exit(rt),dt):ht===null||ht===32||ht===41||asciiControl(ht)?et(ht):($.enter(tt),$.enter(it),$.enter(st),$.enter("chunkString",{contentType:"string"}),pt(ht))}function dt(ht){return ht===62?($.enter(rt),$.consume(ht),$.exit(rt),$.exit(nt),$.exit(tt),_e):($.enter(st),$.enter("chunkString",{contentType:"string"}),ct(ht))}function ct(ht){return ht===62?($.exit("chunkString"),$.exit(st),dt(ht)):ht===null||ht===60||markdownLineEnding(ht)?et(ht):($.consume(ht),ht===92?ft:ct)}function ft(ht){return ht===60||ht===62||ht===92?($.consume(ht),ct):ct(ht)}function pt(ht){return!lt&&(ht===null||ht===41||markdownLineEndingOrSpace(ht))?($.exit("chunkString"),$.exit(st),$.exit(it),$.exit(tt),_e(ht)):lt<at&&ht===40?($.consume(ht),lt++,pt):ht===41?($.consume(ht),lt--,pt):ht===null||ht===32||ht===40||asciiControl(ht)?et(ht):($.consume(ht),ht===92?gt:pt)}function gt(ht){return ht===40||ht===41||ht===92?($.consume(ht),pt):pt(ht)}}function factoryLabel($,_e,et,tt,nt,rt){const it=this;let st=0,ot;return at;function at(ct){return $.enter(tt),$.enter(nt),$.consume(ct),$.exit(nt),$.enter(rt),lt}function lt(ct){return st>999||ct===null||ct===91||ct===93&&!ot||ct===94&&!st&&"_hiddenFootnoteSupport"in it.parser.constructs?et(ct):ct===93?($.exit(rt),$.enter(nt),$.consume(ct),$.exit(nt),$.exit(tt),_e):markdownLineEnding(ct)?($.enter("lineEnding"),$.consume(ct),$.exit("lineEnding"),lt):($.enter("chunkString",{contentType:"string"}),ut(ct))}function ut(ct){return ct===null||ct===91||ct===93||markdownLineEnding(ct)||st++>999?($.exit("chunkString"),lt(ct)):($.consume(ct),ot||(ot=!markdownSpace(ct)),ct===92?dt:ut)}function dt(ct){return ct===91||ct===92||ct===93?($.consume(ct),st++,ut):ut(ct)}}function factoryTitle($,_e,et,tt,nt,rt){let it;return st;function st(dt){return dt===34||dt===39||dt===40?($.enter(tt),$.enter(nt),$.consume(dt),$.exit(nt),it=dt===40?41:dt,ot):et(dt)}function ot(dt){return dt===it?($.enter(nt),$.consume(dt),$.exit(nt),$.exit(tt),_e):($.enter(rt),at(dt))}function at(dt){return dt===it?($.exit(rt),ot(it)):dt===null?et(dt):markdownLineEnding(dt)?($.enter("lineEnding"),$.consume(dt),$.exit("lineEnding"),factorySpace($,at,"linePrefix")):($.enter("chunkString",{contentType:"string"}),lt(dt))}function lt(dt){return dt===it||dt===null||markdownLineEnding(dt)?($.exit("chunkString"),at(dt)):($.consume(dt),dt===92?ut:lt)}function ut(dt){return dt===it||dt===92?($.consume(dt),lt):lt(dt)}}function factoryWhitespace($,_e){let et;return tt;function tt(nt){return markdownLineEnding(nt)?($.enter("lineEnding"),$.consume(nt),$.exit("lineEnding"),et=!0,tt):markdownSpace(nt)?factorySpace($,tt,et?"linePrefix":"lineSuffix")(nt):_e(nt)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition($,_e,et){const tt=this;let nt;return rt;function rt(ct){return $.enter("definition"),it(ct)}function it(ct){return factoryLabel.call(tt,$,st,et,"definitionLabel","definitionLabelMarker","definitionLabelString")(ct)}function st(ct){return nt=normalizeIdentifier(tt.sliceSerialize(tt.events[tt.events.length-1][1]).slice(1,-1)),ct===58?($.enter("definitionMarker"),$.consume(ct),$.exit("definitionMarker"),ot):et(ct)}function ot(ct){return markdownLineEndingOrSpace(ct)?factoryWhitespace($,at)(ct):at(ct)}function at(ct){return factoryDestination($,lt,et,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(ct)}function lt(ct){return $.attempt(titleBefore,ut,ut)(ct)}function ut(ct){return markdownSpace(ct)?factorySpace($,dt,"whitespace")(ct):dt(ct)}function dt(ct){return ct===null||markdownLineEnding(ct)?($.exit("definition"),tt.parser.defined.push(nt),_e(ct)):et(ct)}}function tokenizeTitleBefore($,_e,et){return tt;function tt(st){return markdownLineEndingOrSpace(st)?factoryWhitespace($,nt)(st):et(st)}function nt(st){return factoryTitle($,rt,et,"definitionTitle","definitionTitleMarker","definitionTitleString")(st)}function rt(st){return markdownSpace(st)?factorySpace($,it,"whitespace")(st):it(st)}function it(st){return st===null||markdownLineEnding(st)?_e(st):et(st)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape($,_e,et){return tt;function tt(rt){return $.enter("hardBreakEscape"),$.consume(rt),nt}function nt(rt){return markdownLineEnding(rt)?($.exit("hardBreakEscape"),_e(rt)):et(rt)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx($,_e){let et=$.length-2,tt=3,nt,rt;return $[tt][1].type==="whitespace"&&(tt+=2),et-2>tt&&$[et][1].type==="whitespace"&&(et-=2),$[et][1].type==="atxHeadingSequence"&&(tt===et-1||et-4>tt&&$[et-2][1].type==="whitespace")&&(et-=tt+1===et?2:4),et>tt&&(nt={type:"atxHeadingText",start:$[tt][1].start,end:$[et][1].end},rt={type:"chunkText",start:$[tt][1].start,end:$[et][1].end,contentType:"text"},splice($,tt,et-tt+1,[["enter",nt,_e],["enter",rt,_e],["exit",rt,_e],["exit",nt,_e]])),$}function tokenizeHeadingAtx($,_e,et){let tt=0;return nt;function nt(lt){return $.enter("atxHeading"),rt(lt)}function rt(lt){return $.enter("atxHeadingSequence"),it(lt)}function it(lt){return lt===35&&tt++<6?($.consume(lt),it):lt===null||markdownLineEndingOrSpace(lt)?($.exit("atxHeadingSequence"),st(lt)):et(lt)}function st(lt){return lt===35?($.enter("atxHeadingSequence"),ot(lt)):lt===null||markdownLineEnding(lt)?($.exit("atxHeading"),_e(lt)):markdownSpace(lt)?factorySpace($,st,"whitespace")(lt):($.enter("atxHeadingText"),at(lt))}function ot(lt){return lt===35?($.consume(lt),ot):($.exit("atxHeadingSequence"),st(lt))}function at(lt){return lt===null||lt===35||markdownLineEndingOrSpace(lt)?($.exit("atxHeadingText"),st(lt)):($.consume(lt),at)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow($){let _e=$.length;for(;_e--&&!($[_e][0]==="enter"&&$[_e][1].type==="htmlFlow"););return _e>1&&$[_e-2][1].type==="linePrefix"&&($[_e][1].start=$[_e-2][1].start,$[_e+1][1].start=$[_e-2][1].start,$.splice(_e-2,2)),$}function tokenizeHtmlFlow($,_e,et){const tt=this;let nt,rt,it,st,ot;return at;function at(yt){return lt(yt)}function lt(yt){return $.enter("htmlFlow"),$.enter("htmlFlowData"),$.consume(yt),ut}function ut(yt){return yt===33?($.consume(yt),dt):yt===47?($.consume(yt),rt=!0,pt):yt===63?($.consume(yt),nt=3,tt.interrupt?_e:At):asciiAlpha(yt)?($.consume(yt),it=String.fromCharCode(yt),gt):et(yt)}function dt(yt){return yt===45?($.consume(yt),nt=2,ct):yt===91?($.consume(yt),nt=5,st=0,ft):asciiAlpha(yt)?($.consume(yt),nt=4,tt.interrupt?_e:At):et(yt)}function ct(yt){return yt===45?($.consume(yt),tt.interrupt?_e:At):et(yt)}function ft(yt){const Tt="CDATA[";return yt===Tt.charCodeAt(st++)?($.consume(yt),st===Tt.length?tt.interrupt?_e:Pt:ft):et(yt)}function pt(yt){return asciiAlpha(yt)?($.consume(yt),it=String.fromCharCode(yt),gt):et(yt)}function gt(yt){if(yt===null||yt===47||yt===62||markdownLineEndingOrSpace(yt)){const Tt=yt===47,$t=it.toLowerCase();return!Tt&&!rt&&htmlRawNames.includes($t)?(nt=1,tt.interrupt?_e(yt):Pt(yt)):htmlBlockNames.includes(it.toLowerCase())?(nt=6,Tt?($.consume(yt),ht):tt.interrupt?_e(yt):Pt(yt)):(nt=7,tt.interrupt&&!tt.parser.lazy[tt.now().line]?et(yt):rt?mt(yt):bt(yt))}return yt===45||asciiAlphanumeric(yt)?($.consume(yt),it+=String.fromCharCode(yt),gt):et(yt)}function ht(yt){return yt===62?($.consume(yt),tt.interrupt?_e:Pt):et(yt)}function mt(yt){return markdownSpace(yt)?($.consume(yt),mt):Nt(yt)}function bt(yt){return yt===47?($.consume(yt),Nt):yt===58||yt===95||asciiAlpha(yt)?($.consume(yt),xt):markdownSpace(yt)?($.consume(yt),bt):Nt(yt)}function xt(yt){return yt===45||yt===46||yt===58||yt===95||asciiAlphanumeric(yt)?($.consume(yt),xt):Et(yt)}function Et(yt){return yt===61?($.consume(yt),vt):markdownSpace(yt)?($.consume(yt),Et):bt(yt)}function vt(yt){return yt===null||yt===60||yt===61||yt===62||yt===96?et(yt):yt===34||yt===39?($.consume(yt),ot=yt,_t):markdownSpace(yt)?($.consume(yt),vt):wt(yt)}function _t(yt){return yt===ot?($.consume(yt),ot=null,Ct):yt===null||markdownLineEnding(yt)?et(yt):($.consume(yt),_t)}function wt(yt){return yt===null||yt===34||yt===39||yt===47||yt===60||yt===61||yt===62||yt===96||markdownLineEndingOrSpace(yt)?Et(yt):($.consume(yt),wt)}function Ct(yt){return yt===47||yt===62||markdownSpace(yt)?bt(yt):et(yt)}function Nt(yt){return yt===62?($.consume(yt),kt):et(yt)}function kt(yt){return yt===null||markdownLineEnding(yt)?Pt(yt):markdownSpace(yt)?($.consume(yt),kt):et(yt)}function Pt(yt){return yt===45&&nt===2?($.consume(yt),jt):yt===60&&nt===1?($.consume(yt),Ft):yt===62&&nt===4?($.consume(yt),Yt):yt===63&&nt===3?($.consume(yt),At):yt===93&&nt===5?($.consume(yt),It):markdownLineEnding(yt)&&(nt===6||nt===7)?($.exit("htmlFlowData"),$.check(blankLineBefore,Ot,Dt)(yt)):yt===null||markdownLineEnding(yt)?($.exit("htmlFlowData"),Dt(yt)):($.consume(yt),Pt)}function Dt(yt){return $.check(nonLazyContinuationStart,qt,Ot)(yt)}function qt(yt){return $.enter("lineEnding"),$.consume(yt),$.exit("lineEnding"),zt}function zt(yt){return yt===null||markdownLineEnding(yt)?Dt(yt):($.enter("htmlFlowData"),Pt(yt))}function jt(yt){return yt===45?($.consume(yt),At):Pt(yt)}function Ft(yt){return yt===47?($.consume(yt),it="",Bt):Pt(yt)}function Bt(yt){if(yt===62){const Tt=it.toLowerCase();return htmlRawNames.includes(Tt)?($.consume(yt),Yt):Pt(yt)}return asciiAlpha(yt)&&it.length<8?($.consume(yt),it+=String.fromCharCode(yt),Bt):Pt(yt)}function It(yt){return yt===93?($.consume(yt),At):Pt(yt)}function At(yt){return yt===62?($.consume(yt),Yt):yt===45&&nt===2?($.consume(yt),At):Pt(yt)}function Yt(yt){return yt===null||markdownLineEnding(yt)?($.exit("htmlFlowData"),Ot(yt)):($.consume(yt),Yt)}function Ot(yt){return $.exit("htmlFlow"),_e(yt)}}function tokenizeNonLazyContinuationStart($,_e,et){const tt=this;return nt;function nt(it){return markdownLineEnding(it)?($.enter("lineEnding"),$.consume(it),$.exit("lineEnding"),rt):et(it)}function rt(it){return tt.parser.lazy[tt.now().line]?et(it):_e(it)}}function tokenizeBlankLineBefore($,_e,et){return tt;function tt(nt){return $.enter("lineEnding"),$.consume(nt),$.exit("lineEnding"),$.attempt(blankLine,_e,et)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText($,_e,et){const tt=this;let nt,rt,it;return st;function st(At){return $.enter("htmlText"),$.enter("htmlTextData"),$.consume(At),ot}function ot(At){return At===33?($.consume(At),at):At===47?($.consume(At),Et):At===63?($.consume(At),bt):asciiAlpha(At)?($.consume(At),wt):et(At)}function at(At){return At===45?($.consume(At),lt):At===91?($.consume(At),rt=0,ft):asciiAlpha(At)?($.consume(At),mt):et(At)}function lt(At){return At===45?($.consume(At),ct):et(At)}function ut(At){return At===null?et(At):At===45?($.consume(At),dt):markdownLineEnding(At)?(it=ut,Ft(At)):($.consume(At),ut)}function dt(At){return At===45?($.consume(At),ct):ut(At)}function ct(At){return At===62?jt(At):At===45?dt(At):ut(At)}function ft(At){const Yt="CDATA[";return At===Yt.charCodeAt(rt++)?($.consume(At),rt===Yt.length?pt:ft):et(At)}function pt(At){return At===null?et(At):At===93?($.consume(At),gt):markdownLineEnding(At)?(it=pt,Ft(At)):($.consume(At),pt)}function gt(At){return At===93?($.consume(At),ht):pt(At)}function ht(At){return At===62?jt(At):At===93?($.consume(At),ht):pt(At)}function mt(At){return At===null||At===62?jt(At):markdownLineEnding(At)?(it=mt,Ft(At)):($.consume(At),mt)}function bt(At){return At===null?et(At):At===63?($.consume(At),xt):markdownLineEnding(At)?(it=bt,Ft(At)):($.consume(At),bt)}function xt(At){return At===62?jt(At):bt(At)}function Et(At){return asciiAlpha(At)?($.consume(At),vt):et(At)}function vt(At){return At===45||asciiAlphanumeric(At)?($.consume(At),vt):_t(At)}function _t(At){return markdownLineEnding(At)?(it=_t,Ft(At)):markdownSpace(At)?($.consume(At),_t):jt(At)}function wt(At){return At===45||asciiAlphanumeric(At)?($.consume(At),wt):At===47||At===62||markdownLineEndingOrSpace(At)?Ct(At):et(At)}function Ct(At){return At===47?($.consume(At),jt):At===58||At===95||asciiAlpha(At)?($.consume(At),Nt):markdownLineEnding(At)?(it=Ct,Ft(At)):markdownSpace(At)?($.consume(At),Ct):jt(At)}function Nt(At){return At===45||At===46||At===58||At===95||asciiAlphanumeric(At)?($.consume(At),Nt):kt(At)}function kt(At){return At===61?($.consume(At),Pt):markdownLineEnding(At)?(it=kt,Ft(At)):markdownSpace(At)?($.consume(At),kt):Ct(At)}function Pt(At){return At===null||At===60||At===61||At===62||At===96?et(At):At===34||At===39?($.consume(At),nt=At,Dt):markdownLineEnding(At)?(it=Pt,Ft(At)):markdownSpace(At)?($.consume(At),Pt):($.consume(At),qt)}function Dt(At){return At===nt?($.consume(At),nt=void 0,zt):At===null?et(At):markdownLineEnding(At)?(it=Dt,Ft(At)):($.consume(At),Dt)}function qt(At){return At===null||At===34||At===39||At===60||At===61||At===96?et(At):At===47||At===62||markdownLineEndingOrSpace(At)?Ct(At):($.consume(At),qt)}function zt(At){return At===47||At===62||markdownLineEndingOrSpace(At)?Ct(At):et(At)}function jt(At){return At===62?($.consume(At),$.exit("htmlTextData"),$.exit("htmlText"),_e):et(At)}function Ft(At){return $.exit("htmlTextData"),$.enter("lineEnding"),$.consume(At),$.exit("lineEnding"),Bt}function Bt(At){return markdownSpace(At)?factorySpace($,It,"linePrefix",tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(At):It(At)}function It(At){return $.enter("htmlTextData"),it(At)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd($){let _e=-1;const et=[];for(;++_e<$.length;){const tt=$[_e][1];if(et.push($[_e]),tt.type==="labelImage"||tt.type==="labelLink"||tt.type==="labelEnd"){const nt=tt.type==="labelImage"?4:2;tt.type="data",_e+=nt}}return $.length!==et.length&&splice($,0,$.length,et),$}function resolveToLabelEnd($,_e){let et=$.length,tt=0,nt,rt,it,st;for(;et--;)if(nt=$[et][1],rt){if(nt.type==="link"||nt.type==="labelLink"&&nt._inactive)break;$[et][0]==="enter"&&nt.type==="labelLink"&&(nt._inactive=!0)}else if(it){if($[et][0]==="enter"&&(nt.type==="labelImage"||nt.type==="labelLink")&&!nt._balanced&&(rt=et,nt.type!=="labelLink")){tt=2;break}}else nt.type==="labelEnd"&&(it=et);const ot={type:$[rt][1].type==="labelLink"?"link":"image",start:{...$[rt][1].start},end:{...$[$.length-1][1].end}},at={type:"label",start:{...$[rt][1].start},end:{...$[it][1].end}},lt={type:"labelText",start:{...$[rt+tt+2][1].end},end:{...$[it-2][1].start}};return st=[["enter",ot,_e],["enter",at,_e]],st=push(st,$.slice(rt+1,rt+tt+3)),st=push(st,[["enter",lt,_e]]),st=push(st,resolveAll(_e.parser.constructs.insideSpan.null,$.slice(rt+tt+4,it-3),_e)),st=push(st,[["exit",lt,_e],$[it-2],$[it-1],["exit",at,_e]]),st=push(st,$.slice(it+1)),st=push(st,[["exit",ot,_e]]),splice($,rt,$.length,st),$}function tokenizeLabelEnd($,_e,et){const tt=this;let nt=tt.events.length,rt,it;for(;nt--;)if((tt.events[nt][1].type==="labelImage"||tt.events[nt][1].type==="labelLink")&&!tt.events[nt][1]._balanced){rt=tt.events[nt][1];break}return st;function st(dt){return rt?rt._inactive?ut(dt):(it=tt.parser.defined.includes(normalizeIdentifier(tt.sliceSerialize({start:rt.end,end:tt.now()}))),$.enter("labelEnd"),$.enter("labelMarker"),$.consume(dt),$.exit("labelMarker"),$.exit("labelEnd"),ot):et(dt)}function ot(dt){return dt===40?$.attempt(resourceConstruct,lt,it?lt:ut)(dt):dt===91?$.attempt(referenceFullConstruct,lt,it?at:ut)(dt):it?lt(dt):ut(dt)}function at(dt){return $.attempt(referenceCollapsedConstruct,lt,ut)(dt)}function lt(dt){return _e(dt)}function ut(dt){return rt._balanced=!0,et(dt)}}function tokenizeResource($,_e,et){return tt;function tt(ut){return $.enter("resource"),$.enter("resourceMarker"),$.consume(ut),$.exit("resourceMarker"),nt}function nt(ut){return markdownLineEndingOrSpace(ut)?factoryWhitespace($,rt)(ut):rt(ut)}function rt(ut){return ut===41?lt(ut):factoryDestination($,it,st,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(ut)}function it(ut){return markdownLineEndingOrSpace(ut)?factoryWhitespace($,ot)(ut):lt(ut)}function st(ut){return et(ut)}function ot(ut){return ut===34||ut===39||ut===40?factoryTitle($,at,et,"resourceTitle","resourceTitleMarker","resourceTitleString")(ut):lt(ut)}function at(ut){return markdownLineEndingOrSpace(ut)?factoryWhitespace($,lt)(ut):lt(ut)}function lt(ut){return ut===41?($.enter("resourceMarker"),$.consume(ut),$.exit("resourceMarker"),$.exit("resource"),_e):et(ut)}}function tokenizeReferenceFull($,_e,et){const tt=this;return nt;function nt(st){return factoryLabel.call(tt,$,rt,it,"reference","referenceMarker","referenceString")(st)}function rt(st){return tt.parser.defined.includes(normalizeIdentifier(tt.sliceSerialize(tt.events[tt.events.length-1][1]).slice(1,-1)))?_e(st):et(st)}function it(st){return et(st)}}function tokenizeReferenceCollapsed($,_e,et){return tt;function tt(rt){return $.enter("reference"),$.enter("referenceMarker"),$.consume(rt),$.exit("referenceMarker"),nt}function nt(rt){return rt===93?($.enter("referenceMarker"),$.consume(rt),$.exit("referenceMarker"),$.exit("reference"),_e):et(rt)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage($,_e,et){const tt=this;return nt;function nt(st){return $.enter("labelImage"),$.enter("labelImageMarker"),$.consume(st),$.exit("labelImageMarker"),rt}function rt(st){return st===91?($.enter("labelMarker"),$.consume(st),$.exit("labelMarker"),$.exit("labelImage"),it):et(st)}function it(st){return st===94&&"_hiddenFootnoteSupport"in tt.parser.constructs?et(st):_e(st)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink($,_e,et){const tt=this;return nt;function nt(it){return $.enter("labelLink"),$.enter("labelMarker"),$.consume(it),$.exit("labelMarker"),$.exit("labelLink"),rt}function rt(it){return it===94&&"_hiddenFootnoteSupport"in tt.parser.constructs?et(it):_e(it)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding($,_e){return et;function et(tt){return $.enter("lineEnding"),$.consume(tt),$.exit("lineEnding"),factorySpace($,_e,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak($,_e,et){let tt=0,nt;return rt;function rt(at){return $.enter("thematicBreak"),it(at)}function it(at){return nt=at,st(at)}function st(at){return at===nt?($.enter("thematicBreakSequence"),ot(at)):tt>=3&&(at===null||markdownLineEnding(at))?($.exit("thematicBreak"),_e(at)):et(at)}function ot(at){return at===nt?($.consume(at),tt++,ot):($.exit("thematicBreakSequence"),markdownSpace(at)?factorySpace($,st,"whitespace")(at):st(at))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart($,_e,et){const tt=this,nt=tt.events[tt.events.length-1];let rt=nt&&nt[1].type==="linePrefix"?nt[2].sliceSerialize(nt[1],!0).length:0,it=0;return st;function st(ct){const ft=tt.containerState.type||(ct===42||ct===43||ct===45?"listUnordered":"listOrdered");if(ft==="listUnordered"?!tt.containerState.marker||ct===tt.containerState.marker:asciiDigit(ct)){if(tt.containerState.type||(tt.containerState.type=ft,$.enter(ft,{_container:!0})),ft==="listUnordered")return $.enter("listItemPrefix"),ct===42||ct===45?$.check(thematicBreak$1,et,at)(ct):at(ct);if(!tt.interrupt||ct===49)return $.enter("listItemPrefix"),$.enter("listItemValue"),ot(ct)}return et(ct)}function ot(ct){return asciiDigit(ct)&&++it<10?($.consume(ct),ot):(!tt.interrupt||it<2)&&(tt.containerState.marker?ct===tt.containerState.marker:ct===41||ct===46)?($.exit("listItemValue"),at(ct)):et(ct)}function at(ct){return $.enter("listItemMarker"),$.consume(ct),$.exit("listItemMarker"),tt.containerState.marker=tt.containerState.marker||ct,$.check(blankLine,tt.interrupt?et:lt,$.attempt(listItemPrefixWhitespaceConstruct,dt,ut))}function lt(ct){return tt.containerState.initialBlankLine=!0,rt++,dt(ct)}function ut(ct){return markdownSpace(ct)?($.enter("listItemPrefixWhitespace"),$.consume(ct),$.exit("listItemPrefixWhitespace"),dt):et(ct)}function dt(ct){return tt.containerState.size=rt+tt.sliceSerialize($.exit("listItemPrefix"),!0).length,_e(ct)}}function tokenizeListContinuation($,_e,et){const tt=this;return tt.containerState._closeFlow=void 0,$.check(blankLine,nt,rt);function nt(st){return tt.containerState.furtherBlankLines=tt.containerState.furtherBlankLines||tt.containerState.initialBlankLine,factorySpace($,_e,"listItemIndent",tt.containerState.size+1)(st)}function rt(st){return tt.containerState.furtherBlankLines||!markdownSpace(st)?(tt.containerState.furtherBlankLines=void 0,tt.containerState.initialBlankLine=void 0,it(st)):(tt.containerState.furtherBlankLines=void 0,tt.containerState.initialBlankLine=void 0,$.attempt(indentConstruct,_e,it)(st))}function it(st){return tt.containerState._closeFlow=!0,tt.interrupt=void 0,factorySpace($,$.attempt(list$1,_e,et),"linePrefix",tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(st)}}function tokenizeIndent($,_e,et){const tt=this;return factorySpace($,nt,"listItemIndent",tt.containerState.size+1);function nt(rt){const it=tt.events[tt.events.length-1];return it&&it[1].type==="listItemIndent"&&it[2].sliceSerialize(it[1],!0).length===tt.containerState.size?_e(rt):et(rt)}}function tokenizeListEnd($){$.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace($,_e,et){const tt=this;return factorySpace($,nt,"listItemPrefixWhitespace",tt.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function nt(rt){const it=tt.events[tt.events.length-1];return!markdownSpace(rt)&&it&&it[1].type==="listItemPrefixWhitespace"?_e(rt):et(rt)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline($,_e){let et=$.length,tt,nt,rt;for(;et--;)if($[et][0]==="enter"){if($[et][1].type==="content"){tt=et;break}$[et][1].type==="paragraph"&&(nt=et)}else $[et][1].type==="content"&&$.splice(et,1),!rt&&$[et][1].type==="definition"&&(rt=et);const it={type:"setextHeading",start:{...$[tt][1].start},end:{...$[$.length-1][1].end}};return $[nt][1].type="setextHeadingText",rt?($.splice(nt,0,["enter",it,_e]),$.splice(rt+1,0,["exit",$[tt][1],_e]),$[tt][1].end={...$[rt][1].end}):$[tt][1]=it,$.push(["exit",it,_e]),$}function tokenizeSetextUnderline($,_e,et){const tt=this;let nt;return rt;function rt(at){let lt=tt.events.length,ut;for(;lt--;)if(tt.events[lt][1].type!=="lineEnding"&&tt.events[lt][1].type!=="linePrefix"&&tt.events[lt][1].type!=="content"){ut=tt.events[lt][1].type==="paragraph";break}return!tt.parser.lazy[tt.now().line]&&(tt.interrupt||ut)?($.enter("setextHeadingLine"),nt=at,it(at)):et(at)}function it(at){return $.enter("setextHeadingLineSequence"),st(at)}function st(at){return at===nt?($.consume(at),st):($.exit("setextHeadingLineSequence"),markdownSpace(at)?factorySpace($,ot,"lineSuffix")(at):ot(at))}function ot(at){return at===null||markdownLineEnding(at)?($.exit("setextHeadingLine"),_e(at)):et(at)}}const flow$1={tokenize:initializeFlow};function initializeFlow($){const _e=this,et=$.attempt(blankLine,tt,$.attempt(this.parser.constructs.flowInitial,nt,factorySpace($,$.attempt(this.parser.constructs.flow,nt,$.attempt(content,nt)),"linePrefix")));return et;function tt(rt){if(rt===null){$.consume(rt);return}return $.enter("lineEndingBlank"),$.consume(rt),$.exit("lineEndingBlank"),_e.currentConstruct=void 0,et}function nt(rt){if(rt===null){$.consume(rt);return}return $.enter("lineEnding"),$.consume(rt),$.exit("lineEnding"),_e.currentConstruct=void 0,et}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$2=initializeFactory("text");function initializeFactory($){return{resolveAll:createResolver($==="text"?resolveAllLineSuffixes:void 0),tokenize:_e};function _e(et){const tt=this,nt=this.parser.constructs[$],rt=et.attempt(nt,it,st);return it;function it(lt){return at(lt)?rt(lt):st(lt)}function st(lt){if(lt===null){et.consume(lt);return}return et.enter("data"),et.consume(lt),ot}function ot(lt){return at(lt)?(et.exit("data"),rt(lt)):(et.consume(lt),ot)}function at(lt){if(lt===null)return!0;const ut=nt[lt];let dt=-1;if(ut)for(;++dt<ut.length;){const ct=ut[dt];if(!ct.previous||ct.previous.call(tt,tt.previous))return!0}return!1}}}function createResolver($){return _e;function _e(et,tt){let nt=-1,rt;for(;++nt<=et.length;)rt===void 0?et[nt]&&et[nt][1].type==="data"&&(rt=nt,nt++):(!et[nt]||et[nt][1].type!=="data")&&(nt!==rt+2&&(et[rt][1].end=et[nt-1][1].end,et.splice(rt+2,nt-rt-2),nt=rt+2),rt=void 0);return $?$(et,tt):et}}function resolveAllLineSuffixes($,_e){let et=0;for(;++et<=$.length;)if((et===$.length||$[et][1].type==="lineEnding")&&$[et-1][1].type==="data"){const tt=$[et-1][1],nt=_e.sliceStream(tt);let rt=nt.length,it=-1,st=0,ot;for(;rt--;){const at=nt[rt];if(typeof at=="string"){for(it=at.length;at.charCodeAt(it-1)===32;)st++,it--;if(it)break;it=-1}else if(at===-2)ot=!0,st++;else if(at!==-1){rt++;break}}if(_e._contentTypeTextTrailing&&et===$.length&&(st=0),st){const at={type:et===$.length||ot||st<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:rt?it:tt.start._bufferIndex+it,_index:tt.start._index+rt,line:tt.end.line,column:tt.end.column-st,offset:tt.end.offset-st},end:{...tt.end}};tt.end={...at.start},tt.start.offset===tt.end.offset?Object.assign(tt,at):($.splice(et,0,["enter",at,_e],["exit",at,_e]),et+=2)}et++}return $}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$1={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$1},Symbol.toStringTag,{value:"Module"}));function createTokenizer($,_e,et){let tt={_bufferIndex:-1,_index:0,line:et&&et.line||1,column:et&&et.column||1,offset:et&&et.offset||0};const nt={},rt=[];let it=[],st=[];const ot={attempt:_t(Et),check:_t(vt),consume:mt,enter:bt,exit:xt,interrupt:_t(vt,{interrupt:!0})},at={code:null,containerState:{},defineSkip:pt,events:[],now:ft,parser:$,previous:null,sliceSerialize:dt,sliceStream:ct,write:ut};let lt=_e.tokenize.call(at,ot);return _e.resolveAll&&rt.push(_e),at;function ut(kt){return it=push(it,kt),gt(),it[it.length-1]!==null?[]:(wt(_e,0),at.events=resolveAll(rt,at.events,at),at.events)}function dt(kt,Pt){return serializeChunks(ct(kt),Pt)}function ct(kt){return sliceChunks(it,kt)}function ft(){const{_bufferIndex:kt,_index:Pt,line:Dt,column:qt,offset:zt}=tt;return{_bufferIndex:kt,_index:Pt,line:Dt,column:qt,offset:zt}}function pt(kt){nt[kt.line]=kt.column,Nt()}function gt(){let kt;for(;tt._index<it.length;){const Pt=it[tt._index];if(typeof Pt=="string")for(kt=tt._index,tt._bufferIndex<0&&(tt._bufferIndex=0);tt._index===kt&&tt._bufferIndex<Pt.length;)ht(Pt.charCodeAt(tt._bufferIndex));else ht(Pt)}}function ht(kt){lt=lt(kt)}function mt(kt){markdownLineEnding(kt)?(tt.line++,tt.column=1,tt.offset+=kt===-3?2:1,Nt()):kt!==-1&&(tt.column++,tt.offset++),tt._bufferIndex<0?tt._index++:(tt._bufferIndex++,tt._bufferIndex===it[tt._index].length&&(tt._bufferIndex=-1,tt._index++)),at.previous=kt}function bt(kt,Pt){const Dt=Pt||{};return Dt.type=kt,Dt.start=ft(),at.events.push(["enter",Dt,at]),st.push(Dt),Dt}function xt(kt){const Pt=st.pop();return Pt.end=ft(),at.events.push(["exit",Pt,at]),Pt}function Et(kt,Pt){wt(kt,Pt.from)}function vt(kt,Pt){Pt.restore()}function _t(kt,Pt){return Dt;function Dt(qt,zt,jt){let Ft,Bt,It,At;return Array.isArray(qt)?Ot(qt):"tokenize"in qt?Ot([qt]):Yt(qt);function Yt(Ut){return Ht;function Ht(Wt){const Qt=Wt!==null&&Ut[Wt],mn=Wt!==null&&Ut.null,fn=[...Array.isArray(Qt)?Qt:Qt?[Qt]:[],...Array.isArray(mn)?mn:mn?[mn]:[]];return Ot(fn)(Wt)}}function Ot(Ut){return Ft=Ut,Bt=0,Ut.length===0?jt:yt(Ut[Bt])}function yt(Ut){return Ht;function Ht(Wt){return At=Ct(),It=Ut,Ut.partial||(at.currentConstruct=Ut),Ut.name&&at.parser.constructs.disable.null.includes(Ut.name)?$t():Ut.tokenize.call(Pt?Object.assign(Object.create(at),Pt):at,ot,Tt,$t)(Wt)}}function Tt(Ut){return kt(It,At),zt}function $t(Ut){return At.restore(),++Bt<Ft.length?yt(Ft[Bt]):jt}}}function wt(kt,Pt){kt.resolveAll&&!rt.includes(kt)&&rt.push(kt),kt.resolve&&splice(at.events,Pt,at.events.length-Pt,kt.resolve(at.events.slice(Pt),at)),kt.resolveTo&&(at.events=kt.resolveTo(at.events,at))}function Ct(){const kt=ft(),Pt=at.previous,Dt=at.currentConstruct,qt=at.events.length,zt=Array.from(st);return{from:qt,restore:jt};function jt(){tt=kt,at.previous=Pt,at.currentConstruct=Dt,at.events.length=qt,st=zt,Nt()}}function Nt(){tt.line in nt&&tt.column<2&&(tt.column=nt[tt.line],tt.offset+=nt[tt.line]-1)}}function sliceChunks($,_e){const et=_e.start._index,tt=_e.start._bufferIndex,nt=_e.end._index,rt=_e.end._bufferIndex;let it;if(et===nt)it=[$[et].slice(tt,rt)];else{if(it=$.slice(et,nt),tt>-1){const st=it[0];typeof st=="string"?it[0]=st.slice(tt):it.shift()}rt>0&&it.push($[nt].slice(0,rt))}return it}function serializeChunks($,_e){let et=-1;const tt=[];let nt;for(;++et<$.length;){const rt=$[et];let it;if(typeof rt=="string")it=rt;else switch(rt){case-5:{it="\r";break}case-4:{it=`
`;break}case-3:{it=`\r
`;break}case-2:{it=_e?" ":"	";break}case-1:{if(!_e&&nt)continue;it=" ";break}default:it=String.fromCharCode(rt)}nt=rt===-2,tt.push(it)}return tt.join("")}function parse($){const tt={constructs:combineExtensions([defaultConstructs,...($||{}).extensions||[]]),content:nt(content$1),defined:[],document:nt(document$2),flow:nt(flow$1),lazy:{},string:nt(string$1),text:nt(text$2)};return tt;function nt(rt){return it;function it(st){return createTokenizer(tt,rt,st)}}}function postprocess($){for(;!subtokenize($););return $}const search=/[\0\t\n\r]/g;function preprocess(){let $=1,_e="",et=!0,tt;return nt;function nt(rt,it,st){const ot=[];let at,lt,ut,dt,ct;for(rt=_e+(typeof rt=="string"?rt.toString():new TextDecoder(it||void 0).decode(rt)),ut=0,_e="",et&&(rt.charCodeAt(0)===65279&&ut++,et=void 0);ut<rt.length;){if(search.lastIndex=ut,at=search.exec(rt),dt=at&&at.index!==void 0?at.index:rt.length,ct=rt.charCodeAt(dt),!at){_e=rt.slice(ut);break}if(ct===10&&ut===dt&&tt)ot.push(-3),tt=void 0;else switch(tt&&(ot.push(-5),tt=void 0),ut<dt&&(ot.push(rt.slice(ut,dt)),$+=dt-ut),ct){case 0:{ot.push(65533),$++;break}case 9:{for(lt=Math.ceil($/4)*4,ot.push(-2);$++<lt;)ot.push(-1);break}case 10:{ot.push(-4),$=1;break}default:tt=!0,$=1}ut=dt+1}return st&&(tt&&ot.push(-5),_e&&ot.push(_e),ot.push(null)),ot}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString($){return $.replace(characterEscapeOrReference,decode)}function decode($,_e,et){if(_e)return _e;if(et.charCodeAt(0)===35){const nt=et.charCodeAt(1),rt=nt===120||nt===88;return decodeNumericCharacterReference(et.slice(rt?2:1),rt?16:10)}return decodeNamedCharacterReference(et)||$}const own$2={}.hasOwnProperty;function fromMarkdown($,_e,et){return typeof _e!="string"&&(et=_e,_e=void 0),compiler(et)(postprocess(parse(et).document().write(preprocess()($,_e,!0))))}function compiler($){const _e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:rt(Vt),autolinkProtocol:Ct,autolinkEmail:Ct,atxHeading:rt(An),blockQuote:rt(mn),characterEscape:Ct,characterReference:Ct,codeFenced:rt(fn),codeFencedFenceInfo:it,codeFencedFenceMeta:it,codeIndented:rt(fn,it),codeText:rt(En,it),codeTextData:Ct,data:Ct,codeFlowValue:Ct,definition:rt(kn),definitionDestinationString:it,definitionLabelString:it,definitionTitleString:it,emphasis:rt(Tn),hardBreakEscape:rt(sn),hardBreakTrailing:rt(sn),htmlFlow:rt(dn,it),htmlFlowData:Ct,htmlText:rt(dn,it),htmlTextData:Ct,image:rt(Mt),label:it,link:rt(Vt),listItem:rt(on),listItemValue:dt,listOrdered:rt(nn,ut),listUnordered:rt(nn),paragraph:rt(yn),reference:yt,referenceString:it,resourceDestinationString:it,resourceTitleString:it,setextHeading:rt(An),strong:rt(Pn),thematicBreak:rt(cn)},exit:{atxHeading:ot(),atxHeadingSequence:Et,autolink:ot(),autolinkEmail:Qt,autolinkProtocol:Wt,blockQuote:ot(),characterEscapeValue:Nt,characterReferenceMarkerHexadecimal:$t,characterReferenceMarkerNumeric:$t,characterReferenceValue:Ut,characterReference:Ht,codeFenced:ot(gt),codeFencedFence:pt,codeFencedFenceInfo:ct,codeFencedFenceMeta:ft,codeFlowValue:Nt,codeIndented:ot(ht),codeText:ot(zt),codeTextData:Nt,data:Nt,definition:ot(),definitionDestinationString:xt,definitionLabelString:mt,definitionTitleString:bt,emphasis:ot(),hardBreakEscape:ot(Pt),hardBreakTrailing:ot(Pt),htmlFlow:ot(Dt),htmlFlowData:Nt,htmlText:ot(qt),htmlTextData:Nt,image:ot(Ft),label:It,labelText:Bt,lineEnding:kt,link:ot(jt),listItem:ot(),listOrdered:ot(),listUnordered:ot(),paragraph:ot(),referenceString:Tt,resourceDestinationString:At,resourceTitleString:Yt,resource:Ot,setextHeading:ot(wt),setextHeadingLineSequence:_t,setextHeadingText:vt,strong:ot(),thematicBreak:ot()}};configure(_e,($||{}).mdastExtensions||[]);const et={};return tt;function tt(Kt){let en={type:"root",children:[]};const $n={stack:[en],tokenStack:[],config:_e,enter:st,exit:at,buffer:it,resume:lt,data:et},Ln=[];let qn=-1;for(;++qn<Kt.length;)if(Kt[qn][1].type==="listOrdered"||Kt[qn][1].type==="listUnordered")if(Kt[qn][0]==="enter")Ln.push(qn);else{const zn=Ln.pop();qn=nt(Kt,zn,qn)}for(qn=-1;++qn<Kt.length;){const zn=_e[Kt[qn][0]];own$2.call(zn,Kt[qn][1].type)&&zn[Kt[qn][1].type].call(Object.assign({sliceSerialize:Kt[qn][2].sliceSerialize},$n),Kt[qn][1])}if($n.tokenStack.length>0){const zn=$n.tokenStack[$n.tokenStack.length-1];(zn[1]||defaultOnError).call($n,void 0,zn[0])}for(en.position={start:point(Kt.length>0?Kt[0][1].start:{line:1,column:1,offset:0}),end:point(Kt.length>0?Kt[Kt.length-2][1].end:{line:1,column:1,offset:0})},qn=-1;++qn<_e.transforms.length;)en=_e.transforms[qn](en)||en;return en}function nt(Kt,en,$n){let Ln=en-1,qn=-1,zn=!1,Zn,cr,Pr,In;for(;++Ln<=$n;){const hn=Kt[Ln];switch(hn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{hn[0]==="enter"?qn++:qn--,In=void 0;break}case"lineEndingBlank":{hn[0]==="enter"&&(Zn&&!In&&!qn&&!Pr&&(Pr=Ln),In=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:In=void 0}if(!qn&&hn[0]==="enter"&&hn[1].type==="listItemPrefix"||qn===-1&&hn[0]==="exit"&&(hn[1].type==="listUnordered"||hn[1].type==="listOrdered")){if(Zn){let gn=Ln;for(cr=void 0;gn--;){const Kn=Kt[gn];if(Kn[1].type==="lineEnding"||Kn[1].type==="lineEndingBlank"){if(Kn[0]==="exit")continue;cr&&(Kt[cr][1].type="lineEndingBlank",zn=!0),Kn[1].type="lineEnding",cr=gn}else if(!(Kn[1].type==="linePrefix"||Kn[1].type==="blockQuotePrefix"||Kn[1].type==="blockQuotePrefixWhitespace"||Kn[1].type==="blockQuoteMarker"||Kn[1].type==="listItemIndent"))break}Pr&&(!cr||Pr<cr)&&(Zn._spread=!0),Zn.end=Object.assign({},cr?Kt[cr][1].start:hn[1].end),Kt.splice(cr||Ln,0,["exit",Zn,hn[2]]),Ln++,$n++}if(hn[1].type==="listItemPrefix"){const gn={type:"listItem",_spread:!1,start:Object.assign({},hn[1].start),end:void 0};Zn=gn,Kt.splice(Ln,0,["enter",gn,hn[2]]),Ln++,$n++,Pr=void 0,In=!0}}}return Kt[en][1]._spread=zn,$n}function rt(Kt,en){return $n;function $n(Ln){st.call(this,Kt(Ln),Ln),en&&en.call(this,Ln)}}function it(){this.stack.push({type:"fragment",children:[]})}function st(Kt,en,$n){this.stack[this.stack.length-1].children.push(Kt),this.stack.push(Kt),this.tokenStack.push([en,$n||void 0]),Kt.position={start:point(en.start),end:void 0}}function ot(Kt){return en;function en($n){Kt&&Kt.call(this,$n),at.call(this,$n)}}function at(Kt,en){const $n=this.stack.pop(),Ln=this.tokenStack.pop();if(Ln)Ln[0].type!==Kt.type&&(en?en.call(this,Kt,Ln[0]):(Ln[1]||defaultOnError).call(this,Kt,Ln[0]));else throw new Error("Cannot close `"+Kt.type+"` ("+stringifyPosition({start:Kt.start,end:Kt.end})+"): its not open");$n.position.end=point(Kt.end)}function lt(){return toString$1(this.stack.pop())}function ut(){this.data.expectingFirstListItemValue=!0}function dt(Kt){if(this.data.expectingFirstListItemValue){const en=this.stack[this.stack.length-2];en.start=Number.parseInt(this.sliceSerialize(Kt),10),this.data.expectingFirstListItemValue=void 0}}function ct(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.lang=Kt}function ft(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.meta=Kt}function pt(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function gt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.value=Kt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function ht(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.value=Kt.replace(/(\r?\n|\r)$/g,"")}function mt(Kt){const en=this.resume(),$n=this.stack[this.stack.length-1];$n.label=en,$n.identifier=normalizeIdentifier(this.sliceSerialize(Kt)).toLowerCase()}function bt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.title=Kt}function xt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.url=Kt}function Et(Kt){const en=this.stack[this.stack.length-1];if(!en.depth){const $n=this.sliceSerialize(Kt).length;en.depth=$n}}function vt(){this.data.setextHeadingSlurpLineEnding=!0}function _t(Kt){const en=this.stack[this.stack.length-1];en.depth=this.sliceSerialize(Kt).codePointAt(0)===61?1:2}function wt(){this.data.setextHeadingSlurpLineEnding=void 0}function Ct(Kt){const $n=this.stack[this.stack.length-1].children;let Ln=$n[$n.length-1];(!Ln||Ln.type!=="text")&&(Ln=Nn(),Ln.position={start:point(Kt.start),end:void 0},$n.push(Ln)),this.stack.push(Ln)}function Nt(Kt){const en=this.stack.pop();en.value+=this.sliceSerialize(Kt),en.position.end=point(Kt.end)}function kt(Kt){const en=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $n=en.children[en.children.length-1];$n.position.end=point(Kt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&_e.canContainEols.includes(en.type)&&(Ct.call(this,Kt),Nt.call(this,Kt))}function Pt(){this.data.atHardBreak=!0}function Dt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.value=Kt}function qt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.value=Kt}function zt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.value=Kt}function jt(){const Kt=this.stack[this.stack.length-1];if(this.data.inReference){const en=this.data.referenceType||"shortcut";Kt.type+="Reference",Kt.referenceType=en,delete Kt.url,delete Kt.title}else delete Kt.identifier,delete Kt.label;this.data.referenceType=void 0}function Ft(){const Kt=this.stack[this.stack.length-1];if(this.data.inReference){const en=this.data.referenceType||"shortcut";Kt.type+="Reference",Kt.referenceType=en,delete Kt.url,delete Kt.title}else delete Kt.identifier,delete Kt.label;this.data.referenceType=void 0}function Bt(Kt){const en=this.sliceSerialize(Kt),$n=this.stack[this.stack.length-2];$n.label=decodeString(en),$n.identifier=normalizeIdentifier(en).toLowerCase()}function It(){const Kt=this.stack[this.stack.length-1],en=this.resume(),$n=this.stack[this.stack.length-1];if(this.data.inReference=!0,$n.type==="link"){const Ln=Kt.children;$n.children=Ln}else $n.alt=en}function At(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.url=Kt}function Yt(){const Kt=this.resume(),en=this.stack[this.stack.length-1];en.title=Kt}function Ot(){this.data.inReference=void 0}function yt(){this.data.referenceType="collapsed"}function Tt(Kt){const en=this.resume(),$n=this.stack[this.stack.length-1];$n.label=en,$n.identifier=normalizeIdentifier(this.sliceSerialize(Kt)).toLowerCase(),this.data.referenceType="full"}function $t(Kt){this.data.characterReferenceType=Kt.type}function Ut(Kt){const en=this.sliceSerialize(Kt),$n=this.data.characterReferenceType;let Ln;$n?(Ln=decodeNumericCharacterReference(en,$n==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ln=decodeNamedCharacterReference(en);const qn=this.stack[this.stack.length-1];qn.value+=Ln}function Ht(Kt){const en=this.stack.pop();en.position.end=point(Kt.end)}function Wt(Kt){Nt.call(this,Kt);const en=this.stack[this.stack.length-1];en.url=this.sliceSerialize(Kt)}function Qt(Kt){Nt.call(this,Kt);const en=this.stack[this.stack.length-1];en.url="mailto:"+this.sliceSerialize(Kt)}function mn(){return{type:"blockquote",children:[]}}function fn(){return{type:"code",lang:null,meta:null,value:""}}function En(){return{type:"inlineCode",value:""}}function kn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Tn(){return{type:"emphasis",children:[]}}function An(){return{type:"heading",depth:0,children:[]}}function sn(){return{type:"break"}}function dn(){return{type:"html",value:""}}function Mt(){return{type:"image",title:null,url:"",alt:null}}function Vt(){return{type:"link",title:null,url:"",children:[]}}function nn(Kt){return{type:"list",ordered:Kt.type==="listOrdered",start:null,spread:Kt._spread,children:[]}}function on(Kt){return{type:"listItem",spread:Kt._spread,checked:null,children:[]}}function yn(){return{type:"paragraph",children:[]}}function Pn(){return{type:"strong",children:[]}}function Nn(){return{type:"text",value:""}}function cn(){return{type:"thematicBreak"}}}function point($){return{line:$.line,column:$.column,offset:$.offset}}function configure($,_e){let et=-1;for(;++et<_e.length;){const tt=_e[et];Array.isArray(tt)?configure($,tt):extension($,tt)}}function extension($,_e){let et;for(et in _e)if(own$2.call(_e,et))switch(et){case"canContainEols":{const tt=_e[et];tt&&$[et].push(...tt);break}case"transforms":{const tt=_e[et];tt&&$[et].push(...tt);break}case"enter":case"exit":{const tt=_e[et];tt&&Object.assign($[et],tt);break}}}function defaultOnError($,_e){throw $?new Error("Cannot close `"+$.type+"` ("+stringifyPosition({start:$.start,end:$.end})+"): a different token (`"+_e.type+"`, "+stringifyPosition({start:_e.start,end:_e.end})+") is open"):new Error("Cannot close document, a token (`"+_e.type+"`, "+stringifyPosition({start:_e.start,end:_e.end})+") is still open")}function remarkParse($){const _e=this;_e.parser=et;function et(tt){return fromMarkdown(tt,{..._e.data("settings"),...$,extensions:_e.data("micromarkExtensions")||[],mdastExtensions:_e.data("fromMarkdownExtensions")||[]})}}function blockquote($,_e){const et={type:"element",tagName:"blockquote",properties:{},children:$.wrap($.all(_e),!0)};return $.patch(_e,et),$.applyData(_e,et)}function hardBreak($,_e){const et={type:"element",tagName:"br",properties:{},children:[]};return $.patch(_e,et),[$.applyData(_e,et),{type:"text",value:`
`}]}function code($,_e){const et=_e.value?_e.value+`
`:"",tt={},nt=_e.lang?_e.lang.split(/\s+/):[];nt.length>0&&(tt.className=["language-"+nt[0]]);let rt={type:"element",tagName:"code",properties:tt,children:[{type:"text",value:et}]};return _e.meta&&(rt.data={meta:_e.meta}),$.patch(_e,rt),rt=$.applyData(_e,rt),rt={type:"element",tagName:"pre",properties:{},children:[rt]},$.patch(_e,rt),rt}function strikethrough($,_e){const et={type:"element",tagName:"del",properties:{},children:$.all(_e)};return $.patch(_e,et),$.applyData(_e,et)}function emphasis($,_e){const et={type:"element",tagName:"em",properties:{},children:$.all(_e)};return $.patch(_e,et),$.applyData(_e,et)}function footnoteReference($,_e){const et=typeof $.options.clobberPrefix=="string"?$.options.clobberPrefix:"user-content-",tt=String(_e.identifier).toUpperCase(),nt=normalizeUri(tt.toLowerCase()),rt=$.footnoteOrder.indexOf(tt);let it,st=$.footnoteCounts.get(tt);st===void 0?(st=0,$.footnoteOrder.push(tt),it=$.footnoteOrder.length):it=rt+1,st+=1,$.footnoteCounts.set(tt,st);const ot={type:"element",tagName:"a",properties:{href:"#"+et+"fn-"+nt,id:et+"fnref-"+nt+(st>1?"-"+st:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(it)}]};$.patch(_e,ot);const at={type:"element",tagName:"sup",properties:{},children:[ot]};return $.patch(_e,at),$.applyData(_e,at)}function heading($,_e){const et={type:"element",tagName:"h"+_e.depth,properties:{},children:$.all(_e)};return $.patch(_e,et),$.applyData(_e,et)}function html($,_e){if($.options.allowDangerousHtml){const et={type:"raw",value:_e.value};return $.patch(_e,et),$.applyData(_e,et)}}function revert($,_e){const et=_e.referenceType;let tt="]";if(et==="collapsed"?tt+="[]":et==="full"&&(tt+="["+(_e.label||_e.identifier)+"]"),_e.type==="imageReference")return[{type:"text",value:"!["+_e.alt+tt}];const nt=$.all(_e),rt=nt[0];rt&&rt.type==="text"?rt.value="["+rt.value:nt.unshift({type:"text",value:"["});const it=nt[nt.length-1];return it&&it.type==="text"?it.value+=tt:nt.push({type:"text",value:tt}),nt}function imageReference($,_e){const et=String(_e.identifier).toUpperCase(),tt=$.definitionById.get(et);if(!tt)return revert($,_e);const nt={src:normalizeUri(tt.url||""),alt:_e.alt};tt.title!==null&&tt.title!==void 0&&(nt.title=tt.title);const rt={type:"element",tagName:"img",properties:nt,children:[]};return $.patch(_e,rt),$.applyData(_e,rt)}function image($,_e){const et={src:normalizeUri(_e.url)};_e.alt!==null&&_e.alt!==void 0&&(et.alt=_e.alt),_e.title!==null&&_e.title!==void 0&&(et.title=_e.title);const tt={type:"element",tagName:"img",properties:et,children:[]};return $.patch(_e,tt),$.applyData(_e,tt)}function inlineCode($,_e){const et={type:"text",value:_e.value.replace(/\r?\n|\r/g," ")};$.patch(_e,et);const tt={type:"element",tagName:"code",properties:{},children:[et]};return $.patch(_e,tt),$.applyData(_e,tt)}function linkReference($,_e){const et=String(_e.identifier).toUpperCase(),tt=$.definitionById.get(et);if(!tt)return revert($,_e);const nt={href:normalizeUri(tt.url||"")};tt.title!==null&&tt.title!==void 0&&(nt.title=tt.title);const rt={type:"element",tagName:"a",properties:nt,children:$.all(_e)};return $.patch(_e,rt),$.applyData(_e,rt)}function link($,_e){const et={href:normalizeUri(_e.url)};_e.title!==null&&_e.title!==void 0&&(et.title=_e.title);const tt={type:"element",tagName:"a",properties:et,children:$.all(_e)};return $.patch(_e,tt),$.applyData(_e,tt)}function listItem($,_e,et){const tt=$.all(_e),nt=et?listLoose(et):listItemLoose(_e),rt={},it=[];if(typeof _e.checked=="boolean"){const lt=tt[0];let ut;lt&&lt.type==="element"&&lt.tagName==="p"?ut=lt:(ut={type:"element",tagName:"p",properties:{},children:[]},tt.unshift(ut)),ut.children.length>0&&ut.children.unshift({type:"text",value:" "}),ut.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:_e.checked,disabled:!0},children:[]}),rt.className=["task-list-item"]}let st=-1;for(;++st<tt.length;){const lt=tt[st];(nt||st!==0||lt.type!=="element"||lt.tagName!=="p")&&it.push({type:"text",value:`
`}),lt.type==="element"&&lt.tagName==="p"&&!nt?it.push(...lt.children):it.push(lt)}const ot=tt[tt.length-1];ot&&(nt||ot.type!=="element"||ot.tagName!=="p")&&it.push({type:"text",value:`
`});const at={type:"element",tagName:"li",properties:rt,children:it};return $.patch(_e,at),$.applyData(_e,at)}function listLoose($){let _e=!1;if($.type==="list"){_e=$.spread||!1;const et=$.children;let tt=-1;for(;!_e&&++tt<et.length;)_e=listItemLoose(et[tt])}return _e}function listItemLoose($){const _e=$.spread;return _e??$.children.length>1}function list($,_e){const et={},tt=$.all(_e);let nt=-1;for(typeof _e.start=="number"&&_e.start!==1&&(et.start=_e.start);++nt<tt.length;){const it=tt[nt];if(it.type==="element"&&it.tagName==="li"&&it.properties&&Array.isArray(it.properties.className)&&it.properties.className.includes("task-list-item")){et.className=["contains-task-list"];break}}const rt={type:"element",tagName:_e.ordered?"ol":"ul",properties:et,children:$.wrap(tt,!0)};return $.patch(_e,rt),$.applyData(_e,rt)}function paragraph($,_e){const et={type:"element",tagName:"p",properties:{},children:$.all(_e)};return $.patch(_e,et),$.applyData(_e,et)}function root($,_e){const et={type:"root",children:$.wrap($.all(_e))};return $.patch(_e,et),$.applyData(_e,et)}function strong($,_e){const et={type:"element",tagName:"strong",properties:{},children:$.all(_e)};return $.patch(_e,et),$.applyData(_e,et)}function table($,_e){const et=$.all(_e),tt=et.shift(),nt=[];if(tt){const it={type:"element",tagName:"thead",properties:{},children:$.wrap([tt],!0)};$.patch(_e.children[0],it),nt.push(it)}if(et.length>0){const it={type:"element",tagName:"tbody",properties:{},children:$.wrap(et,!0)},st=pointStart(_e.children[1]),ot=pointEnd(_e.children[_e.children.length-1]);st&&ot&&(it.position={start:st,end:ot}),nt.push(it)}const rt={type:"element",tagName:"table",properties:{},children:$.wrap(nt,!0)};return $.patch(_e,rt),$.applyData(_e,rt)}function tableRow($,_e,et){const tt=et?et.children:void 0,rt=(tt?tt.indexOf(_e):1)===0?"th":"td",it=et&&et.type==="table"?et.align:void 0,st=it?it.length:_e.children.length;let ot=-1;const at=[];for(;++ot<st;){const ut=_e.children[ot],dt={},ct=it?it[ot]:void 0;ct&&(dt.align=ct);let ft={type:"element",tagName:rt,properties:dt,children:[]};ut&&(ft.children=$.all(ut),$.patch(ut,ft),ft=$.applyData(ut,ft)),at.push(ft)}const lt={type:"element",tagName:"tr",properties:{},children:$.wrap(at,!0)};return $.patch(_e,lt),$.applyData(_e,lt)}function tableCell($,_e){const et={type:"element",tagName:"td",properties:{},children:$.all(_e)};return $.patch(_e,et),$.applyData(_e,et)}const tab=9,space=32;function trimLines($){const _e=String($),et=/\r?\n|\r/g;let tt=et.exec(_e),nt=0;const rt=[];for(;tt;)rt.push(trimLine(_e.slice(nt,tt.index),nt>0,!0),tt[0]),nt=tt.index+tt[0].length,tt=et.exec(_e);return rt.push(trimLine(_e.slice(nt),nt>0,!1)),rt.join("")}function trimLine($,_e,et){let tt=0,nt=$.length;if(_e){let rt=$.codePointAt(tt);for(;rt===tab||rt===space;)tt++,rt=$.codePointAt(tt)}if(et){let rt=$.codePointAt(nt-1);for(;rt===tab||rt===space;)nt--,rt=$.codePointAt(nt-1)}return nt>tt?$.slice(tt,nt):""}function text($,_e){const et={type:"text",value:trimLines(String(_e.value))};return $.patch(_e,et),$.applyData(_e,et)}function thematicBreak($,_e){const et={type:"element",tagName:"hr",properties:{},children:[]};return $.patch(_e,et),$.applyData(_e,et)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root,strong,table,tableCell,tableRow,text,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=($,_e)=>{const et=(nt,rt)=>($.set(rt,nt),nt),tt=nt=>{if($.has(nt))return $.get(nt);const[rt,it]=_e[nt];switch(rt){case PRIMITIVE:case VOID:return et(it,nt);case ARRAY:{const st=et([],nt);for(const ot of it)st.push(tt(ot));return st}case OBJECT:{const st=et({},nt);for(const[ot,at]of it)st[tt(ot)]=tt(at);return st}case DATE:return et(new Date(it),nt);case REGEXP:{const{source:st,flags:ot}=it;return et(new RegExp(st,ot),nt)}case MAP:{const st=et(new Map,nt);for(const[ot,at]of it)st.set(tt(ot),tt(at));return st}case SET:{const st=et(new Set,nt);for(const ot of it)st.add(tt(ot));return st}case ERROR:{const{name:st,message:ot}=it;return et(new env[st](ot),nt)}case BIGINT:return et(BigInt(it),nt);case"BigInt":return et(Object(BigInt(it)),nt);case"ArrayBuffer":return et(new Uint8Array(it).buffer,it);case"DataView":{const{buffer:st}=new Uint8Array(it);return et(new DataView(st),it)}}return et(new env[rt](it),nt)};return tt},deserialize=$=>deserializer(new Map,$)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=$=>{const _e=typeof $;if(_e!=="object"||!$)return[PRIMITIVE,_e];const et=toString.call($).slice(8,-1);switch(et){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,et]}return et.includes("Array")?[ARRAY,et]:et.includes("Error")?[ERROR,et]:[OBJECT,et]},shouldSkip=([$,_e])=>$===PRIMITIVE&&(_e==="function"||_e==="symbol"),serializer=($,_e,et,tt)=>{const nt=(it,st)=>{const ot=tt.push(it)-1;return et.set(st,ot),ot},rt=it=>{if(et.has(it))return et.get(it);let[st,ot]=typeOf(it);switch(st){case PRIMITIVE:{let lt=it;switch(ot){case"bigint":st=BIGINT,lt=it.toString();break;case"function":case"symbol":if($)throw new TypeError("unable to serialize "+ot);lt=null;break;case"undefined":return nt([VOID],it)}return nt([st,lt],it)}case ARRAY:{if(ot){let dt=it;return ot==="DataView"?dt=new Uint8Array(it.buffer):ot==="ArrayBuffer"&&(dt=new Uint8Array(it)),nt([ot,[...dt]],it)}const lt=[],ut=nt([st,lt],it);for(const dt of it)lt.push(rt(dt));return ut}case OBJECT:{if(ot)switch(ot){case"BigInt":return nt([ot,it.toString()],it);case"Boolean":case"Number":case"String":return nt([ot,it.valueOf()],it)}if(_e&&"toJSON"in it)return rt(it.toJSON());const lt=[],ut=nt([st,lt],it);for(const dt of keys(it))($||!shouldSkip(typeOf(it[dt])))&&lt.push([rt(dt),rt(it[dt])]);return ut}case DATE:return nt([st,it.toISOString()],it);case REGEXP:{const{source:lt,flags:ut}=it;return nt([st,{source:lt,flags:ut}],it)}case MAP:{const lt=[],ut=nt([st,lt],it);for(const[dt,ct]of it)($||!(shouldSkip(typeOf(dt))||shouldSkip(typeOf(ct))))&&lt.push([rt(dt),rt(ct)]);return ut}case SET:{const lt=[],ut=nt([st,lt],it);for(const dt of it)($||!shouldSkip(typeOf(dt)))&&lt.push(rt(dt));return ut}}const{message:at}=it;return nt([st,{name:ot,message:at}],it)};return rt},serialize=($,{json:_e,lossy:et}={})=>{const tt=[];return serializer(!(_e||et),!!_e,new Map,tt)($),tt},structuredClone$1=typeof structuredClone=="function"?($,_e)=>_e&&("json"in _e||"lossy"in _e)?deserialize(serialize($,_e)):structuredClone($):($,_e)=>deserialize(serialize($,_e));function defaultFootnoteBackContent($,_e){const et=[{type:"text",value:""}];return _e>1&&et.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(_e)}]}),et}function defaultFootnoteBackLabel($,_e){return"Back to reference "+($+1)+(_e>1?"-"+_e:"")}function footer($){const _e=typeof $.options.clobberPrefix=="string"?$.options.clobberPrefix:"user-content-",et=$.options.footnoteBackContent||defaultFootnoteBackContent,tt=$.options.footnoteBackLabel||defaultFootnoteBackLabel,nt=$.options.footnoteLabel||"Footnotes",rt=$.options.footnoteLabelTagName||"h2",it=$.options.footnoteLabelProperties||{className:["sr-only"]},st=[];let ot=-1;for(;++ot<$.footnoteOrder.length;){const at=$.footnoteById.get($.footnoteOrder[ot]);if(!at)continue;const lt=$.all(at),ut=String(at.identifier).toUpperCase(),dt=normalizeUri(ut.toLowerCase());let ct=0;const ft=[],pt=$.footnoteCounts.get(ut);for(;pt!==void 0&&++ct<=pt;){ft.length>0&&ft.push({type:"text",value:" "});let mt=typeof et=="string"?et:et(ot,ct);typeof mt=="string"&&(mt={type:"text",value:mt}),ft.push({type:"element",tagName:"a",properties:{href:"#"+_e+"fnref-"+dt+(ct>1?"-"+ct:""),dataFootnoteBackref:"",ariaLabel:typeof tt=="string"?tt:tt(ot,ct),className:["data-footnote-backref"]},children:Array.isArray(mt)?mt:[mt]})}const gt=lt[lt.length-1];if(gt&&gt.type==="element"&&gt.tagName==="p"){const mt=gt.children[gt.children.length-1];mt&&mt.type==="text"?mt.value+=" ":gt.children.push({type:"text",value:" "}),gt.children.push(...ft)}else lt.push(...ft);const ht={type:"element",tagName:"li",properties:{id:_e+"fn-"+dt},children:$.wrap(lt,!0)};$.patch(at,ht),st.push(ht)}if(st.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:rt,properties:{...structuredClone$1(it),id:"footnote-label"},children:[{type:"text",value:nt}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:$.wrap(st,!0)},{type:"text",value:`
`}]}}const convert=function($){if($==null)return ok;if(typeof $=="function")return castFactory$1($);if(typeof $=="object")return Array.isArray($)?anyFactory$1($):propertiesFactory($);if(typeof $=="string")return typeFactory($);throw new Error("Expected function, string, or object as test")};function anyFactory$1($){const _e=[];let et=-1;for(;++et<$.length;)_e[et]=convert($[et]);return castFactory$1(tt);function tt(...nt){let rt=-1;for(;++rt<_e.length;)if(_e[rt].apply(this,nt))return!0;return!1}}function propertiesFactory($){const _e=$;return castFactory$1(et);function et(tt){const nt=tt;let rt;for(rt in $)if(nt[rt]!==_e[rt])return!1;return!0}}function typeFactory($){return castFactory$1(_e);function _e(et){return et&&et.type===$}}function castFactory$1($){return _e;function _e(et,tt,nt){return!!(looksLikeANode(et)&&$.call(this,et,typeof tt=="number"?tt:void 0,nt||void 0))}}function ok(){return!0}function looksLikeANode($){return $!==null&&typeof $=="object"&&"type"in $}function color($){return $}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents($,_e,et,tt){let nt;typeof _e=="function"&&typeof et!="function"?(tt=et,et=_e):nt=_e;const rt=convert(nt),it=tt?-1:1;st($,void 0,[])();function st(ot,at,lt){const ut=ot&&typeof ot=="object"?ot:{};if(typeof ut.type=="string"){const ct=typeof ut.tagName=="string"?ut.tagName:typeof ut.name=="string"?ut.name:void 0;Object.defineProperty(dt,"name",{value:"node ("+(ot.type+(ct?"<"+ct+">":""))+")"})}return dt;function dt(){let ct=empty,ft,pt,gt;if((!_e||rt(ot,at,lt[lt.length-1]||void 0))&&(ct=toResult(et(ot,lt)),ct[0]===EXIT))return ct;if("children"in ot&&ot.children){const ht=ot;if(ht.children&&ct[0]!==SKIP)for(pt=(tt?ht.children.length:-1)+it,gt=lt.concat(ht);pt>-1&&pt<ht.children.length;){const mt=ht.children[pt];if(ft=st(mt,pt,gt)(),ft[0]===EXIT)return ft;pt=typeof ft[1]=="number"?ft[1]:pt+it}}return ct}}}function toResult($){return Array.isArray($)?$:typeof $=="number"?[CONTINUE,$]:$==null?empty:[$]}function visit($,_e,et,tt){let nt,rt,it;typeof _e=="function"&&typeof et!="function"?(rt=void 0,it=_e,nt=et):(rt=_e,it=et,nt=tt),visitParents($,rt,st,nt);function st(ot,at){const lt=at[at.length-1],ut=lt?lt.children.indexOf(ot):void 0;return it(ot,ut,lt)}}const own$1={}.hasOwnProperty,emptyOptions$2={};function createState($,_e){const et=_e||emptyOptions$2,tt=new Map,nt=new Map,rt=new Map,it={...handlers,...et.handlers},st={all:at,applyData,definitionById:tt,footnoteById:nt,footnoteCounts:rt,footnoteOrder:[],handlers:it,one:ot,options:et,patch,wrap:wrap$1};return visit($,function(lt){if(lt.type==="definition"||lt.type==="footnoteDefinition"){const ut=lt.type==="definition"?tt:nt,dt=String(lt.identifier).toUpperCase();ut.has(dt)||ut.set(dt,lt)}}),st;function ot(lt,ut){const dt=lt.type,ct=st.handlers[dt];if(own$1.call(st.handlers,dt)&&ct)return ct(st,lt,ut);if(st.options.passThrough&&st.options.passThrough.includes(dt)){if("children"in lt){const{children:pt,...gt}=lt,ht=structuredClone$1(gt);return ht.children=st.all(lt),ht}return structuredClone$1(lt)}return(st.options.unknownHandler||defaultUnknownHandler)(st,lt,ut)}function at(lt){const ut=[];if("children"in lt){const dt=lt.children;let ct=-1;for(;++ct<dt.length;){const ft=st.one(dt[ct],lt);if(ft){if(ct&&dt[ct-1].type==="break"&&(!Array.isArray(ft)&&ft.type==="text"&&(ft.value=trimMarkdownSpaceStart(ft.value)),!Array.isArray(ft)&&ft.type==="element")){const pt=ft.children[0];pt&&pt.type==="text"&&(pt.value=trimMarkdownSpaceStart(pt.value))}Array.isArray(ft)?ut.push(...ft):ut.push(ft)}}}return ut}}function patch($,_e){$.position&&(_e.position=position$1($))}function applyData($,_e){let et=_e;if($&&$.data){const tt=$.data.hName,nt=$.data.hChildren,rt=$.data.hProperties;if(typeof tt=="string")if(et.type==="element")et.tagName=tt;else{const it="children"in et?et.children:[et];et={type:"element",tagName:tt,properties:{},children:it}}et.type==="element"&&rt&&Object.assign(et.properties,structuredClone$1(rt)),"children"in et&&et.children&&nt!==null&&nt!==void 0&&(et.children=nt)}return et}function defaultUnknownHandler($,_e){const et=_e.data||{},tt="value"in _e&&!(own$1.call(et,"hProperties")||own$1.call(et,"hChildren"))?{type:"text",value:_e.value}:{type:"element",tagName:"div",properties:{},children:$.all(_e)};return $.patch(_e,tt),$.applyData(_e,tt)}function wrap$1($,_e){const et=[];let tt=-1;for(_e&&et.push({type:"text",value:`
`});++tt<$.length;)tt&&et.push({type:"text",value:`
`}),et.push($[tt]);return _e&&$.length>0&&et.push({type:"text",value:`
`}),et}function trimMarkdownSpaceStart($){let _e=0,et=$.charCodeAt(_e);for(;et===9||et===32;)_e++,et=$.charCodeAt(_e);return $.slice(_e)}function toHast($,_e){const et=createState($,_e),tt=et.one($,void 0),nt=footer(et),rt=Array.isArray(tt)?{type:"root",children:tt}:tt||{type:"root",children:[]};return nt&&rt.children.push({type:"text",value:`
`},nt),rt}function remarkRehype($,_e){return $&&"run"in $?async function(et,tt){const nt=toHast(et,{file:tt,..._e});await $.run(nt,tt)}:function(et,tt){return toHast(et,{file:tt,...$||_e})}}function bail($){if($)throw $}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function $(_e){return typeof Array.isArray=="function"?Array.isArray(_e):toStr.call(_e)==="[object Array]"},isPlainObject$1=function $(_e){if(!_e||toStr.call(_e)!=="[object Object]")return!1;var et=hasOwn.call(_e,"constructor"),tt=_e.constructor&&_e.constructor.prototype&&hasOwn.call(_e.constructor.prototype,"isPrototypeOf");if(_e.constructor&&!et&&!tt)return!1;var nt;for(nt in _e);return typeof nt>"u"||hasOwn.call(_e,nt)},setProperty=function $(_e,et){defineProperty&&et.name==="__proto__"?defineProperty(_e,et.name,{enumerable:!0,configurable:!0,value:et.newValue,writable:!0}):_e[et.name]=et.newValue},getProperty=function $(_e,et){if(et==="__proto__")if(hasOwn.call(_e,et)){if(gOPD)return gOPD(_e,et).value}else return;return _e[et]},extend=function $(){var _e,et,tt,nt,rt,it,st=arguments[0],ot=1,at=arguments.length,lt=!1;for(typeof st=="boolean"&&(lt=st,st=arguments[1]||{},ot=2),(st==null||typeof st!="object"&&typeof st!="function")&&(st={});ot<at;++ot)if(_e=arguments[ot],_e!=null)for(et in _e)tt=getProperty(st,et),nt=getProperty(_e,et),st!==nt&&(lt&&nt&&(isPlainObject$1(nt)||(rt=isArray(nt)))?(rt?(rt=!1,it=tt&&isArray(tt)?tt:[]):it=tt&&isPlainObject$1(tt)?tt:{},setProperty(st,{name:et,newValue:$(lt,it,nt)})):typeof nt<"u"&&setProperty(st,{name:et,newValue:nt}));return st};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject($){if(typeof $!="object"||$===null)return!1;const _e=Object.getPrototypeOf($);return(_e===null||_e===Object.prototype||Object.getPrototypeOf(_e)===null)&&!(Symbol.toStringTag in $)&&!(Symbol.iterator in $)}function trough(){const $=[],_e={run:et,use:tt};return _e;function et(...nt){let rt=-1;const it=nt.pop();if(typeof it!="function")throw new TypeError("Expected function as last argument, not "+it);st(null,...nt);function st(ot,...at){const lt=$[++rt];let ut=-1;if(ot){it(ot);return}for(;++ut<nt.length;)(at[ut]===null||at[ut]===void 0)&&(at[ut]=nt[ut]);nt=at,lt?wrap(lt,st)(...at):it(null,...at)}}function tt(nt){if(typeof nt!="function")throw new TypeError("Expected `middelware` to be a function, not "+nt);return $.push(nt),_e}}function wrap($,_e){let et;return tt;function tt(...it){const st=$.length>it.length;let ot;st&&it.push(nt);try{ot=$.apply(this,it)}catch(at){const lt=at;if(st&&et)throw lt;return nt(lt)}st||(ot&&ot.then&&typeof ot.then=="function"?ot.then(rt,nt):ot instanceof Error?nt(ot):rt(ot))}function nt(it,...st){et||(et=!0,_e(it,...st))}function rt(it){nt(null,it)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename($,_e){if(_e!==void 0&&typeof _e!="string")throw new TypeError('"ext" argument must be a string');assertPath$1($);let et=0,tt=-1,nt=$.length,rt;if(_e===void 0||_e.length===0||_e.length>$.length){for(;nt--;)if($.codePointAt(nt)===47){if(rt){et=nt+1;break}}else tt<0&&(rt=!0,tt=nt+1);return tt<0?"":$.slice(et,tt)}if(_e===$)return"";let it=-1,st=_e.length-1;for(;nt--;)if($.codePointAt(nt)===47){if(rt){et=nt+1;break}}else it<0&&(rt=!0,it=nt+1),st>-1&&($.codePointAt(nt)===_e.codePointAt(st--)?st<0&&(tt=nt):(st=-1,tt=it));return et===tt?tt=it:tt<0&&(tt=$.length),$.slice(et,tt)}function dirname($){if(assertPath$1($),$.length===0)return".";let _e=-1,et=$.length,tt;for(;--et;)if($.codePointAt(et)===47){if(tt){_e=et;break}}else tt||(tt=!0);return _e<0?$.codePointAt(0)===47?"/":".":_e===1&&$.codePointAt(0)===47?"//":$.slice(0,_e)}function extname($){assertPath$1($);let _e=$.length,et=-1,tt=0,nt=-1,rt=0,it;for(;_e--;){const st=$.codePointAt(_e);if(st===47){if(it){tt=_e+1;break}continue}et<0&&(it=!0,et=_e+1),st===46?nt<0?nt=_e:rt!==1&&(rt=1):nt>-1&&(rt=-1)}return nt<0||et<0||rt===0||rt===1&&nt===et-1&&nt===tt+1?"":$.slice(nt,et)}function join(...$){let _e=-1,et;for(;++_e<$.length;)assertPath$1($[_e]),$[_e]&&(et=et===void 0?$[_e]:et+"/"+$[_e]);return et===void 0?".":normalize(et)}function normalize($){assertPath$1($);const _e=$.codePointAt(0)===47;let et=normalizeString($,!_e);return et.length===0&&!_e&&(et="."),et.length>0&&$.codePointAt($.length-1)===47&&(et+="/"),_e?"/"+et:et}function normalizeString($,_e){let et="",tt=0,nt=-1,rt=0,it=-1,st,ot;for(;++it<=$.length;){if(it<$.length)st=$.codePointAt(it);else{if(st===47)break;st=47}if(st===47){if(!(nt===it-1||rt===1))if(nt!==it-1&&rt===2){if(et.length<2||tt!==2||et.codePointAt(et.length-1)!==46||et.codePointAt(et.length-2)!==46){if(et.length>2){if(ot=et.lastIndexOf("/"),ot!==et.length-1){ot<0?(et="",tt=0):(et=et.slice(0,ot),tt=et.length-1-et.lastIndexOf("/")),nt=it,rt=0;continue}}else if(et.length>0){et="",tt=0,nt=it,rt=0;continue}}_e&&(et=et.length>0?et+"/..":"..",tt=2)}else et.length>0?et+="/"+$.slice(nt+1,it):et=$.slice(nt+1,it),tt=it-nt-1;nt=it,rt=0}else st===46&&rt>-1?rt++:rt=-1}return et}function assertPath$1($){if(typeof $!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify($))}const minproc={cwd};function cwd(){return"/"}function isUrl($){return!!($!==null&&typeof $=="object"&&"href"in $&&$.href&&"protocol"in $&&$.protocol&&$.auth===void 0)}function urlToPath($){if(typeof $=="string")$=new URL($);else if(!isUrl($)){const _e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+$+"`");throw _e.code="ERR_INVALID_ARG_TYPE",_e}if($.protocol!=="file:"){const _e=new TypeError("The URL must be of scheme file");throw _e.code="ERR_INVALID_URL_SCHEME",_e}return getPathFromURLPosix($)}function getPathFromURLPosix($){if($.hostname!==""){const tt=new TypeError('File URL host must be "localhost" or empty on darwin');throw tt.code="ERR_INVALID_FILE_URL_HOST",tt}const _e=$.pathname;let et=-1;for(;++et<_e.length;)if(_e.codePointAt(et)===37&&_e.codePointAt(et+1)===50){const tt=_e.codePointAt(et+2);if(tt===70||tt===102){const nt=new TypeError("File URL path must not include encoded / characters");throw nt.code="ERR_INVALID_FILE_URL_PATH",nt}}return decodeURIComponent(_e)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(_e){let et;_e?isUrl(_e)?et={path:_e}:typeof _e=="string"||isUint8Array$1(_e)?et={value:_e}:et=_e:et={},this.cwd="cwd"in et?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let tt=-1;for(;++tt<order.length;){const rt=order[tt];rt in et&&et[rt]!==void 0&&et[rt]!==null&&(this[rt]=rt==="history"?[...et[rt]]:et[rt])}let nt;for(nt in et)order.includes(nt)||(this[nt]=et[nt])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(_e){assertNonEmpty(_e,"basename"),assertPart(_e,"basename"),this.path=minpath.join(this.dirname||"",_e)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(_e){assertPath(this.basename,"dirname"),this.path=minpath.join(_e||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(_e){if(assertPart(_e,"extname"),assertPath(this.dirname,"extname"),_e){if(_e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(_e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(_e||""))}get path(){return this.history[this.history.length-1]}set path(_e){isUrl(_e)&&(_e=urlToPath(_e)),assertNonEmpty(_e,"path"),this.path!==_e&&this.history.push(_e)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(_e){assertNonEmpty(_e,"stem"),assertPart(_e,"stem"),this.path=minpath.join(this.dirname||"",_e+(this.extname||""))}fail(_e,et,tt){const nt=this.message(_e,et,tt);throw nt.fatal=!0,nt}info(_e,et,tt){const nt=this.message(_e,et,tt);return nt.fatal=void 0,nt}message(_e,et,tt){const nt=new VFileMessage(_e,et,tt);return this.path&&(nt.name=this.path+":"+nt.name,nt.file=this.path),nt.fatal=!1,this.messages.push(nt),nt}toString(_e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(_e||void 0).decode(this.value)}}function assertPart($,_e){if($&&$.includes(minpath.sep))throw new Error("`"+_e+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty($,_e){if(!$)throw new Error("`"+_e+"` cannot be empty")}function assertPath($,_e){if(!$)throw new Error("Setting `"+_e+"` requires `path` to be set too")}function isUint8Array$1($){return!!($&&typeof $=="object"&&"byteLength"in $&&"byteOffset"in $)}const CallableInstance=function($){const tt=this.constructor.prototype,nt=tt[$],rt=function(){return nt.apply(rt,arguments)};return Object.setPrototypeOf(rt,tt),rt},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const _e=new Processor;let et=-1;for(;++et<this.attachers.length;){const tt=this.attachers[et];_e.use(...tt)}return _e.data(extend$1(!0,{},this.namespace)),_e}data(_e,et){return typeof _e=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[_e]=et,this):own.call(this.namespace,_e)&&this.namespace[_e]||void 0:_e?(assertUnfrozen("data",this.frozen),this.namespace=_e,this):this.namespace}freeze(){if(this.frozen)return this;const _e=this;for(;++this.freezeIndex<this.attachers.length;){const[et,...tt]=this.attachers[this.freezeIndex];if(tt[0]===!1)continue;tt[0]===!0&&(tt[0]=void 0);const nt=et.call(_e,...tt);typeof nt=="function"&&this.transformers.use(nt)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(_e){this.freeze();const et=vfile(_e),tt=this.parser||this.Parser;return assertParser("parse",tt),tt(String(et),et)}process(_e,et){const tt=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),et?nt(void 0,et):new Promise(nt);function nt(rt,it){const st=vfile(_e),ot=tt.parse(st);tt.run(ot,st,function(lt,ut,dt){if(lt||!ut||!dt)return at(lt);const ct=ut,ft=tt.stringify(ct,dt);looksLikeAValue(ft)?dt.value=ft:dt.result=ft,at(lt,dt)});function at(lt,ut){lt||!ut?it(lt):rt?rt(ut):et(void 0,ut)}}}processSync(_e){let et=!1,tt;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(_e,nt),assertDone("processSync","process",et),tt;function nt(rt,it){et=!0,bail(rt),tt=it}}run(_e,et,tt){assertNode(_e),this.freeze();const nt=this.transformers;return!tt&&typeof et=="function"&&(tt=et,et=void 0),tt?rt(void 0,tt):new Promise(rt);function rt(it,st){const ot=vfile(et);nt.run(_e,ot,at);function at(lt,ut,dt){const ct=ut||_e;lt?st(lt):it?it(ct):tt(void 0,ct,dt)}}}runSync(_e,et){let tt=!1,nt;return this.run(_e,et,rt),assertDone("runSync","run",tt),nt;function rt(it,st){bail(it),nt=st,tt=!0}}stringify(_e,et){this.freeze();const tt=vfile(et),nt=this.compiler||this.Compiler;return assertCompiler("stringify",nt),assertNode(_e),nt(_e,tt)}use(_e,...et){const tt=this.attachers,nt=this.namespace;if(assertUnfrozen("use",this.frozen),_e!=null)if(typeof _e=="function")ot(_e,et);else if(typeof _e=="object")Array.isArray(_e)?st(_e):it(_e);else throw new TypeError("Expected usable value, not `"+_e+"`");return this;function rt(at){if(typeof at=="function")ot(at,[]);else if(typeof at=="object")if(Array.isArray(at)){const[lt,...ut]=at;ot(lt,ut)}else it(at);else throw new TypeError("Expected usable value, not `"+at+"`")}function it(at){if(!("plugins"in at)&&!("settings"in at))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");st(at.plugins),at.settings&&(nt.settings=extend$1(!0,nt.settings,at.settings))}function st(at){let lt=-1;if(at!=null)if(Array.isArray(at))for(;++lt<at.length;){const ut=at[lt];rt(ut)}else throw new TypeError("Expected a list of plugins, not `"+at+"`")}function ot(at,lt){let ut=-1,dt=-1;for(;++ut<tt.length;)if(tt[ut][0]===at){dt=ut;break}if(dt===-1)tt.push([at,...lt]);else if(lt.length>0){let[ct,...ft]=lt;const pt=tt[dt][1];isPlainObject(pt)&&isPlainObject(ct)&&(ct=extend$1(!0,pt,ct)),tt[dt]=[at,ct,...ft]}}}}const unified=new Processor().freeze();function assertParser($,_e){if(typeof _e!="function")throw new TypeError("Cannot `"+$+"` without `parser`")}function assertCompiler($,_e){if(typeof _e!="function")throw new TypeError("Cannot `"+$+"` without `compiler`")}function assertUnfrozen($,_e){if(_e)throw new Error("Cannot call `"+$+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode($){if(!isPlainObject($)||typeof $.type!="string")throw new TypeError("Expected node, got `"+$+"`")}function assertDone($,_e,et){if(!et)throw new Error("`"+$+"` finished async. Use `"+_e+"` instead")}function vfile($){return looksLikeAVFile($)?$:new VFile($)}function looksLikeAVFile($){return!!($&&typeof $=="object"&&"message"in $&&"messages"in $)}function looksLikeAValue($){return typeof $=="string"||isUint8Array($)}function isUint8Array($){return!!($&&typeof $=="object"&&"byteLength"in $&&"byteOffset"in $)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown($){const _e=createProcessor($),et=createFile($);return post(_e.runSync(_e.parse(et),et),$)}function createProcessor($){const _e=$.rehypePlugins||emptyPlugins,et=$.remarkPlugins||emptyPlugins,tt=$.remarkRehypeOptions?{...$.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(et).use(remarkRehype,tt).use(_e)}function createFile($){const _e=$.children||"",et=new VFile;return typeof _e=="string"&&(et.value=_e),et}function post($,_e){const et=_e.allowedElements,tt=_e.allowElement,nt=_e.components,rt=_e.disallowedElements,it=_e.skipHtml,st=_e.unwrapDisallowed,ot=_e.urlTransform||defaultUrlTransform;for(const lt of deprecations)Object.hasOwn(_e,lt.from)&&(""+lt.from+(lt.to?"use `"+lt.to+"` instead":"remove it")+changelog+lt.id,void 0);return visit($,at),toJsxRuntime($,{Fragment:jsxRuntimeExports.Fragment,components:nt,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function at(lt,ut,dt){if(lt.type==="raw"&&dt&&typeof ut=="number")return it?dt.children.splice(ut,1):dt.children[ut]={type:"text",value:lt.value},ut;if(lt.type==="element"){let ct;for(ct in urlAttributes)if(Object.hasOwn(urlAttributes,ct)&&Object.hasOwn(lt.properties,ct)){const ft=lt.properties[ct],pt=urlAttributes[ct];(pt===null||pt.includes(lt.tagName))&&(lt.properties[ct]=ot(String(ft||""),ct,lt))}}if(lt.type==="element"){let ct=et?!et.includes(lt.tagName):rt?rt.includes(lt.tagName):!1;if(!ct&&tt&&typeof ut=="number"&&(ct=!tt(lt,ut,dt)),ct&&dt&&typeof ut=="number")return st&&lt.children?dt.children.splice(ut,1,...lt.children):dt.children.splice(ut,1),ut}}}function defaultUrlTransform($){const _e=$.indexOf(":"),et=$.indexOf("?"),tt=$.indexOf("#"),nt=$.indexOf("/");return _e===-1||nt!==-1&&_e>nt||et!==-1&&_e>et||tt!==-1&&_e>tt||safeProtocol.test($.slice(0,_e))?$:""}const findAfter=function($,_e,et){const tt=convert(et);if(!$||!$.type||!$.children)throw new Error("Expected parent node");if(typeof _e=="number"){if(_e<0||_e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(_e=$.children.indexOf(_e),_e<0)throw new Error("Expected child node or index");for(;++_e<$.children.length;)if(tt($.children[_e],_e,$))return $.children[_e]},convertElement=function($){if($==null)return element;if(typeof $=="string")return tagNameFactory($);if(typeof $=="object")return anyFactory($);if(typeof $=="function")return castFactory($);throw new Error("Expected function, string, or array as `test`")};function anyFactory($){const _e=[];let et=-1;for(;++et<$.length;)_e[et]=convertElement($[et]);return castFactory(tt);function tt(...nt){let rt=-1;for(;++rt<_e.length;)if(_e[rt].apply(this,nt))return!0;return!1}}function tagNameFactory($){return castFactory(_e);function _e(et){return et.tagName===$}}function castFactory($){return _e;function _e(et,tt,nt){return!!(looksLikeAnElement(et)&&$.call(this,et,typeof tt=="number"?tt:void 0,nt||void 0))}}function element($){return!!($&&typeof $=="object"&&"type"in $&&$.type==="element"&&"tagName"in $&&typeof $.tagName=="string")}function looksLikeAnElement($){return $!==null&&typeof $=="object"&&"type"in $&&"tagName"in $}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText($,_e){const et=_e||{},tt="children"in $?$.children:[],nt=blockOrCaption($),rt=inferWhitespace($,{whitespace:et.whitespace||"normal"}),it=[];($.type==="text"||$.type==="comment")&&it.push(...collectText($,{breakBefore:!0,breakAfter:!0}));let st=-1;for(;++st<tt.length;)it.push(...renderedTextCollection(tt[st],$,{whitespace:rt,breakBefore:st?void 0:nt,breakAfter:st<tt.length-1?br(tt[st+1]):nt}));const ot=[];let at;for(st=-1;++st<it.length;){const lt=it[st];typeof lt=="number"?at!==void 0&&lt>at&&(at=lt):lt&&(at!==void 0&&at>-1&&ot.push(`
`.repeat(at)||" "),at=-1,ot.push(lt))}return ot.join("")}function renderedTextCollection($,_e,et){return $.type==="element"?collectElement($,_e,et):$.type==="text"?et.whitespace==="normal"?collectText($,et):collectPreText($):[]}function collectElement($,_e,et){const tt=inferWhitespace($,et),nt=$.children||[];let rt=-1,it=[];if(notRendered($))return it;let st,ot;for(br($)||row($)&&findAfter(_e,$,row)?ot=`
`:p($)?(st=2,ot=2):blockOrCaption($)&&(st=1,ot=1);++rt<nt.length;)it=it.concat(renderedTextCollection(nt[rt],$,{whitespace:tt,breakBefore:rt?void 0:st,breakAfter:rt<nt.length-1?br(nt[rt+1]):ot}));return cell($)&&findAfter(_e,$,cell)&&it.push("	"),st&&it.unshift(st),ot&&it.push(ot),it}function collectText($,_e){const et=String($.value),tt=[],nt=[];let rt=0;for(;rt<=et.length;){searchLineFeeds.lastIndex=rt;const ot=searchLineFeeds.exec(et),at=ot&&"index"in ot?ot.index:et.length;tt.push(trimAndCollapseSpacesAndTabs(et.slice(rt,at).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),rt===0?_e.breakBefore:!0,at===et.length?_e.breakAfter:!0)),rt=at+1}let it=-1,st;for(;++it<tt.length;)tt[it].charCodeAt(tt[it].length-1)===8203||it<tt.length-1&&tt[it+1].charCodeAt(0)===8203?(nt.push(tt[it]),st=void 0):tt[it]?(typeof st=="number"&&nt.push(st),nt.push(tt[it]),st=0):(it===0||it===tt.length-1)&&nt.push(0);return nt}function collectPreText($){return[String($.value)]}function trimAndCollapseSpacesAndTabs($,_e,et){const tt=[];let nt=0,rt;for(;nt<$.length;){searchTabOrSpaces.lastIndex=nt;const it=searchTabOrSpaces.exec($);rt=it?it.index:$.length,!nt&&!rt&&it&&!_e&&tt.push(""),nt!==rt&&tt.push($.slice(nt,rt)),nt=it?rt+it[0].length:rt}return nt!==rt&&!et&&tt.push(""),tt.join(" ")}function inferWhitespace($,_e){if($.type==="element"){const et=$.properties||{};switch($.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return et.wrap?"pre-wrap":"pre";case"td":case"th":return et.noWrap?"nowrap":_e.whitespace;case"textarea":return"pre-wrap"}}return _e.whitespace}function hidden($){return!!($.properties||{}).hidden}function isCell($){return $.tagName==="td"||$.tagName==="th"}function closedDialog($){return $.tagName==="dialog"&&!($.properties||{}).open}function cPlusPlus($){const _e=$.regex,et=$.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),tt="decltype\\(auto\\)",nt="[a-zA-Z_]\\w*::",it="(?!struct)("+tt+"|"+_e.optional(nt)+"[a-zA-Z_]\\w*"+_e.optional("<[^<>]+>")+")",st={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},at={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[$.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},$.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},lt={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},ut={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},$.inherit(at,{className:"string"}),{className:"string",begin:/<.*?>/},et,$.C_BLOCK_COMMENT_MODE]},dt={className:"title",begin:_e.optional(nt)+$.IDENT_RE,relevance:0},ct=_e.optional(nt)+$.IDENT_RE+"\\s*\\(",ft=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],pt=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],gt=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],ht=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],xt={type:pt,keyword:ft,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:gt},Et={className:"function.dispatch",relevance:0,keywords:{_hint:ht},begin:_e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,$.IDENT_RE,_e.lookahead(/(<[^<>]+>|)\s*\(/))},vt=[Et,ut,st,et,$.C_BLOCK_COMMENT_MODE,lt,at],_t={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:xt,contains:vt.concat([{begin:/\(/,end:/\)/,keywords:xt,contains:vt.concat(["self"]),relevance:0}]),relevance:0},wt={className:"function",begin:"("+it+"[\\*&\\s]+)+"+ct,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:xt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:tt,keywords:xt,relevance:0},{begin:ct,returnBegin:!0,contains:[dt],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[at,lt]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:xt,relevance:0,contains:[et,$.C_BLOCK_COMMENT_MODE,at,lt,st,{begin:/\(/,end:/\)/,keywords:xt,relevance:0,contains:["self",et,$.C_BLOCK_COMMENT_MODE,at,lt,st]}]},st,et,$.C_BLOCK_COMMENT_MODE,ut]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:xt,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(_t,wt,Et,vt,[ut,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:xt,contains:["self",st]},{begin:$.IDENT_RE+"::",keywords:xt},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function arduino($){const _e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},et=cPlusPlus($),tt=et.keywords;return tt.type=[...tt.type,..._e.type],tt.literal=[...tt.literal,..._e.literal],tt.built_in=[...tt.built_in,..._e.built_in],tt._hints=_e._hints,et.name="Arduino",et.aliases=["ino"],et.supersetOf="cpp",et}function bash($){const _e=$.regex,et={},tt={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[et]}]};Object.assign(et,{className:"variable",variants:[{begin:_e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},tt]});const nt={className:"subst",begin:/\$\(/,end:/\)/,contains:[$.BACKSLASH_ESCAPE]},rt=$.inherit($.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),it={begin:/<<-?\s*(?=\w+)/,starts:{contains:[$.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},st={className:"string",begin:/"/,end:/"/,contains:[$.BACKSLASH_ESCAPE,et,nt]};nt.contains.push(st);const ot={match:/\\"/},at={className:"string",begin:/'/,end:/'/},lt={match:/\\'/},ut={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},$.NUMBER_MODE,et]},dt=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],ct=$.SHEBANG({binary:`(${dt.join("|")})`,relevance:10}),ft={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[$.inherit($.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},pt=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],gt=["true","false"],ht={match:/(\/[a-z._-]+)+/},mt=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],bt=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],xt=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],Et=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:pt,literal:gt,built_in:[...mt,...bt,"set","shopt",...xt,...Et]},contains:[ct,$.SHEBANG(),ft,ut,rt,it,ht,st,ot,at,lt,et]}}function c($){const _e=$.regex,et=$.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),tt="decltype\\(auto\\)",nt="[a-zA-Z_]\\w*::",it="("+tt+"|"+_e.optional(nt)+"[a-zA-Z_]\\w*"+_e.optional("<[^<>]+>")+")",st={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},at={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[$.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},$.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},lt={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},ut={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},$.inherit(at,{className:"string"}),{className:"string",begin:/<.*?>/},et,$.C_BLOCK_COMMENT_MODE]},dt={className:"title",begin:_e.optional(nt)+$.IDENT_RE,relevance:0},ct=_e.optional(nt)+$.IDENT_RE+"\\s*\\(",gt={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},ht=[ut,st,et,$.C_BLOCK_COMMENT_MODE,lt,at],mt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:gt,contains:ht.concat([{begin:/\(/,end:/\)/,keywords:gt,contains:ht.concat(["self"]),relevance:0}]),relevance:0},bt={begin:"("+it+"[\\*&\\s]+)+"+ct,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:gt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:tt,keywords:gt,relevance:0},{begin:ct,returnBegin:!0,contains:[$.inherit(dt,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:gt,relevance:0,contains:[et,$.C_BLOCK_COMMENT_MODE,at,lt,st,{begin:/\(/,end:/\)/,keywords:gt,relevance:0,contains:["self",et,$.C_BLOCK_COMMENT_MODE,at,lt,st]}]},st,et,$.C_BLOCK_COMMENT_MODE,ut]};return{name:"C",aliases:["h"],keywords:gt,disableAutodetect:!0,illegal:"</",contains:[].concat(mt,bt,ht,[ut,{begin:$.IDENT_RE+"::",keywords:gt},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},$.TITLE_MODE]}]),exports:{preprocessor:ut,strings:at,keywords:gt}}}function cpp($){const _e=$.regex,et=$.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),tt="decltype\\(auto\\)",nt="[a-zA-Z_]\\w*::",it="(?!struct)("+tt+"|"+_e.optional(nt)+"[a-zA-Z_]\\w*"+_e.optional("<[^<>]+>")+")",st={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},at={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[$.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},$.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},lt={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},ut={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},$.inherit(at,{className:"string"}),{className:"string",begin:/<.*?>/},et,$.C_BLOCK_COMMENT_MODE]},dt={className:"title",begin:_e.optional(nt)+$.IDENT_RE,relevance:0},ct=_e.optional(nt)+$.IDENT_RE+"\\s*\\(",ft=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],pt=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],gt=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],ht=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],xt={type:pt,keyword:ft,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:gt},Et={className:"function.dispatch",relevance:0,keywords:{_hint:ht},begin:_e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,$.IDENT_RE,_e.lookahead(/(<[^<>]+>|)\s*\(/))},vt=[Et,ut,st,et,$.C_BLOCK_COMMENT_MODE,lt,at],_t={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:xt,contains:vt.concat([{begin:/\(/,end:/\)/,keywords:xt,contains:vt.concat(["self"]),relevance:0}]),relevance:0},wt={className:"function",begin:"("+it+"[\\*&\\s]+)+"+ct,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:xt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:tt,keywords:xt,relevance:0},{begin:ct,returnBegin:!0,contains:[dt],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[at,lt]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:xt,relevance:0,contains:[et,$.C_BLOCK_COMMENT_MODE,at,lt,st,{begin:/\(/,end:/\)/,keywords:xt,relevance:0,contains:["self",et,$.C_BLOCK_COMMENT_MODE,at,lt,st]}]},st,et,$.C_BLOCK_COMMENT_MODE,ut]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:xt,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(_t,wt,Et,vt,[ut,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:xt,contains:["self",st]},{begin:$.IDENT_RE+"::",keywords:xt},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function csharp($){const _e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],et=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],tt=["default","false","null","true"],nt=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],rt=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],it={keyword:nt.concat(rt),built_in:_e,literal:tt},st=$.inherit($.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),ot={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},at={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},lt={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},ut=$.inherit(lt,{illegal:/\n/}),dt={className:"subst",begin:/\{/,end:/\}/,keywords:it},ct=$.inherit(dt,{illegal:/\n/}),ft={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},$.BACKSLASH_ESCAPE,ct]},pt={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},dt]},gt=$.inherit(pt,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},ct]});dt.contains=[pt,ft,lt,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,ot,$.C_BLOCK_COMMENT_MODE],ct.contains=[gt,ft,ut,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,ot,$.inherit($.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const ht={variants:[at,pt,ft,lt,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE]},mt={begin:"<",end:">",contains:[{beginKeywords:"in out"},st]},bt=$.IDENT_RE+"(<"+$.IDENT_RE+"(\\s*,\\s*"+$.IDENT_RE+")*>)?(\\[\\])?",xt={begin:"@"+$.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:it,illegal:/::/,contains:[$.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},ht,ot,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},st,mt,$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[st,$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[st,mt,$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+bt+"\\s+)+"+$.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:it,contains:[{beginKeywords:et.join(" "),relevance:0},{begin:$.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[$.TITLE_MODE,mt],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:it,relevance:0,contains:[ht,ot,$.C_BLOCK_COMMENT_MODE]},$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},xt]}}const MODES$3=$=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:$.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[$.APOS_STRING_MODE,$.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:$.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HTML_TAGS$2=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SVG_TAGS$2=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TAGS$2=[...HTML_TAGS$2,...SVG_TAGS$2],MEDIA_FEATURES$2=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),PSEUDO_CLASSES$2=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PSEUDO_ELEMENTS$2=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ATTRIBUTES$2=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function css($){const _e=$.regex,et=MODES$3($),tt={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},nt="and or not only",rt=/@-?\w[\w]*(-\w+)*/,it="[a-zA-Z-][a-zA-Z0-9_-]*",st=[$.APOS_STRING_MODE,$.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[et.BLOCK_COMMENT,tt,et.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+it,relevance:0},et.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+PSEUDO_CLASSES$2.join("|")+")"},{begin:":(:)?("+PSEUDO_ELEMENTS$2.join("|")+")"}]},et.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES$2.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[et.BLOCK_COMMENT,et.HEXCOLOR,et.IMPORTANT,et.CSS_NUMBER_MODE,...st,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...st,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},et.FUNCTION_DISPATCH]},{begin:_e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:rt},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:nt,attribute:MEDIA_FEATURES$2.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...st,et.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+TAGS$2.join("|")+")\\b"}]}}function diff($){const _e=$.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:_e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:_e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function go($){const rt={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:rt,illegal:"</",contains:[$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,{className:"string",variants:[$.QUOTE_STRING_MODE,$.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[$.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:rt,illegal:/["']/}]}]}}function graphql($){const _e=$.regex,et=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[$.HASH_COMMENT_MODE,$.QUOTE_STRING_MODE,$.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:_e.concat(et,_e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function ini($){const _e=$.regex,et={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:$.NUMBER_RE}]},tt=$.COMMENT();tt.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const nt={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},rt={className:"literal",begin:/\bon|off|true|false|yes|no\b/},it={className:"string",contains:[$.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},st={begin:/\[/,end:/\]/,contains:[tt,rt,nt,it,et,"self"],relevance:0},ot=/[A-Za-z0-9_-]+/,at=/"(\\"|[^"])*"/,lt=/'[^']*'/,ut=_e.either(ot,at,lt),dt=_e.concat(ut,"(\\s*\\.\\s*",ut,")*",_e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[tt,{className:"section",begin:/\[+/,end:/\]+/},{begin:dt,className:"attr",starts:{end:/$/,contains:[tt,st,rt,nt,it,et]}}]}}var decimalDigits$1="[0-9](_*[0-9])*",frac$1=`\\.(${decimalDigits$1})`,hexDigits$1="[0-9a-fA-F](_*[0-9a-fA-F])*",NUMERIC$1={className:"number",variants:[{begin:`(\\b(${decimalDigits$1})((${frac$1})|\\.)?|(${frac$1}))[eE][+-]?(${decimalDigits$1})[fFdD]?\\b`},{begin:`\\b(${decimalDigits$1})((${frac$1})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${frac$1})[fFdD]?\\b`},{begin:`\\b(${decimalDigits$1})[fFdD]\\b`},{begin:`\\b0[xX]((${hexDigits$1})\\.?|(${hexDigits$1})?\\.(${hexDigits$1}))[pP][+-]?(${decimalDigits$1})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${hexDigits$1})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function recurRegex($,_e,et){return et===-1?"":$.replace(_e,tt=>recurRegex($,_e,et-1))}function java($){const _e=$.regex,et="[-a-zA-Z_$][-a-zA-Z_$0-9]*",tt=et+recurRegex("(?:<"+et+"~~~(?:\\s*,\\s*"+et+"~~~)*>)?",/~~~/g,2),ot={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},at={className:"meta",begin:"@"+et,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},lt={className:"params",begin:/\(/,end:/\)/,keywords:ot,relevance:0,contains:[$.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:ot,illegal:/<\/|#/,contains:[$.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[$.BACKSLASH_ESCAPE]},$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,et],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[_e.concat(/(?!else)/,et),/\s+/,et,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,et],className:{1:"keyword",3:"title.class"},contains:[lt,$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+tt+"\\s+)",$.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:ot,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:ot,relevance:0,contains:[at,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,NUMERIC$1,$.C_BLOCK_COMMENT_MODE]},$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},NUMERIC$1,at]}}const IDENT_RE$2="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS$1=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],LITERALS$1=["true","false","null","undefined","NaN","Infinity"],TYPES$1=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES$1=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS$1=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES$1=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],BUILT_INS$1=[].concat(BUILT_IN_GLOBALS$1,TYPES$1,ERROR_TYPES$1);function javascript$1($){const _e=$.regex,et=(Bt,{after:It})=>{const At="</"+Bt[0].slice(1);return Bt.input.indexOf(At,It)!==-1},tt=IDENT_RE$2,nt={begin:"<>",end:"</>"},rt=/<[A-Za-z0-9\\._:-]+\s*\/>/,it={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Bt,It)=>{const At=Bt[0].length+Bt.index,Yt=Bt.input[At];if(Yt==="<"||Yt===","){It.ignoreMatch();return}Yt===">"&&(et(Bt,{after:At})||It.ignoreMatch());let Ot;const yt=Bt.input.substring(At);if(Ot=yt.match(/^\s*=/)){It.ignoreMatch();return}if((Ot=yt.match(/^\s+extends\s+/))&&Ot.index===0){It.ignoreMatch();return}}},st={$pattern:IDENT_RE$2,keyword:KEYWORDS$1,literal:LITERALS$1,built_in:BUILT_INS$1,"variable.language":BUILT_IN_VARIABLES$1},ot="[0-9](_?[0-9])*",at=`\\.(${ot})`,lt="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",ut={className:"number",variants:[{begin:`(\\b(${lt})((${at})|\\.)?|(${at}))[eE][+-]?(${ot})\\b`},{begin:`\\b(${lt})\\b((${at})\\b|\\.)?|(${at})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},dt={className:"subst",begin:"\\$\\{",end:"\\}",keywords:st,contains:[]},ct={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[$.BACKSLASH_ESCAPE,dt],subLanguage:"xml"}},ft={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[$.BACKSLASH_ESCAPE,dt],subLanguage:"css"}},pt={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[$.BACKSLASH_ESCAPE,dt],subLanguage:"graphql"}},gt={className:"string",begin:"`",end:"`",contains:[$.BACKSLASH_ESCAPE,dt]},mt={className:"comment",variants:[$.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:tt+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),$.C_BLOCK_COMMENT_MODE,$.C_LINE_COMMENT_MODE]},bt=[$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,ct,ft,pt,gt,{match:/\$\d+/},ut];dt.contains=bt.concat({begin:/\{/,end:/\}/,keywords:st,contains:["self"].concat(bt)});const xt=[].concat(mt,dt.contains),Et=xt.concat([{begin:/(\s*)\(/,end:/\)/,keywords:st,contains:["self"].concat(xt)}]),vt={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:st,contains:Et},_t={variants:[{match:[/class/,/\s+/,tt,/\s+/,/extends/,/\s+/,_e.concat(tt,"(",_e.concat(/\./,tt),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,tt],scope:{1:"keyword",3:"title.class"}}]},wt={relevance:0,match:_e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES$1,...ERROR_TYPES$1]}},Ct={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Nt={variants:[{match:[/function/,/\s+/,tt,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[vt],illegal:/%/},kt={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Pt(Bt){return _e.concat("(?!",Bt.join("|"),")")}const Dt={match:_e.concat(/\b/,Pt([...BUILT_IN_GLOBALS$1,"super","import"].map(Bt=>`${Bt}\\s*\\(`)),tt,_e.lookahead(/\s*\(/)),className:"title.function",relevance:0},qt={begin:_e.concat(/\./,_e.lookahead(_e.concat(tt,/(?![0-9A-Za-z$_(])/))),end:tt,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},zt={match:[/get|set/,/\s+/,tt,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},vt]},jt="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+$.UNDERSCORE_IDENT_RE+")\\s*=>",Ft={match:[/const|var|let/,/\s+/,tt,/\s*/,/=\s*/,/(async\s*)?/,_e.lookahead(jt)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[vt]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:st,exports:{PARAMS_CONTAINS:Et,CLASS_REFERENCE:wt},illegal:/#(?![$_A-z])/,contains:[$.SHEBANG({label:"shebang",binary:"node",relevance:5}),Ct,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,ct,ft,pt,gt,mt,{match:/\$\d+/},ut,wt,{scope:"attr",match:tt+_e.lookahead(":"),relevance:0},Ft,{begin:"("+$.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[mt,$.REGEXP_MODE,{className:"function",begin:jt,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:$.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:st,contains:Et}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:nt.begin,end:nt.end},{match:rt},{begin:it.begin,"on:begin":it.isTrulyOpeningTag,end:it.end}],subLanguage:"xml",contains:[{begin:it.begin,end:it.end,skip:!0,contains:["self"]}]}]},Nt,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+$.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[vt,$.inherit($.TITLE_MODE,{begin:tt,className:"title.function"})]},{match:/\.\.\./,relevance:0},qt,{match:"\\$"+tt,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[vt]},Dt,kt,_t,zt,{match:/\$[(.]/}]}}function json($){const _e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},et={match:/[{}[\],:]/,className:"punctuation",relevance:0},tt=["true","false","null"],nt={scope:"literal",beginKeywords:tt.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:tt},contains:[_e,et,$.QUOTE_STRING_MODE,nt,$.C_NUMBER_MODE,$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var decimalDigits="[0-9](_*[0-9])*",frac=`\\.(${decimalDigits})`,hexDigits="[0-9a-fA-F](_*[0-9a-fA-F])*",NUMERIC={className:"number",variants:[{begin:`(\\b(${decimalDigits})((${frac})|\\.)?|(${frac}))[eE][+-]?(${decimalDigits})[fFdD]?\\b`},{begin:`\\b(${decimalDigits})((${frac})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${frac})[fFdD]?\\b`},{begin:`\\b(${decimalDigits})[fFdD]\\b`},{begin:`\\b0[xX]((${hexDigits})\\.?|(${hexDigits})?\\.(${hexDigits}))[pP][+-]?(${decimalDigits})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${hexDigits})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function kotlin($){const _e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},et={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},tt={className:"symbol",begin:$.UNDERSCORE_IDENT_RE+"@"},nt={className:"subst",begin:/\$\{/,end:/\}/,contains:[$.C_NUMBER_MODE]},rt={className:"variable",begin:"\\$"+$.UNDERSCORE_IDENT_RE},it={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[rt,nt]},{begin:"'",end:"'",illegal:/\n/,contains:[$.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[$.BACKSLASH_ESCAPE,rt,nt]}]};nt.contains.push(it);const st={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+$.UNDERSCORE_IDENT_RE+")?"},ot={className:"meta",begin:"@"+$.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[$.inherit(it,{className:"string"}),"self"]}]},at=NUMERIC,lt=$.COMMENT("/\\*","\\*/",{contains:[$.C_BLOCK_COMMENT_MODE]}),ut={variants:[{className:"type",begin:$.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},dt=ut;return dt.variants[1].contains=[ut],ut.variants[1].contains=[dt],{name:"Kotlin",aliases:["kt","kts"],keywords:_e,contains:[$.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),$.C_LINE_COMMENT_MODE,lt,et,tt,st,ot,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:_e,relevance:5,contains:[{begin:$.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[$.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:_e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[ut,$.C_LINE_COMMENT_MODE,lt],relevance:0},$.C_LINE_COMMENT_MODE,lt,st,ot,it,$.C_NUMBER_MODE]},lt]},{begin:[/class|interface|trait/,/\s+/,$.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},$.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},st,ot]},it,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},at]}}const MODES$2=$=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:$.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[$.APOS_STRING_MODE,$.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:$.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HTML_TAGS$1=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SVG_TAGS$1=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TAGS$1=[...HTML_TAGS$1,...SVG_TAGS$1],MEDIA_FEATURES$1=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),PSEUDO_CLASSES$1=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PSEUDO_ELEMENTS$1=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ATTRIBUTES$1=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),PSEUDO_SELECTORS=PSEUDO_CLASSES$1.concat(PSEUDO_ELEMENTS$1).sort().reverse();function less($){const _e=MODES$2($),et=PSEUDO_SELECTORS,tt="and or not only",nt="[\\w-]+",rt="("+nt+"|@\\{"+nt+"\\})",it=[],st=[],ot=function(bt){return{className:"string",begin:"~?"+bt+".*?"+bt}},at=function(bt,xt,Et){return{className:bt,begin:xt,relevance:Et}},lt={$pattern:/[a-z-]+/,keyword:tt,attribute:MEDIA_FEATURES$1.join(" ")},ut={begin:"\\(",end:"\\)",contains:st,keywords:lt,relevance:0};st.push($.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,ot("'"),ot('"'),_e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},_e.HEXCOLOR,ut,at("variable","@@?"+nt,10),at("variable","@\\{"+nt+"\\}"),at("built_in","~?`[^`]*?`"),{className:"attribute",begin:nt+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},_e.IMPORTANT,{beginKeywords:"and not"},_e.FUNCTION_DISPATCH);const dt=st.concat({begin:/\{/,end:/\}/,contains:it}),ct={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(st)},ft={begin:rt+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},_e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES$1.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:st}}]},pt={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:lt,returnEnd:!0,contains:st,relevance:0}},gt={className:"variable",variants:[{begin:"@"+nt+"\\s*:",relevance:15},{begin:"@"+nt}],starts:{end:"[;}]",returnEnd:!0,contains:dt}},ht={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:rt,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,ct,at("keyword","all\\b"),at("variable","@\\{"+nt+"\\}"),{begin:"\\b("+TAGS$1.join("|")+")\\b",className:"selector-tag"},_e.CSS_NUMBER_MODE,at("selector-tag",rt,0),at("selector-id","#"+rt),at("selector-class","\\."+rt,0),at("selector-tag","&",0),_e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+PSEUDO_CLASSES$1.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+PSEUDO_ELEMENTS$1.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:dt},{begin:"!important"},_e.FUNCTION_DISPATCH]},mt={begin:nt+`:(:)?(${et.join("|")})`,returnBegin:!0,contains:[ht]};return it.push($.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,pt,gt,mt,ft,ht,ct,_e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:it}}function lua($){const _e="\\[=*\\[",et="\\]=*\\]",tt={begin:_e,end:et,contains:["self"]},nt=[$.COMMENT("--(?!"+_e+")","$"),$.COMMENT("--"+_e,et,{contains:[tt],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:$.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:nt.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[$.inherit($.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:nt}].concat(nt)},$.C_NUMBER_MODE,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,{className:"string",begin:_e,end:et,contains:[tt],relevance:5}])}}function makefile($){const _e={className:"variable",variants:[{begin:"\\$\\("+$.UNDERSCORE_IDENT_RE+"\\)",contains:[$.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},et={className:"string",begin:/"/,end:/"/,contains:[$.BACKSLASH_ESCAPE,_e]},tt={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[_e,et]},nt={begin:"^"+$.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},rt={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},it={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[_e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[$.HASH_COMMENT_MODE,_e,et,tt,nt,rt,it]}}function markdown($){const _e=$.regex,et={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},tt={begin:"^[-\\*]{3,}",end:"$"},nt={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},rt={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},it={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},st=/[A-Za-z][A-Za-z0-9+.-]*/,ot={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:_e.concat(/\[.+?\]\(/,st,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},at={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},lt={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},ut=$.inherit(at,{contains:[]}),dt=$.inherit(lt,{contains:[]});at.contains.push(dt),lt.contains.push(ut);let ct=[et,ot];return[at,lt,ut,dt].forEach(ht=>{ht.contains=ht.contains.concat(ct)}),ct=ct.concat(at,lt),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:ct},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:ct}]}]},et,rt,at,lt,{className:"quote",begin:"^>\\s+",contains:ct,end:"$"},nt,tt,ot,it,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function objectivec($){const _e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},et=/[a-zA-Z@][a-zA-Z0-9_]*/,st={"variable.language":["this","super"],$pattern:et,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},ot={$pattern:et,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:st,illegal:"</",contains:[_e,$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,$.C_NUMBER_MODE,$.QUOTE_STRING_MODE,$.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[$.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},$.inherit($.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+ot.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:ot,contains:[$.UNDERSCORE_TITLE_MODE]},{begin:"\\."+$.UNDERSCORE_IDENT_RE,relevance:0}]}}function perl($){const _e=$.regex,et=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],tt=/[dualxmsipngr]{0,12}/,nt={$pattern:/[\w.]+/,keyword:et.join(" ")},rt={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:nt},it={begin:/->\{/,end:/\}/},st={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},ot={scope:"variable",variants:[{begin:/\$\d/},{begin:_e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[st]},at={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},lt=[$.BACKSLASH_ESCAPE,rt,ot],ut=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],dt=(pt,gt,ht="\\1")=>{const mt=ht==="\\1"?ht:_e.concat(ht,gt);return _e.concat(_e.concat("(?:",pt,")"),gt,/(?:\\.|[^\\\/])*?/,mt,/(?:\\.|[^\\\/])*?/,ht,tt)},ct=(pt,gt,ht)=>_e.concat(_e.concat("(?:",pt,")"),gt,/(?:\\.|[^\\\/])*?/,ht,tt),ft=[ot,$.HASH_COMMENT_MODE,$.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),it,{className:"string",contains:lt,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[$.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[$.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},at,{begin:"(\\/\\/|"+$.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[$.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:dt("s|tr|y",_e.either(...ut,{capture:!0}))},{begin:dt("s|tr|y","\\(","\\)")},{begin:dt("s|tr|y","\\[","\\]")},{begin:dt("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:ct("(?:m|qr)?",/\//,/\//)},{begin:ct("m|qr",_e.either(...ut,{capture:!0}),/\1/)},{begin:ct("m|qr",/\(/,/\)/)},{begin:ct("m|qr",/\[/,/\]/)},{begin:ct("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[$.TITLE_MODE,st]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[$.TITLE_MODE,st,at]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return rt.contains=ft,it.contains=ft,{name:"Perl",aliases:["pl","pm"],keywords:nt,contains:ft}}function php($){const _e=$.regex,et=/(?![A-Za-z0-9])(?![$])/,tt=_e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,et),nt=_e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,et),rt=_e.concat(/[A-Z]+/,et),it={scope:"variable",match:"\\$+"+tt},st={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},ot={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},at=$.inherit($.APOS_STRING_MODE,{illegal:null}),lt=$.inherit($.QUOTE_STRING_MODE,{illegal:null,contains:$.QUOTE_STRING_MODE.contains.concat(ot)}),ut={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:$.QUOTE_STRING_MODE.contains.concat(ot),"on:begin":(qt,zt)=>{zt.data._beginMatch=qt[1]||qt[2]},"on:end":(qt,zt)=>{zt.data._beginMatch!==qt[1]&&zt.ignoreMatch()}},dt=$.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),ct=`[ 	
]`,ft={scope:"string",variants:[lt,at,ut,dt]},pt={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},gt=["false","null","true"],ht=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],mt=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],xt={keyword:ht,literal:(qt=>{const zt=[];return qt.forEach(jt=>{zt.push(jt),jt.toLowerCase()===jt?zt.push(jt.toUpperCase()):zt.push(jt.toLowerCase())}),zt})(gt),built_in:mt},Et=qt=>qt.map(zt=>zt.replace(/\|\d+$/,"")),vt={variants:[{match:[/new/,_e.concat(ct,"+"),_e.concat("(?!",Et(mt).join("\\b|"),"\\b)"),nt],scope:{1:"keyword",4:"title.class"}}]},_t=_e.concat(tt,"\\b(?!\\()"),wt={variants:[{match:[_e.concat(/::/,_e.lookahead(/(?!class\b)/)),_t],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[nt,_e.concat(/::/,_e.lookahead(/(?!class\b)/)),_t],scope:{1:"title.class",3:"variable.constant"}},{match:[nt,_e.concat("::",_e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[nt,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},Ct={scope:"attr",match:_e.concat(tt,_e.lookahead(":"),_e.lookahead(/(?!::)/))},Nt={relevance:0,begin:/\(/,end:/\)/,keywords:xt,contains:[Ct,it,wt,$.C_BLOCK_COMMENT_MODE,ft,pt,vt]},kt={relevance:0,match:[/\b/,_e.concat("(?!fn\\b|function\\b|",Et(ht).join("\\b|"),"|",Et(mt).join("\\b|"),"\\b)"),tt,_e.concat(ct,"*"),_e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Nt]};Nt.contains.push(kt);const Pt=[Ct,wt,$.C_BLOCK_COMMENT_MODE,ft,pt,vt],Dt={begin:_e.concat(/#\[\s*\\?/,_e.either(nt,rt)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:gt,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:gt,keyword:["new","array"]},contains:["self",...Pt]},...Pt,{scope:"meta",variants:[{match:nt},{match:rt}]}]};return{case_insensitive:!1,keywords:xt,contains:[Dt,$.HASH_COMMENT_MODE,$.COMMENT("//","$"),$.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:$.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},st,{scope:"variable.language",match:/\$this\b/},it,kt,wt,{match:[/const/,/\s/,tt],scope:{1:"keyword",3:"variable.constant"}},vt,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},$.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:xt,contains:["self",Dt,it,wt,$.C_BLOCK_COMMENT_MODE,ft,pt]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},$.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[$.inherit($.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},$.UNDERSCORE_TITLE_MODE]},ft,pt]}}function phpTemplate($){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},$.inherit($.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),$.inherit($.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function plaintext($){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function python($){const _e=$.regex,et=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),tt=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],st={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:tt,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},ot={className:"meta",begin:/^(>>>|\.\.\.) /},at={className:"subst",begin:/\{/,end:/\}/,keywords:st,illegal:/#/},lt={begin:/\{\{/,relevance:0},ut={className:"string",contains:[$.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[$.BACKSLASH_ESCAPE,ot],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[$.BACKSLASH_ESCAPE,ot],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[$.BACKSLASH_ESCAPE,ot,lt,at]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[$.BACKSLASH_ESCAPE,ot,lt,at]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[$.BACKSLASH_ESCAPE,lt,at]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[$.BACKSLASH_ESCAPE,lt,at]},$.APOS_STRING_MODE,$.QUOTE_STRING_MODE]},dt="[0-9](_?[0-9])*",ct=`(\\b(${dt}))?\\.(${dt})|\\b(${dt})\\.`,ft=`\\b|${tt.join("|")}`,pt={className:"number",relevance:0,variants:[{begin:`(\\b(${dt})|(${ct}))[eE][+-]?(${dt})[jJ]?(?=${ft})`},{begin:`(${ct})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${ft})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${ft})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${ft})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${ft})`},{begin:`\\b(${dt})[jJ](?=${ft})`}]},gt={className:"comment",begin:_e.lookahead(/# type:/),end:/$/,keywords:st,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},ht={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:st,contains:["self",ot,pt,ut,$.HASH_COMMENT_MODE]}]};return at.contains=[ut,pt,ot],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:st,illegal:/(<\/|\?)|=>/,contains:[ot,pt,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},ut,gt,$.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,et],scope:{1:"keyword",3:"title.function"},contains:[ht]},{variants:[{match:[/\bclass/,/\s+/,et,/\s*/,/\(\s*/,et,/\s*\)/]},{match:[/\bclass/,/\s+/,et]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[pt,ht,ut]}]}}function pythonRepl($){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function r($){const _e=$.regex,et=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,tt=_e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),nt=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,rt=_e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:et,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[$.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:_e.lookahead(_e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:et},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),$.HASH_COMMENT_MODE,{scope:"string",contains:[$.BACKSLASH_ESCAPE],variants:[$.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),$.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),$.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),$.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),$.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),$.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[nt,tt]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,tt]},{scope:{1:"punctuation",2:"number"},match:[rt,tt]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,tt]}]},{scope:{3:"operator"},match:[et,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:nt},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:rt},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function ruby($){const _e=$.regex,et="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",tt=_e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),nt=_e.concat(tt,/(::\w+)*/),it={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},st={className:"doctag",begin:"@[A-Za-z]+"},ot={begin:"#<",end:">"},at=[$.COMMENT("#","$",{contains:[st]}),$.COMMENT("^=begin","^=end",{contains:[st],relevance:10}),$.COMMENT("^__END__",$.MATCH_NOTHING_RE)],lt={className:"subst",begin:/#\{/,end:/\}/,keywords:it},ut={className:"string",contains:[$.BACKSLASH_ESCAPE,lt],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:_e.concat(/<<[-~]?'?/,_e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[$.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[$.BACKSLASH_ESCAPE,lt]})]}]},dt="[1-9](_?[0-9])*|0",ct="[0-9](_?[0-9])*",ft={className:"number",relevance:0,variants:[{begin:`\\b(${dt})(\\.(${ct}))?([eE][+-]?(${ct})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},pt={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:it}]},vt=[ut,{variants:[{match:[/class\s+/,nt,/\s+<\s+/,nt]},{match:[/\b(class|module)\s+/,nt]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:it},{match:[/(include|extend)\s+/,nt],scope:{2:"title.class"},keywords:it},{relevance:0,match:[nt,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:tt,scope:"title.class"},{match:[/def/,/\s+/,et],scope:{1:"keyword",3:"title.function"},contains:[pt]},{begin:$.IDENT_RE+"::"},{className:"symbol",begin:$.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[ut,{begin:et}],relevance:0},ft,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:it},{begin:"("+$.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[$.BACKSLASH_ESCAPE,lt],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(ot,at),relevance:0}].concat(ot,at);lt.contains=vt,pt.contains=vt;const Nt=[{begin:/^\s*=>/,starts:{end:"$",contains:vt}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:it,contains:vt}}];return at.unshift(ot),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:it,illegal:/\/\*/,contains:[$.SHEBANG({binary:"ruby"})].concat(Nt).concat(at).concat(vt)}}function rust($){const _e=$.regex,et=/(r#)?/,tt=_e.concat(et,$.UNDERSCORE_IDENT_RE),nt=_e.concat(et,$.IDENT_RE),rt={className:"title.function.invoke",relevance:0,begin:_e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,nt,_e.lookahead(/\s*\(/))},it="([ui](8|16|32|64|128|size)|f(32|64))?",st=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],ot=["true","false","Some","None","Ok","Err"],at=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],lt=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:$.IDENT_RE+"!?",type:lt,keyword:st,literal:ot,built_in:at},illegal:"</",contains:[$.C_LINE_COMMENT_MODE,$.COMMENT("/\\*","\\*/",{contains:["self"]}),$.inherit($.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+it},{begin:"\\b0o([0-7_]+)"+it},{begin:"\\b0x([A-Fa-f0-9_]+)"+it},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+it}],relevance:0},{begin:[/fn/,/\s+/,tt],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[$.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,tt],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,tt,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,tt],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,tt],className:{1:"keyword",3:"title.class"}},{begin:$.IDENT_RE+"::",keywords:{keyword:"Self",built_in:at,type:lt}},{className:"punctuation",begin:"->"},rt]}}const MODES$1=$=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:$.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[$.APOS_STRING_MODE,$.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:$.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HTML_TAGS=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SVG_TAGS=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TAGS=[...HTML_TAGS,...SVG_TAGS],MEDIA_FEATURES=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),PSEUDO_CLASSES=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PSEUDO_ELEMENTS=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ATTRIBUTES=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function scss($){const _e=MODES$1($),et=PSEUDO_ELEMENTS,tt=PSEUDO_CLASSES,nt="@[a-z-]+",rt="and or not only",st={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[$.C_LINE_COMMENT_MODE,$.C_BLOCK_COMMENT_MODE,_e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},_e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+TAGS.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+tt.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+et.join("|")+")"},st,{begin:/\(/,end:/\)/,contains:[_e.CSS_NUMBER_MODE]},_e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[_e.BLOCK_COMMENT,st,_e.HEXCOLOR,_e.CSS_NUMBER_MODE,$.QUOTE_STRING_MODE,$.APOS_STRING_MODE,_e.IMPORTANT,_e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:nt,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:rt,attribute:MEDIA_FEATURES.join(" ")},contains:[{begin:nt,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},st,$.QUOTE_STRING_MODE,$.APOS_STRING_MODE,_e.HEXCOLOR,_e.CSS_NUMBER_MODE]},_e.FUNCTION_DISPATCH]}}function shell($){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function sql($){const _e=$.regex,et=$.COMMENT("--","$"),tt={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},nt={begin:/"/,end:/"/,contains:[{match:/""/}]},rt=["true","false","unknown"],it=["double precision","large object","with timezone","without timezone"],st=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],ot=["add","asc","collation","desc","final","first","last","view"],at=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],lt=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],ut=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],dt=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],ct=lt,ft=[...at,...ot].filter(Et=>!lt.includes(Et)),pt={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},gt={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},ht={match:_e.concat(/\b/,_e.either(...ct),/\s*\(/),relevance:0,keywords:{built_in:ct}};function mt(Et){return _e.concat(/\b/,_e.either(...Et.map(vt=>vt.replace(/\s+/,"\\s+"))),/\b/)}const bt={scope:"keyword",match:mt(dt),relevance:0};function xt(Et,{exceptions:vt,when:_t}={}){const wt=_t;return vt=vt||[],Et.map(Ct=>Ct.match(/\|\d+$/)||vt.includes(Ct)?Ct:wt(Ct)?`${Ct}|0`:Ct)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:xt(ft,{when:Et=>Et.length<3}),literal:rt,type:st,built_in:ut},contains:[{scope:"type",match:mt(it)},bt,ht,pt,tt,nt,$.C_NUMBER_MODE,$.C_BLOCK_COMMENT_MODE,et,gt]}}function source$1($){return $?typeof $=="string"?$:$.source:null}function lookahead$1($){return concat$1("(?=",$,")")}function concat$1(...$){return $.map(et=>source$1(et)).join("")}function stripOptionsFromArgs$1($){const _e=$[$.length-1];return typeof _e=="object"&&_e.constructor===Object?($.splice($.length-1,1),_e):{}}function either$1(...$){return"("+(stripOptionsFromArgs$1($).capture?"":"?:")+$.map(tt=>source$1(tt)).join("|")+")"}const keywordWrapper=$=>concat$1(/\b/,$,/\w$/.test($)?/\b/:/\B/),dotKeywords=["Protocol","Type"].map(keywordWrapper),optionalDotKeywords=["init","self"].map(keywordWrapper),keywordTypes=["Any","Self"],keywords=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],literals=["false","nil","true"],precedencegroupKeywords=["assignment","associativity","higherThan","left","lowerThan","none","right"],numberSignKeywords=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],builtIns=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],operatorHead=either$1(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),operatorCharacter=either$1(operatorHead,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),operator=concat$1(operatorHead,operatorCharacter,"*"),identifierHead=either$1(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),identifierCharacter=either$1(identifierHead,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),identifier=concat$1(identifierHead,identifierCharacter,"*"),typeIdentifier=concat$1(/[A-Z]/,identifierCharacter,"*"),keywordAttributes=["attached","autoclosure",concat$1(/convention\(/,either$1("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",concat$1(/objc\(/,identifier,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],availabilityKeywords=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function swift($){const _e={match:/\s+/,relevance:0},et=$.COMMENT("/\\*","\\*/",{contains:["self"]}),tt=[$.C_LINE_COMMENT_MODE,et],nt={match:[/\./,either$1(...dotKeywords,...optionalDotKeywords)],className:{2:"keyword"}},rt={match:concat$1(/\./,either$1(...keywords)),relevance:0},it=keywords.filter(sn=>typeof sn=="string").concat(["_|0"]),st=keywords.filter(sn=>typeof sn!="string").concat(keywordTypes).map(keywordWrapper),ot={variants:[{className:"keyword",match:either$1(...st,...optionalDotKeywords)}]},at={$pattern:either$1(/\b\w+/,/#\w+/),keyword:it.concat(numberSignKeywords),literal:literals},lt=[nt,rt,ot],ut={match:concat$1(/\./,either$1(...builtIns)),relevance:0},dt={className:"built_in",match:concat$1(/\b/,either$1(...builtIns),/(?=\()/)},ct=[ut,dt],ft={match:/->/,relevance:0},pt={className:"operator",relevance:0,variants:[{match:operator},{match:`\\.(\\.|${operatorCharacter})+`}]},gt=[ft,pt],ht="([0-9]_*)+",mt="([0-9a-fA-F]_*)+",bt={className:"number",relevance:0,variants:[{match:`\\b(${ht})(\\.(${ht}))?([eE][+-]?(${ht}))?\\b`},{match:`\\b0x(${mt})(\\.(${mt}))?([pP][+-]?(${ht}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},xt=(sn="")=>({className:"subst",variants:[{match:concat$1(/\\/,sn,/[0\\tnr"']/)},{match:concat$1(/\\/,sn,/u\{[0-9a-fA-F]{1,8}\}/)}]}),Et=(sn="")=>({className:"subst",match:concat$1(/\\/,sn,/[\t ]*(?:[\r\n]|\r\n)/)}),vt=(sn="")=>({className:"subst",label:"interpol",begin:concat$1(/\\/,sn,/\(/),end:/\)/}),_t=(sn="")=>({begin:concat$1(sn,/"""/),end:concat$1(/"""/,sn),contains:[xt(sn),Et(sn),vt(sn)]}),wt=(sn="")=>({begin:concat$1(sn,/"/),end:concat$1(/"/,sn),contains:[xt(sn),vt(sn)]}),Ct={className:"string",variants:[_t(),_t("#"),_t("##"),_t("###"),wt(),wt("#"),wt("##"),wt("###")]},Nt=[$.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[$.BACKSLASH_ESCAPE]}],kt={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:Nt},Pt=sn=>{const dn=concat$1(sn,/\//),Mt=concat$1(/\//,sn);return{begin:dn,end:Mt,contains:[...Nt,{scope:"comment",begin:`#(?!.*${Mt})`,end:/$/}]}},Dt={scope:"regexp",variants:[Pt("###"),Pt("##"),Pt("#"),kt]},qt={match:concat$1(/`/,identifier,/`/)},zt={className:"variable",match:/\$\d+/},jt={className:"variable",match:`\\$${identifierCharacter}+`},Ft=[qt,zt,jt],Bt={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:availabilityKeywords,contains:[...gt,bt,Ct]}]}},It={scope:"keyword",match:concat$1(/@/,either$1(...keywordAttributes),lookahead$1(either$1(/\(/,/\s+/)))},At={scope:"meta",match:concat$1(/@/,identifier)},Yt=[Bt,It,At],Ot={match:lookahead$1(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:concat$1(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,identifierCharacter,"+")},{className:"type",match:typeIdentifier,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:concat$1(/\s+&\s+/,lookahead$1(typeIdentifier)),relevance:0}]},yt={begin:/</,end:/>/,keywords:at,contains:[...tt,...lt,...Yt,ft,Ot]};Ot.contains.push(yt);const Tt={match:concat$1(identifier,/\s*:/),keywords:"_|0",relevance:0},$t={begin:/\(/,end:/\)/,relevance:0,keywords:at,contains:["self",Tt,...tt,Dt,...lt,...ct,...gt,bt,Ct,...Ft,...Yt,Ot]},Ut={begin:/</,end:/>/,keywords:"repeat each",contains:[...tt,Ot]},Ht={begin:either$1(lookahead$1(concat$1(identifier,/\s*:/)),lookahead$1(concat$1(identifier,/\s+/,identifier,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:identifier}]},Wt={begin:/\(/,end:/\)/,keywords:at,contains:[Ht,...tt,...lt,...gt,bt,Ct,...Yt,Ot,$t],endsParent:!0,illegal:/["']/},Qt={match:[/(func|macro)/,/\s+/,either$1(qt.match,identifier,operator)],className:{1:"keyword",3:"title.function"},contains:[Ut,Wt,_e],illegal:[/\[/,/%/]},mn={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Ut,Wt,_e],illegal:/\[|%/},fn={match:[/operator/,/\s+/,operator],className:{1:"keyword",3:"title"}},En={begin:[/precedencegroup/,/\s+/,typeIdentifier],className:{1:"keyword",3:"title"},contains:[Ot],keywords:[...precedencegroupKeywords,...literals],end:/}/},kn={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Tn={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},An={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,identifier,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:at,contains:[Ut,...lt,{begin:/:/,end:/\{/,keywords:at,contains:[{scope:"title.class.inherited",match:typeIdentifier},...lt],relevance:0}]};for(const sn of Ct.variants){const dn=sn.contains.find(Vt=>Vt.label==="interpol");dn.keywords=at;const Mt=[...lt,...ct,...gt,bt,Ct,...Ft];dn.contains=[...Mt,{begin:/\(/,end:/\)/,contains:["self",...Mt]}]}return{name:"Swift",keywords:at,contains:[...tt,Qt,mn,kn,Tn,An,fn,En,{beginKeywords:"import",end:/$/,contains:[...tt],relevance:0},Dt,...lt,...ct,...gt,bt,Ct,...Ft,...Yt,Ot,$t]}}const IDENT_RE$1="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],LITERALS=["true","false","null","undefined","NaN","Infinity"],TYPES=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],BUILT_INS=[].concat(BUILT_IN_GLOBALS,TYPES,ERROR_TYPES);function javascript($){const _e=$.regex,et=(Bt,{after:It})=>{const At="</"+Bt[0].slice(1);return Bt.input.indexOf(At,It)!==-1},tt=IDENT_RE$1,nt={begin:"<>",end:"</>"},rt=/<[A-Za-z0-9\\._:-]+\s*\/>/,it={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Bt,It)=>{const At=Bt[0].length+Bt.index,Yt=Bt.input[At];if(Yt==="<"||Yt===","){It.ignoreMatch();return}Yt===">"&&(et(Bt,{after:At})||It.ignoreMatch());let Ot;const yt=Bt.input.substring(At);if(Ot=yt.match(/^\s*=/)){It.ignoreMatch();return}if((Ot=yt.match(/^\s+extends\s+/))&&Ot.index===0){It.ignoreMatch();return}}},st={$pattern:IDENT_RE$1,keyword:KEYWORDS,literal:LITERALS,built_in:BUILT_INS,"variable.language":BUILT_IN_VARIABLES},ot="[0-9](_?[0-9])*",at=`\\.(${ot})`,lt="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",ut={className:"number",variants:[{begin:`(\\b(${lt})((${at})|\\.)?|(${at}))[eE][+-]?(${ot})\\b`},{begin:`\\b(${lt})\\b((${at})\\b|\\.)?|(${at})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},dt={className:"subst",begin:"\\$\\{",end:"\\}",keywords:st,contains:[]},ct={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[$.BACKSLASH_ESCAPE,dt],subLanguage:"xml"}},ft={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[$.BACKSLASH_ESCAPE,dt],subLanguage:"css"}},pt={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[$.BACKSLASH_ESCAPE,dt],subLanguage:"graphql"}},gt={className:"string",begin:"`",end:"`",contains:[$.BACKSLASH_ESCAPE,dt]},mt={className:"comment",variants:[$.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:tt+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),$.C_BLOCK_COMMENT_MODE,$.C_LINE_COMMENT_MODE]},bt=[$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,ct,ft,pt,gt,{match:/\$\d+/},ut];dt.contains=bt.concat({begin:/\{/,end:/\}/,keywords:st,contains:["self"].concat(bt)});const xt=[].concat(mt,dt.contains),Et=xt.concat([{begin:/(\s*)\(/,end:/\)/,keywords:st,contains:["self"].concat(xt)}]),vt={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:st,contains:Et},_t={variants:[{match:[/class/,/\s+/,tt,/\s+/,/extends/,/\s+/,_e.concat(tt,"(",_e.concat(/\./,tt),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,tt],scope:{1:"keyword",3:"title.class"}}]},wt={relevance:0,match:_e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES,...ERROR_TYPES]}},Ct={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Nt={variants:[{match:[/function/,/\s+/,tt,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[vt],illegal:/%/},kt={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Pt(Bt){return _e.concat("(?!",Bt.join("|"),")")}const Dt={match:_e.concat(/\b/,Pt([...BUILT_IN_GLOBALS,"super","import"].map(Bt=>`${Bt}\\s*\\(`)),tt,_e.lookahead(/\s*\(/)),className:"title.function",relevance:0},qt={begin:_e.concat(/\./,_e.lookahead(_e.concat(tt,/(?![0-9A-Za-z$_(])/))),end:tt,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},zt={match:[/get|set/,/\s+/,tt,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},vt]},jt="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+$.UNDERSCORE_IDENT_RE+")\\s*=>",Ft={match:[/const|var|let/,/\s+/,tt,/\s*/,/=\s*/,/(async\s*)?/,_e.lookahead(jt)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[vt]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:st,exports:{PARAMS_CONTAINS:Et,CLASS_REFERENCE:wt},illegal:/#(?![$_A-z])/,contains:[$.SHEBANG({label:"shebang",binary:"node",relevance:5}),Ct,$.APOS_STRING_MODE,$.QUOTE_STRING_MODE,ct,ft,pt,gt,mt,{match:/\$\d+/},ut,wt,{scope:"attr",match:tt+_e.lookahead(":"),relevance:0},Ft,{begin:"("+$.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[mt,$.REGEXP_MODE,{className:"function",begin:jt,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:$.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:st,contains:Et}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:nt.begin,end:nt.end},{match:rt},{begin:it.begin,"on:begin":it.isTrulyOpeningTag,end:it.end}],subLanguage:"xml",contains:[{begin:it.begin,end:it.end,skip:!0,contains:["self"]}]}]},Nt,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+$.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[vt,$.inherit($.TITLE_MODE,{begin:tt,className:"title.function"})]},{match:/\.\.\./,relevance:0},qt,{match:"\\$"+tt,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[vt]},Dt,kt,_t,zt,{match:/\$[(.]/}]}}function typescript($){const _e=$.regex,et=javascript($),tt=IDENT_RE$1,nt=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],rt={begin:[/namespace/,/\s+/,$.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},it={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:nt},contains:[et.exports.CLASS_REFERENCE]},st={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},ot=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],at={$pattern:IDENT_RE$1,keyword:KEYWORDS.concat(ot),literal:LITERALS,built_in:BUILT_INS.concat(nt),"variable.language":BUILT_IN_VARIABLES},lt={className:"meta",begin:"@"+tt},ut=(pt,gt,ht)=>{const mt=pt.contains.findIndex(bt=>bt.label===gt);if(mt===-1)throw new Error("can not find mode to replace");pt.contains.splice(mt,1,ht)};Object.assign(et.keywords,at),et.exports.PARAMS_CONTAINS.push(lt);const dt=et.contains.find(pt=>pt.scope==="attr"),ct=Object.assign({},dt,{match:_e.concat(tt,_e.lookahead(/\s*\?:/))});et.exports.PARAMS_CONTAINS.push([et.exports.CLASS_REFERENCE,dt,ct]),et.contains=et.contains.concat([lt,rt,it,ct]),ut(et,"shebang",$.SHEBANG()),ut(et,"use_strict",st);const ft=et.contains.find(pt=>pt.label==="func.def");return ft.relevance=0,Object.assign(et,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),et}function vbnet($){const _e=$.regex,et={className:"string",begin:/"(""|[^/n])"C\b/},tt={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},nt=/\d{1,2}\/\d{1,2}\/\d{4}/,rt=/\d{4}-\d{1,2}-\d{1,2}/,it=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,st=/\d{1,2}(:\d{1,2}){1,2}/,ot={className:"literal",variants:[{begin:_e.concat(/# */,_e.either(rt,nt),/ *#/)},{begin:_e.concat(/# */,st,/ *#/)},{begin:_e.concat(/# */,it,/ *#/)},{begin:_e.concat(/# */,_e.either(rt,nt),/ +/,_e.either(it,st),/ *#/)}]},at={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},lt={className:"label",begin:/^\w+:/},ut=$.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),dt=$.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[et,tt,ot,at,lt,ut,dt,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[dt]}]}}function wasm($){$.regex;const _e=$.COMMENT(/\(;/,/;\)/);_e.contains.push("self");const et=$.COMMENT(/;;/,/$/),tt=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],nt={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},rt={className:"variable",begin:/\$[\w_]+/},it={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},st={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},ot={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},at={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:tt},contains:[et,_e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},rt,it,nt,$.QUOTE_STRING_MODE,ot,at,st]}}function xml($){const _e=$.regex,et=_e.concat(/[\p{L}_]/u,_e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),tt=/[\p{L}0-9._:-]+/u,nt={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},rt={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},it=$.inherit(rt,{begin:/\(/,end:/\)/}),st=$.inherit($.APOS_STRING_MODE,{className:"string"}),ot=$.inherit($.QUOTE_STRING_MODE,{className:"string"}),at={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:tt,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[nt]},{begin:/'/,end:/'/,contains:[nt]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[rt,ot,st,it,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[rt,it,ot,st]}]}]},$.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},nt,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[ot]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[at],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[at],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:_e.concat(/</,_e.lookahead(_e.concat(et,_e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:et,relevance:0,starts:at}]},{className:"tag",begin:_e.concat(/<\//,_e.lookahead(_e.concat(et,/>/))),contains:[{className:"name",begin:et,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function yaml($){const _e="true false yes no null",et="[\\w#;/?:@&=+$,.~*'()[\\]]+",tt={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},nt={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},rt={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},it={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[$.BACKSLASH_ESCAPE,nt]},st=$.inherit(it,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),dt={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},ct={end:",",endsWithParent:!0,excludeEnd:!0,keywords:_e,relevance:0},ft={begin:/\{/,end:/\}/,contains:[ct],illegal:"\\n",relevance:0},pt={begin:"\\[",end:"\\]",contains:[ct],illegal:"\\n",relevance:0},gt=[tt,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+et},{className:"type",begin:"!<"+et+">"},{className:"type",begin:"!"+et},{className:"type",begin:"!!"+et},{className:"meta",begin:"&"+$.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+$.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},$.HASH_COMMENT_MODE,{beginKeywords:_e,keywords:{literal:_e}},dt,{className:"number",begin:$.C_NUMBER_RE+"\\b",relevance:0},ft,pt,rt,it],ht=[...gt];return ht.pop(),ht.push(st),ct.contains=ht,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:gt}}const grammars={arduino,bash,c,cpp,csharp,css,diff,go,graphql,ini,java,javascript:javascript$1,json,kotlin,less,lua,makefile,markdown,objectivec,perl,php,"php-template":phpTemplate,plaintext,python,"python-repl":pythonRepl,r,ruby,rust,scss,shell,sql,swift,typescript,vbnet,wasm,xml,yaml};function deepFreeze($){return $ instanceof Map?$.clear=$.delete=$.set=function(){throw new Error("map is read-only")}:$ instanceof Set&&($.add=$.clear=$.delete=function(){throw new Error("set is read-only")}),Object.freeze($),Object.getOwnPropertyNames($).forEach(_e=>{const et=$[_e],tt=typeof et;(tt==="object"||tt==="function")&&!Object.isFrozen(et)&&deepFreeze(et)}),$}let Response$1=class{constructor(_e){_e.data===void 0&&(_e.data={}),this.data=_e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function escapeHTML($){return $.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function inherit$1($,..._e){const et=Object.create(null);for(const tt in $)et[tt]=$[tt];return _e.forEach(function(tt){for(const nt in tt)et[nt]=tt[nt]}),et}const SPAN_CLOSE="</span>",emitsWrappingTags=$=>!!$.scope,scopeToCSSClass=($,{prefix:_e})=>{if($.startsWith("language:"))return $.replace("language:","language-");if($.includes(".")){const et=$.split(".");return[`${_e}${et.shift()}`,...et.map((tt,nt)=>`${tt}${"_".repeat(nt+1)}`)].join(" ")}return`${_e}${$}`};class HTMLRenderer{constructor(_e,et){this.buffer="",this.classPrefix=et.classPrefix,_e.walk(this)}addText(_e){this.buffer+=escapeHTML(_e)}openNode(_e){if(!emitsWrappingTags(_e))return;const et=scopeToCSSClass(_e.scope,{prefix:this.classPrefix});this.span(et)}closeNode(_e){emitsWrappingTags(_e)&&(this.buffer+=SPAN_CLOSE)}value(){return this.buffer}span(_e){this.buffer+=`<span class="${_e}">`}}const newNode=($={})=>{const _e={children:[]};return Object.assign(_e,$),_e};class TokenTree{constructor(){this.rootNode=newNode(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(_e){this.top.children.push(_e)}openNode(_e){const et=newNode({scope:_e});this.add(et),this.stack.push(et)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(_e){return this.constructor._walk(_e,this.rootNode)}static _walk(_e,et){return typeof et=="string"?_e.addText(et):et.children&&(_e.openNode(et),et.children.forEach(tt=>this._walk(_e,tt)),_e.closeNode(et)),_e}static _collapse(_e){typeof _e!="string"&&_e.children&&(_e.children.every(et=>typeof et=="string")?_e.children=[_e.children.join("")]:_e.children.forEach(et=>{TokenTree._collapse(et)}))}}class TokenTreeEmitter extends TokenTree{constructor(_e){super(),this.options=_e}addText(_e){_e!==""&&this.add(_e)}startScope(_e){this.openNode(_e)}endScope(){this.closeNode()}__addSublanguage(_e,et){const tt=_e.root;et&&(tt.scope=`language:${et}`),this.add(tt)}toHTML(){return new HTMLRenderer(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function source($){return $?typeof $=="string"?$:$.source:null}function lookahead($){return concat("(?=",$,")")}function anyNumberOfTimes($){return concat("(?:",$,")*")}function optional($){return concat("(?:",$,")?")}function concat(...$){return $.map(et=>source(et)).join("")}function stripOptionsFromArgs($){const _e=$[$.length-1];return typeof _e=="object"&&_e.constructor===Object?($.splice($.length-1,1),_e):{}}function either(...$){return"("+(stripOptionsFromArgs($).capture?"":"?:")+$.map(tt=>source(tt)).join("|")+")"}function countMatchGroups($){return new RegExp($.toString()+"|").exec("").length-1}function startsWith($,_e){const et=$&&$.exec(_e);return et&&et.index===0}const BACKREF_RE=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _rewriteBackreferences($,{joinWith:_e}){let et=0;return $.map(tt=>{et+=1;const nt=et;let rt=source(tt),it="";for(;rt.length>0;){const st=BACKREF_RE.exec(rt);if(!st){it+=rt;break}it+=rt.substring(0,st.index),rt=rt.substring(st.index+st[0].length),st[0][0]==="\\"&&st[1]?it+="\\"+String(Number(st[1])+nt):(it+=st[0],st[0]==="("&&et++)}return it}).map(tt=>`(${tt})`).join(_e)}const MATCH_NOTHING_RE=/\b\B/,IDENT_RE="[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",NUMBER_RE="\\b\\d+(\\.\\d+)?",C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",BINARY_NUMBER_RE="\\b(0b[01]+)",RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG=($={})=>{const _e=/^#![ ]*\//;return $.binary&&($.begin=concat(_e,/.*\b/,$.binary,/\b.*/)),inherit$1({scope:"meta",begin:_e,end:/$/,relevance:0,"on:begin":(et,tt)=>{et.index!==0&&tt.ignoreMatch()}},$)},BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},APOS_STRING_MODE={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[BACKSLASH_ESCAPE]},QUOTE_STRING_MODE={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[BACKSLASH_ESCAPE]},PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT=function($,_e,et={}){const tt=inherit$1({scope:"comment",begin:$,end:_e,contains:[]},et);tt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const nt=either("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return tt.contains.push({begin:concat(/[ ]+/,"(",nt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),tt},C_LINE_COMMENT_MODE=COMMENT("//","$"),C_BLOCK_COMMENT_MODE=COMMENT("/\\*","\\*/"),HASH_COMMENT_MODE=COMMENT("#","$"),NUMBER_MODE={scope:"number",begin:NUMBER_RE,relevance:0},C_NUMBER_MODE={scope:"number",begin:C_NUMBER_RE,relevance:0},BINARY_NUMBER_MODE={scope:"number",begin:BINARY_NUMBER_RE,relevance:0},REGEXP_MODE={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[BACKSLASH_ESCAPE]}]},TITLE_MODE={scope:"title",begin:IDENT_RE,relevance:0},UNDERSCORE_TITLE_MODE={scope:"title",begin:UNDERSCORE_IDENT_RE,relevance:0},METHOD_GUARD={begin:"\\.\\s*"+UNDERSCORE_IDENT_RE,relevance:0},END_SAME_AS_BEGIN=function($){return Object.assign($,{"on:begin":(_e,et)=>{et.data._beginMatch=_e[1]},"on:end":(_e,et)=>{et.data._beginMatch!==_e[1]&&et.ignoreMatch()}})};var MODES=Object.freeze({__proto__:null,APOS_STRING_MODE,BACKSLASH_ESCAPE,BINARY_NUMBER_MODE,BINARY_NUMBER_RE,COMMENT,C_BLOCK_COMMENT_MODE,C_LINE_COMMENT_MODE,C_NUMBER_MODE,C_NUMBER_RE,END_SAME_AS_BEGIN,HASH_COMMENT_MODE,IDENT_RE,MATCH_NOTHING_RE,METHOD_GUARD,NUMBER_MODE,NUMBER_RE,PHRASAL_WORDS_MODE,QUOTE_STRING_MODE,REGEXP_MODE,RE_STARTERS_RE,SHEBANG,TITLE_MODE,UNDERSCORE_IDENT_RE,UNDERSCORE_TITLE_MODE});function skipIfHasPrecedingDot($,_e){$.input[$.index-1]==="."&&_e.ignoreMatch()}function scopeClassName($,_e){$.className!==void 0&&($.scope=$.className,delete $.className)}function beginKeywords($,_e){_e&&$.beginKeywords&&($.begin="\\b("+$.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",$.__beforeBegin=skipIfHasPrecedingDot,$.keywords=$.keywords||$.beginKeywords,delete $.beginKeywords,$.relevance===void 0&&($.relevance=0))}function compileIllegal($,_e){Array.isArray($.illegal)&&($.illegal=either(...$.illegal))}function compileMatch($,_e){if($.match){if($.begin||$.end)throw new Error("begin & end are not supported with match");$.begin=$.match,delete $.match}}function compileRelevance($,_e){$.relevance===void 0&&($.relevance=1)}const beforeMatchExt=($,_e)=>{if(!$.beforeMatch)return;if($.starts)throw new Error("beforeMatch cannot be used with starts");const et=Object.assign({},$);Object.keys($).forEach(tt=>{delete $[tt]}),$.keywords=et.keywords,$.begin=concat(et.beforeMatch,lookahead(et.begin)),$.starts={relevance:0,contains:[Object.assign(et,{endsParent:!0})]},$.relevance=0,delete et.beforeMatch},COMMON_KEYWORDS=["of","and","for","in","not","or","if","then","parent","list","value"],DEFAULT_KEYWORD_SCOPE="keyword";function compileKeywords($,_e,et=DEFAULT_KEYWORD_SCOPE){const tt=Object.create(null);return typeof $=="string"?nt(et,$.split(" ")):Array.isArray($)?nt(et,$):Object.keys($).forEach(function(rt){Object.assign(tt,compileKeywords($[rt],_e,rt))}),tt;function nt(rt,it){_e&&(it=it.map(st=>st.toLowerCase())),it.forEach(function(st){const ot=st.split("|");tt[ot[0]]=[rt,scoreForKeyword(ot[0],ot[1])]})}}function scoreForKeyword($,_e){return _e?Number(_e):commonKeyword($)?0:1}function commonKeyword($){return COMMON_KEYWORDS.includes($.toLowerCase())}const seenDeprecations={},error=$=>{console.error($)},warn=($,..._e)=>{console.log(`WARN: ${$}`,..._e)},deprecated=($,_e)=>{seenDeprecations[`${$}/${_e}`]||(console.log(`Deprecated as of ${$}. ${_e}`),seenDeprecations[`${$}/${_e}`]=!0)},MultiClassError=new Error;function remapScopeNames($,_e,{key:et}){let tt=0;const nt=$[et],rt={},it={};for(let st=1;st<=_e.length;st++)it[st+tt]=nt[st],rt[st+tt]=!0,tt+=countMatchGroups(_e[st-1]);$[et]=it,$[et]._emit=rt,$[et]._multi=!0}function beginMultiClass($){if(Array.isArray($.begin)){if($.skip||$.excludeBegin||$.returnBegin)throw error("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),MultiClassError;if(typeof $.beginScope!="object"||$.beginScope===null)throw error("beginScope must be object"),MultiClassError;remapScopeNames($,$.begin,{key:"beginScope"}),$.begin=_rewriteBackreferences($.begin,{joinWith:""})}}function endMultiClass($){if(Array.isArray($.end)){if($.skip||$.excludeEnd||$.returnEnd)throw error("skip, excludeEnd, returnEnd not compatible with endScope: {}"),MultiClassError;if(typeof $.endScope!="object"||$.endScope===null)throw error("endScope must be object"),MultiClassError;remapScopeNames($,$.end,{key:"endScope"}),$.end=_rewriteBackreferences($.end,{joinWith:""})}}function scopeSugar($){$.scope&&typeof $.scope=="object"&&$.scope!==null&&($.beginScope=$.scope,delete $.scope)}function MultiClass($){scopeSugar($),typeof $.beginScope=="string"&&($.beginScope={_wrap:$.beginScope}),typeof $.endScope=="string"&&($.endScope={_wrap:$.endScope}),beginMultiClass($),endMultiClass($)}function compileLanguage($){function _e(it,st){return new RegExp(source(it),"m"+($.case_insensitive?"i":"")+($.unicodeRegex?"u":"")+(st?"g":""))}class et{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(st,ot){ot.position=this.position++,this.matchIndexes[this.matchAt]=ot,this.regexes.push([ot,st]),this.matchAt+=countMatchGroups(st)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const st=this.regexes.map(ot=>ot[1]);this.matcherRe=_e(_rewriteBackreferences(st,{joinWith:"|"}),!0),this.lastIndex=0}exec(st){this.matcherRe.lastIndex=this.lastIndex;const ot=this.matcherRe.exec(st);if(!ot)return null;const at=ot.findIndex((ut,dt)=>dt>0&&ut!==void 0),lt=this.matchIndexes[at];return ot.splice(0,at),Object.assign(ot,lt)}}class tt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(st){if(this.multiRegexes[st])return this.multiRegexes[st];const ot=new et;return this.rules.slice(st).forEach(([at,lt])=>ot.addRule(at,lt)),ot.compile(),this.multiRegexes[st]=ot,ot}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(st,ot){this.rules.push([st,ot]),ot.type==="begin"&&this.count++}exec(st){const ot=this.getMatcher(this.regexIndex);ot.lastIndex=this.lastIndex;let at=ot.exec(st);if(this.resumingScanAtSamePosition()&&!(at&&at.index===this.lastIndex)){const lt=this.getMatcher(0);lt.lastIndex=this.lastIndex+1,at=lt.exec(st)}return at&&(this.regexIndex+=at.position+1,this.regexIndex===this.count&&this.considerAll()),at}}function nt(it){const st=new tt;return it.contains.forEach(ot=>st.addRule(ot.begin,{rule:ot,type:"begin"})),it.terminatorEnd&&st.addRule(it.terminatorEnd,{type:"end"}),it.illegal&&st.addRule(it.illegal,{type:"illegal"}),st}function rt(it,st){const ot=it;if(it.isCompiled)return ot;[scopeClassName,compileMatch,MultiClass,beforeMatchExt].forEach(lt=>lt(it,st)),$.compilerExtensions.forEach(lt=>lt(it,st)),it.__beforeBegin=null,[beginKeywords,compileIllegal,compileRelevance].forEach(lt=>lt(it,st)),it.isCompiled=!0;let at=null;return typeof it.keywords=="object"&&it.keywords.$pattern&&(it.keywords=Object.assign({},it.keywords),at=it.keywords.$pattern,delete it.keywords.$pattern),at=at||/\w+/,it.keywords&&(it.keywords=compileKeywords(it.keywords,$.case_insensitive)),ot.keywordPatternRe=_e(at,!0),st&&(it.begin||(it.begin=/\B|\b/),ot.beginRe=_e(ot.begin),!it.end&&!it.endsWithParent&&(it.end=/\B|\b/),it.end&&(ot.endRe=_e(ot.end)),ot.terminatorEnd=source(ot.end)||"",it.endsWithParent&&st.terminatorEnd&&(ot.terminatorEnd+=(it.end?"|":"")+st.terminatorEnd)),it.illegal&&(ot.illegalRe=_e(it.illegal)),it.contains||(it.contains=[]),it.contains=[].concat(...it.contains.map(function(lt){return expandOrCloneMode(lt==="self"?it:lt)})),it.contains.forEach(function(lt){rt(lt,ot)}),it.starts&&rt(it.starts,st),ot.matcher=nt(ot),ot}if($.compilerExtensions||($.compilerExtensions=[]),$.contains&&$.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return $.classNameAliases=inherit$1($.classNameAliases||{}),rt($)}function dependencyOnParent($){return $?$.endsWithParent||dependencyOnParent($.starts):!1}function expandOrCloneMode($){return $.variants&&!$.cachedVariants&&($.cachedVariants=$.variants.map(function(_e){return inherit$1($,{variants:null},_e)})),$.cachedVariants?$.cachedVariants:dependencyOnParent($)?inherit$1($,{starts:$.starts?inherit$1($.starts):null}):Object.isFrozen($)?inherit$1($):$}var version="11.11.1";class HTMLInjectionError extends Error{constructor(_e,et){super(_e),this.name="HTMLInjectionError",this.html=et}}const escape$1=escapeHTML,inherit=inherit$1,NO_MATCH=Symbol("nomatch"),MAX_KEYWORD_HITS=7,HLJS=function($){const _e=Object.create(null),et=Object.create(null),tt=[];let nt=!0;const rt="Could not find the language '{}', did you forget to load/include a language module?",it={disableAutodetect:!0,name:"Plain text",contains:[]};let st={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:TokenTreeEmitter};function ot(jt){return st.noHighlightRe.test(jt)}function at(jt){let Ft=jt.className+" ";Ft+=jt.parentNode?jt.parentNode.className:"";const Bt=st.languageDetectRe.exec(Ft);if(Bt){const It=wt(Bt[1]);return It||(warn(rt.replace("{}",Bt[1])),warn("Falling back to no-highlight mode for this block.",jt)),It?Bt[1]:"no-highlight"}return Ft.split(/\s+/).find(It=>ot(It)||wt(It))}function lt(jt,Ft,Bt){let It="",At="";typeof Ft=="object"?(It=jt,Bt=Ft.ignoreIllegals,At=Ft.language):(deprecated("10.7.0","highlight(lang, code, ...args) has been deprecated."),deprecated("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),At=jt,It=Ft),Bt===void 0&&(Bt=!0);const Yt={code:It,language:At};qt("before:highlight",Yt);const Ot=Yt.result?Yt.result:ut(Yt.language,Yt.code,Bt);return Ot.code=Yt.code,qt("after:highlight",Ot),Ot}function ut(jt,Ft,Bt,It){const At=Object.create(null);function Yt(Kt,en){return Kt.keywords[en]}function Ot(){if(!Mt.keywords){nn.addText(on);return}let Kt=0;Mt.keywordPatternRe.lastIndex=0;let en=Mt.keywordPatternRe.exec(on),$n="";for(;en;){$n+=on.substring(Kt,en.index);const Ln=An.case_insensitive?en[0].toLowerCase():en[0],qn=Yt(Mt,Ln);if(qn){const[zn,Zn]=qn;if(nn.addText($n),$n="",At[Ln]=(At[Ln]||0)+1,At[Ln]<=MAX_KEYWORD_HITS&&(yn+=Zn),zn.startsWith("_"))$n+=en[0];else{const cr=An.classNameAliases[zn]||zn;$t(en[0],cr)}}else $n+=en[0];Kt=Mt.keywordPatternRe.lastIndex,en=Mt.keywordPatternRe.exec(on)}$n+=on.substring(Kt),nn.addText($n)}function yt(){if(on==="")return;let Kt=null;if(typeof Mt.subLanguage=="string"){if(!_e[Mt.subLanguage]){nn.addText(on);return}Kt=ut(Mt.subLanguage,on,!0,Vt[Mt.subLanguage]),Vt[Mt.subLanguage]=Kt._top}else Kt=ct(on,Mt.subLanguage.length?Mt.subLanguage:null);Mt.relevance>0&&(yn+=Kt.relevance),nn.__addSublanguage(Kt._emitter,Kt.language)}function Tt(){Mt.subLanguage!=null?yt():Ot(),on=""}function $t(Kt,en){Kt!==""&&(nn.startScope(en),nn.addText(Kt),nn.endScope())}function Ut(Kt,en){let $n=1;const Ln=en.length-1;for(;$n<=Ln;){if(!Kt._emit[$n]){$n++;continue}const qn=An.classNameAliases[Kt[$n]]||Kt[$n],zn=en[$n];qn?$t(zn,qn):(on=zn,Ot(),on=""),$n++}}function Ht(Kt,en){return Kt.scope&&typeof Kt.scope=="string"&&nn.openNode(An.classNameAliases[Kt.scope]||Kt.scope),Kt.beginScope&&(Kt.beginScope._wrap?($t(on,An.classNameAliases[Kt.beginScope._wrap]||Kt.beginScope._wrap),on=""):Kt.beginScope._multi&&(Ut(Kt.beginScope,en),on="")),Mt=Object.create(Kt,{parent:{value:Mt}}),Mt}function Wt(Kt,en,$n){let Ln=startsWith(Kt.endRe,$n);if(Ln){if(Kt["on:end"]){const qn=new Response$1(Kt);Kt["on:end"](en,qn),qn.isMatchIgnored&&(Ln=!1)}if(Ln){for(;Kt.endsParent&&Kt.parent;)Kt=Kt.parent;return Kt}}if(Kt.endsWithParent)return Wt(Kt.parent,en,$n)}function Qt(Kt){return Mt.matcher.regexIndex===0?(on+=Kt[0],1):(cn=!0,0)}function mn(Kt){const en=Kt[0],$n=Kt.rule,Ln=new Response$1($n),qn=[$n.__beforeBegin,$n["on:begin"]];for(const zn of qn)if(zn&&(zn(Kt,Ln),Ln.isMatchIgnored))return Qt(en);return $n.skip?on+=en:($n.excludeBegin&&(on+=en),Tt(),!$n.returnBegin&&!$n.excludeBegin&&(on=en)),Ht($n,Kt),$n.returnBegin?0:en.length}function fn(Kt){const en=Kt[0],$n=Ft.substring(Kt.index),Ln=Wt(Mt,Kt,$n);if(!Ln)return NO_MATCH;const qn=Mt;Mt.endScope&&Mt.endScope._wrap?(Tt(),$t(en,Mt.endScope._wrap)):Mt.endScope&&Mt.endScope._multi?(Tt(),Ut(Mt.endScope,Kt)):qn.skip?on+=en:(qn.returnEnd||qn.excludeEnd||(on+=en),Tt(),qn.excludeEnd&&(on=en));do Mt.scope&&nn.closeNode(),!Mt.skip&&!Mt.subLanguage&&(yn+=Mt.relevance),Mt=Mt.parent;while(Mt!==Ln.parent);return Ln.starts&&Ht(Ln.starts,Kt),qn.returnEnd?0:en.length}function En(){const Kt=[];for(let en=Mt;en!==An;en=en.parent)en.scope&&Kt.unshift(en.scope);Kt.forEach(en=>nn.openNode(en))}let kn={};function Tn(Kt,en){const $n=en&&en[0];if(on+=Kt,$n==null)return Tt(),0;if(kn.type==="begin"&&en.type==="end"&&kn.index===en.index&&$n===""){if(on+=Ft.slice(en.index,en.index+1),!nt){const Ln=new Error(`0 width match regex (${jt})`);throw Ln.languageName=jt,Ln.badRule=kn.rule,Ln}return 1}if(kn=en,en.type==="begin")return mn(en);if(en.type==="illegal"&&!Bt){const Ln=new Error('Illegal lexeme "'+$n+'" for mode "'+(Mt.scope||"<unnamed>")+'"');throw Ln.mode=Mt,Ln}else if(en.type==="end"){const Ln=fn(en);if(Ln!==NO_MATCH)return Ln}if(en.type==="illegal"&&$n==="")return on+=`
`,1;if(Nn>1e5&&Nn>en.index*3)throw new Error("potential infinite loop, way more iterations than matches");return on+=$n,$n.length}const An=wt(jt);if(!An)throw error(rt.replace("{}",jt)),new Error('Unknown language: "'+jt+'"');const sn=compileLanguage(An);let dn="",Mt=It||sn;const Vt={},nn=new st.__emitter(st);En();let on="",yn=0,Pn=0,Nn=0,cn=!1;try{if(An.__emitTokens)An.__emitTokens(Ft,nn);else{for(Mt.matcher.considerAll();;){Nn++,cn?cn=!1:Mt.matcher.considerAll(),Mt.matcher.lastIndex=Pn;const Kt=Mt.matcher.exec(Ft);if(!Kt)break;const en=Ft.substring(Pn,Kt.index),$n=Tn(en,Kt);Pn=Kt.index+$n}Tn(Ft.substring(Pn))}return nn.finalize(),dn=nn.toHTML(),{language:jt,value:dn,relevance:yn,illegal:!1,_emitter:nn,_top:Mt}}catch(Kt){if(Kt.message&&Kt.message.includes("Illegal"))return{language:jt,value:escape$1(Ft),illegal:!0,relevance:0,_illegalBy:{message:Kt.message,index:Pn,context:Ft.slice(Pn-100,Pn+100),mode:Kt.mode,resultSoFar:dn},_emitter:nn};if(nt)return{language:jt,value:escape$1(Ft),illegal:!1,relevance:0,errorRaised:Kt,_emitter:nn,_top:Mt};throw Kt}}function dt(jt){const Ft={value:escape$1(jt),illegal:!1,relevance:0,_top:it,_emitter:new st.__emitter(st)};return Ft._emitter.addText(jt),Ft}function ct(jt,Ft){Ft=Ft||st.languages||Object.keys(_e);const Bt=dt(jt),It=Ft.filter(wt).filter(Nt).map(Tt=>ut(Tt,jt,!1));It.unshift(Bt);const At=It.sort((Tt,$t)=>{if(Tt.relevance!==$t.relevance)return $t.relevance-Tt.relevance;if(Tt.language&&$t.language){if(wt(Tt.language).supersetOf===$t.language)return 1;if(wt($t.language).supersetOf===Tt.language)return-1}return 0}),[Yt,Ot]=At,yt=Yt;return yt.secondBest=Ot,yt}function ft(jt,Ft,Bt){const It=Ft&&et[Ft]||Bt;jt.classList.add("hljs"),jt.classList.add(`language-${It}`)}function pt(jt){let Ft=null;const Bt=at(jt);if(ot(Bt))return;if(qt("before:highlightElement",{el:jt,language:Bt}),jt.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",jt);return}if(jt.children.length>0&&(st.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(jt)),st.throwUnescapedHTML))throw new HTMLInjectionError("One of your code blocks includes unescaped HTML.",jt.innerHTML);Ft=jt;const It=Ft.textContent,At=Bt?lt(It,{language:Bt,ignoreIllegals:!0}):ct(It);jt.innerHTML=At.value,jt.dataset.highlighted="yes",ft(jt,Bt,At.language),jt.result={language:At.language,re:At.relevance,relevance:At.relevance},At.secondBest&&(jt.secondBest={language:At.secondBest.language,relevance:At.secondBest.relevance}),qt("after:highlightElement",{el:jt,result:At,text:It})}function gt(jt){st=inherit(st,jt)}const ht=()=>{xt(),deprecated("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function mt(){xt(),deprecated("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let bt=!1;function xt(){function jt(){xt()}if(document.readyState==="loading"){bt||window.addEventListener("DOMContentLoaded",jt,!1),bt=!0;return}document.querySelectorAll(st.cssSelector).forEach(pt)}function Et(jt,Ft){let Bt=null;try{Bt=Ft($)}catch(It){if(error("Language definition for '{}' could not be registered.".replace("{}",jt)),nt)error(It);else throw It;Bt=it}Bt.name||(Bt.name=jt),_e[jt]=Bt,Bt.rawDefinition=Ft.bind(null,$),Bt.aliases&&Ct(Bt.aliases,{languageName:jt})}function vt(jt){delete _e[jt];for(const Ft of Object.keys(et))et[Ft]===jt&&delete et[Ft]}function _t(){return Object.keys(_e)}function wt(jt){return jt=(jt||"").toLowerCase(),_e[jt]||_e[et[jt]]}function Ct(jt,{languageName:Ft}){typeof jt=="string"&&(jt=[jt]),jt.forEach(Bt=>{et[Bt.toLowerCase()]=Ft})}function Nt(jt){const Ft=wt(jt);return Ft&&!Ft.disableAutodetect}function kt(jt){jt["before:highlightBlock"]&&!jt["before:highlightElement"]&&(jt["before:highlightElement"]=Ft=>{jt["before:highlightBlock"](Object.assign({block:Ft.el},Ft))}),jt["after:highlightBlock"]&&!jt["after:highlightElement"]&&(jt["after:highlightElement"]=Ft=>{jt["after:highlightBlock"](Object.assign({block:Ft.el},Ft))})}function Pt(jt){kt(jt),tt.push(jt)}function Dt(jt){const Ft=tt.indexOf(jt);Ft!==-1&&tt.splice(Ft,1)}function qt(jt,Ft){const Bt=jt;tt.forEach(function(It){It[Bt]&&It[Bt](Ft)})}function zt(jt){return deprecated("10.7.0","highlightBlock will be removed entirely in v12.0"),deprecated("10.7.0","Please use highlightElement now."),pt(jt)}Object.assign($,{highlight:lt,highlightAuto:ct,highlightAll:xt,highlightElement:pt,highlightBlock:zt,configure:gt,initHighlighting:ht,initHighlightingOnLoad:mt,registerLanguage:Et,unregisterLanguage:vt,listLanguages:_t,getLanguage:wt,registerAliases:Ct,autoDetection:Nt,inherit,addPlugin:Pt,removePlugin:Dt}),$.debugMode=function(){nt=!1},$.safeMode=function(){nt=!0},$.versionString=version,$.regex={concat,lookahead,either,optional,anyNumberOfTimes};for(const jt in MODES)typeof MODES[jt]=="object"&&deepFreeze(MODES[jt]);return Object.assign($,MODES),$},highlight=HLJS({});highlight.newInstance=()=>HLJS({});var core=highlight;highlight.HighlightJS=highlight;highlight.default=highlight;const HighlightJS=getDefaultExportFromCjs(core),emptyOptions$1={},defaultPrefix="hljs-";function createLowlight($){const _e=HighlightJS.newInstance();return $&&rt($),{highlight:et,highlightAuto:tt,listLanguages:nt,register:rt,registerAlias:it,registered:st};function et(ot,at,lt){const ut=lt||emptyOptions$1,dt=typeof ut.prefix=="string"?ut.prefix:defaultPrefix;if(!_e.getLanguage(ot))throw new Error("Unknown language: `"+ot+"` is not registered");_e.configure({__emitter:HastEmitter,classPrefix:dt});const ct=_e.highlight(at,{ignoreIllegals:!0,language:ot});if(ct.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:ct.errorRaised});const ft=ct._emitter.root,pt=ft.data;return pt.language=ct.language,pt.relevance=ct.relevance,ft}function tt(ot,at){const ut=(at||emptyOptions$1).subset||nt();let dt=-1,ct=0,ft;for(;++dt<ut.length;){const pt=ut[dt];if(!_e.getLanguage(pt))continue;const gt=et(pt,ot,at);gt.data&&gt.data.relevance!==void 0&&gt.data.relevance>ct&&(ct=gt.data.relevance,ft=gt)}return ft||{type:"root",children:[],data:{language:void 0,relevance:ct}}}function nt(){return _e.listLanguages()}function rt(ot,at){if(typeof ot=="string")_e.registerLanguage(ot,at);else{let lt;for(lt in ot)Object.hasOwn(ot,lt)&&_e.registerLanguage(lt,ot[lt])}}function it(ot,at){if(typeof ot=="string")_e.registerAliases(typeof at=="string"?at:[...at],{languageName:ot});else{let lt;for(lt in ot)if(Object.hasOwn(ot,lt)){const ut=ot[lt];_e.registerAliases(typeof ut=="string"?ut:[...ut],{languageName:lt})}}}function st(ot){return!!_e.getLanguage(ot)}}class HastEmitter{constructor(_e){this.options=_e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(_e){if(_e==="")return;const et=this.stack[this.stack.length-1],tt=et.children[et.children.length-1];tt&&tt.type==="text"?tt.value+=_e:et.children.push({type:"text",value:_e})}startScope(_e){this.openNode(String(_e))}endScope(){this.closeNode()}__addSublanguage(_e,et){const tt=this.stack[this.stack.length-1],nt=_e.root.children;et?tt.children.push({type:"element",tagName:"span",properties:{className:[et]},children:nt}):tt.children.push(...nt)}openNode(_e){const et=this,tt=_e.split(".").map(function(it,st){return st?it+"_".repeat(st):et.options.classPrefix+it}),nt=this.stack[this.stack.length-1],rt={type:"element",tagName:"span",properties:{className:tt},children:[]};nt.children.push(rt),this.stack.push(rt)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const emptyOptions={};function rehypeHighlight($){const _e=$||emptyOptions,et=_e.aliases,tt=_e.detect||!1,nt=_e.languages||grammars,rt=_e.plainText,it=_e.prefix,st=_e.subset;let ot="hljs";const at=createLowlight(nt);if(et&&at.registerAlias(et),it){const lt=it.indexOf("-");ot=lt===-1?it:it.slice(0,lt)}return function(lt,ut){visit(lt,"element",function(dt,ct,ft){if(dt.tagName!=="code"||!ft||ft.type!=="element"||ft.tagName!=="pre")return;const pt=language(dt);if(pt===!1||!pt&&!tt||pt&&rt&&rt.includes(pt))return;Array.isArray(dt.properties.className)||(dt.properties.className=[]),dt.properties.className.includes(ot)||dt.properties.className.unshift(ot);const gt=toText(dt,{whitespace:"pre"});let ht;try{ht=pt?at.highlight(pt,gt,{prefix:it}):at.highlightAuto(gt,{prefix:it,subset:st})}catch(mt){const bt=mt;if(pt&&/Unknown language/.test(bt.message)){ut.message("Cannot highlight as `"+pt+"`, its not registered",{ancestors:[ft,dt],cause:bt,place:dt.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw bt}!pt&&ht.data&&ht.data.language&&dt.properties.className.push("language-"+ht.data.language),ht.children.length>0&&(dt.children=ht.children)})}}function language($){const _e=$.properties.className;let et=-1;if(!Array.isArray(_e))return;let tt;for(;++et<_e.length;){const nt=String(_e[et]);if(nt==="no-highlight"||nt==="nohighlight")return!1;!tt&&nt.slice(0,5)==="lang-"&&(tt=nt.slice(5)),!tt&&nt.slice(0,9)==="language-"&&(tt=nt.slice(9))}return tt}const PaperDetail=()=>{var Wt,Qt,mn;const{id:$}=useParams(),_e=useNavigate(),[et,tt]=reactExports.useState(null),[nt,rt]=reactExports.useState(!0),[it,st]=reactExports.useState("abstract"),[ot,at]=reactExports.useState(!1),[lt,ut]=reactExports.useState(!1),[dt,ct]=reactExports.useState(null),[ft,pt]=reactExports.useState(!1),[gt,ht]=reactExports.useState(""),[mt,bt]=reactExports.useState(!1),[xt,Et]=reactExports.useState(""),[vt,_t]=reactExports.useState(!1),[wt,Ct]=reactExports.useState(""),[Nt,kt]=reactExports.useState([{id:1,type:"bot",text:"Hi!  I'm your AI assistant. Ask me any questions about this content and I'll help you understand it better!"}]),[Pt,Dt]=reactExports.useState(""),[qt,zt]=reactExports.useState(!1),jt=libExports.defaultLayoutPlugin();reactExports.useEffect(()=>{Ft()},[$]);const Ft=async()=>{try{rt(!0);const{data:fn,error:En}=await supabase.from("content").select("*").eq("id",$).single();if(En)throw En;tt(fn),fn.content_type!=="research_paper"?st("read"):st("abstract")}catch(fn){console.error("Error fetching paper:",fn)}finally{rt(!1)}},Bt=async()=>{if(!et){Et("Paper data not available");return}try{bt(!0),Et(""),ht("");const En=await fetch("https://insights.is-a.software/api/ai/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:et.id,fullText:et.full_text,systemPrompt:wt||void 0})});if(!En.ok){const Tn=await En.json();throw new Error(Tn.error||"Failed to generate summary")}const kn=await En.json();ht(kn.summary),_t(!1)}catch(fn){Et(fn instanceof Error?fn.message:"Failed to generate summary"),console.error("Summary generation error:",fn)}finally{bt(!1)}},It=async()=>{var En;if(!Pt.trim())return;const fn=Pt;try{const kn={id:Date.now(),type:"user",text:fn};kt(Mt=>[...Mt,kn]),Dt(""),zt(!0);const An=await fetch("https://insights.is-a.software/api/ai/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:fn,paperId:et.id,paperContent:et.full_text||et.description,paperTitle:et.title,authors:((En=et.authors_list)==null?void 0:En.join(", "))||"Unknown"})});if(!An.ok)throw new Error("Failed to get answer");const sn=await An.json(),dn={id:Date.now()+1,type:"bot",text:sn.answer};kt(Mt=>[...Mt,dn])}catch(kn){console.error("FAQ error:",kn);const Tn={id:Date.now()+1,type:"bot",text:"Sorry, I couldn't process your question. Please try again.",isError:!0};kt(An=>[...An,Tn])}finally{zt(!1)}},At=()=>{navigator.clipboard.writeText(gt),pt(!0),setTimeout(()=>pt(!1),2e3)},Yt=fn=>new Date(fn).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Ot="https://insights.is-a.software",yt=()=>et.arxiv_id?`${Ot}/api/pdf/proxy/${et.arxiv_id}`:et.pdf_url,Tt=fn=>fn.split(`
`).map((En,kn)=>En.startsWith("##")?jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#3b2f20] mt-6 mb-3",children:En.replace(/^##\s*/,"")},kn):En.startsWith("-")||En.startsWith("")?jsxRuntimeExports.jsx("li",{className:"text-[#4a3c28] ml-6 mb-2",children:En.replace(/^[-]\s*/,"")},kn):En.trim()===""?jsxRuntimeExports.jsx("div",{className:"h-2"},kn):jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28] mb-2 leading-relaxed",children:En},kn));if(nt)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F3E5D8]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#8B6F47] mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28]",children:"Loading content..."})]})});if(!et)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F3E5D8]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28] mb-4",children:"Content not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("/home"),className:"bg-[#C6B29A] hover:bg-[#B89F8A] text-white px-6 py-2 rounded-full",children:"Go Back Home"})]})});const $t=et.content_type==="research_paper",Ut=et.content_type==="devto_article"||et.content_type==="hobby_article",Ht=et.content_type==="news_article";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F3E5D8]",children:[jsxRuntimeExports.jsx("div",{className:"bg-[#E7D0C5] border-b border-[#D8C7B6] sticky top-0 z-20",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e(-1),className:"flex items-center gap-2 text-[#4a3c28] hover:text-[#3b2f20] transition",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{className:"font-medium hidden md:inline",children:"Back"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>at(!ot),className:`flex items-center gap-2 px-3 md:px-4 py-2 rounded-full transition ${ot?"bg-[#6b8cff] text-white":"bg-white text-[#4a3c28] hover:bg-[#f8f1e4]"}`,title:$t?"Upvote":"Like",children:jsxRuntimeExports.jsx(ThumbsUp,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:()=>ut(!lt),className:`flex items-center gap-2 px-3 md:px-4 py-2 rounded-full transition ${lt?"bg-[#d18b2a] text-white":"bg-white text-[#4a3c28] hover:bg-[#f8f1e4]"}`,title:"Save",children:jsxRuntimeExports.jsx(Bookmark,{size:18})}),$t?jsxRuntimeExports.jsxs("a",{href:et.pdf_url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#C6B29A] hover:bg-[#B89F8A] text-white px-3 md:px-4 py-2 rounded-full transition",children:[jsxRuntimeExports.jsx(Download,{size:18}),jsxRuntimeExports.jsx("span",{className:"hidden md:inline",children:"Download"})]}):Ut?jsxRuntimeExports.jsxs("a",{href:et.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#059669] hover:bg-[#047857] text-white px-3 md:px-4 py-2 rounded-full transition",children:[jsxRuntimeExports.jsx(ExternalLink,{size:18}),jsxRuntimeExports.jsx("span",{className:"hidden md:inline",children:"Read on Dev.to"})]}):jsxRuntimeExports.jsxs("a",{href:et.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#7c3aed] hover:bg-[#6d28d9] text-white px-3 md:px-4 py-2 rounded-full transition",children:[jsxRuntimeExports.jsx(ExternalLink,{size:18}),jsxRuntimeExports.jsx("span",{className:"hidden md:inline",children:"Read Original"})]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[!$t&&et.thumbnail&&jsxRuntimeExports.jsxs("div",{className:"h-48 md:h-64 w-full overflow-hidden relative",children:[jsxRuntimeExports.jsx("img",{src:et.thumbnail,alt:"Cover",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider flex items-center gap-1 ${$t?"bg-blue-100 text-blue-700":Ut?"bg-emerald-100 text-emerald-700":"bg-purple-100 text-purple-700"}`,children:[$t&&jsxRuntimeExports.jsx(BookOpen,{size:14}),Ut&&jsxRuntimeExports.jsx(Coffee,{size:14}),Ht&&jsxRuntimeExports.jsx(Newspaper,{size:14}),$t?"Research Paper":Ut?"Tech Article":"News"]}),Ht&&((Wt=et.metadata)==null?void 0:Wt.source)&&jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-gray-100 text-gray-700 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Globe,{size:14}),et.metadata.source]})]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-[#3b2f20] mb-4 leading-tight",children:et.title}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 md:gap-4 text-[#4a3c28b3] text-sm md:text-base mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{size:18}),jsxRuntimeExports.jsx("span",{children:et.authors_list&&et.authors_list.length>0?et.authors_list.slice(0,3).join(", ")+(et.authors_list.length>3?` +${et.authors_list.length-3}`:""):"Unknown Authors"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{size:18}),jsxRuntimeExports.jsx("span",{children:Yt(et.publication_date)})]}),$t&&et.citations_count>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{size:18}),jsxRuntimeExports.jsxs("span",{children:[et.citations_count," citations"]})]}),Ut&&(((Qt=et.metadata)==null?void 0:Qt.reactions)||0)>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{size:18,className:"text-pink-500"}),jsxRuntimeExports.jsxs("span",{children:[et.metadata.reactions," reactions"]})]}),Ht&&((mn=et.metadata)==null?void 0:mn.country)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Globe,{size:18,className:"text-purple-500"}),jsxRuntimeExports.jsx("span",{className:"uppercase",children:Array.isArray(et.metadata.country)?et.metadata.country[0]:et.metadata.country})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:et.tags&&et.tags.map(fn=>jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 bg-[#f0e6d8] px-3 py-1 rounded-full text-xs md:text-sm text-[#765a3f]",children:[jsxRuntimeExports.jsx(Tag,{size:14}),fn]},fn))}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-[#e5d3b3]",children:[jsxRuntimeExports.jsxs("a",{href:et.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[#4a3c28] hover:text-[#3b2f20] text-sm transition",children:[jsxRuntimeExports.jsx(ExternalLink,{size:16}),"View Original Source"]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 text-[#4a3c28] hover:text-[#3b2f20] text-sm transition",children:[jsxRuntimeExports.jsx(Share2,{size:16}),"Share"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap border-b border-[#e5d3b3] bg-[#f8f1e4]",children:[jsxRuntimeExports.jsx("button",{onClick:()=>st("abstract"),className:`flex-1 min-w-[100px] px-4 py-4 font-semibold transition text-sm md:text-base ${it==="abstract"?"bg-white text-[#3b2f20] border-b-2 border-[#C6B29A]":"text-[#4a3c28b3] hover:bg-white hover:bg-opacity-50"}`,children:" Abstract"}),$t?jsxRuntimeExports.jsx("button",{onClick:()=>st("pdf"),className:`flex-1 min-w-[100px] px-4 py-4 font-semibold transition text-sm md:text-base ${it==="pdf"?"bg-white text-[#3b2f20] border-b-2 border-[#C6B29A]":"text-[#4a3c28b3] hover:bg-white hover:bg-opacity-50"}`,children:" PDF Viewer"}):jsxRuntimeExports.jsxs("button",{onClick:()=>st("read"),className:`flex-1 min-w-[100px] px-4 py-4 font-semibold transition text-sm md:text-base flex items-center justify-center gap-2 ${it==="read"?"bg-white text-[#3b2f20] border-b-2 border-[#C6B29A]":"text-[#4a3c28b3] hover:bg-white hover:bg-opacity-50"}`,children:[jsxRuntimeExports.jsx(Coffee,{size:18}),"Read Article"]}),et.full_text&&jsxRuntimeExports.jsxs("button",{onClick:()=>st("ai-summary"),className:`flex-1 min-w-[100px] px-4 py-4 font-semibold transition text-sm md:text-base flex items-center justify-center gap-2 ${it==="ai-summary"?"bg-white text-[#3b2f20] border-b-2 border-[#C6B29A]":"text-[#4a3c28b3] hover:bg-white hover:bg-opacity-50"}`,children:[jsxRuntimeExports.jsx(Sparkles,{size:16}),jsxRuntimeExports.jsx("span",{children:"AI Summary"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white",children:[it==="abstract"&&jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 min-h-[600px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#3b2f20] mb-6",children:"Abstract"}),jsxRuntimeExports.jsx("p",{className:"text-[#4a3c28] leading-relaxed text-base md:text-lg whitespace-pre-wrap",children:et.description||et.text_summary||"No abstract available"})]}),it==="pdf"&&$t&&jsxRuntimeExports.jsxs("div",{className:"relative bg-gray-100",style:{height:"900px"},children:[dt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center max-w-md",children:[jsxRuntimeExports.jsx(CircleAlert,{size:48,className:"mx-auto mb-4 text-red-500"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 font-semibold mb-2",children:"PDF Viewer Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mb-4",children:dt}),jsxRuntimeExports.jsxs("a",{href:et.pdf_url,download:!0,className:"inline-flex items-center gap-2 bg-[#C6B29A] hover:bg-[#B89F8A] text-white px-6 py-2 rounded-full transition font-medium",children:[jsxRuntimeExports.jsx(Download,{size:18}),"Download Instead"]})]})}),!dt&&jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:yt(),plugins:[jt],onError:fn=>{console.error("PDF error:",fn),ct(fn.message||"Failed to load PDF")}})})]}),it==="read"&&!$t&&jsxRuntimeExports.jsx("div",{className:"p-8 prose prose-stone max-w-none prose-headings:font-serif prose-a:text-[#d18b2a] prose-img:rounded-xl",children:Ut?jsxRuntimeExports.jsx(Markdown,{rehypePlugins:[rehypeHighlight],children:et.full_text||et.description}):jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap text-[#4a3c28] leading-relaxed text-lg",children:et.full_text||et.description})}),it==="ai-summary"&&et.full_text&&jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 min-h-[600px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-[#3b2f20] flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{size:28,className:"text-[#d18b2a]"}),"AI Summary"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_t(!vt),className:"text-sm text-[#4a3c28] hover:text-[#3b2f20] underline",children:[vt?"Hide":"Custom"," Prompt"]})]}),vt&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-[#f8f1e4] border border-[#e5d3b3] rounded-lg",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-[#3b2f20] mb-2",children:"System Prompt (Optional)"}),jsxRuntimeExports.jsx("textarea",{value:wt,onChange:fn=>Ct(fn.target.value),placeholder:"Enter custom system prompt for summarization...",className:"w-full px-4 py-2 border border-[#e5d3b3] rounded-lg text-sm text-[#4a3c28] focus:outline-none focus:ring-2 focus:ring-[#C6B29A]",rows:4}),jsxRuntimeExports.jsx("p",{className:"text-xs text-[#4a3c28b3] mt-2",children:"Leave empty to use default summarization style"})]}),gt?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-[#4a3c28b3]",children:"Generated by Gemini AI"}),jsxRuntimeExports.jsxs("button",{onClick:At,className:"flex items-center gap-2 px-4 py-2 bg-[#f0e6d8] hover:bg-[#e5d3b3] text-[#3b2f20] rounded-lg transition text-sm",children:[ft?jsxRuntimeExports.jsx(Check,{size:16}):jsxRuntimeExports.jsx(Copy,{size:16}),ft?"Copied!":"Copy"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-[#f8f1e4] border border-[#e5d3b3] rounded-lg p-6",children:jsxRuntimeExports.jsx("ul",{className:"space-y-0",children:Tt(gt)})}),jsxRuntimeExports.jsx("button",{onClick:Bt,disabled:mt,className:"w-full bg-[#C6B29A] hover:bg-[#B89F8A] disabled:bg-gray-300 text-white px-6 py-2 rounded-lg transition font-medium flex items-center justify-center gap-2",children:mt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Regenerating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{size:18}),"Regenerate"]})})]}):jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("button",{onClick:Bt,disabled:mt,className:"inline-flex items-center gap-2 bg-[#d18b2a] hover:bg-[#c17a1f] disabled:bg-gray-300 text-white px-8 py-3 rounded-lg transition font-semibold",children:mt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{size:20}),"Generate AI Summary"]})})}),xt&&jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-2",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:xt})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col h-[800px] sticky top-24",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-[#d18b2a] to-[#c17a1f] p-4 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(MessageCircle,{size:20}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Paper Q&A"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-100",children:"Ask questions about this content"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#f8f1e4]",children:[Nt.map(fn=>jsxRuntimeExports.jsx("div",{className:`flex ${fn.type==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg text-sm ${fn.type==="user"?"bg-[#C6B29A] text-white rounded-br-none":fn.isError?"bg-red-100 text-red-700 rounded-bl-none":"bg-white text-[#4a3c28] border border-[#e5d3b3] rounded-bl-none"}`,children:fn.text})},fn.id)),qt&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-white text-[#4a3c28] border border-[#e5d3b3] px-4 py-2 rounded-lg rounded-bl-none text-sm",children:jsxRuntimeExports.jsx(Loader,{size:16,className:"animate-spin"})})})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-[#e5d3b3] p-4 bg-white space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Pt,onChange:fn=>Dt(fn.target.value),onKeyPress:fn=>fn.key==="Enter"&&It(),placeholder:"Ask a question...",className:"flex-1 px-3 py-2 border border-[#e5d3b3] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#C6B29A]",disabled:qt}),jsxRuntimeExports.jsx("button",{onClick:It,disabled:qt||!Pt.trim(),className:"bg-[#d18b2a] hover:bg-[#c17a1f] disabled:bg-gray-300 text-white p-2 rounded-lg transition",children:jsxRuntimeExports.jsx(Send,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-[#4a3c28b3]",children:" Ask: methodology, findings, implications, limitations, etc."})]})]})})]})]})},App=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Landing,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/onboarding",element:jsxRuntimeExports.jsx(Onboarding,{})}),jsxRuntimeExports.jsx(Route,{path:"/home",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsxs("div",{className:"bg-[#F5EFE6] text-[#352414] min-h-screen font-sans",children:[jsxRuntimeExports.jsx(Navbar,{theme:"light"}),jsxRuntimeExports.jsx(Home,{}),jsxRuntimeExports.jsx(Footer,{theme:"light"})]})})}),jsxRuntimeExports.jsx(Route,{path:"/aidigest",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsxs("div",{className:"bg-[#F5EFE6] text-[#352414] min-h-screen font-sans",children:[jsxRuntimeExports.jsx(Navbar,{theme:"light"}),jsxRuntimeExports.jsx(AIDigest,{}),jsxRuntimeExports.jsx(Footer,{theme:"light"})]})})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsxs("div",{className:"bg-[#F5EFE6] text-[#352414] min-h-screen font-sans",children:[jsxRuntimeExports.jsx(Navbar,{theme:"light"}),jsxRuntimeExports.jsx(Profile,{}),jsxRuntimeExports.jsx(Footer,{theme:"light"})]})})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsxs("div",{className:"bg-[#F5EFE6] text-[#352414] min-h-screen font-sans",children:[jsxRuntimeExports.jsx(Navbar,{theme:"light"}),jsxRuntimeExports.jsx(About,{}),jsxRuntimeExports.jsx(Footer,{theme:"light"})]})})}),jsxRuntimeExports.jsx(Route,{path:"/paper/:id",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsxs("div",{className:"bg-[#F5EFE6] text-[#352414] min-h-screen font-sans",children:[jsxRuntimeExports.jsx(Navbar,{theme:"light"}),jsxRuntimeExports.jsx(PaperDetail,{}),jsxRuntimeExports.jsx(Footer,{theme:"light"})]})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})}));
